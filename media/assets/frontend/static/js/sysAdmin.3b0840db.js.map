{"version":3,"file":"static/js/sysAdmin.3b0840db.js","mappings":"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","sources":["components/dialog/commit-details.js","components/dialog/create-folder-dialog.js","components/dialog/op-menu.js","components/dialog/share-admin-link.js","components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog.js","pages/sys-admin/side-panel.js","pages/sys-admin/main-panel.js","pages/sys-admin/main-panel-topbar.js","pages/sys-admin/info.js","pages/sys-admin/statistic/statistic-nav.js","pages/sys-admin/statistic/picker.js","pages/sys-admin/statistic/statistic-common-tool.js","pages/sys-admin/statistic/statistic-chart.js","pages/sys-admin/statistic/statistic-file.js","pages/sys-admin/statistic/statistic-storage.js","pages/sys-admin/statistic/traffic-table.js","pages/sys-admin/statistic/traffic-table-body.js","pages/sys-admin/statistic/statistic-traffic-orgs.js","pages/sys-admin/statistic/statistic-traffic-users.js","pages/sys-admin/statistic/statistic-traffic.js","pages/sys-admin/statistic/statistic-users.js","pages/sys-admin/statistic/statistic-reports.js","pages/sys-admin/devices/devices-nav.js","pages/sys-admin/devices/devices-by-platform.js","pages/sys-admin/devices/desktop-devices.js","pages/sys-admin/devices/mobile-devices.js","pages/sys-admin/user-link.js","pages/sys-admin/devices/devices-errors.js","components/dialog/sysadmin-dialog/set-quota.js","components/dialog/sysadmin-dialog/sysadmin-import-user-dialog.js","components/select-editor/sysadmin-user-role-editor.js","components/dialog/sysadmin-dialog/sysadmin-add-user-dialog.js","components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog.js","models/sysadmin-user.js","models/sysadmin-admin-user.js","pages/sys-admin/search.js","pages/sys-admin/users/users-nav.js","components/select-editor/sysadmin-user-status-editor.js","pages/sys-admin/users/users-content.js","pages/sys-admin/users/users.js","pages/sys-admin/users/admin-users.js","pages/sys-admin/users/ldap-imported-users.js","pages/sys-admin/users/ldap-users.js","pages/sys-admin/users/search-users.js","components/dialog/sysadmin-dialog/set-upload-download-rate-limit.js","components/dialog/sysadmin-dialog/update-user.js","pages/sys-admin/users/user-nav.js","pages/sys-admin/users/user-info.js","pages/sys-admin/users/user-repos.js","pages/sys-admin/users/user-shared-repos.js","pages/sys-admin/users/user-links.js","pages/sys-admin/users/user-groups.js","components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog.js","pages/sys-admin/repos/repos-nav.js","components/dialog/sysadmin-dialog/sysadmin-share-to-user.js","components/dialog/sysadmin-dialog/sysadmin-share-to-group.js","components/dialog/sysadmin-dialog/sysadmin-share-dialog.js","components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog.js","pages/sys-admin/repos/repos.js","pages/sys-admin/repos/all-repos.js","pages/sys-admin/repos/system-repo.js","pages/sys-admin/repos/trash-repos.js","pages/sys-admin/repos/search-repos.js","models/system-admin/dirent.js","pages/sys-admin/repos/dir-path-bar.js","pages/sys-admin/repos/dir-content.js","pages/sys-admin/repos/dir-view.js","components/dialog/sysadmin-dialog/sysadmin-create-group-dialog.js","components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog.js","pages/sys-admin/groups/groups-content.js","pages/sys-admin/groups/groups.js","pages/sys-admin/groups/search-groups.js","pages/sys-admin/groups/group-nav.js","pages/sys-admin/groups/group-repos.js","components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog.js","components/select-editor/sysadmin-group-role-editor.js","pages/sys-admin/groups/group-members.js","pages/sys-admin/departments/departments.js","components/dialog/sysadmin-dialog/sysadmin-add-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog.js","pages/sys-admin/departments/group-item.js","pages/sys-admin/departments/department-list.js","components/dialog/sysadmin-dialog/sysadmin-add-member-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog.js","pages/sys-admin/departments/department.js","pages/sys-admin/departments/sub-departments.js","components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog.js","pages/sys-admin/departments/member-item.js","pages/sys-admin/departments/department-members.js","components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog.js","pages/sys-admin/departments/repo-item.js","pages/sys-admin/departments/department-libraries.js","pages/sys-admin/links/links-nav.js","pages/sys-admin/links/share-links.js","pages/sys-admin/links/upload-links.js","components/dialog/sysadmin-dialog/sysadmin-add-org-dialog.js","pages/sys-admin/orgs/orgs-content.js","pages/sys-admin/orgs/orgs.js","pages/sys-admin/orgs/search-orgs.js","components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog.js","pages/sys-admin/orgs/org-nav.js","pages/sys-admin/orgs/org-info.js","components/select-editor/sysadmin-user-membership-editor.js","pages/sys-admin/orgs/org-users.js","pages/sys-admin/orgs/org-groups.js","pages/sys-admin/orgs/org-repos.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog.js","pages/sys-admin/institutions/institutions.js","pages/sys-admin/institutions/institution-nav.js","pages/sys-admin/institutions/institution-info.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog.js","pages/sys-admin/institutions/institution-users.js","pages/sys-admin/institutions/institution-admins.js","pages/sys-admin/logs-page/logs-nav.js","components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog.js","pages/sys-admin/logs-page/login-logs.js","pages/sys-admin/logs-page/file-access-item-menu.js","pages/sys-admin/logs-page/file-access-toggle-filter.js","pages/sys-admin/logs-page/file-access-logs.js","pages/sys-admin/logs-page/file-update-logs.js","pages/sys-admin/logs-page/share-permission-logs.js","pages/sys-admin/web-settings/section.js","pages/sys-admin/web-settings/setting-item-base.js","pages/sys-admin/web-settings/input-item.js","pages/sys-admin/web-settings/file-item.js","pages/sys-admin/web-settings/checkbox-item.js","pages/sys-admin/web-settings/web-settings.js","components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog.js","pages/sys-admin/notifications/notifications.js","pages/sys-admin/file-scan-records.js","pages/sys-admin/work-weixin/work-weixin-department-members-list.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-node.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-panel.js","components/dialog/import-work-weixin-department-dialog.js","pages/sys-admin/work-weixin-departments.js","pages/sys-admin/dingtalk/dingtalk-department-members-list.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-node.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-panel.js","components/dialog/import-dingtalk-department-dialog.js","pages/sys-admin/dingtalk-departments.js","pages/sys-admin/invitations/invitations.js","components/dialog/terms-editor-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog.js","utils/markdown-utils.js","components/dialog/terms-preview-dialog.js","pages/sys-admin/terms-and-conditions/item.js","pages/sys-admin/terms-and-conditions/content.js","pages/sys-admin/terms-and-conditions/terms-and-conditions.js","pages/sys-admin/virus-scan/nav.js","pages/sys-admin/virus-scan/all-virus-files.js","pages/sys-admin/virus-scan/unhandled-virus-files.js","pages/sys-admin/admin-logs/logs-nav.js","pages/sys-admin/admin-logs/operation-logs.js","pages/sys-admin/admin-logs/login-logs.js","pages/sys-admin/abuse-reports.js","pages/sys-admin/index.js","../node_modules/chart.js/dist/Chart.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/isEqual.js","../node_modules/lodash/keyBy.js","../node_modules/react-chartjs-2/es/index.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext, fileServerRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../loading';\n\nimport '../../css/commit-details.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  commitID: PropTypes.string.isRequired,\n  commitTime: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass CommitDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errorMsg: '',\n    };\n  }\n\n  componentDidMount() {\n    const {repoID, commitID} = this.props;\n    seafileAPI.getCommitDetails(repoID, commitID).then((res) => {\n      this.setState({\n        isLoading: false,\n        errorMsg: '',\n        commitDetails: res.data\n      });\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        isLoading: false,\n        errorMsg: errorMsg\n      });\n    });\n  }\n\n  render() {\n    const { toggleDialog, commitTime} = this.props;\n    return (\n      <Modal isOpen={true} centered={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{gettext('Modification Details')}</ModalHeader>\n        <ModalBody>\n          <p className=\"small\">{moment(this.props.commitTime).format('YYYY-MM-DD HH:mm:ss')}</p>\n          <Content data={this.state} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nclass Content extends React.Component {\n\n  renderDetails = (data) => {\n    const detailsData = [\n      {type: 'new', title: gettext('New files')},\n      {type: 'removed', title: gettext('Deleted files')},\n      {type: 'renamed', title: gettext('Renamed or Moved files')},\n      {type: 'modified', title: gettext('Modified files')},\n      {type: 'newdir', title: gettext('New directories')},\n      {type: 'deldir', title: gettext('Deleted directories')}\n    ];\n\n    let showDesc = true;\n    for (let i = 0, len = detailsData.length; i < len; i++) {\n      if (data[detailsData[i].type].length) {\n        showDesc = false;\n        break;\n      }\n    }\n    if (showDesc) {\n      return <p>{data.cmt_desc}</p>;\n    }\n\n    return (\n      <React.Fragment>\n        {detailsData.map((item, index) => {\n          if (!data[item.type].length) {\n            return;\n          }\n          return (\n            <React.Fragment key={index}>\n              <h6>{item.title}</h6>\n              <ul>\n                {\n                  data[item.type].map((item, index) => {\n                    return <li key={index} dangerouslySetInnerHTML={{__html: item}} className=\"commit-detail-item\"></li>;\n                  })\n                }\n              </ul>\n            </React.Fragment>\n          );\n        })}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const {isLoading, errorMsg, commitDetails} = this.props.data;\n\n    if (isLoading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error mt-4 text-center\">{errorMsg}</p>;\n    }\n\n    return this.renderDetails(commitDetails);\n  }\n}\n\nCommitDetails.propTypes = propTypes;\n\nexport default CommitDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFolderCancel: PropTypes.func.isRequired,\n};\n\nclass CreateForder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: '',\n      errMessage: '',\n      isSubmitBtnActive: false,\n    };\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n  }\n\n  handleChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({childName: e.target.value});\n  }\n\n  handleSubmit = () => {\n    if (!this.state.isSubmitBtnActive) {\n      return;\n    }\n\n    let newName = this.state.childName;\n    let isDuplicated = this.checkDuplicatedName();\n\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      this.props.onAddFolder(path);\n    }\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  toggle = () => {\n    this.props.addFolderCancel();\n  }\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Folder')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"folderName\">{gettext('Name')}</Label>\n              <Input\n                id=\"folderName\"\n                value={this.state.childName}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateForder.propTypes = propTypes;\n\nexport default CreateForder;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  operations: PropTypes.array.isRequired,\n  translateOperations: PropTypes.func.isRequired\n};\n\nclass OpMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = Utils.getEventData(e, 'op');\n    this.props.onMenuItemClick(operation);\n  }\n\n  onDropdownToggleClick = (e) => {\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  render() {\n    const { operations, translateOperations } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isItemMenuShow}\n        />\n        <DropdownMenu className=\"my-1 mr-2\">\n          {operations.map((item, index )=> {\n            return (<DropdownItem key={index} data-op={item} onClick={this.onMenuItemClick}>{translateOperations(item)}</DropdownItem>);\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nOpMenu.propTypes = propTypes;\n\nexport default OpMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport copy from '../copy-to-clipboard';\nimport { gettext } from '../../utils/constants';\nimport toaster from '../../components/toast';\n\nconst propTypes = {\n  link: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass ShareAdminLink extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n copyToClipboard = () => {\n   copy(this.props.link);\n   this.props.toggleDialog();\n   toaster.success(gettext('The link is copied to the clipboard.')), {duration: 2};\n }\n\n render() {\n   const { link, toggleDialog } = this.props;\n   return (\n     <Modal isOpen={true} toggle={toggleDialog}>\n       <ModalHeader toggle={toggleDialog}>{gettext('Link')}</ModalHeader>\n       <ModalBody>\n         <a href={link}>{link}</a>\n       </ModalBody>\n       <ModalFooter>\n         <Button color=\"primary\" onClick={this.copyToClipboard}>{gettext('Copy')}</Button>\n         <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Close')}</Button>\n       </ModalFooter>\n     </Modal>\n   );\n }\n}\n\nShareAdminLink.propTypes = propTypes;\n\nexport default ShareAdminLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, isPro } from '../../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  unlinkDevice: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminUnlinkDevice extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputChecked: e.target.checked\n    });\n  }\n\n  unlinkDevice = () => {\n    this.props.toggleDialog();\n    this.props.unlinkDevice(this.state.inputChecked);\n  }\n\n  render() {\n    const { inputChecked } = this.state;\n    const toggle = this.props.toggleDialog;\n    return (\n      <Modal isOpen={true} toggle={toggle}>\n        <ModalHeader toggle={toggle}>{gettext('Unlink device')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure you want to unlink this device?')}</p>\n          {isPro &&\n          <div className=\"d-flex align-items-center\">\n            <input id=\"delete-files\" className=\"mr-1\" type=\"checkbox\" checked={inputChecked} onChange={this.handleInputChange} />\n            <label htmlFor=\"delete-files\" className=\"m-0\">{gettext('Delete files from this device the next time it comes online.')}</label>\n          </div>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.unlinkDevice}>{gettext('Unlink')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminUnlinkDevice.propTypes = propTypes;\n\nexport default SysAdminUnlinkDevice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport Logo from '../../components/logo';\nimport { gettext, siteRoot, isPro, otherPermission, canViewSystemInfo, canViewStatistic,\n  canConfigSystem, canManageLibrary, canManageUser, canManageGroup, canViewUserLog,\n  canViewAdminLog, constanceEnabled, multiTenancy, multiInstitution, sysadminExtraEnabled,\n  enableGuestInvitation, enableTermsAndConditions, enableFileScan, enableWorkWeixin, enableDingtalk,\n  enableShareLinkReportAbuse, isDBSqlite3 } from '../../utils/constants';\n\nconst propTypes = {\n  isSidePanelClosed: PropTypes.bool.isRequired,\n  onCloseSidePanel: PropTypes.func.isRequired,\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired\n};\n\nclass SidePanel extends React.Component {\n\n  getActiveClass = (tab) => {\n    return this.props.currentTab == tab ? 'active' : '';\n  }\n\n  render() {\n    return (\n      <div className={`side-panel ${this.props.isSidePanelClosed ? '' : 'left-zero'}`}>\n        <div className=\"side-panel-north\">\n          <Logo onCloseSidePanel={this.props.onCloseSidePanel}/>\n        </div>\n        <div className=\"side-panel-center\">\n          <div className=\"side-nav\">\n            <div className=\"side-nav-con\">\n              <h3 className=\"sf-heading\">{gettext('System Admin')}</h3>\n              <ul className=\"nav nav-pills flex-column nav-container\">\n                {canViewSystemInfo &&\n                <li className=\"nav-item\">\n                  <Link\n                    className={`nav-link ellipsis ${this.getActiveClass('info')}`}\n                    to={siteRoot + 'sys/info/'}\n                    onClick={() => this.props.tabItemClick('info')}\n                  >\n                    <span className=\"sf2-icon-info\" aria-hidden=\"true\"></span>\n                    <span className=\"nav-text\">{gettext('Info')}</span>\n                  </Link>\n                </li>\n                }\n                {(isPro || !isDBSqlite3) && canViewStatistic &&\n                  <li className=\"nav-item\">\n                    <Link className={`nav-link ellipsis ${this.getActiveClass('statistic')}`}\n                      to={siteRoot + 'sys/statistics/file/'}\n                      onClick={() => this.props.tabItemClick('statistic')}\n                    >\n                      <span className=\"sf2-icon-histogram\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Statistic')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('devices')}`}\n                      to={siteRoot + 'sys/desktop-devices/'}\n                      onClick={() => this.props.tabItemClick('devices')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Devices')}</span>\n                    </Link>\n                  </li>\n                }\n                {constanceEnabled && canConfigSystem &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('web-settings')}`}\n                      to={siteRoot + 'sys/web-settings/'}\n                      onClick={() => this.props.tabItemClick('web-settings')}\n                    >\n                      <span className=\"sf2-icon-cog2\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Settings')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageLibrary &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('libraries')}`}\n                      to={siteRoot + 'sys/all-libraries/'}\n                      onClick={() => this.props.tabItemClick('libraries')}\n                    >\n                      <span className=\"sf2-icon-library\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Libraries')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageUser &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('users')}`}\n                      to={siteRoot + 'sys/users/'}\n                      onClick={() => this.props.tabItemClick('users')}\n                    >\n                      <span className=\"sf2-icon-user\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Users')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('groups')}`}\n                      to={siteRoot + 'sys/groups/'}\n                      onClick={() => this.props.tabItemClick('groups')}\n                    >\n                      <span className=\"sf2-icon-group\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Groups')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('departments')}`}\n                      to={siteRoot + 'sys/departments/'}\n                      onClick={() => this.props.tabItemClick('departments')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Departments')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiTenancy && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('organizations')}`}\n                      to={siteRoot + 'sys/organizations/'}\n                      onClick={() => this.props.tabItemClick('organizations')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Organizations')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiInstitution && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('institutions')}`}\n                      to={siteRoot + 'sys/institutions/'}\n                      onClick={() => this.props.tabItemClick('institutions')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Institutions')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('notifications')}`}\n                      to={siteRoot + 'sys/notifications/'}\n                      onClick={() => this.props.tabItemClick('notifications')}\n                    >\n                      <span className=\"sf2-icon-msgs\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Notifications')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('links')}`}\n                      to={siteRoot + 'sys/share-links/'}\n                      onClick={() => this.props.tabItemClick('links')}\n                    >\n                      <span className=\"sf2-icon-link\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Links')}</span>\n                    </Link>\n                  </li>\n                }\n                {sysadminExtraEnabled && canViewUserLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('logs')}`}\n                      to={siteRoot + 'sys/logs/login'}\n                      onClick={() => this.props.tabItemClick('logs')}\n                    >\n                      <span className=\"sf2-icon-clock\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission && enableFileScan &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('file-scan-records')}`}\n                      to={siteRoot + 'sys/file-scan-records/'}\n                      onClick={() => this.props.tabItemClick('file-scan-records')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('File Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('virus-files')}`}\n                      to={siteRoot + 'sys/virus-files/all/'}\n                      onClick={() => this.props.tabItemClick('virus-files')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Virus Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && enableGuestInvitation && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('invitations')}`}\n                      to={siteRoot + 'sys/invitations/'}\n                      onClick={() => this.props.tabItemClick('invitations')}\n                    >\n                      <span className=\"sf2-icon-invite\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Invitations')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableTermsAndConditions &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('termsandconditions')}`}\n                      to={siteRoot + 'sys/terms-and-conditions/'}\n                      onClick={() => this.props.tabItemClick('termsandconditions')}\n                    >\n                      <span className=\"sf2-icon-wiki\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Terms and Conditions')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canViewAdminLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('adminLogs')}`}\n                      to={siteRoot + 'sys/admin-logs/operation'}\n                      onClick={() => this.props.tabItemClick('adminLogs')}\n                    >\n                      <span className=\"sf2-icon-admin-log\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Admin Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableWorkWeixin &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('work-weixin')}`}\n                      to={siteRoot + 'sys/work-weixin/'}\n                      onClick={() => this.props.tabItemClick('work-weixin')}\n                    >\n                      <span className=\"sf3-font-enterprise-wechat sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{'企业微信集成'}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableDingtalk &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('dingtalk')}`}\n                      to={siteRoot + 'sys/dingtalk/'}\n                      onClick={() => this.props.tabItemClick('dingtalk')}\n                    >\n                      <span className=\"sf3-font-dingtalk sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{'钉钉集成'}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableShareLinkReportAbuse &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('abuse-reports')}`}\n                      to={siteRoot + 'sys/abuse-reports/'}\n                      onClick={() => this.props.tabItemClick('abuse-reports')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Abuse Reports')}</span>\n                    </Link>\n                  </li>\n                }\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nclass MainPanel extends Component {\n\n  render() {\n    return (\n      <div className=\"main-panel\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nMainPanel.propTypes = propTypes;\n\nexport default MainPanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Account from '../../components/common/account';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  children: PropTypes.object,\n  toggleSidePanel: PropTypes.func\n};\n\nclass MainPanelTopbar extends Component {\n\n  render() {\n    return (\n      <div className={`main-panel-north ${this.props.children ? 'border-left-show' : ''}`}>\n        <div className=\"cur-view-toolbar\">\n          <span \n            className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\"\n            title={gettext(\"Side Nav Menu\")}\n            onClick={this.props.toggleSidePanel}\n          ></span>\n          <div className=\"operation\">\n            {this.props.children}\n          </div>\n        </div>\n        <div className=\"common-toolbar\">\n          {this.props.search && this.props.search}\n          <Account isAdminPanel={true} />\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanelTopbar.propTypes = propTypes;\n\nexport default MainPanelTopbar;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, isPro, isDefaultAdmin } from '../../utils/constants';\nimport toaster from '../../components/toast';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/system-info.css';\n\nclass Info extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      sysInfo: {}\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysInfo().then((res) => {\n      this.setState({\n        loading: false,\n        sysInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  uploadLicenseFile = (e) => {\n\n    // no file selected\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    seafileAPI.sysAdminUploadLicense(file).then((res) => {\n      let info = this.state.sysInfo;\n      Object.assign(info, res.data, {with_license: true});\n      this.setState({\n        sysInfo: info\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  }\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  }\n\n  renderLicenseDescString = (license_mode, license_to, license_expiration) => {\n    if (license_mode == 'life-time') {\n      if (window.app.config.lang == 'zh-cn') {\n        return '永久授权给 ' + license_to + '，技术支持服务至 ' + license_expiration + ' 到期';\n      } else {\n        return gettext('licensed to {placeholder_license_to}, upgrade service expired in {placeholder_license_expiration}')\n          .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n      }\n    } else {\n      return gettext('licensed to {placeholder_license_to}, expires on {placeholder_license_expiration}')\n        .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n    }\n  }\n\n  render() {\n    let { license_mode, license_to, license_expiration, org_count,\n      repos_count, total_files_count, total_storage, total_devices_count,\n      current_connected_devices_count, license_maxusers, multi_tenancy_enabled,\n      active_users_count, users_count, groups_count, with_license } = this.state.sysInfo;\n    let { loading, errorMsg } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container system-admin-info\">\n            <h2 className=\"heading\">{gettext('Info')}</h2>\n            <div className=\"content\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) &&\n              <dl className=\"flex-1 m-0\">\n                <dt className=\"info-item-heading\">{gettext('System Info')}</dt>\n                {isPro ?\n                  <dd className=\"info-item-content\">\n                    {gettext('Professional Edition')}\n                    {with_license &&\n                      ' ' + this.renderLicenseDescString(license_mode, license_to, license_expiration)\n                    }<br/>\n                    {isDefaultAdmin &&\n                      <Fragment>\n                        <Button type=\"button\" className=\"mt-2\" onClick={this.openFileInput}>{gettext('Upload license')}</Button>\n                        <input className=\"d-none\" type=\"file\" onChange={this.uploadLicenseFile} ref={this.fileInput} />\n                      </Fragment>\n                    }\n                  </dd> :\n                  <dd className=\"info-item-content\">\n                    {gettext('Community Edition')}\n                    <a className=\"ml-1\" href=\"https://download.seafile.com/published/seafile-manual/deploy_pro/migrate_from_seafile_community_server.md\" target=\"_blank\">{gettext('Upgrade to Pro Edition')}</a>\n                  </dd>\n                }\n                <dt className=\"info-item-heading\">{gettext('Libraries')} / {gettext('Files')}</dt>\n                <dd className=\"info-item-content\">{repos_count} / {total_files_count}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Storage Used')}</dt>\n                <dd className=\"info-item-content\">{Utils.bytesToSize(total_storage)}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Total Devices')} / {gettext('Current Connected Devices')}</dt>\n                <dd className=\"info-item-content\">{total_devices_count} / {current_connected_devices_count}</dd>\n\n                {isPro ?\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')} / {gettext('Limits')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count}{' / '}{users_count}{' / '}{with_license ? license_maxusers : '--'}</dd>\n                  </Fragment> :\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count} / {users_count}</dd>\n                  </Fragment>\n                }\n\n                <dt className=\"info-item-heading\">{gettext('Groups')}</dt>\n                <dd className=\"info-item-content\">{groups_count}</dd>\n\n                {multi_tenancy_enabled &&\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Organizations')}</dt>\n                    <dd className=\"info-item-content\">{org_count}</dd>\n                  </Fragment>\n                }\n              </dl>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Info;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'fileStatistic', urlPart: 'statistics/file', text: gettext('File')},\n      {name: 'storageStatistic', urlPart: 'statistics/storage', text: gettext('Storage')},\n      {name: 'usersStatistic', urlPart: 'statistics/user', text: gettext('Users')},\n      {name: 'trafficStatistic', urlPart: 'statistics/traffic', text: gettext('Traffic')},\n      {name: 'reportsStatistic', urlPart: 'statistics/reports', text: gettext('Reports')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Calendar from '@seafile/seafile-calendar';\nimport DatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport { translateCalendar } from '../../../utils/date-format-utils';\n\nimport '@seafile/seafile-calendar/assets/index.css';\n\nconst propsTypes = {\n  disabledDate: PropTypes.func.isRequired,\n  value: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n};\n\nconst FORMAT = 'YYYY-MM-DD';\n\nclass Picker extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.defaultCalendarValue = null;\n  }\n\n  componentDidMount() {\n    let lang = window.app.config.lang;\n    this.defaultCalendarValue = moment().locale(lang).clone();\n  }\n\n  render() {\n    const props = this.props;\n    const calendar = (<Calendar\n      defaultValue={this.defaultCalendarValue}\n      disabledDate={props.disabledDate}\n      format={FORMAT}\n      locale={translateCalendar()}\n    />);\n    return (\n      <DatePicker\n        calendar={calendar}\n        value={props.value}\n        onChange={props.onChange}\n      >\n        {\n          ({value}) => {\n            return (\n              <span>\n                <input\n                  placeholder=\"yyyy-mm-dd\"\n                  tabIndex=\"-1\"\n                  readOnly\n                  value={value && value.format(FORMAT) || ''}\n                  className=\"form-control system-statistic-input\"\n                />\n              </span>\n            );\n          }\n        }\n      </DatePicker>\n    );\n  }\n}\n\nPicker.propsTypes = propsTypes;\n\nexport default Picker;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport Picker from './picker';\n\nconst propTypes = {\n  getActiviesFiles: PropTypes.func.isRequired,\n  children: PropTypes.object,\n};\n\nclass StatisticCommonTool extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      statisticType: 'oneWeek',\n      startValue: null,\n      endValue: null,\n    };\n  }\n\n  componentDidMount() {\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  changeActive = (statisticTypeName) => {\n    let { statisticType } = this.state;\n    if (statisticType === statisticTypeName) {\n      return;\n    }\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime;\n    switch(statisticTypeName) {\n      case 'oneWeek' :\n        startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneMonth' :\n        startTime = moment().subtract(29,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneYear' :\n        startTime = moment().subtract(364,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n    }\n    this.setState({\n      statisticType: statisticTypeName,\n    });\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  disabledStartDate = (startValue) => {\n    if (!startValue) {\n      return false;\n    }\n    let today = moment().format();\n\n    const endValue = this.state.endValue;\n    if (!endValue) {\n      let startTime = moment(startValue).format();\n      return today < startTime;\n    }\n    return endValue.isBefore(startValue) || moment(startValue).format() > today;\n  }\n\n  disabledEndDate = (endValue) => {\n    if (!endValue) {\n      return false;\n    }\n    let today = moment().format();\n    const startValue = this.state.startValue;\n    if (!startValue) {\n      let endTime = moment(endValue).format();\n      return today < endTime;\n    }\n    return endValue.isBefore(startValue) || moment(endValue).format() > today;\n  }\n\n  onChange = (field, value) => {\n    this.setState({\n      [field]: value,\n    });\n  }\n\n  onSubmit = () => {\n    let { startValue, endValue } = this.state;\n    if(!startValue || !endValue) {\n      return;\n    }\n    this.setState({\n      statisticType: 'itemButton',\n    });\n    let startTime = moment(startValue).format('YYYY-MM-DD 00:00:00');\n    let endTime = moment(endValue).format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  render() {\n    let { statisticType, endValue, startValue } = this.state;\n    return(\n      <Fragment>\n        {this.props.children}\n        <div className=\"system-statistic-time-range\">\n          <div className=\"sys-stat-tool\">\n            <div className={`system-statistic-item border-right-0 rounded-left ${statisticType === 'oneWeek' ? 'item-active' : ''}`} onClick={this.changeActive.bind(this, 'oneWeek')}>{gettext('7 Days')}</div>\n            <div className={`system-statistic-item border-right-0 ${statisticType === 'oneMonth' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneMonth')}>{gettext('30 Days')}</div>\n            <div className={`system-statistic-item rounded-right ${statisticType === 'oneYear' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneYear')}>{gettext('1 Year')}</div>\n          </div>\n          <div className=\"system-statistic-input-container\">\n            <Picker\n              disabledDate={this.disabledStartDate}\n              value={startValue}\n              onChange={this.onChange.bind(this, 'startValue')}\n            />\n            <span className=\"system-statistic-connect\">-</span>\n            <Picker\n              disabledDate={this.disabledEndDate}\n              value={endValue}\n              onChange={this.onChange.bind(this, 'endValue')}\n            />\n            <Button className=\"operation-item system-statistic-button\" onClick={this.onSubmit}>{gettext('Submit')}</Button>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nStatisticCommonTool.propTypes = propTypes;\n\nexport default StatisticCommonTool;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  labels: PropTypes.array.isRequired,\n  filesData: PropTypes.array.isRequired,\n  suggestedMaxNumbers: PropTypes.number.isRequired,\n  isLegendStatus: PropTypes.bool.isRequired,\n  chartTitle: PropTypes.string.isRequired,\n  isTitleCallback: PropTypes.bool,\n  isTicksCallback: PropTypes.bool,\n};\n\nclass StatisticChart extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      opations: {}\n    };\n  }\n\n  componentDidMount() {\n    let { labels, filesData, isTitleCallback, isTicksCallback, suggestedMaxNumbers, isLegendStatus, chartTitle } = this.props;\n    let _this = this;\n    let data = {\n      labels: labels,\n      datasets: filesData\n    };\n    let options = {\n      title: {\n        display: true,\n        fontSize: 14,\n        text: chartTitle,\n      },\n      elements: {\n        line: {\n          fill: false,\n          tension: 0, // disable bezier curves, i.e, draw straight lines\n          borderWidth: 2\n        }\n      },\n      legend: {\n        display: isLegendStatus,\n        labels: {\n          usePointStyle: true\n        }\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            if (isTitleCallback) {\n              return _this.titleCallback(tooltipItem, data);\n            }\n            return data.datasets[tooltipItem.datasetIndex].label + ': ' + tooltipItem.yLabel;\n          }\n        }\n      },\n      layout: {\n        padding: {\n          right: 100,\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: suggestedMaxNumbers,\n            callback: function(value, index, values) {\n              if (isTicksCallback) {\n                return _this.ticksCallback(value, index, values);\n              }\n              return value;\n            }\n          }\n        }],\n        xAxes: [{\n          ticks: {\n            maxTicksLimit: 20\n          }\n        }]\n      }\n    };\n    this.setState({\n      data: data,\n      options: options\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let data = {\n      labels: nextProps.labels,\n      datasets: nextProps.filesData\n    };\n    this.setState({data: data});\n  }\n\n  titleCallback = (tooltipItem, data) => {\n    return data.datasets[tooltipItem.datasetIndex].label + ': ' + Utils.bytesToSize(tooltipItem.yLabel);\n  }\n\n  ticksCallback = (value, index, values) => {\n    return Utils.bytesToSize(value);\n  }\n\n  render() {\n\n    let { data, options } = this.state;\n    return (\n      <Line\n        data={data}\n        options={options}\n      />\n    );\n  }\n}\n\nStatisticChart.propTypes = propTypes;\n\nexport default StatisticChart;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nimport '../../../css/system-stat.css';\n\nclass StatisticFile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticFiles(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        added = [],\n        deleted = [],\n        visited = [],\n        modified = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          added.push(item.added);\n          deleted.push(item.deleted);\n          modified.push(item.modified);\n          visited.push(item.visited);\n        });\n        let addedData = {\n          label: gettext('Added'),\n          data: added,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let visitedData = {\n          label: gettext('Visited'),\n          data: visited,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let modifiedData = {\n          label: gettext('Modified'),\n          data: modified,\n          borderColor: '#72c3fc',\n          backgroundColor: '#72c3fc'};\n        let deletedData = {\n          label: gettext('Deleted'),\n          data: deleted,\n          borderColor: '#f75356',\n          backgroundColor: '#f75356'};\n        filesData = [visitedData, addedData, modifiedData, deletedData];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"fileStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={true}\n                chartTitle={gettext('File Operations')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticFile;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticStorage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticStorages(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        totalStorage = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          totalStorage.push(item.total_storage);\n        });\n        let total_storage = {\n          label: gettext('Total Storage'),\n          data: totalStorage,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [total_storage];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"storageStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10*1000*1000}\n                isTitleCallback={true}\n                isTicksCallback={true}\n                isLegendStatus={false}\n                chartTitle={gettext('Total Storage')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticStorage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n};\n\nclass TrafficTable extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { type, sortBy, sortOrder } = this.props;\n    const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n    return (\n      <table className=\"table-hover\">\n        <thead>\n          <tr>\n            <th width=\"16%\">{type == 'user' ? gettext('User') : gettext('Organization')}</th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_upload')}>{gettext('Sync Upload')} {sortBy === 'sync_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_download')}>{gettext('Sync Download')} {sortBy === 'sync_file_download' && sortIcon}</div></th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_upload')}>{gettext('Web Upload')} {sortBy === 'web_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_download')}>{gettext('Web Download')} {sortBy === 'web_file_download' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_upload')}>{gettext('Share link upload')} {sortBy === 'link_file_upload' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_download')}>{gettext('Share link download')} {sortBy === 'link_file_download' && sortIcon}</div></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.children}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTrafficTable.propTypes = propTypes;\n\nexport default TrafficTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  userTrafficItem: PropTypes.object.isRequired,\n};\n\nclass TrafficTableBody extends React.Component {\n\n  trafficName = () => {\n    let { userTrafficItem, type } = this.props;\n    switch(type) {\n      case 'user':\n        if (userTrafficItem.name) {\n          return (\n            <a href={siteRoot + 'useradmin/info/' + userTrafficItem.email + '/'}>{userTrafficItem.name}</a>\n          );\n        }\n        return(<span>{'--'}</span>);\n      case 'org':\n        return(<span>{userTrafficItem.org_name}</span>);\n    }\n  }\n\n  render() {\n    let { userTrafficItem } = this.props;\n\n    let syncUploadSize = Utils.bytesToSize(userTrafficItem.sync_file_upload);\n    let syncDownloadSize = Utils.bytesToSize(userTrafficItem.sync_file_download);\n    let webUploadSize = Utils.bytesToSize(userTrafficItem.web_file_upload);\n    let webDownloadSize = Utils.bytesToSize(userTrafficItem.web_file_download);\n    let linkUploadSize = Utils.bytesToSize(userTrafficItem.link_file_upload);\n    let linkDownloadSize = Utils.bytesToSize(userTrafficItem.link_file_download);\n\n    return(\n      <tr>\n        <td>{this.trafficName()}</td>\n        <td>{syncUploadSize}</td>\n        <td>{syncDownloadSize}</td>\n        <td>{webUploadSize}</td>\n        <td>{webDownloadSize}</td>\n        <td>{linkUploadSize}</td>\n        <td>{linkDownloadSize}</td>\n      </tr>\n    );\n  }\n}\n\nTrafficTableBody.propTypes = propTypes;\n\nexport default TrafficTableBody;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass OrgsTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgTrafficList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  }\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  }\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({isLoading: true, errorMessage: ''});\n    seafileAPI.sysAdminListOrgTraffic(month, page, perPage, orderBy).then(res => {\n      let orgTrafficList = res.data.org_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        orgTrafficList: orgTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initPage, this.initMonth));\n  }\n\n  render() {\n    const {\n      isLoading, errorMessage, orgTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'org'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {orgTrafficList.length > 0 && orgTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'org'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgsTraffic;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass UsersTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userTrafficList: [],\n      hasNextPage: false,\n      perPage: 25,\n      currentPage: 1,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  }\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  }\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({\n      isLoading: true,\n      errorMessage: ''\n    });\n    seafileAPI.sysAdminListUserTraffic(month, page, perPage, orderBy).then(res => {\n      let userTrafficList = res.data.user_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        userTrafficList: userTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initMonth, this.initPage));\n  }\n\n  render() {\n    const {\n      isLoading, errorMessage, userTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'user'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {userTrafficList.length > 0 && userTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'user'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default UsersTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport Loading from '../../../components/loading';\nimport OrgsTraffic from './statistic-traffic-orgs';\nimport UsersTraffic from './statistic-traffic-users';\nimport StatisticChart from './statistic-chart';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      linkData: [],\n      syncData: [],\n      webData: [],\n      labels: [],\n      isLoading: true,\n      tabActive: 'system'\n    };\n  }\n\n  changeTabActive = activeName => {\n    this.setState({tabActive: activeName});\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    seafileAPI.sysAdminStatisticTraffic(startTime, endTime, groupBy).then((res) => {\n      let labels = [];\n      let total_upload = [],\n        total_download = [],\n        link_upload = [],\n        link_download = [],\n        sync_upload = [],\n        sync_download = [],\n        web_upload = [],\n        web_download = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          link_upload.push(item['link-file-upload']);\n          link_download.push(item['link-file-download']);\n          sync_upload.push(item['sync-file-upload']);\n          sync_download.push(item['sync-file-download']);\n          web_upload.push(item['web-file-upload']);\n          web_download.push(item['web-file-download']);\n          total_upload.push(item['link-file-upload'] + item['sync-file-upload'] + item['web-file-upload']);\n          total_download.push(item['link-file-download'] + item['sync-file-download'] + item['web-file-download']);\n        });\n        let linkUpload = {\n          label: gettext('Upload'),\n          data: link_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let linkDownload = {\n          label: gettext('Download'),\n          data: link_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let syncUpload = {\n          label: gettext('Upload'),\n          data: sync_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let syncDownload = {\n          label: gettext('Download'),\n          data: sync_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let webUpload = {\n          label: gettext('Upload'),\n          data: web_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let webDownload = {\n          label: gettext('Download'),\n          data: web_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let totalUpload = {\n          label: gettext('Upload'),\n          data: total_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let totalDownload = {\n          label: gettext('Download'),\n          data: total_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let linkData = [linkUpload, linkDownload];\n        let syncData = [syncUpload, syncDownload];\n        let webData = [webUpload, webDownload];\n        let filesData = [totalUpload, totalDownload];\n        this.setState({\n          linkData: linkData,\n          syncData: syncData,\n          webData: webData,\n          filesData: filesData,\n          labels: labels,\n          isLoading: false\n        });\n      }\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  renderCommonTool = () => {\n    let { tabActive } = this.state;\n    if (tabActive === 'system') {\n      return (\n        <StatisticCommonTool getActiviesFiles={this.getActiviesFiles}>\n          <div className=\"statistic-traffic-tab\">\n            <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n          </div>\n        </StatisticCommonTool>\n      );\n    }\n    return (\n      <div className=\"statistic-traffic-tab\">\n        <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n      </div>\n    );\n  }\n\n  render() {\n    let { labels, filesData, linkData, syncData, webData, isLoading, tabActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"trafficStatistic\" />\n          <div className=\"cur-view-content\">\n            {this.renderCommonTool()}\n            {isLoading && <Loading />}\n            {!isLoading && tabActive === 'system' &&\n              <div className=\"statistic-traffic-chart-container\">\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={filesData}\n                      chartTitle={gettext('Total Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={webData}\n                      chartTitle={gettext('Web Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={linkData}\n                      chartTitle={gettext('Share Link Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={syncData}\n                      chartTitle={gettext('Sync Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n              </div>\n            }\n            {!isLoading && tabActive === 'user' &&\n              <UsersTraffic />\n            }\n            {!isLoading && tabActive === 'organizations' &&\n              <OrgsTraffic />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticUsers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true,\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticActiveUsers(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        count = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          count.push(item.count);\n        });\n        let userCount = {\n          label: gettext('Active Users'),\n          data: count,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [userCount];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"usersStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={false}\n                chartTitle={gettext('Active Users')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticUsers;\n","import React, { Fragment } from 'react';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport moment from 'moment';\nimport StatisticNav from './statistic-nav';\nimport { Button, Input } from 'reactstrap';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nclass StatisticReports extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: moment().format('YYYYMM'),\n      errorMessage: ''\n    };\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  }\n\n  onGenerateReports = (type) => {\n    let url = siteRoot + 'api/v2.1/admin/statistics/';\n    let { month } = this.state;\n    if (!month) {\n      let errorMessage = gettext('It is required.');\n      this.setState({\n        errorMessage: errorMessage\n      });\n      return;\n    }\n    if (type === 'month') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n    }\n    switch(type) {\n      case 'month':\n        url += 'system-user-traffic/excel/?month=' + month;\n        break;\n      case 'storage':\n        url += 'system-user-storage/excel/?';\n        break;\n    }\n    this.setState({\n      errorMessage: ''\n    });\n    window.location.href = url;\n  }\n\n  render() {\n\n    let { errorMessage } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"reportsStatistic\" />\n          <div className=\"cur-view-content\">\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('Monthly User Traffic')}</div>\n              <div className=\"d-flex align-items-center mt-4\">\n                <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n                <Input className=\"statistic-reports-input\" defaultValue={moment().format('YYYYMM')} onChange={this.handleChange} />\n                <Button className=\"statistic-reports-submit operation-item\" onClick={this.onGenerateReports.bind(this, 'month')}>{gettext('Create Report')}</Button>\n              </div>\n              {errorMessage && <div className=\"error\">{errorMessage}</div>}\n            </div>\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('User Storage')}</div>\n              <Button className=\"mt-4 operation-item\" onClick={this.onGenerateReports.bind(this, 'storage')}>{gettext('Create Report')}</Button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticReports;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'desktop', urlPart:'desktop-devices', text: gettext('Desktop')},\n      {name: 'mobile', urlPart:'mobile-devices', text: gettext('Mobile')}\n    ];\n    if (isPro) {\n      this.navItems.push({name: 'errors', urlPart:'device-errors', text: gettext('Errors')});\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUnlinkDevice from '../../../components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No connected devices')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"19%\">{gettext('User')}</th>\n                <th width=\"19%\">{gettext('Platform')}{' / '}{gettext('Version')}</th>\n                <th width=\"19%\">{gettext('Device Name')}</th>\n                <th width=\"19%\">{gettext('IP')}</th>\n                <th width=\"19%\">{gettext('Last Access')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDevicesList}\n            gotoNextPage={this.getNextPageDevicesList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      unlinked: false,\n      isOpIconShown: false,\n      isUnlinkDeviceDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  handleUnlink = (e) => {\n    e.preventDefault();\n    if (this.props.item.is_desktop_client) {\n      this.toggleUnlinkDeviceDialog();\n    } else {\n      this.unlinkDevice(true);\n    }\n  }\n\n  toggleUnlinkDeviceDialog = () => {\n    this.setState({isUnlinkDeviceDialogOpen: !this.state.isUnlinkDeviceDialogOpen});\n  }\n\n  unlinkDevice = (deleteFiles) => {\n    const { platform, device_id, user } = this.props.item;\n    seafileAPI.sysAdminUnlinkDevice(platform, device_id, user, deleteFiles).then((res) => {\n      this.setState({unlinked: true});\n      let message = gettext('Successfully unlinked the device.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const item = this.props.item;\n    const { unlinked, isUnlinkDeviceDialogOpen, isOpIconShown } = this.state;\n\n    if (unlinked) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td>{item.user_name}</td>\n          <td>{item.platform}{' / '}{item.client_version}</td>\n          <td>{item.device_name}</td>\n          <td>{item.last_login_ip}</td>\n          <td>\n            <span title={moment(item.last_accessed).format('llll')}>{moment(item.last_accessed).fromNow()}</span>\n          </td>\n          <td>\n            <a href=\"#\" className={`sf2-icon-delete action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unlink')} onClick={this.handleUnlink}></a>\n          </td>\n        </tr>\n        {isUnlinkDeviceDialogOpen &&\n          <SysAdminUnlinkDevice\n            unlinkDevice={this.unlinkDevice}\n            toggleDialog={this.toggleUnlinkDeviceDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass DevicesByPlatform extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesData: {},\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDevicesListByPage(this.state.currentPage);\n    });\n  }\n\n  getDevicesListByPage = (page) => {\n    let platform = this.props.devicesPlatform;\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDevices(platform, page, per_page).then((res) => {\n      this.setState({\n        devicesData: res.data.devices,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDevicesListByPage(1);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"cur-view-content\">\n        <Content\n          loading={this.state.loading}\n          errorMsg={this.state.errorMsg}\n          items={this.state.devicesData}\n          getDevicesListByPage={this.getDevicesListByPage}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n          pageInfo={this.state.pageInfo}\n        />\n      </div>\n    );\n  }\n}\n\nexport default DevicesByPlatform;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass DesktopDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"desktop\" />\n            <DevicesByPlatform\n              devicesPlatform={'desktop'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DesktopDevices;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass MobileDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"mobile\" />\n            <DevicesByPlatform\n              devicesPlatform={'mobile'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default MobileDevices;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired\n};\n\nclass UserLink extends Component {\n\n  render() {\n    return <Link to={`${siteRoot}sys/users/${encodeURIComponent(this.props.email)}/`}>{this.props.name}</Link>;\n  }\n}\n\nUserLink.propTypes = propTypes;\n\nexport default UserLink;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { Link } from '@gatsbyjs/reach-router';\nimport DevicesNav from './devices-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No sync errors')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"16%\">{gettext('User')}</th>\n                <th width=\"20%\">{gettext('Device')}{' / '}{gettext('Version')}</th>\n                <th width=\"16%\">{gettext('IP')}</th>\n                <th width=\"16%\">{gettext('Library')}</th>\n                <th width=\"16%\">{gettext('Error')}</th>\n                <th width=\"16%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDeviceErrorsList}\n            gotoNextPage={this.getNextPageDeviceErrorsList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  render() {\n    let item = this.props.item;\n    return (\n      <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.device_name}{' / '}{item.client_version}</td>\n        <td>{item.device_ip}</td>\n        <td><Link to={`${siteRoot}sysadmin/#libs/${item.repo_id}`}>{item.repo_name}</Link></td>\n        <td>{item.error_msg}</td>\n        <td>\n          <span className=\"item-meta-info\" title={moment(item.last_accessed).format('llll')}>{moment(item.error_time).fromNow()}</span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass DeviceErrors extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesErrors: [],\n      isCleanBtnShown: false,\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDeviceErrorsListByPage(this.state.currentPage);\n    });\n  }\n\n  getDeviceErrorsListByPage = (page) => {\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDeviceErrors(page, per_page).then((res) => {\n      this.setState({\n        loading: false,\n        devicesErrors: res.data.device_errors,\n        pageInfo: res.data.page_info,\n        isCleanBtnShown: res.data.length > 0\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  clean = () => {\n    seafileAPI.sysAdminClearDeviceErrors().then((res) => {\n      this.setState({\n        devicesErrors: [],\n        isCleanBtnShown: false\n      });\n      let message = gettext('Successfully cleaned all errors.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDeviceErrorsListByPage(1);\n    });\n  }\n  render() {\n    return (\n      <Fragment>\n        {this.state.isCleanBtnShown ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.clean}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : (\n          <MainPanelTopbar {...this.props} />\n        )}\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"errors\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.devicesErrors}\n                getDeviceErrorsListByPage={this.getDeviceErrorsListByPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                pageInfo={this.state.pageInfo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DeviceErrors;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  updateQuota: PropTypes.func.isRequired\n};\n\nclass SetQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  handleQuotaChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      quota: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleSubmit = () => {\n    this.props.updateQuota(this.state.quota.trim());\n    this.toggle();\n  }\n\n  render() {\n    const { quota, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={quota}\n                  onKeyPress={this.handleKeyPress}\n                  onChange={this.handleQuotaChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>MB</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetQuotaDialog.propTypes = propTypes;\n\nexport default SetQuotaDialog;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  importUserInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminImportUserDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: ''\n    };\n    this.fileInputRef = React.createRef();\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  openFileInput = () => {\n    this.fileInputRef.current.click();\n  }\n\n  uploadFile = (e) => {\n    // no file selected\n    if (!this.fileInputRef.current.files.length) {\n      return;\n    }\n    // check file extension\n    let fileName = this.fileInputRef.current.files[0].name;\n    if(fileName.substr(fileName.lastIndexOf('.') + 1) != 'xlsx') {\n      this.setState({\n        errorMsg: gettext('Please choose a .xlsx file.')\n      });\n      return;\n    }\n    const file = this.fileInputRef.current.files[0];\n    this.props.importUserInBatch(file);\n    this.toggle();\n  }\n\n  render() {\n    let { errorMsg } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Import users from a .xlsx file')}</ModalHeader>\n        <ModalBody>\n          <p><a className=\"text-secondary small\" href={`${siteRoot}useradmin/batchadduser/example/`}>{gettext('Download an example file')}</a></p>\n          <button className=\"btn btn-outline-primary\" onClick={this.openFileInput}>{gettext('Upload file')}</button>\n          <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInputRef} />\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminImportUserDialog.propTypes = propTypes;\n\nexport default SysAdminImportUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roleOptions: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserRoleEditor extends React.Component {\n\n  translateRoles = (role) => {\n    switch (role) {\n      case 'default':\n        return gettext('Default');\n      case 'guest':\n        return gettext('Guest');\n      default:\n        return role;\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roleOptions}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRoles}\n      />\n    );\n  }\n}\n\nSysAdminUserRoleEditor.propTypes = propTypes;\n\nexport default SysAdminUserRoleEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input, InputGroup, InputGroupAddon } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\n\nconst propTypes = {\n  toggleDialog: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass SysAdminAddUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: '',\n      isPasswordVisible: false,\n      password: '',\n      passwordAgain: '',\n      email: '',\n      name: '',\n      role: 'default',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (email.trim() &&\n      password.trim() &&\n      passwordAgain.trim()) {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleDialog();\n  }\n\n  togglePasswordVisible = () => {\n    this.setState({isPasswordVisible: !this.state.isPasswordVisible});\n  }\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  }\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  }\n\n  generatePassword = () => {\n    let val = Utils.generatePassword(8);\n    this.setState({\n      password: val,\n      passwordAgain: val\n    }, this.checkSubmitBtnActive);\n  }\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  }\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    });\n  }\n\n  updateRole = (role) => {\n    this.setState({\n      role: role\n    });\n  }\n\n  handleSubmit = () => {\n    const { email, password, passwordAgain, name, role } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    let data = {\n      email: email.trim(),\n      name: name.trim(),\n      password: password.trim()\n    };\n    if (this.props.showRole) {\n      data.role = role;\n    }\n    this.props.addUser(data);\n    this.toggle();\n  }\n\n  render() {\n    const { dialogTitle, showRole } = this.props;\n    const {\n      errorMsg, isPasswordVisible,\n      email, name, role, password, passwordAgain,\n      isSubmitBtnActive\n    } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{dialogTitle || gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Email')}</Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Name(optional)')}</Label>\n              <Input type=\"text\" value={name} onChange={this.inputName} />\n            </FormGroup>\n            {showRole &&\n            <FormGroup>\n              <Label>\n                {gettext('Role')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('You can also add a user as a guest, who will not be allowed to create libraries and groups.')}></span>\n              </Label>\n              <SysAdminUserRoleEditor\n                isTextMode={false}\n                isEditIconShow={false}\n                currentRole={role}\n                roleOptions={this.props.availableRoles}\n                onRoleChanged={this.updateRole}\n              />\n            </FormGroup>\n            }\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <InputGroup>\n                <Input autoComplete=\"new-password\" type={isPasswordVisible ? 'text' : 'password'} value={password || ''} onChange={this.inputPassword} />\n                <InputGroupAddon addonType=\"append\">\n                  <Button className=\"mt-0\" onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                  <Button className=\"mt-0\" onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type={isPasswordVisible ? 'text' : 'password'} value={passwordAgain || ''} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddUserDialog.propTypes = propTypes;\n\nexport default SysAdminAddUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport UserSelect from '../../user-select';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addAdminInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminBatchAddAdminDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: null,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n handleSelectChange = (options) => {\n   this.setState({\n     options: options,\n     isSubmitBtnActive: options.length > 0\n   });\n }\n\n handleSubmit = () => {\n   this.props.addAdminInBatch(this.state.options.map(item => item.email));\n   this.toggle();\n }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Admin')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminBatchAddAdminDialog.propTypes = propTypes;\n\nexport default SysAdminBatchAddAdminDialog;\n","class SysAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.reference_id = object.reference_id;\n    this.department = object.department;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.role = object.role;\n    this.institution = object.institution;\n    if (object.org_id) {\n      this.org_id = object.org_id;\n    }\n    if (object.org_name) {\n      this.org_name = object.org_name;\n    }\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminUser;\n","\nclass SysAdminAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.admin_role = object.admin_role;\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminAdminUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  submit: PropTypes.func.isRequired\n};\n\nclass Search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n  }\n\n  handleSubmit = () => {\n    const value = this.state.value.trim();\n    if (!value) {\n      return false;\n    }\n    this.props.submit(value);\n  }\n\n  render() {\n    return (\n      <div className=\"input-icon\">\n        <i className=\"d-flex input-icon-addon fas fa-search\"></i>\n        <input\n          type=\"text\"\n          className=\"form-control search-input h-6 mr-1\"\n          style={{width: '17rem'}}\n          placeholder={this.props.placeholder}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          onKeyPress={this.handleKeyPress}\n          autoComplete=\"off\"\n        />\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, haveLDAP, isDefaultAdmin } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'database', urlPart: 'users', text: gettext('Database')}\n    ];\n    if (haveLDAP) {\n      this.navItems.push(\n        {name: 'ldap', urlPart: 'users/ldap', text: gettext('LDAP')},\n        {name: 'ldap-imported', urlPart: 'users/ldap-imported', text: gettext('LDAP(imported)')}\n      );\n    }\n    if (isDefaultAdmin) {\n      this.navItems.push(\n        {name: 'admin', urlPart: 'users/admins', text: gettext('Admin')}\n      );\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusOptions: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserStatusEditor extends React.Component {\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'active':\n        return gettext('Active');\n      case 'inactive':\n        return gettext('Inactive');\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusOptions}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n}\n\nSysAdminUserStatusEditor.propTypes = propTypes;\n\nexport default SysAdminUserStatusEditor;\n","import React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, username, gettext, multiInstitution, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUserStatusEditor from '../../../components/select-editor/sysadmin-user-status-editor';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\nimport SelectEditor from '../../../components/select-editor/select-editor';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\n\nconst { availableRoles, availableAdminRoles, institutions } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  }\n\n  sortByQuotaUsage = (e) => {\n    e.preventDefault();\n    this.props.sortByQuotaUsage();\n  }\n\n  render() {\n    const {\n      isAdmin, loading, errorMsg, items, isAllUsersSelected,\n      curPerPage, hasNextPage, currentPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n\n\n      let columns = [];\n\n      let sortIcon;\n      if (sortBy == '') {\n        // initial sort icon\n        sortIcon = <span className=\"fas fa-sort\"></span>;\n      } else {\n        sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      }\n      const spaceText = gettext('Space Used');\n      const spaceEl =\n        sortBy != undefined ? // only offer 'sort' for 'DB' & 'LDAPImported' users\n        <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByQuotaUsage}>{spaceText} {sortIcon}</a> :\n          spaceText;\n      const colSpaceText = <Fragment>{spaceEl}{` / ${gettext('Quota')}`}</Fragment>;\n\n      const colNameText = `${gettext('Name')} / ${gettext('Contact Email')}`;\n      const colCreatedText = `${gettext('Created At')} / ${gettext('Last Login')} / ${gettext('Last Access')}`;\n      if (isPro) {\n        columns.push(\n          {width: '20%', text: colNameText},\n          {width: '15%', text: gettext('Status')},\n          {width: '15%', text: gettext('Role')}\n        );\n      } else {\n        columns.push(\n          {width: '30%', text: colNameText},\n          {width: '20%', text: gettext('Status')}\n        );\n      }\n      if (multiInstitution && !isAdmin) {\n        columns.push(\n          {width: '14%', text: colSpaceText},\n          {width: '14%', text: gettext('Institution')},\n          {width: '14%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      } else {\n        columns.push(\n          {width: '20%', text: colSpaceText},\n          {width: '22%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      }\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"pl-2\">\n                  <input type=\"checkbox\" className=\"vam\" onChange={this.props.toggleSelectAllUsers} checked={isAllUsersSelected} />\n                </th>\n                {columns.map((item, index) => {\n                  return <th width={item.width} key={index}>{item.text}</th>;\n                })}\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  updateUser={this.props.updateUser}\n                  deleteUser={this.props.deleteUser}\n                  updateAdminRole={this.props.updateAdminRole}\n                  revokeAdmin={this.props.revokeAdmin}\n                  onUserSelected={this.props.onUserSelected}\n                  isAdmin={this.props.isAdmin}\n                  isLDAPImported={this.props.isLDAPImported}\n                />);\n              })}\n            </tbody>\n          </table>\n          {(!this.props.isAdmin && !this.props.isSearchResult) &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteUserDialogOpen: false,\n      isResetUserPasswordDialogOpen: false,\n      isRevokeAdminDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  }\n\n  toggleDeleteUserDialog = () => {\n    this.setState({isDeleteUserDialogOpen: !this.state.isDeleteUserDialogOpen});\n  }\n\n  toggleResetUserPasswordDialog = () => {\n    this.setState({isResetUserPasswordDialogOpen: !this.state.isResetUserPasswordDialogOpen});\n  }\n\n  toggleRevokeAdminDialog = () => {\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  }\n\n  onUserSelected = () => {\n    this.props.onUserSelected(this.props.item);\n  }\n\n  updateStatus= (value) => {\n    const isActive = value == 'active';\n    if (isActive) {\n      toaster.notify(gettext('It may take some time, please wait.'));\n    }\n    this.props.updateUser(this.props.item.email, 'is_active', isActive);\n  }\n\n  updateRole = (value) => {\n    this.props.updateUser(this.props.item.email, 'role', value);\n  }\n\n  updateAdminRole = (value) => {\n    this.props.updateAdminRole(this.props.item.email, value);\n  }\n\n  translateAdminRole = (role) => {\n    switch (role) {\n      case 'default_admin':\n        return gettext('Default Admin');\n      case 'system_admin':\n        return gettext('System Admin');\n      case 'daily_admin':\n        return gettext('Daily Admin');\n      case 'audit_admin':\n        return gettext('Audit Admin');\n      default:\n        return role;\n    }\n  }\n\n  updateInstitution = (value) => {\n    this.props.updateUser(this.props.item.email, 'institution', value);\n  }\n\n  translateInstitution = (inst) => {\n    return inst;\n  }\n\n  updateQuota = (value) => {\n    this.props.updateUser(this.props.item.email, 'quota_total', value);\n  }\n\n  deleteUser = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteUser(this.props.item.email);\n  }\n\n  resetPassword = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  revokeAdmin = () => {\n    const { item } = this.props;\n    this.props.revokeAdmin(item.email, item.name);\n  }\n\n  getMenuOperations = () => {\n    const {\n      isAdmin, isLDAPImported,\n      isSearchResult, item\n    } = this.props;\n    let list = ['Delete'];\n    if (!isLDAPImported ||\n      (isSearchResult && item.source == 'db')) {\n      list.push('Reset Password');\n    }\n    if (isAdmin) {\n      list = ['Revoke Admin'];\n    }\n    return list;\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteUserDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetUserPasswordDialog();\n        break;\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { item, isAdmin } = this.props;\n    const {\n      isOpIconShown,\n      isSetQuotaDialogOpen,\n      isDeleteUserDialogOpen,\n      isResetUserPasswordDialogOpen,\n      isRevokeAdminDialogOpen\n    } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    const resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td className=\"pl-2\">\n            <input type=\"checkbox\" className=\"vam\" onChange={this.onUserSelected} checked={item.isSelected} />\n          </td>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n            {item.contact_email &&\n              <Fragment>\n                <br />\n                {item.contact_email}\n              </Fragment>}\n            {item.org_id &&\n              <Fragment>\n                <br />\n                <Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>({item.org_name})</Link>\n              </Fragment>\n            }\n          </td>\n          <td>\n            <SysAdminUserStatusEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.is_active ? 'active' : 'inactive'}\n              statusOptions={['active', 'inactive']}\n              onStatusChanged={this.updateStatus}\n            />\n          </td>\n          {isPro &&\n          <td>\n            {isAdmin ?\n              <SelectEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                options={availableAdminRoles}\n                currentOption={item.admin_role}\n                onOptionChanged={this.updateAdminRole}\n                translateOption={this.translateAdminRole}\n              /> :\n              <SysAdminUserRoleEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                currentRole={item.role}\n                roleOptions={availableRoles}\n                onRoleChanged={this.updateRole}\n              />\n            }\n          </td>\n          }\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n            <span\n              title={gettext('Edit')}\n              className={`fa fa-pencil-alt attr-action-icon ${isOpIconShown ? '' : 'invisible'}`}\n              onClick={this.toggleSetQuotaDialog}>\n            </span>\n          </td>\n          {(multiInstitution && !isAdmin) &&\n            <td>\n              <SelectEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown && institutions.length > 0}\n                options={institutions}\n                currentOption={item.institution}\n                onOptionChanged={this.updateInstitution}\n                translateOption={this.translateInstitution}\n              />\n            </td>\n          }\n          <td>\n            {`${item.create_time ? moment(item.create_time).format('YYYY-MM-DD HH:mm') : '--'} /`}\n            <br />\n            {`${item.last_login ? moment(item.last_login).fromNow() : '--'}`}\n            <br />\n            {`${item.last_access_time ? moment(item.last_access_time).fromNow() : '--'}`}\n          </td>\n          <td>\n            {(item.email != username && isOpIconShown) &&\n            <OpMenu\n              operations={this.getMenuOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleSetQuotaDialog}\n            updateQuota={this.updateQuota}\n          />\n        }\n        {isDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete User')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteUserDialog}\n          />\n        }\n        {isResetUserPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetUserPasswordDialog}\n          />\n        }\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminImportUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-import-user-dialog';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport SysAdminBatchAddAdminDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminUser from '../../../models/sysadmin-user';\nimport SysAdminAdminUser from '../../../models/sysadmin-admin-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UsersNav from './users-nav';\nimport Content from './users-content';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nconst propTypes = {\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool\n};\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isImportUserDialogOpen: false,\n      isAddUserDialogOpen: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false,\n      isBatchAddAdminDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    if (this.props.isAdmin) { // 'Admin' page\n      this.getUserList(); // no pagination\n    } else {\n      let urlParams = (new URL(window.location)).searchParams;\n      const {\n        currentPage, perPage,\n        sortBy = '',\n        sortOrder = 'asc'\n      } = this.state;\n      this.setState({\n        perPage: parseInt(urlParams.get('per_page') || perPage),\n        currentPage: parseInt(urlParams.get('page') || currentPage),\n        sortBy: urlParams.get('order_by') || sortBy,\n        sortOrder: urlParams.get('direction') || sortOrder\n      }, () => {\n        this.getUsersListByPage(this.state.currentPage);\n      });\n    }\n  }\n\n  toggleImportUserDialog = () => {\n    this.setState({isImportUserDialogOpen: !this.state.isImportUserDialogOpen});\n  }\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  }\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  }\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  }\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  }\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  }\n\n  getUserList = () => {\n  // get admins\n    seafileAPI.sysAdminListAdmins().then(res => {\n      let users = res.data.admin_user_list.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  getUsersListByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const { isLDAPImported } = this.props;\n    seafileAPI.sysAdminListUsers(page, perPage, isLDAPImported, sortBy, sortOrder).then(res => {\n      let users = res.data.data.map(user => {return new SysAdminUser(user);});\n      this.setState({\n        userList: users,\n        loading: false,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  sortByQuotaUsage = () => {\n    this.setState({\n      sortBy: 'quota_usage',\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc',\n      currentPage: 1\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getUsersListByPage(currentPage);\n    });\n  }\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.map(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.map(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  importUserInBatch = (file) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminImportUserViaFile(file).then((res) => {\n      if (res.data.success.length) {\n        const users = res.data.success.map(item => {\n          if (item.institution == undefined) {\n            item.institution = '';\n          }\n          return new SysAdminUser(item);\n        });\n        this.setState({\n          userList: users.concat(this.state.userList)\n        });\n      }\n      res.data.failed.map(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  }\n\n  addUser = (data) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    const { email, name, role, password } = data;\n    seafileAPI.sysAdminAddUser(email, name, role, password).then((res) => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({\n        userList: userList\n      });\n      toaster.success(res.data.add_user_tip);\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  }\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  getOperationsForAll = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n\n    if (isAdmin) {\n      return <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchAddAdminDialog}>{gettext('Add Admin')}</Button>;\n    }\n\n    if (isLDAPImported) {\n      return <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>;\n    }\n\n    // 'database'\n    return (\n      <Fragment>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleImportUserDialog}>{gettext('Import Users')}</Button>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add User')}</Button>\n        <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>\n      </Fragment>\n    );\n  }\n\n  getCurrentNavItem = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n    let item = 'database';\n    if (isAdmin) {\n      item = 'admin';\n    } else if (isLDAPImported) {\n      item = 'ldap-imported';\n    }\n    return item;\n  }\n\n  toggleBatchAddAdminDialog = () => {\n    this.setState({isBatchAddAdminDialogOpen: !this.state.isBatchAddAdminDialogOpen});\n  }\n\n  addAdminInBatch = (emails) => {\n    seafileAPI.sysAdminAddAdminInBatch(emails).then(res => {\n      let users = res.data.success.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users.concat(this.state.userList)\n      });\n      res.data.failed.map(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  getSearch = () => {\n    if (this.props.isAdmin) {\n      return null;\n    }\n    // offer 'Search' for 'DB' & 'LDAPImported' users\n    return <Search\n      placeholder={gettext('Search users')}\n      submit={this.searchItems}\n    />;\n  }\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-users/?query=${encodeURIComponent(keyword)}`);\n  }\n\n  render() {\n    const { isAdmin, isLDAPImported } = this.props;\n    const {\n      hasUserSelected,\n      isImportUserDialogOpen,\n      isAddUserDialogOpen,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen,\n      isBatchAddAdminDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          {hasUserSelected ?\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n            : this.getOperationsForAll()\n          }\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem={this.getCurrentNavItem()} />\n            <div className=\"cur-view-content\">\n              <Content\n                isAdmin={isAdmin}\n                isLDAPImported={isLDAPImported}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortByQuotaUsage={this.sortByQuotaUsage}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getUsersListByPage}\n                updateUser={this.updateUser}\n                deleteUser={this.deleteUser}\n                updateAdminRole={this.updateAdminRole}\n                revokeAdmin={this.revokeAdmin}\n                onUserSelected={this.onUserSelected}\n                isAllUsersSelected={this.isAllUsersSelected}\n                toggleSelectAllUsers={this.toggleSelectAllUsers}\n              />\n            </div>\n          </div>\n        </div>\n        {isImportUserDialogOpen &&\n        <SysAdminImportUserDialog\n          toggle={this.toggleImportUserDialog}\n          importUserInBatch={this.importUserInBatch}\n        />\n        }\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            dialogTitle={gettext('Add User')}\n            showRole={isPro}\n            availableRoles={availableRoles}\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {isBatchAddAdminDialogOpen &&\n          <SysAdminBatchAddAdminDialog\n            addAdminInBatch={this.addAdminInBatch}\n            toggle={this.toggleBatchAddAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nUsers.propTypes = propTypes;\n\nexport default Users;\n","import React, { Component, Fragment } from 'react';\nimport Users from './users';\n\nclass AdminUsers extends Component {\n\n  render() {\n    return <Users isAdmin={true} {...this.props} />;\n  }\n}\n\nexport default AdminUsers;\n","import React, { Component, Fragment } from 'react';\nimport Users from './users';\n\nclass LDAPImportedUsers extends Component {\n\n  render() {\n    return <Users isLDAPImported={true} {...this.props} />;\n  }\n}\n\nexport default LDAPImportedUsers;\n","import React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport UsersNav from './users-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"40%\">{gettext('Email')}</th>\n                <th width=\"30%\">{gettext('Space Used')}{' / '}{gettext('Quota')}</th>\n                <th width=\"30%\">{gettext('Last Login')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { item } = this.props;\n    let email = '<span class=\"op-target\">' + Utils.HTMLescape(item.email) + '</span>';\n    return (\n      <Fragment>\n        <tr>\n          <td><UserLink email={item.email} name={item.email} /></td>\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n          </td>\n          <td>\n            {item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: {},\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUsersListByPage(this.state.currentPage);\n    });\n  }\n\n  getUsersListByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLDAPUsers(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        userList: res.data.ldap_user_list,\n        hasNextPage: res.data.has_next_page,\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem=\"ldap\" />\n            <div className=\"cur-view-content\">\n              <Content\n                resetPerPage={this.resetPerPage}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getUsersListByPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Users;\n","import React, { Component, Fragment } from 'react';\nimport { Button, Form, FormGroup, Input, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport Paginator from '../../../components/paginator';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './users-content';\n\n\nclass SearchUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      pageInfo: {\n        has_next_page: false,\n        current_page: 1,\n      },\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      query: params.get('query') || '',\n      currentPage: parseInt(params.get('page') || currentPage),\n      perPage: parseInt(params.get('per_page') || perPage)\n    }, () => {this.getItems(this.state.currentPage);});\n  }\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  }\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  }\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  }\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  }\n\n  getItems = (page) => {\n    seafileAPI.sysAdminSearchUsers(this.state.query.trim(), page, this.state.perPage).then(res => {\n      this.setState({\n        userList: res.data.user_list,\n        loading: false,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItems(1);\n    });\n  }\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.map(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.map(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  }\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  }\n\n  getPreviousPageList = () => {\n    this.getItems(this.state.pageInfo.current_page - 1);\n  }\n\n  getNextPageList = () => {\n    this.getItems(this.state.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    const {\n      hasUserSelected,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        {hasUserSelected ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n          </MainPanelTopbar> :\n          <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Users')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Users')}</h4>\n                <Form>\n                  <FormGroup row>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" value={query} placeholder={gettext('Search users')} onChange={this.handleInputChange} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  isLDAPImported={false}\n                  isAdmin={false}\n                  isSearchResult={true}\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.userList}\n                  updateUser={this.updateUser}\n                  deleteUser={this.deleteUser}\n                  updateAdminRole={this.updateAdminRole}\n                  revokeAdmin={this.revokeAdmin}\n                  onUserSelected={this.onUserSelected}\n                  isAllUsersSelected={this.isAllUsersSelected}\n                  toggleSelectAllUsers={this.toggleSelectAllUsers}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {this.state.pageInfo &&\n        <Paginator\n          gotoPreviousPage={this.getPreviousPageList}\n          gotoNextPage={this.getNextPageList}\n          currentPage={this.state.pageInfo.current_page}\n          hasNextPage={this.state.pageInfo.has_next_page}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchUsers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  uploadOrDownload: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateUploadDownloadRateLimit: PropTypes.func.isRequired\n};\n\nclass SysAdminSetUploadDownloadRateLimitDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rateLimit: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  handleRateLimitChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      rateLimit: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleSubmit = () => {\n    this.props.updateUploadDownloadRateLimit(this.props.uploadOrDownload, this.state.rateLimit.trim());\n    this.toggle();\n  }\n\n  render() {\n    const { rateLimit, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{this.props.uploadOrDownload == \"upload\" ? gettext('Set Upload Rate Limit') : gettext('Set Download Rate Limit')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={rateLimit}\n                  onKeyPress={this.handleKeyPress}\n                  onChange={this.handleRateLimitChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>kB/s</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetUploadDownloadRateLimitDialog.propTypes = propTypes;\n\nexport default SysAdminSetUploadDownloadRateLimitDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  dialogTitle: PropTypes.string.isRequired,\n  updateValue: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass UpdateUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.props.toggleDialog();\n  }\n\n  render() {\n    const  { dialogTitle, toggleDialog } = this.props;\n    return (\n      <Modal isOpen={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{this.props.dialogTitle}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={this.state.value}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nUpdateUser.propTypes = propTypes;\n\nexport default UpdateUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: '', text: gettext('Info')},\n      {name: 'owned-repos', urlPart: 'owned-libraries', text: gettext('Owned Libraries')},\n      {name: 'shared-repos', urlPart: 'shared-libraries', text: gettext('Shared Libraries')},\n      {name: 'links', urlPart: 'shared-links', text: gettext('Shared Links')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')}\n    ];\n  }\n\n  render() {\n    const { currentItem, email, userName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/users/`}>{gettext('Users')}</Link> / {userName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/users/${encodeURIComponent(email)}/${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport { FormGroup, Label, Input, Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetUploadDownloadRateLimitDialog from '../../../components/dialog/sysadmin-dialog/set-upload-download-rate-limit';\nimport SysAdminUpdateUserDialog from '../../../components/dialog/sysadmin-dialog/update-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { twoFactorAuthEnabled } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentKey: '',\n      dialogTitle: '',\n      isSetQuotaDialogOpen: false,\n      isSetUserUploadRateLimitDialogOpen: false,\n      isSetUserDownloadRateLimitDialogOpen: false,\n      isUpdateUserDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  }\n\n  toggleSetUserUploadRateLimitDialog = () => {\n    this.setState({isSetUserUploadRateLimitDialogOpen: !this.state.isSetUserUploadRateLimitDialogOpen});\n  }\n\n  toggleSetUserDownloadRateLimitDialog = () => {\n    this.setState({isSetUserDownloadRateLimitDialogOpen: !this.state.isSetUserDownloadRateLimitDialogOpen});\n  }\n\n  updateQuota = (value) => {\n    this.props.updateUser('quota_total', value);\n  }\n\n  updateUploadDownloadRateLimit = (uploadOrDownload, value) => {\n    if (uploadOrDownload == 'upload'){\n        this.props.updateUser('upload_rate_limit', value);\n    }\n    if (uploadOrDownload == 'download'){\n        this.props.updateUser('download_rate_limit', value);\n    }\n  }\n\n  toggleDialog = (key, dialogTitle) => {\n    this.setState({\n      currentKey: key,\n      dialogTitle: dialogTitle,\n      isUpdateUserDialogOpen: !this.state.isUpdateUserDialogOpen\n    });\n  }\n\n  toggleSetNameDialog = () => {\n    this.toggleDialog('name', gettext('Set Name'));\n  }\n\n  toggleSetUserLoginIDDialog = () => {\n    this.toggleDialog('login_id', gettext('Set Login ID'));\n  }\n\n toggleSetUserComtactEmailDialog = () => {\n   this.toggleDialog('contact_email', gettext('Set Contact Email'));\n }\n\n  toggleSetUserReferenceIDDialog = () => {\n    this.toggleDialog('reference_id', gettext('Set Reference ID'));\n  }\n\n  updateValue = (value) => {\n    this.props.updateUser(this.state.currentKey, value);\n  }\n\n  toggleUpdateUserDialog = () => {\n    this.toggleDialog('', '');\n  }\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  }\n\n  render() {\n    const { loading, errorMsg, userInfo } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const user = this.props.userInfo;\n      const {\n        currentKey, dialogTitle,\n        isSetQuotaDialogOpen, isUpdateUserDialogOpen,\n        isSetUserUploadRateLimitDialogOpen, isSetUserDownloadRateLimitDialogOpen\n      } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Avatar')}</dt>\n            <dd className=\"info-item-content\">\n              <img src={user.avatar_url} alt={user.name} width=\"80\" className=\"rounded\"  />\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Email')}</dt>\n            <dd className=\"info-item-content\">{user.email}</dd>\n\n            {user.org_name &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Organization')}</dt>\n                <dd className=\"info-item-content\">{user.org_name}</dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {user.name || '--'}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Login ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.login_id || '--'}\n              {this.showEditIcon(this.toggleSetUserLoginIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Contact Email')}</dt>\n            <dd className=\"info-item-content\">\n              {user.contact_email || '--'}\n              {this.showEditIcon(this.toggleSetUserComtactEmailDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Reference ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.reference_id|| '--'}\n              {this.showEditIcon(this.toggleSetUserReferenceIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used / Quota')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(user.quota_usage)} / ${user.quota_total > 0 ? Utils.bytesToSize(user.quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {isPro &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Upload Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.upload_rate_limit > 0 ? user.upload_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserUploadRateLimitDialog)}\n                </dd>\n                <dt className=\"info-item-heading\">{gettext('Download Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.download_rate_limit > 0 ? user.download_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserDownloadRateLimitDialog)}\n                </dd>\n              </Fragment>\n            }\n            {twoFactorAuthEnabled &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Two-Factor Authentication')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.has_default_device ?\n                    <FormGroup>\n                      <p className=\"mb-1\">{gettext('Status: enabled')}</p>\n                      <Button onClick={this.props.disable2FA}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup> :\n                    <FormGroup>\n                      <Button disabled={true}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup>\n                  }\n                  <FormGroup check>\n                    <Label check>\n                      <Input type=\"checkbox\" checked={user.is_force_2fa} onChange={this.props.toggleForce2fa} />\n                      <span>{gettext('Force Two-Factor Authentication')}</span>\n                    </Label>\n                  </FormGroup>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetQuotaDialog\n            updateQuota={this.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {(isPro && isSetUserUploadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"upload\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserUploadRateLimitDialog}\n          />\n          }\n          {(isPro && isSetUserDownloadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"download\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserDownloadRateLimitDialog}\n          />\n          }\n          {isUpdateUserDialogOpen &&\n          <SysAdminUpdateUserDialog\n            dialogTitle={dialogTitle}\n            value={user[currentKey]}\n            updateValue={this.updateValue}\n            toggleDialog={this.toggleUpdateUserDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nclass User extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    // avatar size: 160\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email, 160).then((res) => {\n      this.setState({\n        loading: false,\n        userInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateUser = (key, value) => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo[key]= res.data[key];\n      this.setState({\n        userInfo: userInfo\n      });\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  disable2FA = () => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminDeleteTwoFactorAuth(email).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.has_default_device = false;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleForce2fa = (e) => {\n    const email = this.state.userInfo.email;\n    const checked = e.target.checked;\n    seafileAPI.sysAdminSetForceTwoFactorAuth(email, checked).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.is_force_2fa = checked;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { userInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"info\" email={this.props.email} userName={userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                userInfo={this.state.userInfo}\n                updateUser={this.updateUser}\n                disable2FA={this.disable2FA}\n                toggleForce2fa={this.toggleForce2fa}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default User;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Last Update')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteRepo={this.props.deleteRepo}\n                  transferRepo={this.props.transferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.id);\n  }\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  }\n\n  transferRepo = (owner) => {\n    this.props.transferRepo(this.props.item.id, owner.email);\n    this.toggleTransferDialog();\n  }\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n    }\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modified).fromNow()}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n        <TransferDialog\n          itemName={item.name}\n          submit={this.transferRepo}\n          canTransferToDept={false}\n          toggleDialog={this.toggleTransferDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListReposByOwner(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repos\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  transferRepo = (repoID, email) => {\n    seafileAPI.sysAdminTransferRepo(repoID, email).then((res) => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"owned-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n                transferRepo={this.transferRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Share From')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Last Update')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  }\n\n  getOwnerLink = () => {\n    let link;\n    const { item } = this.props;\n    const index = item.owner_email.indexOf('@seafile_group');\n    if (index == -1) {\n      link = <UserLink email={item.owner_email} name={item.owner_name} />;\n    } else {\n      const groupID = item.owner_email.substring(0, index);\n      link = <Link to={`${siteRoot}sys/departments/${groupID}/`}>{item.owner_name}</Link>;\n    }\n    return link;\n  }\n\n  render() {\n    const { item } = this.props;\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n    return (\n      <Fragment>\n        <tr>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{this.getOwnerLink()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modify).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListShareInRepos(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"shared-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport LinkDialog from '../../../components/dialog/share-admin-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No shared links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('Visits')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isLinkDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleLinkDialog = () => {\n    this.setState({isLinkDialogOpen: !this.state.isLinkDialogOpen});\n  }\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'View':\n        translateResult = gettext('View');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'View':\n        this.toggleLinkDialog();\n        break;\n      case 'Delete':\n        this.deleteItem();\n        break;\n    }\n  }\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  }\n\n  getIconUrl = () => {\n    const { item } = this.props;\n    let url;\n    if (item.type == 'upload') {\n      url = Utils.getFolderIconUrl();\n    } else { // share link\n      if (item.is_dir) {\n        url = Utils.getFolderIconUrl();\n      } else {\n        url = Utils.getFileIconUrl(item.obj_name);\n      }\n    }\n    return url;\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isLinkDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={this.getIconUrl()} alt=\"\" width=\"24\" /></td>\n          <td>{item.obj_name == '/' ? item.repo_name : item.obj_name}</td>\n          {item.type == 'upload' ?\n            <Fragment>\n              <td></td>\n              <td>{gettext('Upload')}</td>\n            </Fragment> :\n            <Fragment>\n              <td>{item.is_dir ? null : Utils.bytesToSize(item.size)}</td>\n              <td>{gettext('Download')}</td>\n            </Fragment>\n          }\n          <td>{item.view_cnt}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['View', 'Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isLinkDialogOpen &&\n          <LinkDialog\n            link={item.link}\n            toggleDialog={this.toggleLinkDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass Links extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      uploadLinkItems: [],\n      shareLinkItems: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n\n    seafileAPI.sysAdminListShareLinksByUser(email).then(res => {\n      const items = res.data.share_link_list.map(item => {\n        item.type = 'download';\n        return item;\n      });\n      items.sort((a, b) => {\n        return a.is_dir ? -1 : 1;\n      });\n      this.setState({\n        loading: false,\n        shareLinkItems: items\n      });\n    });\n    seafileAPI.sysAdminListUploadLinksByUser(email).then(res => {\n      const items = res.data.upload_link_list.map(item => {\n        item.type = 'upload';\n        return item;\n      });\n      this.setState({\n        loading: false,\n        uploadLinkItems: items\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteItem = (item) => {\n    const type = item.type;\n    const token = item.token;\n    if (type == 'download') {\n      seafileAPI.sysAdminDeleteShareLink(token).then(res => {\n        let items = this.state.shareLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          shareLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      seafileAPI.sysAdminDeleteUploadLink(token).then(res => {\n        let items = this.state.uploadLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          uploadLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    }\n  }\n\n  render() {\n    const { shareLinkItems, uploadLinkItems } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"links\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={[].concat(uploadLinkItems, shareLinkItems)}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Links;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"35%\">{gettext('Created At')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n\n    const url = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={url}>{item.name}</Link></td>\n          <td>{this.getRoleText()}</td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm')}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListGroupsJoinedByUser(email).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"groups\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Groups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createRepo: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n};\n\nclass SysAdminCreateRepoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      repoName: value,\n      isSubmitBtnActive: value.trim()\n    });\n  }\n\n  handleSubmit = () => {\n    const { repoName, ownerEmail } = this.state;\n    this.props.createRepo(repoName.trim(), ownerEmail);\n    this.toggle();\n  }\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  toggle = () => {\n    this.props.toggleDialog();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.repoName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userSelect\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                id=\"userSelect\"\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateRepoDialog.propTypes = propTypes;\n\nexport default SysAdminCreateRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all-libraries', text: gettext('All')},\n      {name: 'system', urlPart: 'system-library', text: gettext('System')},\n      {name: 'trash', urlPart: 'trash-libraries', text: gettext('Trash')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext, siteRoot } from '../../../utils/constants';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  }\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.user_email);\n  }\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  }\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\">{item.user_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass UserList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <UserItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nclass SysAdminShareToUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n    this.options = [];\n  }\n\n  componentDidMount() {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'user').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({sharedItems: res.data});\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  }\n\n  shareToUser = () => {\n    let users = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        users[i] = this.state.selectedOption[i].email;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'user' , users, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let newItems = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(newItems),\n        selectedOption: null,\n        permission: 'rw',\n      });\n      this.refs.userSelect.clearSelect();\n    }).catch(error => {\n      if (error.response) {\n        let message = gettext('Library can not be shared to owner.');\n        let errMessage = [];\n        errMessage.push(message);\n        this.setState({\n          errorMsg: errMessage,\n          selectedOption: null,\n        });\n      }\n    });\n  }\n\n  deleteShareItem = (useremail) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'user', useremail).then(res => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter( item => { return item.user_email !== useremail; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let userEmail = item.user_email;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'user', userEmail, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateSharedItems = (item, permission) => {\n    let username = item.user_name;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemUsername = sharedItem.user_name;\n      if (username === sharedItemUsername) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  }\n\n  render() {\n    let { sharedItems } = this.state;\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('User')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <UserSelect\n                  ref=\"userSelect\"\n                  isMulti={true}\n                  className=\"reviewer-select\"\n                  placeholder={gettext('Search users...')}\n                  onSelectChange={this.handleSelectChange}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToUser}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = '';\n                if (item.email) {\n                  errMessage = item.email + ': ' + item.error_msg;\n                } else {\n                  errMessage = item;\n                }\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('User')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <UserList\n              items={sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToUser.propTypes = propTypes;\n\nexport default SysAdminShareToUser;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport Select from 'react-select';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  }\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.group_id);\n  }\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  }\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className='name'>{item.group_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass GroupList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <GroupItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n};\n\nconst NoOptionsMessage = (props) => {\n  return (\n    <div {...props.innerProps} style={{margin: '6px 10px', textAlign: 'center', color: 'hsl(0,0%,50%)'}}>{gettext('Group not found')}</div>\n  );\n};\n\nclass SysAdminShareToGroup extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n  }\n\n  componentDidMount() {\n    this.loadOptions();\n    this.listSharedGroups();\n  }\n\n  loadOptions = () => {\n    seafileAPI.shareableGroups().then((res) => {\n      this.options = [];\n      for (let i = 0 ; i < res.data.length; i++) {\n        let obj = {};\n        obj.value = res.data[i].name;\n        obj.id = res.data[i].id;\n        obj.label = res.data[i].name;\n        this.options.push(obj);\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  listSharedGroups = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'group').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({\n          sharedItems: res.data\n        });\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  }\n\n  shareToGroup = () => {\n    let groups = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        groups[i] = this.state.selectedOption[i].id;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'group', groups, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let items = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(items),\n        selectedOption: null,\n        permission: 'rw',\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteShareItem = (groupID) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'group', groupID).then(() => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter(item => { return item.group_id !== groupID; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let groupID = item.group_id;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'group', groupID, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateSharedItems = (item, permission) => {\n    let groupID = item.group_id;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemGroupID = sharedItem.group_id;\n      if (groupID === sharedItemGroupID) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Group')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <Select\n                  isMulti\n                  onChange={this.handleSelectChange}\n                  options={this.options}\n                  placeholder={gettext('Select groups...')}\n                  maxMenuHeight={200}\n                  inputId={'react-select-2-input'}\n                  value={this.state.selectedOption}\n                  components={{ NoOptionsMessage }}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToGroup}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = item.group_name + ': ' + item.error_msg;\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('Group')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <GroupList\n              items={this.state.sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToGroup.propTypes = propTypes;\n\nexport default SysAdminShareToGroup;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SysAdminShareToUser from './sysadmin-share-to-user';\nimport SysAdminShareToGroup from './sysadmin-share-to-group';\nimport '../../../css/share-link-dialog.css';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool\n};\n\nclass SysAdminShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab(),\n      isRepoOwner: false\n    };\n  }\n\n  getInitialActiveTab = () => {\n    return 'shareToUser';\n  }\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({activeTab: tab});\n    }\n  }\n\n  renderDirContent = () => {\n    let activeTab = this.state.activeTab;\n    const { enableDirPrivateShare, isGroupOwnedRepo } = this.props;\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')}>\n                    {gettext('Share to user')}\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')}>\n                    {gettext('Share to group')}\n                  </NavLink>\n                </NavItem>\n              </Fragment>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <TabPane tabId=\"shareToUser\">\n                  <SysAdminShareToUser itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n                <TabPane tabId=\"shareToGroup\">\n                  <SysAdminShareToGroup itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n              </Fragment>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <Modal isOpen={true} style={{maxWidth: '720px'}} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog}>{gettext('Share')} <span className=\"op-target\" title={this.props.itemName}>{this.props.itemName}</span></ModalHeader>\n          <ModalBody className=\"share-dialog-content\">\n            {this.renderDirContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nSysAdminShareDialog.propTypes = propTypes;\n\nexport default SysAdminShareDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass SysAdminLibHistorySettingDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      keepDays: -1,\n      expireDays: 30,\n      disabled: true,\n      allHistory: true,\n      noHistory: false,\n      autoHistory: false,\n      errorInfo: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.sysAdminGetRepoHistorySetting(this.props.repoID).then(res => {\n      this.setState({\n        keepDays: res.data.keep_days,\n        allHistory: res.data.keep_days < 0 ? true : false,\n        noHistory: res.data.keep_days === 0 ? true : false,\n        autoHistory: res.data.keep_days > 0 ? true : false,\n        disabled: res.data.keep_days > 0 ? false : true,\n        expireDays: res.data.keep_days > 0 ? res.data.keep_days : 30,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  submit = () => {\n    let days = this.state.keepDays;\n    if (this.state.autoHistory) {\n      days = this.state.expireDays;\n    }\n    let repoID = this.props.repoID;\n    let reg = /^-?\\d+$/;\n    let flag = reg.test(days);\n    if (flag) {\n      let message = gettext('Successfully set library history.');\n      seafileAPI.sysAdminUpdateRepoHistorySetting(repoID, days).then(res => {\n        toaster.success(message);\n        this.setState({keepDays: res.data.keep_days});\n        this.props.toggleDialog();\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      this.setState({\n        errorInfo: gettext('Please enter a non-negative integer'),\n      });\n    }\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.submit();\n      e.preventDefault();\n    }\n  }\n\n  onChange = (e) => {\n    let num = e.target.value;\n    this.setState({\n      keepDays: num,\n      expireDays: num,\n    });\n  }\n\n  setLimitDays = (type) => {\n    if (type === 'allHistory') {\n      this.setState({\n        keepDays: -1,\n      });\n    } else if (type === 'noHistory') {\n      this.setState({\n        keepDays: 0,\n      });\n    } else {\n      this.setState({\n        disabled: false\n      });\n    }\n\n    this.setState({\n      allHistory: type === 'allHistory' ? true : false,\n      noHistory: type === 'noHistory' ? true : false,\n      autoHistory: type === 'autoHistory' ? true : false,\n    });\n  }\n\n  render() {\n    const itemName = this.props.itemName;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span className=\"op-target\" title={itemName}>{itemName}</span>{' '}\n          {gettext('History Setting')}\n        </ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.allHistory} onChange={() => {this.setLimitDays('allHistory');}}/>{' '}\n              <Label>{gettext('Keep full history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.noHistory} onChange={() =>{this.setLimitDays('noHistory');}}/>{' '}\n              <Label>{gettext('Don\\'t keep history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.autoHistory} onChange={() =>{this.setLimitDays('autoHistory');}}/>{' '}\n              <Label>{gettext('Only keep a period of history:')}</Label>\n              <Input\n                type=\"text\"\n                className=\"expire-input\"\n                value={this.state.expireDays}\n                onChange={this.onChange}\n                disabled={this.state.disabled}\n                onKeyDown={this.handleKeyPress}\n              />{' '}\n              <Label><span>{gettext('days')}</span></Label>\n            </FormGroup>\n            {this.state.errorInfo && <Alert color=\"danger\">{this.state.errorInfo}</Alert>}\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminLibHistorySettingDialog.propTypes = propTypes;\n\nexport default SysAdminLibHistorySettingDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport DeleteRepoDialog from '../../../components/dialog/delete-repo-dialog';\nimport SysAdminShareDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-share-dialog';\nimport SysAdminLibHistorySettingDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog';\nimport UserLink from '../user-link';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  sortByFileCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('file_count');\n  }\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    this.props.sortItems('size');\n  }\n\n  render() {\n    // offer 'sort' only for 'all repos'\n    const { loading, errorMsg, items, pageInfo, curPerPage, sortBy } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className=\"fas fa-caret-down\"></span>;\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">\n                  {sortBy != undefined ?\n                    <Fragment>\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByFileCount}>{gettext('Files')} {sortBy == 'file_count' ? sortIcon : initialSortIcon}</a>{' / '}\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {sortBy == 'size' ? sortIcon : initialSortIcon}</a>\n                    </Fragment> :\n                    gettext('Files') / gettext('Size')\n                  }\n                </th>\n                <th width=\"32%\">ID</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onTransferRepo={this.props.onTransferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isShareDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false,\n      isHistorySettingDialogOpen: false,\n      isRepoDeleted: false,\n    };\n  }\n\n  onDeleteRepo = (repo) => {\n    seafileAPI.sysAdminDeleteRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      this.setState({\n        isDeleteDialogOpen: false,\n        isRepoDeleted: true,\n      });\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n\n      this.setState({isRepoDeleted: false});\n    });\n  }\n\n  onTransferRepo = (owner) => {\n    seafileAPI.sysAdminTransferRepo(this.props.repo.id, owner.email).then((res) => {\n      this.props.onTransferRepo(res.data);\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.toggleTransferDialog();\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Share':\n        this.toggleShareDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      case 'History Setting':\n        this.toggleHistorySettingDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  toggleShareDialog = () => {\n    this.setState({isShareDialogOpen: !this.state.isShareDialogOpen});\n  }\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  }\n\n  toggleHistorySettingDialog = () => {\n    this.setState({isHistorySettingDialogOpen: !this.state.isHistorySettingDialogOpen});\n  }\n\n  renderRepoName = () => {\n    const { repo } = this.props;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n      case 'History Setting':\n        translateResult = gettext('History Setting');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  }\n\n  getOperations = () => {\n    const { repo } = this.props;\n    let operations = ['Delete', 'Transfer'];\n    if (!repo.encrypted) {\n      operations.push('Share');\n    }\n    operations.push('History Setting');\n    return operations;\n  }\n\n  render () {\n    const { repo } = this.props;\n    const {\n      isOpIconShown,\n      isShareDialogOpen,\n      isDeleteDialogOpen,\n      isTransferDialogOpen,\n      isHistorySettingDialogOpen\n    } = this.state;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    let iconTitle = Utils.getLibIconTitle(repo);\n    const index = repo.owner_email.indexOf('@seafile_group');\n    let isGroupOwnedRepo = index != -1;\n    let departmentID;\n    if (isGroupOwnedRepo) {\n      departmentID = repo.owner_email.substring(0, index);\n    }\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{`${repo.file_count} / ${Utils.bytesToSize(repo.size)}`}</td>\n          <td>{repo.id}</td>\n          <td>\n            {isGroupOwnedRepo ?\n              <Link to={`${siteRoot}sys/departments/${departmentID}/`}>{repo.owner_name}</Link> :\n              <UserLink email={repo.owner_email} name={repo.owner_name} />\n            }\n          </td>\n          <td>\n            {(!isGroupOwnedRepo && isOpIconShown) &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isShareDialogOpen &&\n          <ModalPortal>\n            <SysAdminShareDialog\n              itemName={repo.name}\n              itemPath={'/'}\n              repoID={repo.id}\n              isGroupOwnedRepo={isGroupOwnedRepo}\n              repoEncrypted={repo.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={repo.permission}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPortal>\n        }\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <DeleteRepoDialog\n              repo={repo}\n              isRepoDeleted={this.state.isRepoDeleted}\n              onDeleteRepo={this.onDeleteRepo}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        }\n        {isTransferDialogOpen &&\n          <ModalPortal>\n            <TransferDialog\n              itemName={repo.name}\n              submit={this.onTransferRepo}\n              canTransferToDept={false}\n              toggleDialog={this.toggleTransferDialog}\n            />\n          </ModalPortal>\n        }\n        {isHistorySettingDialogOpen &&\n          <ModalPortal>\n            <SysAdminLibHistorySettingDialog\n              repoID={repo.id}\n              itemName={repo.name}\n              toggleDialog={this.toggleHistorySettingDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport ReposNav from './repos-nav';\nimport Content from './repos';\n\nclass AllRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      sortBy: '',\n      isCreateRepoDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage, sortBy } = this.state;\n    this.setState({\n      sortBy: urlParams.get('order_by') || sortBy,\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateRepoDialog = () => {\n    this.setState({isCreateRepoDialogOpen: !this.state.isCreateRepoDialogOpen});\n  }\n\n  getReposByPage = (page) => {\n    const { perPage, sortBy } = this.state;\n    seafileAPI.sysAdminListAllRepos(page, perPage, sortBy).then((res) => {\n      this.setState({\n        loading: false,\n        repos: res.data.repos,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getReposByPage(currentPage);\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  }\n\n  createRepo = (repoName, Owner) => {\n    seafileAPI.sysAdminCreateRepo(repoName, Owner).then(res => {\n      this.state.repos.unshift(res.data);\n      this.setState({\n        repos: this.state.repos\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  }\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  }\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by name or ID')}\n      submit={this.searchRepos}\n    />;\n  }\n\n  searchRepos = (repoNameOrID) => {\n    navigate(`${siteRoot}sys/search-libraries/?name_or_id=${encodeURIComponent(repoNameOrID)}`);\n  }\n\n  render() {\n    let { isCreateRepoDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleCreateRepoDialog}>\n            <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Library')}\n          </Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                sortBy={this.state.sortBy}\n                sortItems={this.sortItems}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                onDeleteRepo={this.onDeleteRepo}\n                onTransferRepo={this.onTransferRepo}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateRepoDialogOpen &&\n        <SysAdminCreateRepoDialog\n          createRepo={this.createRepo}\n          toggleDialog={this.toggleCreateRepoDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default AllRepos;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ReposNav from './repos-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"33%\">{gettext('Name')}</th>\n                <th width=\"34%\">ID</th>\n                <th width=\"33%\">{gettext('Description')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item}/>);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return table;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const item = this.props.item;\n    return (\n      <tr>\n        <td><Link to={`${siteRoot}sys/libraries/${item.id}/`}>{item.name}</Link></td>\n        <td>{item.id}</td>\n        <td>{item.description}</td>\n      </tr>\n    );\n  }\n}\n\nclass SystemRepo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSystemRepoInfo().then((res) => {\n      let items = [];\n      items.push(res.data);\n      this.setState({\n        items: items,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"system\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SystemRepo;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UserLink from '../user-link';\nimport ReposNav from './repos-nav';\n\nconst { trashReposExpireDays } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No deleted libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <p className=\"mt-4 small text-secondary\">{gettext('Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.').replace('{trashReposExpireDays}', trashReposExpireDays)}</p>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"43%\">{gettext('Name')}</th>\n                <th width=\"27%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Deleted Time')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onRestoreRepo={this.props.onRestoreRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isDeleteRepoDialogOpen: false,\n      isRestoreRepoDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onDeleteRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminDeleteTrashRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onRestoreRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminRestoreTrashRepo(repo.id).then((res) => {\n      this.props.onRestoreRepo(repo);\n      let message = gettext('Successfully restored the library.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleDeleteRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteRepoDialogOpen: !this.state.isDeleteRepoDialogOpen});\n  }\n\n  toggleRestoreRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRestoreRepoDialogOpen: !this.state.isRestoreRepoDialogOpen});\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Restore':\n        translateResult = gettext('Restore');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Restore':\n        this.toggleRestoreRepoDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteRepoDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  render () {\n    const { repo } = this.props;\n    const { isOpIconShown, isDeleteRepoDialogOpen, isRestoreRepoDialogOpen } = this.state;\n    const iconUrl = Utils.getLibIconUrl(repo);\n    const iconTitle = Utils.getLibIconTitle(repo);\n    const repoName = '<span class=\"op-target\">' + Utils.HTMLescape(repo.name) + '</span>';\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{repo.name}</td>\n          <td>\n            {repo.owner.indexOf('@seafile_group') == -1 ?\n              <UserLink email={repo.owner} name={repo.owner_name} /> :\n              repo.group_name}\n          </td>\n          <td>{moment(repo.delete_time).fromNow()}</td>\n          <td>\n            {isOpIconShown && (\n              <OpMenu\n                operations={['Restore', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            )}\n          </td>\n        </tr>\n        {isDeleteRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete Library')}\n              message={gettext('Are you sure you want to delete {placeholder} completely?').replace('{placeholder}', repoName)}\n              executeOperation={this.onDeleteRepo}\n              confirmBtnText={gettext('Delete')}\n              toggleDialog={this.toggleDeleteRepoDialog}\n            />\n          </ModalPortal>\n        }\n        {isRestoreRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Restore Library')}\n              message={gettext('Are you sure you want to restore {placeholder}?').replace('{placeholder}', repoName)}\n              executeOperation={this.onRestoreRepo}\n              confirmBtnText={gettext('Restore')}\n              toggleDialog={this.toggleRestoreRepoDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass TrashRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      isCleanTrashDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCleanTrashDialog = () => {\n    this.setState({isCleanTrashDialogOpen: !this.state.isCleanTrashDialogOpen});\n  }\n\n  getReposByPage = (page) => {\n    let perPage = this.state.perPage;\n    seafileAPI.sysAdminListTrashRepos(page, perPage).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  }\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  }\n\n  onRestoreRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  }\n\n  cleanTrash = () => {\n    seafileAPI.sysAdminCleanTrashRepos().then(res => {\n      this.setState({repos: []});\n      toaster.success(gettext('Successfully cleared trash.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by owner')}\n      submit={this.searchRepos}\n    />;\n  }\n\n  searchRepos = (owner) => {\n    seafileAPI.sysAdminSearchTrashRepos(owner).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: null,\n        errorMsg: '', // necessary!\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    const { isCleanTrashDialogOpen } = this.state;\n\n    // enable 'search': <MainPanelTopbar search={this.getSearch()}>\n    return (\n      <Fragment>\n        {this.state.repos.length ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.toggleCleanTrashDialog}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"trash\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                pageInfo={this.state.pageInfo}\n                onDeleteRepo={this.onDeleteRepo}\n                onRestoreRepo={this.onRestoreRepo}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCleanTrashDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Clear Trash')}\n            message={gettext('Are you sure you want to clear trash?')}\n            executeOperation={this.cleanTrash}\n            confirmBtnText={gettext('Clear')}\n            toggleDialog={this.toggleCleanTrashDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TrashRepos;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './repos';\n\n\nclass SearchRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      repos: []\n    };\n  }\n\n  componentDidMount() {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      name: params.get('name_or_id') || ''\n    }, this.getRepos);\n  }\n\n  getRepos = () => {\n    const { name } = this.state;\n    seafileAPI.sysAdminSearchRepos(name).then((res) => {\n      this.setState({\n        loading: false,\n        repos: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  searchRepos = () => {\n    this.getRepos();\n  }\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  }\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  }\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value\n    }, this.checkSubmitBtnActive);\n  }\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Libraries')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Libraries')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name or ID.')}</p>\n                <Form>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name or ID')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.searchRepos}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.repos}\n                  onDeleteRepo={this.onDeleteRepo}\n                  onTransferRepo={this.onTransferRepo}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchRepos;\n","class Dirent {\n  constructor(obj) {\n    this.name = obj.obj_name;\n    this.mtime = obj.last_update;\n    this.size = obj.file_size;\n    this.is_file = obj.is_file;\n  }\n\n  isDir() {\n    return !this.is_file;\n  }\n}\n\nexport default Dirent;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  repoName: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  onPathClick = (e) => {\n    let path = Utils.getEventData(e, 'path');\n    this.props.onPathClick(path);\n  }\n\n  turnPathToLink = (path) => {\n    path = path[path.length - 1] === '/' ? path.slice(0, path.length - 1) : path;\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (item === '') {\n        return;\n      }\n      if (index === (pathList.length - 1)) {\n        return (\n          <Fragment key={index}>\n            <span className=\"path-split\">/</span>\n            <span className=\"path-file-name\">{item}</span>\n          </Fragment>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <Fragment key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </Fragment>\n        );\n      }\n    });\n    return pathElem;\n  }\n\n  render() {\n    let { isSystemRepo, currentPath, repoName } = this.props;\n    let pathElem = this.turnPathToLink(currentPath);\n\n    return (\n      <div className=\"path-container\">\n        {isSystemRepo ?\n          <a href={`${siteRoot}sys/system-library/`}>{gettext('System')}</a> :\n          <a href={`${siteRoot}sys/all-libraries/`}>{gettext('All')}</a>\n        }\n        <span className=\"path-split\">/</span>\n        {(currentPath === '/' || currentPath === '') ?\n          <span className=\"path-repo-name\">{repoName}</span>:\n          <a className=\"path-link\" data-path=\"/\" onClick={this.onPathClick}>{repoName}</a>\n        }\n        {pathElem}\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = propTypes;\n\nexport default DirPath;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport Loading from '../../../components/loading';\n\nclass DirentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n  openFolder = () => {\n    this.props.openFolder(this.props.dirent);\n  }\n\n  deleteDirent = (e) => {\n    e.preventDefault();\n    this.props.deleteDirent(this.props.dirent);\n  }\n\n  downloadDirent = (e) => {\n    e.preventDefault();\n    this.props.downloadDirent(this.props.dirent);\n  }\n\n  render () {\n    let { isOpIconShown, isDeleteDialogOpen } = this.state;\n    let { dirent, fromSystemRepo } = this.props;\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td className=\"text-center\"><img src={iconUrl} width=\"24\" alt='' /></td>\n          <td>\n            {dirent.is_file ?\n              dirent.name :\n              <Link to=\"#\" onClick={this.openFolder}>{dirent.name}</Link>\n            }\n          </td>\n          <td>\n            {isOpIconShown && fromSystemRepo &&\n              <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.deleteDirent}></a>\n            }\n            {isOpIconShown && dirent.is_file &&\n            <a href=\"#\" className=\"op-icon sf2-icon-download\" title={gettext('Download')} onClick={this.downloadDirent}></a>\n            }\n          </td>\n          <td>{dirent.size}</td>\n          <td>{moment(dirent.mtime).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\n\nconst propTypes = {\n  direntList: PropTypes.array.isRequired\n};\n\nclass DirContent extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { loading, errorMsg, direntList } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"5%\">{/*icon*/}</th>\n              <th width=\"55%\">{gettext('Name')}</th>\n              <th width=\"10%\">{/*operation*/}</th>\n              <th width=\"15%\">{gettext('Size')}</th>\n              <th width=\"15%\">{gettext('Last Update')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {direntList.map((dirent, index) => {\n              return <DirentItem\n                key={index}\n                dirent={dirent}\n                openFolder={this.props.openFolder}\n                deleteDirent={this.props.deleteDirent}\n                downloadDirent={this.props.downloadDirent}\n                fromSystemRepo={this.props.fromSystemRepo}\n              />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nDirContent.propTypes = propTypes;\n\nexport default DirContent;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport axios from 'axios';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport CreateFolderDialog from '../../../components/dialog/create-folder-dialog';\nimport Dirent from '../../../models/system-admin/dirent';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport DirPathBar from './dir-path-bar';\nimport DirContent from './dir-content';\n\nclass DirView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      isSystemRepo: false,\n      repoName: '',\n      path: '',\n      direntList: [],\n      isNewFolderDialogOpen: false\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    this.loadDirentList('/');\n  }\n\n  onPathClick = (path) => {\n    this.loadDirentList(path);\n  }\n\n  toggleNewFolderDialog = () => {\n    this.setState({isNewFolderDialogOpen: !this.state.isNewFolderDialogOpen});\n  }\n\n  createNewFolder = (path) => {\n    let folderName = Utils.getFileName(path);\n    seafileAPI.sysAdminCreateSysRepoFolder(this.props.repoID, this.state.path, folderName).then(res => {\n      let new_dirent = new Dirent(res.data);\n      let direntList = this.state.direntList;\n      direntList.unshift(new_dirent);\n      this.setState({\n        direntList: direntList\n      });\n      this.toggleNewFolderDialog();\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  openFolder = (dirent) => {\n    let direntPath = Utils.joinPath(this.state.path, dirent.name);\n    if (!dirent.is_file) {\n      this.loadDirentList(direntPath);\n    }\n  }\n\n  loadDirentList = (path) => {\n    const repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoDirents(repoID, path).then(res => {\n      const { is_system_library: isSystemRepo, repo_name: repoName, dirent_list } = res.data;\n      let direntList = [];\n      dirent_list.forEach(item => {\n        let dirent = new Dirent(item);\n        direntList.push(dirent);\n      });\n      this.setState({\n        loading: false,\n        repoName: repoName,\n        isSystemRepo: isSystemRepo,\n        direntList: direntList,\n        path: path,\n      }, () => {\n        let url = siteRoot + 'sys/libraries/' + repoID + '/' + encodeURIComponent(this.state.repoName) + Utils.encodePath(path);\n        window.history.replaceState({url: url, path: path}, path, url);\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminDeleteRepoDirent(this.props.repoID, path).then(res => {\n      toaster.success(gettext('Successfully deleted 1 item.'));\n      let direntList = this.state.direntList.filter(item => {\n        return item.name != dirent.name;\n      });\n      this.setState({\n        direntList: direntList\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  downloadDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminGetRepoFileDownloadURL(this.props.repoID, path).then(res => {\n      location.href = res.data.download_url;\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  }\n\n  onFileInputChange = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n\n    let { path } = this.state;\n    seafileAPI.sydAdminGetSysRepoItemUploadURL(path).then(res => {\n      let formData = new FormData();\n      formData.append('parent_dir', path);\n      formData.append('file', file);\n      axios.post(res.data.upload_link, formData).then(res => {\n        const fileObj = res.data[0];\n        let newDirent = new Dirent({\n          'is_file': true,\n          'obj_name': fileObj.name,\n          'file_size': Utils.bytesToSize(fileObj.size),\n          'last_update': (new Date()).getTime()\n        });\n        let direntList = this.state.direntList;\n        const dirs = direntList.filter(item => { return !item.is_file; });\n        direntList.splice(dirs.length, 0, newDirent);\n        this.setState({\n          direntList: direntList\n        });\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  }\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.state.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  }\n\n  render() {\n    const { loading, errorMsg,\n      repoName, direntList, isSystemRepo, path,\n      isNewFolderDialogOpen } = this.state;\n    const { repoID } = this.props;\n\n    return (\n      <Fragment>\n        {isSystemRepo ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <input className=\"d-none\" type=\"file\" onChange={this.onFileInputChange} ref={this.fileInput} />\n              <Button className=\"operation-item\" onClick={this.openFileInput}>{gettext('Upload')}</Button>\n              <Button className=\"operation-item\" onClick={this.toggleNewFolderDialog}>{gettext('New Folder')}</Button>\n            </Fragment>\n          </MainPanelTopbar> : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path align-items-center\">\n              <DirPathBar\n                isSystemRepo={isSystemRepo}\n                repoID={repoID}\n                repoName={repoName}\n                currentPath={path}\n                onPathClick={this.onPathClick}\n              />\n            </div>\n            <div className=\"cur-view-content\">\n              <DirContent\n                loading={loading}\n                errorMsg={errorMsg}\n                fromSystemRepo={isSystemRepo}\n                direntList={direntList}\n                openFolder={this.openFolder}\n                deleteDirent={this.deleteDirent}\n                downloadDirent={this.downloadDirent}\n              />\n            </div>\n          </div>\n        </div>\n        {isNewFolderDialogOpen &&\n          <CreateFolderDialog\n            parentPath={path}\n            checkDuplicatedName={this.checkDuplicatedName}\n            onAddFolder={this.createNewFolder}\n            addFolderCancel={this.toggleNewFolderDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default DirView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminCreateGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({groupName: e.target.value});\n  }\n\n  handleSubmit = () => {\n    let groupName = this.state.groupName.trim();\n    this.props.createGroup(groupName, this.state.ownerEmail);\n  }\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  toggle = () => {\n    this.props.toggleDialog();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Group')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"groupName\">{gettext('Name')}</Label>\n              <Input\n                id=\"groupName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.groupName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n              <Label className=\"mt-2\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateGroupDialog.propTypes = propTypes;\n\nexport default SysAdminCreateGroupDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  groupName: PropTypes.string.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminTransferGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      submitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      submitBtnDisabled: option == null\n    });\n  }\n\n  submit = () => {\n    const receiver = this.state.selectedOption.email;\n    this.props.transferGroup(receiver);\n    this.props.toggleDialog();\n  }\n\n  render() {\n    const { submitBtnDisabled } = this.state;\n    const groupName = '<span class=\"op-target\">' + Utils.HTMLescape(this.props.groupName) +'</span>';\n    const msg = gettext('Transfer Group {placeholder} to').replace('{placeholder}', groupName);\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span dangerouslySetInnerHTML={{__html: msg}}></span>\n        </ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Select a user')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit} disabled={submitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminTransferGroupDialog.propTypes = propTypes;\n\nexport default SysAdminTransferGroupDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport EmptyTip from '../../../components/empty-tip';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminTransferGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"40%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteGroup={this.props.deleteGroup}\n                  transferGroup={this.props.transferGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  toggleTransferDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  }\n\n  deleteGroup = () => {\n    this.props.deleteGroup(this.props.item.id);\n  }\n\n  transferGroup = (receiver) => {\n    this.props.transferGroup(this.props.item.id, receiver);\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    let groupName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', groupName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={groupUrl}>{item.name}</Link></td>\n          <td>\n            {item.owner == 'system admin' ?\n              '--' :\n              <UserLink email={item.owner} name={item.owner_name} />\n            }\n          </td>\n          <td>\n            <span title={moment(item.created_at).format('llll')}>{moment(item.created_at).fromNow()}</span>\n          </td>\n          <td>\n            {(isOpIconShown && item.owner != 'system admin') &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n          <SysAdminTransferGroupDialog\n            groupName={item.name}\n            transferGroup={this.transferGroup}\n            toggleDialog={this.toggleTransferDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-group-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './groups-content';\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: {},\n      perPage: 25,\n      isCreateGroupDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getGroupListByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateGroupDialog = () => {\n    this.setState({isCreateGroupDialogOpen: !this.state.isCreateGroupDialogOpen});\n  }\n\n  getGroupListByPage = (page) => {\n    seafileAPI.sysAdminListAllGroups(page, this.state.perPage).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.groups,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getGroupListByPage(1);\n    });\n  }\n\n  createGroup = (groupName, OnwerEmail) => {\n    seafileAPI.sysAdminCreateNewGroup(groupName, OnwerEmail).then(res => {\n      let newGroupList = this.state.groupList;\n      newGroupList.unshift(res.data);\n      this.setState({\n        groupList: newGroupList\n      });\n      this.toggleCreateGroupDialog();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search groups by name')}\n      submit={this.searchGroups}\n    />;\n  }\n\n  searchGroups = (name) => {\n    navigate(`${siteRoot}sys/search-groups/?name=${encodeURIComponent(name)}`);\n  }\n\n  render() {\n    let { isCreateGroupDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Fragment>\n            <Button className=\"operation-item\" onClick={this.toggleCreateGroupDialog}>{gettext('New Group')}</Button>\n            <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/groupadmin/export-excel/`}>{gettext('Export Excel')}</a>\n          </Fragment>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                pageInfo={this.state.pageInfo}\n                deleteGroup={this.deleteGroup}\n                transferGroup={this.transferGroup}\n                getListByPage={this.getGroupListByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateGroupDialogOpen &&\n          <SysAdminCreateGroupDialog\n            createGroup={this.createGroup}\n            toggleDialog={this.toggleCreateGroupDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Groups;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './groups-content';\n\nclass SearchGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: null\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      name: params.get('name') || ''\n    }, this.getGroups);\n  }\n\n  getGroups = () => {\n    const { name } = this.state;\n    seafileAPI.sysAdminSearchGroups(name).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value\n    }, this.checkSubmitBtnActive);\n  }\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Groups')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getGroups}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.groupList}\n                  deleteGroup={this.deleteGroup}\n                  transferGroup={this.transferGroup}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchGroups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired,\n  groupID: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'repos', urlPart: 'groups/' + this.props.groupID + '/libraries', text: gettext('Libraries')},\n      {name: 'members', urlPart: 'groups/' + this.props.groupID + '/members', text: gettext('Members')}\n    ];\n  }\n\n  render() {\n    const { groupName, currentItem } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/groups/`}>{gettext('Groups')}</Link> / {groupName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Shared By')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  unshareRepo={this.props.unshareRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isUnshareRepoDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  toggleUnshareRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isUnshareRepoDialogOpen: !this.state.isUnshareRepoDialogOpen});\n  }\n\n  unshareRepo = () => {\n    const { item } = this.props;\n    this.props.unshareRepo(item.repo_id, item.name);\n    this.toggleUnshareRepoDialog();\n  }\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    repo.id = item.repo_id;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <a href={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</a>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  }\n\n  render() {\n    let { isOpIconShown, isUnshareRepoDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let iconUrl = Utils.getLibIconUrl(item);\n    let iconTitle = Utils.getLibIconTitle(item);\n\n    let repoName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to unshare {placeholder} ?').replace('{placeholder}', repoName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>\n            <UserLink email={item.shared_by} name={item.shared_by_name} />\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unshare')} onClick={this.toggleUnshareRepoDialog}></a>\n          </td>\n        </tr>\n        {isUnshareRepoDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Unshare Library')}\n            message={dialogMsg}\n            executeOperation={this.unshareRepo}\n            confirmBtnText={gettext('Unshare')}\n            toggleDialog={this.toggleUnshareRepoDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass GroupRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListGroupRepos(this.props.groupID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.libraries,\n        groupName: res.data.group_name\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  unshareRepo = (repoID, repoName) => {\n    seafileAPI.sysAdminUnshareRepoFromGroup(this.props.groupID, repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({\n        repoList: newRepoList\n      });\n      const msg = gettext('Successfully unshared library {placeholder}')\n        .replace('{placeholder}', repoName);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n              currentItem=\"repos\"\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                unshareRepo={this.unshareRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default GroupRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addMembers: PropTypes.func.isRequired\n};\n\nclass SysAdminGroupAddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOptions: null,\n      isSubmitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (options) => {\n    this.setState({\n      selectedOptions: options,\n      isSubmitBtnDisabled: !options.length\n    });\n  }\n\n  addMembers = () => {\n    let emails = this.state.selectedOptions.map(item => item.email);\n    this.props.addMembers(emails);\n    this.props.toggle();\n  }\n\n  render() {\n    const { isSubmitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.addMembers} disabled={isSubmitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminGroupAddMemberDialog.propTypes = propTypes;\n\nexport default SysAdminGroupAddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roleOptions: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminGroupRoleEditor extends React.Component {\n\n  translateRoles = (role) => {\n    switch (role) {\n      case 'Member':\n        return gettext('Member');\n      case 'Admin':\n        return gettext('Admin');\n      default:\n        return role;\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roleOptions}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRoles}\n      />\n    );\n  }\n}\n\nSysAdminGroupRoleEditor.propTypes = propTypes;\n\nexport default SysAdminGroupRoleEditor;","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminGroupAddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog';\nimport SysAdminGroupRoleEditor from '../../../components/select-editor/sysadmin-group-role-editor';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  }\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"55%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  removeMember={this.props.removeMember}\n                  updateMemberRole={this.props.updateMemberRole}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  removeMember = () => {\n    const { item } = this.props;\n    this.props.removeMember(item.email, item.name);\n    this.toggleDeleteDialog();\n  }\n\n  updateMemberRole = (role) => {\n    this.props.updateMemberRole(this.props.item.email, role);\n  }\n\n  render() {\n    let { isOpIconShown, isDeleteDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to remove {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={item.avatar_url} alt=\"\" className=\"rounded-circle\" width=\"24\" /></td>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            {item.role == 'Owner' ?\n              gettext('Owner') :\n              <SysAdminGroupRoleEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                roleOptions={['Member', 'Admin']}\n                currentRole={item.role}\n                onRoleChanged={this.updateMemberRole}\n              />\n            }\n          </td>\n          <td>\n            {item.role != 'Owner' &&\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Remove')} onClick={this.toggleDeleteDialog}></a>\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Remove Member')}\n            message={dialogMsg}\n            executeOperation={this.removeMember}\n            confirmBtnText={gettext('Remove')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass GroupMembers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      memberList: [],\n      pageInfo: {},\n      currentPage: 1,\n      perPage: 25,\n      isAddMemberDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      perPage: parseInt(urlParams.get('per_page') || perPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListGroupMembers(this.props.groupID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        memberList: res.data.members,\n        groupName: res.data.group_name,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  }\n\n  toggleAddMemgerDialog = () => {\n    this.setState({isAddMemberDialogOpen: !this.state.isAddMemberDialogOpen});\n  }\n\n  addMembers = (emails) => {\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then(res => {\n      let newMemberList = res.data.success;\n      if (newMemberList.length) {\n        this.setState({\n          memberList: newMemberList.concat(this.state.memberList)\n        });\n        newMemberList.map(item => {\n          const msg = gettext('Successfully added {email_placeholder}')\n            .replace('{email_placeholder}', item.email);\n          toaster.success(msg);\n        });\n      }\n      res.data.failed.map(item => {\n        const msg = gettext('Failed to add {email_placeholder}: {error_msg_placeholder}')\n          .replace('{email_placeholder}', item.email)\n          .replace('{error_msg_placeholder}', item.error_msg);\n        toaster.danger(msg, {duration: 3});\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  removeMember = (email, name) => {\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, email).then(res => {\n      let newRepoList = this.state.memberList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n      toaster.success(gettext('Successfully removed {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateMemberRole = (email, role) => {\n    let isAdmin = role == 'Admin';\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, email, isAdmin).then(res => {\n      let newRepoList = this.state.memberList.map(item => {\n        if (item.email == email) {\n          item.role = role;\n        }\n        return item;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { isAddMemberDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddMemgerDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              currentItem=\"members\"\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.memberList}\n                removeMember={this.removeMember}\n                updateMemberRole={this.updateMemberRole}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getListByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddMemberDialogOpen &&\n          <SysAdminGroupAddMemberDialog\n            addMembers={this.addMembers}\n            toggle={this.toggleAddMemgerDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default GroupMembers;\n","import React from 'react';\nimport '../../../css/org-department-item.css';\n\nclass Departments extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"h-100 org-departments\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Departments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext, orgID } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\n\nconst propTypes = {\n  groupID: PropTypes.string,\n  parentGroupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onAddNewDepartment: PropTypes.func.isRequired\n};\n\nclass AddDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      let parentGroup = -1;\n      if (this.props.parentGroupID) {\n        parentGroup = this.props.parentGroupID;\n      }\n      seafileAPI.sysAdminAddNewDepartment(parentGroup, this.state.departName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewDepartment(res.data);\n      }).catch(error => {\n        let errorMsg = gettext(error.response.data.error_msg);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  }\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      departName: e.target.value,\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    let header = this.props.parentGroupID ? gettext('New Sub-department') : gettext('New Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.departName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddDepartDialog.propTypes = propTypes;\n\nexport default AddDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  groupID: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired\n};\n\nclass RenameDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departmentName: this.props.name,\n      errMessage: ''\n    };\n    this.newInput = React.createRef();\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminRenameDepartment(this.props.groupID, this.state.departmentName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onDepartmentNameChanged(res.data);\n        toaster.success(gettext('Success'));\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  }\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departmentName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      departmentName: e.target.value\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  onAfterModelOpened = () => {\n    if (!this.newInput.current) return;\n    this.newInput.current.focus();\n    this.newInput.current.select();\n  }\n\n  render() {\n    let header = gettext('Rename Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} onOpened={this.onAfterModelOpened}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departmentName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departmentName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.departmentName}\n                onChange={this.handleChange}\n                innerRef={this.newInput}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRenameDepartmentDialog.propTypes = propTypes;\n\nexport default RenameDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  group: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired\n};\n\nclass DeleteDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteDepart = () => {\n    this.props.toggle();\n    const { group } = this.props;\n    seafileAPI.sysAdminDeleteDepartment(group.id).then((res) => {\n      this.props.onDeleteDepartment(group.id);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { group } = this.props;\n\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(group.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Department')}</ModalHeader>\n        <ModalBody>\n          <p dangerouslySetInnerHTML={{__html: tipMessage}}></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteDepart}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteDepartmentDialog.propTypes = propTypes;\n\nexport default DeleteDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, InputGroupAddon, InputGroup } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.number.isRequired,\n  onSetQuota: PropTypes.func.isRequired,\n};\n\nclass SetGroupQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      errMessage: '',\n    };\n  }\n\n  setGroupQuota = () => {\n    const numberReg = /^[1-9]\\d*$/im;\n    let quota = this.state.quota;\n    if ((quota.length && numberReg.test(quota)) || quota == -2) {\n      this.setState({ errMessage: '' });\n      let newQuota = this.state.quota == -2 ? this.state.quota : this.state.quota * 1000000;\n      seafileAPI.sysAdminUpdateDepartmentQuota(this.props.groupID, newQuota).then((res) => {\n        this.props.toggle();\n        this.props.onSetQuota(res.data);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      const err = gettext('Quota is invalid.');\n      this.setState({ errMessage: err });\n    }\n  }\n\n  handleChange = (e) => {\n    const quota = e.target.value.trim();\n    this.setState({ quota: quota });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.setGroupQuota();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <InputGroup>\n            <Input\n              onKeyPress={this.handleKeyPress}\n              value={this.state.quota}\n              onChange={this.handleChange}\n              autoFocus={true}\n            />\n            <InputGroupAddon addonType=\"append\">{'MB'}</InputGroupAddon>\n          </InputGroup>\n          <p className=\"tip\">\n            <br/><span>{gettext('An integer that is greater than 0 or equal to -2.')}</span><br/>\n            <span>{gettext('Tip: -2 means no limit.')}</span>\n          </p>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.setGroupQuota}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetGroupQuotaDialog.propTypes = propTypes;\n\nexport default SetGroupQuotaDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport ModalPortal from '../../../components/modal-portal';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport DeleteDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog';\n\nconst GroupItemPropTypes = {\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  group: PropTypes.object.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired,\n  onSetDepartmentQuota: PropTypes.func.isRequired\n};\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isRenameDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Rename':\n        this.toggleRenameDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  toggleRenameDialog = () => {\n    this.setState({\n      isRenameDialogOpen: !this.state.isRenameDialogOpen\n    });\n  }\n\n  toggleDeleteDialog = () => {\n    this.setState({\n      isDeleteDialogOpen: !this.state.isDeleteDialogOpen\n    });\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({\n      isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen\n    });\n  }\n\n  render() {\n    const { group } = this.props;\n    const { highlight, isOpIconShown, isRenameDialogOpen, isDeleteDialogOpen, isSetQuotaDialogOpen } = this.state;\n    const newHref = siteRoot+ 'sys/departments/' + group.id + '/';\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><Link to={newHref}>{group.name}</Link></td>\n          <td>{moment(group.created_at).fromNow()}</td>\n          <td>\n            {Utils.bytesToSize(group.quota)}{' '}\n            <span onClick={this.toggleSetQuotaDialog} title={gettext('Edit')} className={`fa fa-pencil-alt attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={['Rename', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen && (\n          <ModalPortal>\n            <DeleteDepartmentDialog\n              group={group}\n              onDeleteDepartment={this.props.onDeleteDepartment}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        )}\n        {isSetQuotaDialogOpen && (\n          <ModalPortal>\n            <SetGroupQuotaDialog\n              groupID={group.id}\n              onSetQuota={this.props.onSetDepartmentQuota}\n              toggle={this.toggleSetQuotaDialog}\n            />\n          </ModalPortal>\n        )}\n        {isRenameDialogOpen && (\n          <RenameDepartmentDialog\n            groupID={group.id}\n            name={group.name}\n            toggle={this.toggleRenameDialog}\n            onDepartmentNameChanged={this.props.onDepartmentNameChanged}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default GroupItem;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nclass DepartmentList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: null,\n      groupID: '',\n      isShowAddDepartDialog: false,\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    this.listDepartments();\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  listDepartments = () => {\n    seafileAPI.sysAdminListAllDepartments().then(res => {\n      this.setState({ groups: res.data.data });\n    });\n  }\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog });\n  }\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  }\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  }\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter((item) => item.id != id)\n    });\n  }\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  }\n\n  render() {\n    const groups = this.state.groups;\n    const topbarChildren = (\n      <Fragment>\n        <button className='btn btn-secondary operation-item' title={gettext('New Department')} onClick={this.toggleAddDepartDialog}>{gettext('New Department')}\n        </button>\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onAddNewDepartment={this.onAddNewDepartment}\n              groupID={this.state.groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">{gettext('Departments')}</h3>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {groups && groups.length > 0 ?\n                <table>\n                  <thead>\n                    <tr>\n                      <th width=\"40%\">{gettext('Name')}</th>\n                      <th width=\"25%\">{gettext('Created At')}</th>\n                      <th width=\"20%\">{gettext('Quota')}</th>\n                      <th width=\"15%\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groups.map((group, index) => {\n                      return(\n                        <Fragment key={group.id}>\n                          <GroupItem\n                            group={group}\n                            isItemFreezed={this.state.isItemFreezed}\n                            onFreezedItem={this.onFreezedItem}\n                            onUnfreezedItem={this.onUnfreezedItem}\n                            onDepartmentNameChanged={this.onDepartmentNameChanged}\n                            onDeleteDepartment={this.onDeleteDepartment}\n                            onSetDepartmentQuota={this.onSetDepartmentQuota}\n                          />\n                        </Fragment>\n                      );\n                    })}\n                  </tbody>\n                </table>\n                :\n                <p className=\"no-group\">{gettext('No departments')}</p>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DepartmentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID:  PropTypes.string.isRequired,\n  onAddNewMembers: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  }\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.refs.orgSelect.clearSelect();\n    this.setState({ errMessage: [] });\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then((res) => {\n      this.setState({ selectedOption: null });\n      if (res.data.failed.length > 0) {\n        this.setState({ errMessage: res.data.failed[0].error_msg });\n      }\n      if (res.data.success.length > 0) {\n        this.props.onAddNewMembers(res.data.success);\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n            ref=\"orgSelect\"\n            isMulti={true}\n            className='org-add-member-select'\n          />\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string.isRequired,\n  onAddNewRepo: PropTypes.func.isRequired\n};\n\nclass AddRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminAddRepoInDepartment(this.props.groupID, this.state.repoName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewRepo(res.data);\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  }\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.repoName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      repoName: e.target.value,\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.repoName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddRepoDialog.propTypes = propTypes;\n\nexport default AddRepoDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-member-dialog';\nimport AddRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog';\nimport { siteRoot, gettext, lang } from '../../../utils/constants';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n  currentItem: PropTypes.string.isRequired,\n  onAddNewDepartment: PropTypes.func,\n  onAddNewMembers: PropTypes.func,\n  onAddNewRepo: PropTypes.func,\n  children: PropTypes.object\n};\n\nclass Department extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ancestorGroups: [],\n      isShowAddDepartmentDialog: false,\n      isShowAddMemberDialog: false,\n      isShowRenameDepartmentDialog: false,\n      isShowAddRepoDialog: false\n    };\n\n    this.navItems = [\n      {name: 'subDepartments', urlPart: '/', text: gettext('Sub-departments')},\n      {name: 'members', urlPart: '/members/', text: gettext('Members')},\n      {name: 'repos', urlPart: '/libraries/', text: gettext('Libraries')}\n    ];\n  }\n\n  componentDidMount() {\n    const groupID = this.props.groupID;\n    this.getDepartmentInfo(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.getDepartmentInfo(nextProps.groupID);\n    }\n  }\n\n  getDepartmentInfo = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({\n        ancestorGroups: res.data.ancestor_groups,\n        groupName: res.data.name,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groupName: dept.name\n    });\n  }\n\n  toggleRenameDepartmentDialog = () => {\n    this.setState({ isShowRenameDepartmentDialog: !this.state.isShowRenameDepartmentDialog });\n  }\n\n  toggleAddRepoDialog = () => {\n    this.setState({ isShowAddRepoDialog: !this.state.isShowAddRepoDialog });\n  }\n\n  toggleAddMemberDialog = () => {\n    this.setState({ isShowAddMemberDialog: !this.state.isShowAddMemberDialog });\n  }\n\n  toggleAddDepartmentDialog = () => {\n    this.setState({ isShowAddDepartmentDialog: !this.state.isShowAddDepartmentDialog});\n  }\n\n  render() {\n    const { groupID, currentItem } = this.props;\n    const { groupName } = this.state;\n\n    const topBtn = 'btn btn-secondary operation-item';\n    const topbarChildren = (\n      <Fragment>\n        {groupID &&\n          <Fragment>\n            <button className={topBtn} title={gettext('Rename Department')} onClick={this.toggleRenameDepartmentDialog}>{gettext('Rename Department')}</button>\n            {currentItem == 'subDepartments' && <button className={topBtn} title={gettext('New Sub-department')} onClick={this.toggleAddDepartmentDialog}>{gettext('New Sub-department')}</button>}\n            {currentItem == 'members' && <button className={topBtn} title={gettext('Add Member')} onClick={this.toggleAddMemberDialog}>{gettext('Add Member')}</button>}\n            {currentItem == 'repos' && <button className={topBtn} onClick={this.toggleAddRepoDialog} title={gettext('New Library')}>{gettext('New Library')}</button>}\n          </Fragment>\n        }\n        {this.state.isShowRenameDepartmentDialog && (\n          <ModalPortal>\n            <RenameDepartmentDialog\n              groupID={groupID}\n              name={groupName}\n              toggle={this.toggleRenameDepartmentDialog}\n              onDepartmentNameChanged={this.onDepartmentNameChanged}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddMemberDialog && (\n          <ModalPortal>\n            <AddMemberDialog\n              toggle={this.toggleAddMemberDialog}\n              onAddNewMembers={this.props.onAddNewMembers}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddRepoDialog && (\n          <ModalPortal>\n            <AddRepoDialog\n              toggle={this.toggleAddRepoDialog}\n              onAddNewRepo={this.props.onAddNewRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddDepartmentDialog && (\n          <ModalPortal>\n            <AddDepartmentDialog\n              onAddNewDepartment={this.props.onAddNewDepartment}\n              parentGroupID={groupID}\n              toggle={this.toggleAddDepartmentDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">\n                  {groupID ?\n                    <Link to={siteRoot + 'sys/departments/'}>{gettext('Departments')}</Link>\n                    : <span>{gettext('Departments')}</span>\n                  }\n                  {this.state.ancestorGroups.map(ancestor => {\n                    let newHref = siteRoot + 'sys/departments/' + ancestor.id + '/';\n                    return <span key={ancestor.id}>{' / '}<Link to={newHref}>{ancestor.name}</Link></span>;\n                  })}\n                  {groupID && <span>{' / '}{groupName}</span>}\n                </h3>\n              </div>\n            </div>\n\n            <ul className=\"nav border-bottom mx-4\">\n              {this.navItems.map((item, index) => {\n                return (\n                  <li className=\"nav-item mr-2\" key={index}>\n                    <Link to={`${siteRoot}sys/departments/${groupID}${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n                  </li>\n                );\n              })}\n            </ul>\n            {this.props.children}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nDepartment.propTypes = DepartmentDetailPropTypes;\n\nexport default Department;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport Department from './department';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst SubDepartmentsPropTypes = {\n  groupID: PropTypes.string\n};\n\nclass SubDepartments extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      groups: []\n    };\n  }\n\n  componentDidMount() {\n    this.listSubDepartments(this.props.groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listSubDepartments(nextProps.groupID);\n    }\n  }\n\n  listSubDepartments = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({groups: res.data.groups});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onSubDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  }\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter(item => item.id != id)\n    });\n  }\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  }\n\n  render() {\n    const { groups } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Department\n        groupID={groupID}\n        currentItem=\"subDepartments\"\n        onAddNewDepartment={this.onAddNewDepartment}\n      >\n        <div className=\"cur-view-content\">\n          {groups && groups.length > 0 ?\n            <table>\n              <thead>\n                <tr>\n                  <th width=\"40%\">{gettext('Name')}</th>\n                  <th width=\"25%\">{gettext('Created At')}</th>\n                  <th width=\"20%\">{gettext('Quota')}</th>\n                  <th width=\"15%\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {groups.map((group, index) => {\n                  return(\n                    <GroupItem\n                      key={group.id}\n                      isItemFreezed={this.state.isItemFreezed}\n                      onFreezedItem={this.onFreezedItem}\n                      onUnfreezedItem={this.onUnfreezedItem}\n                      onDepartmentNameChanged={this.onSubDepartmentNameChanged}\n                      group={group}\n                      onDeleteDepartment={this.onDeleteDepartment}\n                      onSetDepartmentQuota={this.onSetDepartmentQuota}\n                    />\n                  );\n                })}\n              </tbody>\n            </table>\n            : <p className=\"no-group\">{gettext('No sub-departments')}</p>\n          }\n        </div>\n      </Department>\n    );\n  }\n}\n\nSubDepartments.propTypes = SubDepartmentsPropTypes;\n\nexport default SubDepartments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  member: PropTypes.object.isRequired,\n  groupID: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass DeleteMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteMember = () => {\n    const userEmail = this.props.member.email;\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, userEmail).then((res) => {\n      if (res.data.success) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.member.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Member')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteMember}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteMemberDialog.propTypes = propTypes;\n\nexport default DeleteMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport RoleEditor from '../../../components/select-editor/role-editor';\nimport UserLink from '../user-link';\n\nconst MemberItemPropTypes = {\n  groupID: PropTypes.string.isRequired,\n  member: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onMemberChanged: PropTypes.func.isRequired,\n  showDeleteMemberDialog: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n};\n\nclass MemberItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showRoleMenu: false,\n    };\n    this.roles = ['Admin', 'Member'];\n  }\n\n  onMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: true });\n  }\n\n  onMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: false });\n  }\n\n  toggleMemberRoleMenu = () => {\n    this.setState({ showRoleMenu: !this.state.showRoleMenu });\n  }\n\n  onChangeUserRole = (role) => {\n    let isAdmin = role === 'Admin' ? true : false;\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, this.props.member.email, isAdmin).then((res) => {\n      this.props.onMemberChanged();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.setState({\n      highlight: false\n    });\n  }\n\n  render() {\n    const member = this.props.member;\n    const highlight = this.state.highlight;\n    if (member.role === 'Owner') return null;\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={member.avatar_url} alt=\"member-header\" width=\"24\" className=\"avatar\"/></td>\n        <td><UserLink email={member.email} name={member.name} /></td>\n        <td>\n          <RoleEditor\n            isTextMode={true}\n            isEditIconShow={highlight}\n            currentRole={member.role}\n            roles={this.roles}\n            onRoleChanged={this.onChangeUserRole}\n            toggleItemFreezed={this.props.toggleItemFreezed}\n          />\n        </td>\n        {!this.props.isItemFreezed ?\n          <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteMemberDialog.bind(this, member)}>\n            <span className={`sf2-icon-x3 action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n          </td> : <td></td>\n        }\n      </tr>\n    );\n  }\n}\n\nMemberItem.propTypes = MemberItemPropTypes;\n\nexport default MemberItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport MemberItem from './member-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentMembersPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentMembers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      members: [],\n      membersErrorMsg: '',\n      currentPageInfo: {\n      },\n      currentPage: 1,\n      perPage: 25,\n      deletedMember: {},\n      showDeleteMemberDialog: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      const { groupID } = this.props;\n      this.listMembers(groupID, this.state.currentPage, this.state.perPage);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listMembers(nextProps.groupID, this.state.currentPage, this.state.perPage);\n    }\n  }\n\n  listMembers = (groupID, page, perPage) => {\n    seafileAPI.sysAdminListGroupMembers(groupID, page, perPage).then((res) => {\n      this.setState({\n        members: res.data.members,\n        currentPageInfo: res.data.page_info\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      this.setState({membersErrorMsg: errMessage});\n    });\n  }\n\n  getPreviousPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page - 1, this.state.perPage);\n  }\n\n  getNextPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page + 1, this.state.perPage);\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.listMembers(this.props.groupID, 1, perPage);\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteMemberDialog: false,\n    });\n  }\n\n  onMemberChanged = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page, this.state.perPage);\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  }\n\n  showDeleteMemberDialog = (member) => {\n    this.setState({ showDeleteMemberDialog: true, deletedMember: member });\n  }\n\n  onAddNewMembers = (newMembers) => {\n    const { members } = this.state;\n    members.unshift(...newMembers);\n    this.setState({ members });\n  }\n\n  render() {\n    const { members, membersErrorMsg } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department\n          groupID={groupID}\n          currentItem=\"members\"\n          onAddNewMembers={this.onAddNewMembers}\n        >\n          <div className=\"cur-view-content\">\n            {membersErrorMsg ? <p className=\"error text-center\">{membersErrorMsg}</p> :\n              members.length == 0 ?\n                <p className=\"no-member\">{gettext('No members')}</p> :\n                <Fragment>\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"5%\"></th>\n                        <th width=\"50%\">{gettext('Name')}</th>\n                        <th width=\"15%\">{gettext('Role')}</th>\n                        <th width=\"30%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {members.map((member, index) => {\n                        return (\n                          <Fragment key={index}>\n                            <MemberItem\n                              member={member}\n                              showDeleteMemberDialog={this.showDeleteMemberDialog}\n                              isItemFreezed={this.state.isItemFreezed}\n                              onMemberChanged={this.onMemberChanged}\n                              toggleItemFreezed={this.toggleItemFreezed}\n                              groupID={groupID}\n                            />\n                          </Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                  {this.state.currentPageInfo &&\n                  <Paginator\n                    gotoPreviousPage={this.getPreviousPageList}\n                    gotoNextPage={this.getNextPageList}\n                    currentPage={this.state.currentPageInfo.current_page}\n                    hasNextPage={this.state.currentPageInfo.has_next_page}\n                    curPerPage={this.state.perPage}\n                    resetPerPage={this.resetPerPage}\n                  />\n                  }\n                </Fragment>\n            }\n          </div>\n        </Department>\n        {this.state.showDeleteMemberDialog && (\n          <ModalPortal>\n            <DeleteMemberDialog\n              toggle={this.toggleCancel}\n              onMemberChanged={this.onMemberChanged}\n              member={this.state.deletedMember}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentMembers.propTypes = DepartmentMembersPropTypes;\n\nexport default DepartmentMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nclass DeleteRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteRepo = () => {\n    seafileAPI.sysAdminDeleteRepoInDepartment(this.props.groupID, this.props.repo.repo_id).then((res) => {\n      if (res.data.success) {\n        this.props.onRepoChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { repo } = this.props;\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(repo.name || repo.repo_name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Library')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteRepo}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string.isRequired,\n  onRepoChanged: PropTypes.func.isRequired\n};\n\nDeleteRepoDialog.propTypes = propTypes;\n\nexport default DeleteRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nconst RepoItemPropTypes = {\n  repo: PropTypes.object.isRequired,\n  showDeleteRepoDialog: PropTypes.func.isRequired\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  }\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  }\n\n  render() {\n    const { repo } = this.props;\n    const repoName = repo.name || repo.repo_name;\n    const highlight = this.state.highlight;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} width=\"24\" alt={gettext('icon')}/></td>\n        { enableSysAdminViewRepo ?\n          <td><a href={`${siteRoot}sys/libraries/${repo.repo_id}/${encodeURIComponent(repoName)}/`}>{repoName}</a></td>\n          :\n          <td>{repoName}</td>\n        }\n        <td>{Utils.bytesToSize(repo.size)}</td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteRepoDialog.bind(this, repo)}>\n          <span className={`sf2-icon-delete action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nRepoItem.propTypes = RepoItemPropTypes;\n\nexport default RepoItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport RepoItem from './repo-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repos: [],\n      deletedRepo: {},\n      showDeleteRepoDialog: false\n    };\n  }\n\n  componentDidMount() {\n    const { groupID } = this.props;\n    this.listGroupRepo(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listGroupRepo(nextProps.groupID);\n    }\n  }\n\n  listGroupRepo = (groupID) => {\n    seafileAPI.sysAdminListGroupRepos(groupID).then(res => {\n      this.setState({ repos: res.data.libraries });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteRepoDialog: false\n    });\n  }\n\n  onRepoChanged = () => {\n    this.listGroupRepo(this.props.groupID);\n  }\n\n  showDeleteRepoDialog = (repo) => {\n    this.setState({ showDeleteRepoDialog: true, deletedRepo: repo });\n  }\n\n  onAddNewRepo = (newRepo) => {\n    const { repos } = this.state;\n    repos.unshift(newRepo);\n    this.setState({ repos });\n  }\n\n  render() {\n    const { repos } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department groupID={groupID} currentItem=\"repos\" onAddNewRepo={this.onAddNewRepo}>\n          {repos.length > 0 ?\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"5%\"></th>\n                    <th width=\"50%\">{gettext('Name')}</th>\n                    <th width=\"30%\">{gettext('Size')}</th>\n                    <th width=\"15%\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {repos.map((repo, index) => {\n                    return (\n                      <RepoItem key={index} repo={repo} showDeleteRepoDialog={this.showDeleteRepoDialog} />\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n            : <p className=\"no-libraty\">{gettext('No libraries')}</p>\n          }\n        </Department>\n        {this.state.showDeleteRepoDialog && (\n          <ModalPortal>\n            <DeleteRepoDialog\n              toggle={this.toggleCancel}\n              onRepoChanged={this.onRepoChanged}\n              repo={this.state.deletedRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentDetail.propTypes = DepartmentDetailPropTypes;\n\nexport default DepartmentDetail;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'shareLinks', urlPart:'share-links', text: gettext('Share Links')},\n      {name: 'uploadLinks', urlPart:'upload-links', text: gettext('Upload Links')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage + 1);\n  }\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    this.props.sortItems('ctime');\n  }\n\n  sortByCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('view_cnt');\n  }\n\n  render() {\n    const {\n      loading, errorMsg, items,\n      perPage, currentPage, hasNextPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No share links')}</h2>\n        </EmptyTip>\n      );\n\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Created At')} {sortBy == 'ctime' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"10%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByCount}>{gettext('Count')} {sortBy == 'view_cnt' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteShareLink={this.props.deleteShareLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n  deleteShareLink = () => {\n    this.props.deleteShareLink(this.props.item.token);\n  }\n\n  renderExpiration = () => {\n    const item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  }\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td>{item.obj_name}</td>\n        <td>{item.token}</td>\n        <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n        <td>{moment(item.ctime).fromNow()}</td>\n        <td>{item.view_cnt}</td>\n        <td>{this.renderExpiration()}</td>\n        <td>\n          <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteShareLink}></a>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass ShareLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      shareLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      sortBy: '',\n      sortOrder: 'asc'\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage, sortBy, sortOrder } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      sortBy: urlParams.get('order_by') || sortBy,\n      sortOrder: urlParams.get('direction') || sortOrder\n    }, () => {\n      this.getShareLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getShareLinksByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    seafileAPI.sysAdminListShareLinks(page, perPage, sortBy, sortOrder).then((res) => {\n      this.setState({\n        shareLinkList: res.data.share_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getShareLinksByPage(currentPage);\n    });\n  }\n\n  deleteShareLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteShareLink(linkToken).then(res => {\n      let newShareLinkList = this.state.shareLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({shareLinkList: newShareLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getShareLinksByPage(this.initPage));\n  }\n\n  render() {\n    let { shareLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />  \n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"shareLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={shareLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getShareLinksByPage={this.getShareLinksByPage}\n                resetPerPage={this.resetPerPage}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortItems={this.sortItems}\n                deleteShareLink={this.deleteShareLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default ShareLinks;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No upload links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{gettext('Count')}</th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteUploadLink={this.props.deleteUploadLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n  deleteUploadLink = () => {\n    this.props.deleteUploadLink(this.props.item.token);\n  }\n\n  renderExpiration = () => {\n    let item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  }\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td>{item.path}</td>\n          <td>{item.token}</td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.view_cnt}</td>\n          <td>{this.renderExpiration()}</td>\n          <td>\n            <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteUploadLink}></a>\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nclass UploadLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      uploadLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUploadLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getUploadLinksByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAllUploadLinks(page, perPage).then((res) => {\n      this.setState({\n        uploadLinkList: res.data.upload_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteUploadLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteUploadLink(linkToken).then(res => {\n      let newUploadLinkList = this.state.uploadLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({uploadLinkList: newUploadLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getUploadLinksByPage(this.initPage));\n  }\n\n  render() {\n    let { uploadLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"uploadLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={uploadLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getUploadLinksByPage={this.getUploadLinksByPage}\n                resetPerPage={this.resetPerPage}\n                deleteUploadLink={this.deleteUploadLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UploadLinks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggleDialog: PropTypes.func.isRequired,\n  addOrg: PropTypes.func.isRequired\n};\n\nclass SysAdminAddOrgDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      passwordAgain: '',\n      errorMsg: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { name, email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (name.trim() !='' &&\n      email.trim() != '' &&\n      password.trim() != '' &&\n      passwordAgain.trim() != '') {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleDialog();\n  }\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd\n    }, this.checkSubmitBtnActive);\n  }\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd\n    }, this.checkSubmitBtnActive);\n  }\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  }\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    }, this.checkSubmitBtnActive);\n  }\n\n  handleSubmit = () => {\n    let { name, email, password, passwordAgain } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    const data = {\n      orgName: name.trim(),\n      ownerEmail: email.trim(),\n      password: password.trim()\n    };\n    this.props.addOrg(data);\n    this.toggle();\n  }\n\n  render() {\n    const { errorMsg, password, passwordAgain, email, name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Organization')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Name')}</Label>\n              <Input value={name} onChange={this.inputName} />\n            </FormGroup>\n            <FormGroup>\n              <Label>\n                {gettext('Owner')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('Owner can use admin panel in an organization, must be a new account.')}></span>\n              </Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <Input type=\"password\" value={password} onChange={this.inputPassword} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type=\"password\" value={passwordAgain} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddOrgDialog.propTypes = propTypes;\n\nexport default SysAdminAddOrgDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport toaster from '../../../components/toast';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No organizations')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Creator')}</th>\n                <th width=\"20%\">{gettext('Role')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  updateRole={this.props.updateRole}\n                  deleteOrg={this.props.deleteOrg}\n                />);\n              })}\n            </tbody>\n          </table>\n          {this.props.currentPage &&\n          <Paginator\n            currentPage={this.props.currentPage}\n            hasNextPage={this.props.hasNextPage}\n            curPerPage={this.props.curPerPage}\n            resetPerPage={this.props.resetPerPage}\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false,\n      deleteDialogMsg: '',\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen}, () => {\n      if (this.state.isDeleteDialogOpen) {\n        seafileAPI.sysAdminGetOrg(this.props.item.org_id).then((res) => {\n          let orgName = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.org_name) + '</span>';\n          let userCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.users_count) + '</span>';\n          let repoCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.repos_count) + '</span>';\n          let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?')\n            .replace('{placeholder}', orgName) + '<br/>' +\n            gettext('{userCount} user(s) and {repoCount} libraries of this organization will also be deleted.')\n              .replace('{userCount}', userCount)\n              .replace('{repoCount}', repoCount);\n          this.setState({deleteDialogMsg: deleteDialogMsg});\n        }).catch(error => {\n          let errorMsg = Utils.getErrorMsg(error);\n          toaster.danger(errorMsg);\n        });\n      }\n    });\n  }\n\n  updateRole = (role) => {\n    this.props.updateRole(this.props.item.org_id, role);\n  }\n\n  deleteOrg = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteOrg(this.props.item.org_id);\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, deleteDialogMsg } = this.state;\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>{item.org_name}</Link></td>\n          <td>\n            <UserLink email={item.creator_email} name={item.creator_name} />\n          </td>\n          <td>\n            <SysAdminUserRoleEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentRole={item.role}\n              roleOptions={availableRoles}\n              onRoleChanged={this.updateRole}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota > 0 ? Utils.bytesToSize(item.quota) : '--'}`}</td>\n          <td>{moment(item.ctime).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Organization')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteOrg}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminAddOrgDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-org-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './orgs-content';\n\n\nclass Orgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgList: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false,\n      isAddOrgDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListOrgs(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organizations,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  }\n\n  toggleAddOrgDialog = () => {\n    this.setState({isAddOrgDialogOpen: !this.state.isAddOrgDialogOpen});\n  }\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  addOrg = (data) => {\n    const { orgName, ownerEmail, password } = data;\n    seafileAPI.sysAdminAddOrg(orgName, ownerEmail, password).then(res => {\n      let orgList = this.state.orgList;\n      orgList.unshift(res.data);\n      this.setState({orgList: orgList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search organizations')}\n      submit={this.searchItems}\n    />;\n  }\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-organizations/?query=${encodeURIComponent(keyword)}`);\n  }\n\n  render() {\n    const { isAddOrgDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddOrgDialog}>{gettext('Add Organization')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.orgList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getItemsByPage}\n                updateRole={this.updateRole}\n                deleteOrg={this.deleteOrg}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddOrgDialogOpen &&\n          <SysAdminAddOrgDialog\n            addOrg={this.addOrg}\n            toggleDialog={this.toggleAddOrgDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Orgs;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './orgs-content';\n\n\nclass SearchOrgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      orgList: []\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      query: params.get('query') || ''\n    }, this.getItems);\n  }\n\n  getItems = () => {\n    seafileAPI.sysAdminSearchOrgs(this.state.query.trim()).then(res => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organization_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  }\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  }\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Organizations')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" id=\"name\" value={query} onChange={this.handleInputChange} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.orgList}\n                  updateRole={this.updateRole}\n                  deleteOrg={this.deleteOrg}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchOrgs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgNameDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.name,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      name: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleSubmit = () => {\n    this.props.updateName(this.state.name.trim());\n    this.toggle();\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Name')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={name}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgNameDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgNameDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  updateValue: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgMaxUserNumberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.toggle();\n  }\n\n  render() {\n    const { value, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set max number of members')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                className=\"form-control\"\n                value={value}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgMaxUserNumberDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgMaxUserNumberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'users', urlPart: 'users', text: gettext('Members')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')},\n      {name: 'repos', urlPart: 'libraries', text: gettext('Libraries')},\n      //{name: 'traffic', urlPart: 'traffic', text: gettext('traffic')},\n      //{name: 'settings', urlPart: 'settings', text: gettext('Settings')}\n    ];\n  }\n\n  render() {\n    const { currentItem, orgID, orgName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/organizations/`}>{gettext('Organizations')}</Link> / {orgName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/organizations/${orgID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport { Row, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, serviceURL } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetOrgQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetOrgNameDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog';\nimport SysAdminSetOrgMaxUserNumberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n      isSetNameDialogOpen: false,\n      isSetMaxUserNumberDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  }\n\n  toggleSetNameDialog = () => {\n    this.setState({isSetNameDialogOpen: !this.state.isSetNameDialogOpen});\n  }\n\n  toggleSetMaxUserNumberDialog = () => {\n    this.setState({isSetMaxUserNumberDialogOpen: !this.state.isSetMaxUserNumberDialogOpen});\n  }\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  }\n\n  render() {\n    const { loading, errorMsg, orgInfo } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { org_name, users_count, max_user_number, groups_count, quota, quota_usage, enable_saml_login, url_prefix, metadata_url, domain } = this.props.orgInfo;\n      const { isSetQuotaDialogOpen, isSetNameDialogOpen, isSetMaxUserNumberDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {org_name}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{users_count}</dd>\n\n            {max_user_number &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Max number of members')}</dt>\n                <dd className=\"info-item-content\">\n                  {max_user_number}\n                  {this.showEditIcon(this.toggleSetMaxUserNumberDialog)}\n                </dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Number of groups')}</dt>\n            <dd className=\"info-item-content\">{groups_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_usage)} / ${quota > 0 ? Utils.bytesToSize(quota) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {enable_saml_login && \n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('SAML Config')}</dt>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Custom SAML Login URL')}</Col>\n                    <Col md=\"6\">{`${serviceURL}/org/custom/${url_prefix}`}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('App Federation Metadata URL')}</Col>\n                    <Col md=\"6\">{metadata_url}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Email Domain')}</Col>\n                    <Col md=\"6\">{domain}</Col>\n                  </Row>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetOrgQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {isSetNameDialogOpen &&\n          <SysAdminSetOrgNameDialog\n            name={org_name}\n            updateName={this.props.updateName}\n            toggle={this.toggleSetNameDialog}\n          />\n          }\n          {isSetMaxUserNumberDialogOpen &&\n          <SysAdminSetOrgMaxUserNumberDialog\n            value={max_user_number}\n            updateValue={this.props.updateMaxUserNumber}\n            toggle={this.toggleSetMaxUserNumberDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nclass OrgInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        orgInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    const data = {quota: quota};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        quota: res.data.quota\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateName = (orgName) => {\n    const data = {orgName: orgName};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        org_name: res.data.org_name\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set name.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateMaxUserNumber = (newValue) => {\n    const data = {maxUserNumber: newValue};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        max_user_number: res.data.max_user_number\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set max number of members.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { orgInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav currentItem=\"info\" orgID={this.props.orgID} orgName={orgInfo.org_name} />\n            <div className=\"cur-view-content\">\n              <Content\n                orgID={this.props.orgID}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                orgInfo={this.state.orgInfo}\n                updateQuota={this.updateQuota}\n                updateName={this.updateName}\n                updateMaxUserNumber={this.updateMaxUserNumber}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusOptions: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserMembershipEditor extends React.Component {\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'is_org_staff':\n        return gettext('Admin');\n      case 'not_is_org_staff':\n        return gettext('Member');\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusOptions}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n}\n\nSysAdminUserMembershipEditor.propTypes = propTypes;\n\nexport default SysAdminUserMembershipEditor;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext, username } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport SysAdminUserStatusEditor from '../../../components/select-editor/sysadmin-user-status-editor';\nimport SysAdminUserMembershipEditor from '../../../components/select-editor/sysadmin-user-membership-editor';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"15%\">{gettext('Membership')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"25%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  updateStatus={this.props.updateStatus}\n                  updateMembership={this.props.updateMembership}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isResetPasswordDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetPasswordDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  toggleResetPasswordDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isResetPasswordDialogOpen: !this.state.isResetPasswordDialogOpen});\n  }\n\n  updateStatus= (statusValue) => {\n    this.props.updateStatus(this.props.item.email, statusValue);\n  }\n\n  updateMembership= (membershipValue) => {\n    this.props.updateMembership(this.props.item.email, membershipValue);\n  }\n\n  deleteUser = () => {\n    const { item } = this.props;\n    this.props.deleteUser(item.org_id, item.email);\n  }\n\n  resetPassword = () => {\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n    }\n\n    return translateResult;\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isResetPasswordDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    let resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            <SysAdminUserStatusEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.active ? 'active' : 'inactive'}\n              statusOptions={['active', 'inactive']}\n              onStatusChanged={this.updateStatus}\n            />\n          </td>\n          <td>\n            <SysAdminUserMembershipEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.is_org_staff ? 'is_org_staff' : 'not_is_org_staff'}\n              statusOptions={['is_org_staff', 'not_is_org_staff']}\n              onStatusChanged={this.updateMembership}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {(isOpIconShown && item.email != username) &&\n            <OpMenu\n              operations={['Delete', 'Reset Password']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Member')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isResetPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetPasswordDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass OrgUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgUsers(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.users\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  }\n\n  addUser = (newUserInfo) => {\n    const { email, name, password } = newUserInfo;\n    seafileAPI.sysAdminAddOrgUser(this.props.orgID, email, name, password).then(res => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteUser = (orgID, email) => {\n    seafileAPI.sysAdminDeleteOrgUser(orgID, email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateStatus = (email, statusValue) => {\n    const isActive = statusValue == 'active';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'active', isActive).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.active = res.data.active;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateMembership = (email, membershipValue) => {\n    const isOrgStaff = membershipValue == 'is_org_staff';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'is_org_staff', isOrgStaff).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.is_org_staff = res.data.is_org_staff;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { isAddUserDialogOpen, orgName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}> \n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"users\"\n              orgID={this.props.orgID}\n              orgName={orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                updateStatus={this.updateStatus}\n                updateMembership={this.updateMembership}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgUsers;\n","import React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Creator')}</th>\n                <th width=\"30%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteGroup={this.props.deleteGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  deleteGroup = () => {\n    this.toggleDeleteDialog();\n    this.props.deleteGroup(this.props.item.group_id);\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.group_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.group_id}/libraries/` :\n      `${siteRoot}sys/departments/${item.group_id}/`;\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><a href={groupUrl}>{item.group_name}</a></td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass OrgGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      groupList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgGroups(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.group_id != groupID;\n      });\n      this.setState({groupList: newGroupList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"groups\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                deleteGroup={this.deleteGroup}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgGroups;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"35%\">{gettext('ID')}</th>\n                <th width=\"20%\">{gettext('Owner')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteRepo={this.props.deleteRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.repo_id);\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.repo_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{item.repo_name}</td>\n          <td>{item.repo_id}</td>\n          <td>\n            {!item.owner_email ?\n              '--' :\n              item.owner_email.indexOf('@seafile_group') == -1 ?\n              <UserLink email={item.owner_email} name={item.owner_name} /> :\n              item.owner_name\n            }\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass OrgRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgRepos(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"repos\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addInstitution: PropTypes.func.isRequired\n};\n\nclass SysAdminAddInstitutionDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  }\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addInstitution(this.state.value.trim());\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add institution')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <p>{gettext('Name')}</p>\n            <FormGroup>\n              <Input\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddInstitutionDialog.propTypes = propTypes;\n\nexport default SysAdminAddInstitutionDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport SysAdminAddInstitutionDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No institutions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"75%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteInstitution={this.props.deleteInstitution}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  }\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  deleteInstitution = () => {\n    this.props.deleteInstitution(this.props.item.id);\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const institutionName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', institutionName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/institutions/${item.id}/info/`}>{item.name}</Link></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Institution')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteInstitution}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass Institutions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddInstitutionDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionsByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutions(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        institutionList: res.data.institution_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionsByPage(this.initPage));\n  }\n\n  toggleAddInstitutionDialog = () => {\n    this.setState({isAddInstitutionDialogOpen: !this.state.isAddInstitutionDialogOpen});\n  }\n\n  addInstitution = (name) => {\n    seafileAPI.sysAdminAddInstitution(name).then(res => {\n      let institutionList = this.state.institutionList;\n      institutionList.push(res.data);\n      this.setState({institutionList: institutionList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteInstitution = (institutionID) => {\n    seafileAPI.sysAdminDeleteInstitution(institutionID).then(res => {\n      let institutionList = this.state.institutionList.filter(inst => {\n        return inst.id != institutionID;\n      });\n      this.setState({institutionList: institutionList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { isAddInstitutionDialogOpen, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddInstitutionDialog}>{gettext('Add Institution')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Institutions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.institutionList}\n                deleteInstitution={this.deleteInstitution}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionsByPage={this.getInstitutionsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddInstitutionDialogOpen &&\n          <SysAdminAddInstitutionDialog\n            addInstitution={this.addInstitution}\n            toggle={this.toggleAddInstitutionDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Institutions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'members', urlPart: 'members', text: gettext('Members')},\n      {name: 'admins', urlPart: 'admins', text: gettext('Admins')},\n    ];\n  }\n\n  render() {\n    const { currentItem, institutionID, institutionName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/institutions/`}>{gettext('Institutions')}</Link> / {institutionName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/institutions/${institutionID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetInstitutionQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  }\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  }\n\n  render() {\n    const { loading, errorMsg, institutionInfo } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { name, user_count, quota_total, quota_used } = institutionInfo;\n      const { isSetQuotaDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {name}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{user_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_used)} / ${quota_total > 0 ? Utils.bytesToSize(quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetInstitutionQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nclass InstitutionInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        institutionInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    seafileAPI.sysAdminUpdateInstitution(this.props.institutionID, quota).then(res => {\n      const newInstitutionInfo = Object.assign(this.state.institutionInfo, {\n        quota_total: res.data.quota_total,\n      });\n      this.setState({institutionInfo: newInstitutionInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n\n  render() {\n    const { institutionInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav currentItem=\"info\" institutionID={this.props.institutionID} institutionName={institutionInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                institutionInfo={this.state.institutionInfo}\n                updateQuota={this.updateQuota}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default InstitutionInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: [],\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  }\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.props.addUser(emails);\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n            isMulti={true}\n            className='org-add-member-select'\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  setAdmin={this.props.setAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleSetAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isSetAdminDialogOpen: !this.state.isSetAdminDialogOpen});\n  }\n\n  setAdmin = () => {\n    this.props.setAdmin(this.props.item.email);\n  }\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Delete':\n        this.props.deleteUser(this.props.item.email);\n        break;\n      case 'Set Admin':\n        this.toggleSetAdminDialog();\n        break;\n    }\n  }\n\n  getOperations = () => {\n    let operations = [];\n    if (!this.props.item.is_institution_admin) {\n      operations.push('Set Admin');\n    }\n    operations.push('Delete');\n    return operations;\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Set Admin':\n        translateResult = gettext('Set Admin');\n        break;\n    }\n\n    return translateResult;\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isSetAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const dialogMsg = gettext('Are you sure you want to set {placeholder} as Admin?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={this.getOperations()}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isSetAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Set Admin')}\n            message={dialogMsg}\n            executeOperation={this.setAdmin}\n            toggleDialog={this.toggleSetAdminDialog}\n            confirmBtnText={gettext('Set Admin')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass InstitutionUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddUserDialogOpen: false\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionUsersByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionUsersByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutionUsers(this.props.institutionID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  setAdmin = (email) => {\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, true).then(res => {\n      let userList = this.state.userList.map(user => {\n        if (user.email == email) {\n          user.is_institution_admin = true;\n        }\n        return user;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionUsersByPage(this.initPage));\n  }\n\n  addUser = (emails) => {\n    seafileAPI.sysAdminAddInstitutionUserBatch(this.props.institutionID, emails).then(res => {\n      this.toggleAddUserDialog();\n      let successArray = res.data.success;\n      let failedArray = res.data.failed;\n      if (successArray.length) {\n        let newUserList = this.state.userList.concat(successArray);\n        this.setState({userList: newUserList});\n      }\n      failedArray.map((item) => {\n        toaster.danger(item.error_msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { isAddUserDialogOpen, institutionName, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"members\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                setAdmin={this.setAdmin}\n                deleteUser={this.deleteUser}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionUsersByPage={this.getInstitutionUsersByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <AddMemberDialog\n            addUser={this.addUser}\n            toggle={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default InstitutionUsers;\n","import React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No admins')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  revokeAdmin={this.props.revokeAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isRevokeAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleRevokeAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  }\n\n  revokeAdmin = () => {\n    this.props.revokeAdmin(this.props.item);\n  }\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n    }\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n    return translateResult;\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isRevokeAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Revoke Admin']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass InstitutionAdmins extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n    seafileAPI.sysAdminListInstitutionAdmins(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  revokeAdmin = (item) => {\n    const email = item.email;\n    const name = item.name;\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, false).then(res => {\n      let userList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { institutionName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"admins\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                revokeAdmin={this.revokeAdmin}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default InstitutionAdmins;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'loginLogs', urlPart:'logs/login', text: gettext('Login')},\n      {name: 'fileAccessLogs', urlPart:'logs/file-access', text: gettext('File Access')},\n      {name: 'fileUpdateLogs', urlPart:'logs/file-update', text: gettext('File Update')},\n      {name: 'sharePermissionLogs', urlPart:'logs/share-permission', text: gettext('Permission')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport moment from 'moment';\n\nclass LogsExportExcelDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startDateStr: '',\n      endDateStr: '',\n      errMsg: '',\n    };\n  }\n\n  downloadExcel = () => {\n    if (!this.isValidDateStr()) {\n      return;\n    }\n    let { startDateStr, endDateStr } = this.state;\n    let url = siteRoot;\n\n    switch (this.props.logType) {\n      case 'login':\n        url += 'sys/loginadmin/export-excel/';\n        break;\n      case 'fileAccess':\n        url += 'sys/log/fileaudit/export-excel/';\n        break;\n      case 'fileUpdate':\n        url += 'sys/log/fileupdate/export-excel/';\n        break;\n      case 'sharePermission':\n        url += 'sys/log/permaudit/export-excel/';\n        break;\n    }\n    location.href = url + '?start=' + startDateStr + '&end=' + endDateStr;\n    this.props.toggle();\n  }\n\n  isValidDateStr = () => {\n    let { startDateStr, endDateStr } = this.state;\n    if (moment(startDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(endDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(startDateStr).isBefore(endDateStr)\n    ) {\n      return true;\n    } else {\n      this.setState({\n        errMsg: gettext('Date Invalid.')\n      });\n      return false;\n    }\n  }\n\n  handleStartChange = (e) => {\n    const startDateStr = e.target.value.trim();\n    this.setState({\n      startDateStr: startDateStr,\n      errMsg: ''\n    });\n  }\n\n  handleEndChange = (e) => {\n    const endDateStr = e.target.value.trim();\n    this.setState({\n      endDateStr: endDateStr,\n      errMsg: '',\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Choose date')}</ModalHeader>\n        <ModalBody>\n          <FormGroup>\n            <Label>{gettext('Start date')}</Label>\n            <Input\n              value={this.state.startDateStr}\n              onChange={this.handleStartChange}\n              placeholder='yyyy-mm-dd'\n              autoFocus={true}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>{gettext('End date')}</Label>\n            <Input\n              value={this.state.endDateStr}\n              onChange={this.handleEndChange}\n              placeholder='yyyy-mm-dd'\n            />\n          </FormGroup>\n          {this.state.errMsg &&\n            <Alert className=\"mt-2\" color=\"danger\">\n              {gettext(this.state.errMsg)}\n            </Alert>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.downloadExcel}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  logType: PropTypes.string.isRequired,\n};\n\nLogsExportExcelDialog.propTypes = propTypes;\n\nexport default LogsExportExcelDialog;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport { Button } from 'reactstrap';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.log_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nclass LoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.login_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  }\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"loginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'login'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default LoginLogs;\n","import React from 'react';\nimport { gettext } from '../../../utils/constants';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\n\nclass FilterMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      isMenuShown: false\n    };  \n  }\n\n  toggleMenu = () => {\n    this.setState({\n      isMenuShown: !this.state.isMenuShown\n    }, () => {\n      this.props.toggleFreezeItem(this.state.isMenuShown);\n    });\n  }\n\n  onItemClick = () => {\n    this.props.filterItems();\n    this.props.toggleFreezeItem(false);\n  }\n\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isMenuShown} toggle={this.toggleMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"sf-dropdown-toggle sf2-icon-caret-down\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isMenuShown}\n        />\n        <DropdownMenu>\n          <DropdownItem onClick={this.onItemClick}>{gettext('only show {placeholder}').replace('{placeholder}', filterBy)}</DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nexport default FilterMenu;\n","import React from 'react';\nimport { Button } from 'reactstrap';\n\nclass ToggleFilter extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Button\n        color='secondary'\n        className=\"my-2 mr-2\"\n        onClick={this.props.toggleFilter}\n      >   \n        <span className=\"text-primary\">{filterBy}</span>\n        <span className=\"ml-2 close\" style={{fontSize: '1.2rem'}}>x</span>\n      </Button>\n    );\n\n  }\n\n}\n\nexport default ToggleFilter;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport { Button } from 'reactstrap';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport LogsNav from './logs-nav';\nimport FilterMenu from './file-access-item-menu';\nimport ToggleFilter from './file-access-toggle-filter';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  }\n\n  toggleFilterByUser = () => {\n    this.props.filterByUser(null);\n  }\n\n  toggleFilterByRepo = () => {\n    this.props.filterByRepo(null);\n  }\n\n  toggleFreezeItem = (freezed) => {\n    this.setState({\n      isItemFreezed: freezed\n    });\n  }\n\n  render() {\n    const {\n      loading, errorMsg, items, \n      userFilteredBy, repoFilteredBy,\n      perPage, currentPage, hasNextPage\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file access logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <div>\n            {userFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].name}\n                toggleFilter={this.toggleFilterByUser}\n              />\n            )}\n            {repoFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].repo_name}\n                toggleFilter={this.toggleFilterByRepo}\n              />\n            )}\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('IP')}{' / '}{gettext('Device')}</th>\n                <th width=\"20%\">{gettext('Date')}</th>\n                <th width=\"15%\">{gettext('Library')}</th>\n                <th width=\"15%\">{gettext('File')}{' / '}{gettext('Folder')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isFreezed={this.state.isItemFreezed}\n                    toggleFreezeItem={this.toggleFreezeItem}\n                    userFilteredBy={userFilteredBy}\n                    repoFilteredBy={repoFilteredBy}\n                    filterByUser={this.props.filterByUser}\n                    filterByRepo={this.props.filterByRepo}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHighlighted: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: true,\n        isOpIconShown: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  }\n\n  filterByUser = () => {\n    const { item } = this.props;\n    this.props.filterByUser(item.email);\n  }\n\n  filterByRepo = () => {\n    const { item } = this.props;\n    this.props.filterByRepo(item.repo_id);\n  }\n\n  toggleFreezeItem = (freezed) => {\n    this.props.toggleFreezeItem(freezed);\n    if (!freezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  }\n\n  render() {\n    const { isHighlighted, isOpIconShown } = this.state;\n    const { item, userFilteredBy, repoFilteredBy } = this.props;\n    return (\n      <tr className={isHighlighted ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>\n          <UserLink email={item.email} name={item.name} />\n          {isOpIconShown && !userFilteredBy && (\n            <FilterMenu\n              filterBy={item.name}\n              filterItems={this.filterByUser}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.event_type}</td>\n        <td>{item.ip}{' / '}{item.device || '--'}</td>\n        <td>{moment(item.time).fromNow()}</td>\n        <td>\n          {item.repo_name ? item.repo_name : gettext('Deleted')}\n          {isOpIconShown && item.repo_name && !repoFilteredBy && (\n            <FilterMenu\n              filterBy={item.repo_name}\n              filterItems={this.filterByRepo}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.file_or_dir_name}</td>\n      </tr>\n    );\n  }\n}\n\nclass FileAccessLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      userFilteredBy: urlParams.get('email'),\n      repoFilteredBy: urlParams.get('repo_id')\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    const { perPage, userFilteredBy, repoFilteredBy } = this.state;\n    seafileAPI.sysAdminListFileAccessLogs(page, perPage, userFilteredBy, repoFilteredBy).then((res) => {\n      this.setState({\n        logList: res.data.file_access_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  }\n\n  updateURL = (obj) => {\n    let url = new URL(location.href);\n    let searchParams = new URLSearchParams(url.search);\n    for (let key in obj) {\n      obj[key] == null ? \n        searchParams.delete(key) :\n        searchParams.set(key, obj[key]);\n    }\n    url.search = searchParams.toString();\n    navigate(url.toString());\n  }\n\n  filterByUser = (email) => {\n    this.setState({\n      userFilteredBy: email \n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'email': email});\n    });\n  }\n\n  filterByRepo = (repoID) => {\n    this.setState({\n      repoFilteredBy: repoID \n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'repo_id': repoID});\n    });\n  } \n\n  render() {\n    const {\n      logList,\n      userFilteredBy, repoFilteredBy, \n      currentPage, perPage, hasNextPage,\n      isExportExcelDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileAccessLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                userFilteredBy={userFilteredBy}\n                repoFilteredBy={repoFilteredBy}\n                filterByUser={this.filterByUser}\n                filterByRepo={this.filterByRepo}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileAccess'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileAccessLogs;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport { Button } from 'reactstrap';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport ModalPortal from '../../../components/modal-portal';\nimport CommitDetails from '../../../components/dialog/commit-details';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file update logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('Date')}</th>\n                <th width=\"25%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Action')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isCommitDetailsDialogOpen: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n\n  toggleCommitDetailsDialog = () => {\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  }\n\n  showCommitDetails = (e) => {\n    e.preventDefault();\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>{moment(item.time).fromNow()}</td>\n          <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n          <td>\n            {item.file_operation}\n            {item.repo_name && !item.repo_encrypted &&\n              <a className=\"ml-1\" href=\"#\" onClick={this.showCommitDetails}>{gettext('Details')}</a>\n            }\n          </td>\n        </tr>\n        {this.state.isCommitDetailsDialogOpen &&\n          <ModalPortal>\n            <CommitDetails\n              repoID={item.repo_id}\n              commitID={item.commit_id}\n              commitTime={item.time}\n              toggleDialog={this.toggleCommitDetailsDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass FileUpdateLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListFileUpdateLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.file_update_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  }\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileUpdateLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileUpdate'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileUpdateLogs;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsNav from './logs-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No permission logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"15%\">{gettext('Share From')}</th>\n                <th width=\"15%\">{gettext('Share To')}</th>\n                <th width=\"10%\">{gettext('Actions')}</th>\n                <th width=\"13%\">{gettext('Permission')}</th>\n                <th width=\"20%\">{gettext('Library')}</th>\n                <th width=\"12%\">{gettext('Folder')}</th>\n                <th width=\"15%\">{gettext('Date')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  }\n\n  getActionTextByEType = (etype) => {\n    if (etype.indexOf('add') != -1) {\n      return gettext('Add');\n    } else if (etype.indexOf('modify') != -1) {\n      return gettext('Modify');\n    } else if (etype.indexOf('delete') != -1) {\n      return gettext('Delete');\n    } else {\n      return '';\n    }\n  }\n\n  getShareTo = (item) => {\n    switch(item.share_type) {\n      case 'user':\n        return <UserLink email={item.to_user_email} name={item.to_user_name} />;\n      case 'group':\n        return <Link to={`${siteRoot}sys/groups/${item.to_group_id}/libraries/`}>{item.to_group_name}</Link>;\n      case 'department':\n        return <Link to={`${siteRoot}sys/departments/${item.to_group_id}/`}>{item.to_group_name}</Link>;\n      case 'all':\n        return <Link to={`${siteRoot}org/`}>{gettext('All')}</Link>;\n      default:\n        return gettext('Deleted');\n    }\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.from_user_email} name={item.from_user_name} /></td>\n        <td>{this.getShareTo(item)}</td>\n        <td>{this.getActionTextByEType(item.etype)}</td>\n        <td>{Utils.sharePerms(item.permission)}</td>\n        <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n        <td>{item.folder}</td>\n        <td>{moment(item.date).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nclass SharePermissionLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListSharePermissionLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.share_permission_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  }\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"sharePermissionLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'sharePermission'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SharePermissionLogs;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  headingText: PropTypes.string.isRequired,\n  children: PropTypes.object.isRequired\n};\n\nclass Section extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { headingText, children} = this.props;\n    return (\n      <div className=\"mb-4\">\n        <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{headingText}</h4>\n        {children}\n      </div>\n    );\n  }\n}\n\nSection.propTypes = propTypes;\n\nexport default Section;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, Label } from 'reactstrap';\n\nconst propTypes = {\n  displayName: PropTypes.string.isRequired,\n  helpTip: PropTypes.string,\n  mainContent: PropTypes.object.isRequired,\n  extraContent: PropTypes.object\n};\n\nclass SettingItemBase extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { helpTip, displayName, mainContent, extraContent } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"my-4\">\n          <Col md=\"3\">\n            <Label className=\"web-setting-label\">{displayName}</Label>\n          </Col>\n          <Col md=\"5\">\n            {mainContent}\n            {helpTip && <p className=\"small text-secondary mt-1\">{helpTip}</p>}\n          </Col>\n          <Col md=\"4\">\n            {extraContent}\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nSettingItemBase.propTypes = propTypes;\n\nexport default SettingItemBase;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  inputType: PropTypes.string,\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string,PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isBtnsShown: false,\n      value: this.props.value\n    };\n  }\n\n  toggleBtns = () => {\n    this.setState({isBtnsShown: !this.state.isBtnsShown});\n  }\n\n  hideBtns = (e) => {\n    if (!this.state.isBtnsShown) {\n      return;\n    }\n    if (this.props.value != this.state.value) {\n      this.setState({value: this.props.value});\n    }\n    this.toggleBtns();\n  }\n\n  onInputChange = (e) => {\n    this.setState({ value: e.target.value });\n  }\n\n  onSubmit = (e) => {\n    const value = this.state.value.trim();\n    if (value != this.props.value) {\n      this.props.saveSetting(this.props.keyText, value);\n    }\n    this.toggleBtns();\n  }\n\n  render() {\n    const { isBtnsShown, value } = this.state;\n    const { helpTip, displayName, inputType } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <Input type={inputType || 'text'} className={inputType == 'textarea' ? 'web-setting-textarea' : ''} onChange={this.onInputChange} onFocus={this.toggleBtns} onBlur={this.hideBtns} value={value} />\n        }\n        extraContent={\n          isBtnsShown ?\n            <Fragment>\n              <Button className=\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\" onMouseDown={this.onSubmit} title={gettext('Submit')}></Button>\n              <Button className=\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\" title={gettext('Cancel')}></Button>\n            </Fragment> : null\n        }\n      />\n    );\n  }\n}\n\nWebSettingInput.propTypes = propTypes;\n\nexport default WebSettingInput;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  postFile: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  helpTip: PropTypes.string.isRequired,\n  fileWidth: PropTypes.number.isRequired,\n  fileHeight: PropTypes.number.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingFile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n  }\n\n  uploadFile = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    this.props.postFile(file, this.props.keyText);\n  }\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  }\n\n  render() {\n    const { helpTip, filePath, fileWidth, fileHeight, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <img src={filePath + '?t=' + new Date().getTime()} alt={displayName} width={fileWidth} height={fileHeight} className=\"mb-1\" />\n        }\n        extraContent={\n          <Fragment>\n            <Button color=\"secondary\" onClick={this.openFileInput}>{gettext('Change')}</Button>\n            <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInput} />\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingFile.propTypes = propTypes;\n\nexport default WebSettingFile;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingCheckbox extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: this.props.value\n    };\n  }\n\n  onInputChange = (e) => {\n    const checked = e.target.checked;\n    const valueToNum = checked ? 1 : 0;\n    this.setState({\n      inputChecked: checked\n    });\n    this.props.saveSetting(this.props.keyText, valueToNum);\n  }\n\n  render() {\n    const { inputChecked } = this.state;\n    const { helpTip, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        mainContent={\n          <Fragment>\n            <Input className=\"ml-0\" checked={inputChecked} type='checkbox' onChange={this.onInputChange} />\n            <p className=\"ml-4\">{helpTip}</p>\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingCheckbox.propTypes = propTypes;\n\nexport default WebSettingCheckbox;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro, mediaUrl, logoPath, faviconPath, loginBGPath } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Section from './section';\nimport InputItem from './input-item';\nimport FileItem from './file-item';\nimport CheckboxItem from './checkbox-item';\n\nimport '../../../css/system-admin-web-settings.css';\n\nclass WebSettings extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      config_dict: null,\n      logoPath: mediaUrl + logoPath,\n      faviconPath: mediaUrl + faviconPath,\n      loginBGPath: mediaUrl + loginBGPath\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysSettingInfo().then((res) => {\n      this.setState({\n        loading: false,\n        config_dict: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  saveSetting = (key, value) => {\n    seafileAPI.sysAdminSetSysSettingInfo(key, value).then((res) => {\n      this.setState({\n        config_dict: res.data\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  postFile = (file, fileType) => {\n    let postFile;\n    if (fileType == 'Logo') {\n      postFile = seafileAPI.sysAdminUpdateLogo(file);\n    } else if (fileType == 'Favicon') {\n      postFile = seafileAPI.sysAdminUpdateFavicon(file);\n    } else if (fileType == 'loginBGImage') {\n      postFile = seafileAPI.sysAdminUpdateLoginBG(file);\n    }\n    postFile.then((res) => {\n      if (fileType == 'Logo') {\n        this.setState({\n          logoPath: res.data.logo_path\n        });\n      } else if (fileType == 'Favicon') {\n        this.setState({\n          faviconPath: res.data.favicon_path\n        });\n      } else if (fileType == 'loginBGImage') {\n        this.setState({\n          loginBGPath: res.data.login_bg_image_path\n        });\n      }\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { loading, errorMsg, config_dict, logoPath, faviconPath, loginBGPath } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Settings')}</h3>\n            </div>\n            <div className=\"cur-view-content container mw-100\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) && config_dict &&\n              <Fragment>\n                <p className=\"small text-secondary my-4\">{gettext('Note: Settings via web interface are saved in database table (seahub-db/constance_config). They have a higher priority over the settings in config files.')}</p>\n\n                <Section headingText='URL'>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SERVICE_URL'\n                      keyText='SERVICE_URL'\n                      value={config_dict['SERVICE_URL']}\n                      helpTip={gettext('The URL of the server, like https://seafile.example.com or http://192.168.1.2:8000')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='FILE_SERVER_ROOT'\n                      keyText='FILE_SERVER_ROOT'\n                      value={config_dict['FILE_SERVER_ROOT']}\n                      helpTip={gettext('The internal URL for downloading/uploading files. Users will not be able to download/upload files if this is not set correctly. If you config Seafile behind Nginx/Apache, it should be SERVICE_URL/seafhttp, like https://seafile.example.com/seafhttp .')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Branding')}>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_TITLE'\n                      keyText='SITE_TITLE'\n                      value={config_dict['SITE_TITLE']}\n                      helpTip={gettext('Site title shown in a browser tab')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_NAME'\n                      keyText='SITE_NAME'\n                      value={config_dict['SITE_NAME']}\n                      helpTip={gettext('Site name used in email sending')}\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Logo'\n                      keyText='Logo'\n                      filePath={logoPath}\n                      fileWidth={256}\n                      fileHeight={64}\n                      helpTip='logo.png, 256px * 64px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Favicon'\n                      keyText='Favicon'\n                      filePath={faviconPath}\n                      fileWidth={32}\n                      fileHeight={32}\n                      helpTip='favicon.ico, 32px * 32px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName={gettext('Login Background Image')}\n                      keyText='loginBGImage'\n                      filePath={loginBGPath}\n                      fileWidth={240}\n                      fileHeight={160}\n                      helpTip='login-bg.jpg, 2400px * 1600px'\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_BRANDING_CSS'\n                      keyText='ENABLE_BRANDING_CSS'\n                      value={config_dict['ENABLE_BRANDING_CSS']}\n                      helpTip={gettext('Use custom CSS')}\n                    />\n                    <InputItem\n                      inputType=\"textarea\"\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('Custom CSS')}\n                      keyText='CUSTOM_CSS'\n                      value={config_dict['CUSTOM_CSS']}\n                      helpTip=''\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('User')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('allow new registrations')}\n                      keyText='ENABLE_SIGNUP'\n                      value={config_dict['ENABLE_SIGNUP']}\n                      helpTip={gettext('Allow new user registrations. Uncheck this to prevent anyone from creating a new account.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('activate after registration')}\n                      keyText='ACTIVATE_AFTER_REGISTRATION'\n                      value={config_dict['ACTIVATE_AFTER_REGISTRATION']}\n                      helpTip={gettext('Activate user immediately after registration. If unchecked, a user need to be activated by administrator or via activation email')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('send activation email')}\n                      keyText='REGISTRATION_SEND_MAIL'\n                      value={config_dict['REGISTRATION_SEND_MAIL']}\n                      helpTip={gettext('Send activation Email after user registration.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('keep sign in')}\n                      keyText='LOGIN_REMEMBER_DAYS'\n                      value={config_dict['LOGIN_REMEMBER_DAYS']}\n                      helpTip={gettext('Number of days that keep user sign in.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='LOGIN_ATTEMPT_LIMIT'\n                      keyText='LOGIN_ATTEMPT_LIMIT'\n                      value={config_dict['LOGIN_ATTEMPT_LIMIT']}\n                      helpTip={gettext('The maximum number of failed login attempts before showing CAPTCHA.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='FREEZE_USER_ON_LOGIN_FAILED'\n                      keyText='FREEZE_USER_ON_LOGIN_FAILED'\n                      value={config_dict['FREEZE_USER_ON_LOGIN_FAILED']}\n                      helpTip={gettext('Freeze user account when failed login attempts exceed limit.')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Groups')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_SHARE_TO_ALL_GROUPS'\n                    keyText='ENABLE_SHARE_TO_ALL_GROUPS'\n                    value={config_dict['ENABLE_SHARE_TO_ALL_GROUPS']}\n                    helpTip={gettext('Enable users to share libraries to any groups in the system.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Password')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='strong password'\n                      keyText='USER_STRONG_PASSWORD_REQUIRED'\n                      value={config_dict['USER_STRONG_PASSWORD_REQUIRED']}\n                      helpTip={gettext('Force user to use a strong password when sign up or change password.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='force password change'\n                      keyText='FORCE_PASSWORD_CHANGE'\n                      value={config_dict['FORCE_PASSWORD_CHANGE']}\n                      helpTip={gettext('Force user to change password when account is newly added or reset by admin')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password minimum length')}\n                      keyText='USER_PASSWORD_MIN_LENGTH'\n                      value={config_dict['USER_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an account password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password strength level')}\n                      keyText='USER_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['USER_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of an account password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='enable two factor authentication'\n                      keyText='ENABLE_TWO_FACTOR_AUTH'\n                      value={config_dict['ENABLE_TWO_FACTOR_AUTH']}\n                      helpTip={gettext('Enable two factor authentication')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Library')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='library history'\n                      keyText='ENABLE_REPO_HISTORY_SETTING'\n                      value={config_dict['ENABLE_REPO_HISTORY_SETTING']}\n                      helpTip={gettext('Allow user to change library history settings')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='encrypted library'\n                      keyText='ENABLE_ENCRYPTED_LIBRARY'\n                      value={config_dict['ENABLE_ENCRYPTED_LIBRARY']}\n                      helpTip={gettext('Allow user to create encrypted libraries')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('library password minimum length')}\n                      keyText='REPO_PASSWORD_MIN_LENGTH'\n                      value={config_dict['REPO_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an encrypted library password should include.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link force password')}\n                      keyText='SHARE_LINK_FORCE_USE_PASSWORD'\n                      value={config_dict['SHARE_LINK_FORCE_USE_PASSWORD']}\n                      helpTip={gettext('Force user use password when generating share/upload link.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password minimum length')}\n                      keyText='SHARE_LINK_PASSWORD_MIN_LENGTH'\n                      value={config_dict['SHARE_LINK_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters a share/upload link password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password strength level')}\n                      keyText='SHARE_LINK_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['SHARE_LINK_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of a share/upload link password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_USER_CLEAN_TRASH'\n                      keyText='ENABLE_USER_CLEAN_TRASH'\n                      value={config_dict['ENABLE_USER_CLEAN_TRASH']}\n                      helpTip={gettext('Allow user to clean library trash')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Online Preview')}>\n                  <InputItem\n                    inputType=\"textarea\"\n                    saveSetting={this.saveSetting}\n                    displayName={gettext('text file extensions')}\n                    keyText='TEXT_PREVIEW_EXT'\n                    value={config_dict['TEXT_PREVIEW_EXT']}\n                    helpTip={gettext('Extensions of text files that can be online previewed, each suffix is separated by a comma.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Sync')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    keyText='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    value={config_dict['DISABLE_SYNC_WITH_ANY_FOLDER']}\n                    helpTip={gettext('If turn on, the desktop clients will not be able to sync a folder outside the default Seafile folder.')}\n                  />\n                </Section>\n\n                {isPro && <Section headingText={gettext('Terms')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_TERMS_AND_CONDITIONS'\n                    keyText='ENABLE_TERMS_AND_CONDITIONS'\n                    value={config_dict['ENABLE_TERMS_AND_CONDITIONS']}\n                    helpTip={gettext('Enable system admin to add Terms and Conditions, and all users will have to accept the terms.')}\n                  />\n                </Section>}\n              </Fragment>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default WebSettings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addNotification: PropTypes.func.isRequired\n};\n\nclass SysAdminAddSysNotificationDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  }\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addNotification(this.state.value.trim());\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add new notification')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"textarea\"\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddSysNotificationDialog.propTypes = propTypes;\n\nexport default SysAdminAddSysNotificationDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminAddSysNotificationDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No notifications')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <table>\n          <thead>\n            <tr>\n              <th width=\"95%\">{gettext('Notification Detail')}</th>\n              <th width=\"5%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item\n                key={index}\n                item={item}\n                isItemFreezed={this.state.isItemFreezed}\n                onFreezedItem={this.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n                deleteNotification={this.props.deleteNotification}\n                setToCurrent={this.props.setToCurrent}\n              />);\n            })}\n          </tbody>\n        </table>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  deleteNotification = () => {\n    this.props.deleteNotification(this.props.item.id);\n    this.toggleDeleteDialog();\n  }\n\n  setToCurrent = () => {\n    this.props.setToCurrent(this.props.item.id);\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Set to current':\n        this.setToCurrent();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Set to current':\n        translateResult = gettext('Set to current');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  getOperations = () => {\n    const { item } = this.props;\n    let operations = [];\n    if (!item.is_current) {\n      operations.push('Set to current');\n    }\n    operations.push('Delete');\n    return operations;\n  }\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            {item.msg}\n            {item.is_current &&\n              <span className=\"small text-orange\">{gettext('(current notification)')}</span>\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Notification')}\n            message={gettext('Are you sure you want to delete the notification ?')}\n            toggleDialog={this.toggleDeleteDialog}\n            executeOperation={this.deleteNotification}\n            confirmBtnText={gettext('Delete')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nclass Notifications extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      notificationList: [],\n      isAddNotificationDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListAllSysNotifications().then((res) => {\n      this.setState({\n        loading: false,\n        notificationList: res.data.notifications\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddNotificationDialog = () => {\n    this.setState({isAddNotificationDialogOpen: !this.state.isAddNotificationDialogOpen});\n  }\n\n  addNotification = (msg) => {\n    seafileAPI.sysAdminAddSysNotification(msg).then(res => {\n      let notificationList = this.state.notificationList;\n      notificationList.unshift(res.data.notification);\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteNotification = (id) => {\n    seafileAPI.sysAdminDeleteSysNotification(id).then(res => {\n      let notificationList = this.state.notificationList.filter(item => {\n        return item.id != id;\n      });\n      this.setState({notificationList: notificationList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setToCurrent = (id) => {\n    seafileAPI.sysAdminSetSysNotificationToCurrent(id).then(res => {\n      let notificationList = this.state.notificationList.map(item => {\n        if (item.id == id) {\n          item.is_current = true;\n        } else {\n          item.is_current = false;\n        }\n        return item;\n      });\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    const { isAddNotificationDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddNotificationDialog}>{gettext('Add new notification')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Notifications')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.notificationList}\n                deleteNotification={this.deleteNotification}\n                setToCurrent={this.setToCurrent}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddNotificationDialogOpen &&\n          <SysAdminAddSysNotificationDialog\n            addNotification={this.addNotification}\n            toggle={this.toggleAddNotificationDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Notifications;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\n\n\nconst tablePropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  records: PropTypes.array.isRequired,\n};\n\nclass Table extends Component {\n\n  render() {\n    let { loading, errorMsg, records } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      return (\n        <table width=\"100%\" className=\"table table-hover table-vcenter\">\n          <thead>\n            <tr>\n              <th width=\"16%\">{gettext('Library')}</th>\n              <th width=\"30%\">ID</th>\n              <th width=\"30%\">{gettext('Path')}</th>\n              <th width=\"12%\">{gettext('Label')}</th>\n              <th width=\"12%\">{gettext('Suggestion')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {records.map((record, index) => {\n              return (\n                <Item key={index} record={record} />\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    }\n  }\n}\n\nTable.propTypes = tablePropTypes;\n\n\nconst itemPropTypes = {\n  record: PropTypes.object.isRequired,\n};\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let record = this.props.record;\n\n    return (\n      <tr>\n        <td>{record.repo_name}</td>\n        <td>{record.repo_id}</td>\n        <td>{record.path}</td>\n        <td>{record.detail.label}</td>\n        <td>{record.detail.suggestion}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = itemPropTypes;\n\n\nclass FileScanRecords extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      records: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listFileScanRecords().then((res) => {\n      this.setState({\n        loading: false,\n        records: res.data.record_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\" id=\"content-scan-records\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Content Scan Records')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Table\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                records={this.state.records}\n              />\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default FileScanRecords;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst WorkWeixinDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass WorkWeixinDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar.substring(0, member.avatar.length - 1) + '100';// get smaller avatar\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{'名称'}</th>\n                <th width=\"20%\">{'手机号'}</th>\n                <th width=\"30%\">{'邮箱'}</th>\n                <th width=\"15%\">{'已添加'}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{'成员列表为空'}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentMembersList.propTypes = WorkWeixinDepartmentMembersListPropTypes;\n\nexport default WorkWeixinDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst WorkWeixinDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  }\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <WorkWeixinDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  }\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{'导入部门'}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreeNode.propTypes = WorkWeixinDepartmentsTreeNodePropTypes;\n\nexport default WorkWeixinDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport WorkWeixinDepartmentsTreeNode from './work-weixin-departments-tree-node';\n\nconst WorkWeixinDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <WorkWeixinDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreePanel.propTypes = WorkWeixinDepartmentsTreePanelPropTypes;\n\nexport default WorkWeixinDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportWorkWeixinDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{'导入部门 '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{'将要导入 '}<strong>{departmentsCount}</strong>{' 个部门，其中包括 '}<strong>{membersCount}</strong>{' 个成员'}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{'取消'}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{'导入'}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportWorkWeixinDepartmentDialog.propTypes = propTypes;\n\nexport default ImportWorkWeixinDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport MainPanelTopbar from './main-panel-topbar';\nimport { WorkWeixinDepartmentMembersList, WorkWeixinDepartmentsTreePanel } from './work-weixin';\nimport ImportWorkWeixinDepartmentDialog from '../../components/dialog/import-work-weixin-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\n\nclass WorkWeixinDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getWorkWeixinDepartmentsList = (departmentID) => {\n    seafileAPI.adminListWorkWeixinDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getWorkWeixinDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListWorkWeixinDepartmentMembers(department_id, {fetch_child: true}).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  };\n\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getWorkWeixinDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('未选择成员', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddWorkWeixinUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' 成功导入', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  }\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getWorkWeixinDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportWorkWeixinDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getWorkWeixinDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? '部门 ' + success.department_name + ' 导入成功' : success.api_user_name + ' 导入成功' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  }\n\n  componentDidMount() {\n    this.getWorkWeixinDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{'导入用户'}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{'企业微信集成'}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <WorkWeixinDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <WorkWeixinDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportWorkWeixinDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default WorkWeixinDepartments;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst DingtalkDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass DingtalkDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar;\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{'名称'}</th>\n                <th width=\"20%\">{'手机号'}</th>\n                <th width=\"30%\">{'邮箱'}</th>\n                <th width=\"15%\">{'已添加'}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{'成员列表为空'}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentMembersList.propTypes = DingtalkDepartmentMembersListPropTypes;\n\nexport default DingtalkDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst DingtalkDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  }\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <DingtalkDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  }\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{'导入部门'}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDingtalkDepartmentsTreeNode.propTypes = DingtalkDepartmentsTreeNodePropTypes;\n\nexport default DingtalkDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport DingtalkDepartmentsTreeNode from './dingtalk-departments-tree-node';\n\nconst DingtalkDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <DingtalkDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentsTreePanel.propTypes = DingtalkDepartmentsTreePanelPropTypes;\n\nexport default DingtalkDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportDingtalkDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{'导入部门 '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{'将要导入 '}<strong>{departmentsCount}</strong>{' 个部门，其中包括 '}<strong>{membersCount}</strong>{' 个成员'}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{'取消'}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{'导入'}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportDingtalkDepartmentDialog.propTypes = propTypes;\n\nexport default ImportDingtalkDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\nimport toaster from '../../components/toast';\nimport { DingtalkDepartmentMembersList, DingtalkDepartmentsTreePanel } from './dingtalk';\nimport ImportDingtalkDepartmentDialog from '../../components/dialog/import-dingtalk-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\nimport '../../css/dingtalk-departments.css';\n\nclass DingtalkDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getDingtalkDepartmentsList = (departmentID) => {\n    seafileAPI.adminListDingtalkDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getDingtalkDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListDingtalkDepartmentMembers(department_id).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  }\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getDingtalkDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('未选择成员', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddDingtalkUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' 成功导入', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  }\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getDingtalkDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportDingtalkDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getDingtalkDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? '部门 ' + success.department_name + ' 导入成功' : success.api_user_name + ' 导入成功' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  }\n\n  componentDidMount() {\n    this.getDingtalkDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{'导入用户'}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{'钉钉集成'}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <DingtalkDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <DingtalkDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportDingtalkDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default DingtalkDepartments;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPage = () => {\n    this.props.getItemsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getItemsByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No invitations')}</h2>\n        </EmptyTip>\n      );\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Inviter')}</th>\n                <th width=\"20%\">{gettext('Accepter')}</th>\n                <th width=\"9%\">{gettext('Type')}</th>\n                <th width=\"14%\">{gettext('Invited at')}</th>\n                <th width=\"14%\">{gettext('Accepted at')}</th>\n                <th width=\"18%\">{gettext('Expired at')}</th>\n                <th width=\"5%\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n    return translateResult;\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.deleteItem();\n        break;\n      default:\n        break;\n    }\n  }\n\n  getInviteTypeText = () => {\n    let translateResult = '';\n    switch (this.props.item.invite_type) {\n      case 'Guest':\n        translateResult = gettext('Guest');\n        break;\n    }\n    return translateResult;\n  }\n\n  render() {\n    const { item } = this.props;\n    const {\n      isOpIconShown\n    } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.inviter_email} name={item.inviter_name} />\n          </td>\n          <td>\n            {item.accept_time ?\n              <UserLink email={item.accepter_email} name={item.accepter_name} /> :\n              item.accepter_email\n            }\n          </td>\n          <td>{this.getInviteTypeText()}</td>\n          <td>\n            <span title={moment(item.invite_time).format('llll')}>{moment(item.invite_time).fromNow()}</span>\n          </td>\n          <td>\n            {item.accept_time ?\n              <span title={moment(item.accept_time).format('llll')}>{moment(item.accept_time).fromNow()}</span> :\n              '--'\n            }\n          </td>\n          <td>\n            {item.is_expired ?\n              <span className=\"text-red\">{moment(item.expire_time).format('YYYY-MM-DD HH:mm')}</span> :\n              moment(item.expire_time).format('YYYY-MM-DD HH:mm')\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\n\nclass Invitations extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      totalItemCount: 0,\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInvitations(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.invitation_list,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteItem = (targetItem) => {\n    const token = targetItem.token;\n    seafileAPI.sysAdminDeleteInvitation(token).then(res => {\n      let items = this.state.items.filter(item => {\n        return item.token != token;\n      });\n      this.setState({items: items});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteItemInBatch = () => {\n    seafileAPI.sysAdminDeleteExpiredInvitations().then(res => {\n      const prevItems = this.state.items;\n      const items = this.state.items.filter(item => !item.is_expired || item.accept_time);\n      if (items.length < prevItems.length) {\n        this.setState({\n          items: items\n        });\n        toaster.success(gettext('Operation succeeded.'));\n      }\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.deleteItemInBatch}>{gettext('Delete Expired Invitations')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Invitations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getItemsByPage={this.getItemsByPage}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Invitations;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { SimpleEditor } from '@seafile/seafile-editor';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onCommit: PropTypes.func.isRequired,\n  onCloseEditorDialog: PropTypes.func.isRequired,\n};\n\nclass TermsEditorDialog extends React.Component {\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  }\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  }\n\n  toggle = () => {\n    if (this.isContentChanged()) {\n      let currentContent = this.getCurrentContent();\n      this.props.onCommit(currentContent);\n    }\n    this.props.onCloseEditorDialog();\n  }\n\n  isContentChanged = () => {\n    return this.simpleEditor.hasContentChange();\n  }\n\n  getCurrentContent = () => {\n    let markdownContent = this.simpleEditor.getMarkdown();\n    return markdownContent;\n  }\n\n  setSimpleEditorRef = (editor) => {\n    this.simpleEditor = editor;\n  }\n\n  render() {\n    let { content, title } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        toggle={this.toggle}\n        onKeyDown={this.onKeyDown}\n        wrapClassName={'conditions-editor-dialog-wrapper'}\n        className={'conditions-editor-dialog'}\n        contentClassName={'conditions-editor-dialog-content'}\n        size={'lg'}\n        style={{width: 770}}\n      >\n        <ModalHeader className=\"conditions-editor-dialog-title\" toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody className={'conditions-editor-dialog-main'}>\n          <SimpleEditor\n            onRef={this.setSimpleEditorRef.bind(this)}\n            value={content || ''}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsEditorDialog.propTypes = propTypes;\n\nexport default TermsEditorDialog;\n","import React, {Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Alert, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport TermsPreviewWidget from '../../terms-preview-widget';\nimport TermsEditorDialog from '../terms-editor-dialog';\n\nimport '../../../css/terms-conditions-editor.css';\n\nconst propTypes = {\n  isUpdate: PropTypes.bool,\n  oldTermObj: PropTypes.object,\n  addTerm: PropTypes.func,\n  updateTerm: PropTypes.func,\n  toggle: PropTypes.func.isRequired,\n};\n\nclass AddOrUpdateTermDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      versionNumber: '',\n      text: '',\n      isActive: true,\n      errorMsg: '',\n      isConditionsEditorDialogShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let oldTermObj = this.props.oldTermObj;\n    if (oldTermObj) {\n      this.setState({\n        name: oldTermObj.name,\n        versionNumber: oldTermObj.version_number,\n        text: oldTermObj.text,\n        isActive: !(oldTermObj.activate_time === ''),\n      });\n    }\n  }\n\n  handleNameChange = (e) => {\n    this.setState({name: e.target.value.trim()});\n  }\n\n  handleVersionNumberChange = (e) => {\n    this.setState({versionNumber: e.target.value.trim()});\n  }\n\n  handleTextChange = (e) => {\n    this.setState({text: e.target.value.trim()});\n  }\n\n  setActive = () => {\n    this.setState({isActive: true});\n  }\n\n  setInActive = () => {\n    this.setState({isActive: false});\n  }\n\n  addTerm = () => {\n    let { name, versionNumber, text, isActive } = this.state;\n    if (name === '') {\n      this.setState({errMsg: gettext('Name is required.')});\n      return;\n    }\n    if (versionNumber === '') {\n      this.setState({errMsg: gettext('Version Number is required.')});\n      return;\n    }\n    if (isNaN(versionNumber)) {\n      this.setState({errMsg: gettext('Version Number must be a number.')});\n      return;\n    }\n    if (text === '') {\n      this.setState({errMsg: gettext('Text is required.')});\n      return;\n    }\n    if (this.props.isUpdate) {\n      this.props.updateTerm(name, versionNumber, text, isActive);\n    } else {\n      this.props.addTerm(name, versionNumber, text, isActive);\n    }\n  }\n\n  onContentClick = () => {\n    this.setState({isConditionsEditorDialogShow: !this.state.isConditionsEditorDialogShow});\n  }\n\n  onCloseEditorDialog = () => {\n    this.setState({isConditionsEditorDialogShow: false});\n  }\n\n  onUpdateContent = (content) => {\n    this.setState({ text: content });\n  }\n\n  render() {\n    let title = this.props.isUpdate ? gettext('Update Terms and Conditions') : gettext('Add Terms and Conditions');\n    return (\n      <Fragment>\n        <Modal isOpen={true} toggle={this.props.toggle}>\n          <ModalHeader toggle={this.props.toggle}>{title}</ModalHeader>\n          <ModalBody>\n            <FormGroup>\n              <Label for=\"name\">{gettext('Name')}</Label>\n              <Input id=\"name\" value={this.state.name} onChange={this.handleNameChange}/>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Version Number')}</Label>\n              <Input value={this.state.versionNumber} onChange={this.handleVersionNumberChange}/>\n            </FormGroup>\n            <FormGroup className=\"form-content\">\n              <Label>{gettext('Text')}</Label>\n              <TermsPreviewWidget content={this.state.text} onContentClick={this.onContentClick}/>\n            </FormGroup>\n            <FormGroup tag=\"fieldset\">\n              <Label>{gettext('Activated')}</Label>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={this.state.isActive} onChange={this.setActive} />\n                  {' '}{gettext('On')}\n                </Label>\n              </FormGroup>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={!this.state.isActive} onChange={this.setInActive} />\n                  {' '}{gettext('Off')}\n                </Label>\n              </FormGroup>\n            </FormGroup>\n            {this.state.errMsg && <Alert color=\"danger\">{this.state.errMsg}</Alert>}\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.addTerm}>{gettext('Submit')}</Button>\n          </ModalFooter>\n        </Modal>\n        {this.state.isConditionsEditorDialogShow && (\n          <TermsEditorDialog\n            content={this.state.text}\n            onCommit={this.onUpdateContent}\n            onCloseEditorDialog={this.onCloseEditorDialog}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nAddOrUpdateTermDialog.propTypes = propTypes;\n\nexport default AddOrUpdateTermDialog;\n","const hrefReg = /\\[.+\\]\\(\\S+\\)|<img src=(\\S+).+\\/>|!\\[\\]\\(\\S+\\)|<\\S+>/g,\n  imageReg1 = /^<img src=\"(\\S+)\" .+\\/>/,\n  imageReg2 = /^!\\[\\]\\((\\S+)\\)/,\n  linkReg1 = /^\\[.+\\]\\(\\S+\\)/,\n  linkReg2 = /^<\\S+>$/;\n\nconst getLinks = (hrefs) => {\n  const hrefObj = {\n    links: [],\n    images: []\n  };\n  hrefs.forEach((href) => {\n    if (href.search(linkReg1) >= 0 || href.search(linkReg2) >= 0) {\n      hrefObj.links.push(href);\n    } else {\n      let imageSrcs = href.match(imageReg1);\n      let imageSrcs1 = href.match(imageReg2);\n      if (imageSrcs) {\n        hrefObj.images.push(imageSrcs[1]);\n      } else if (imageSrcs1) {\n        hrefObj.images.push(imageSrcs1[1]);\n      }\n    }\n  });\n  return hrefObj;\n};\n\n\nconst getPreviewContent = (markdownContent) => {\n  let previewText = '';\n  let newMarkdownContent = markdownContent.replace(hrefReg, '');\n  for (let index = 0; index < newMarkdownContent.length; index++) {\n    if (newMarkdownContent[index] === '#') {\n      continue;\n    } else if (newMarkdownContent[index] === '\\n') {\n      previewText += ' ';\n    } else {\n      previewText += newMarkdownContent[index];\n    }\n    if (previewText.length === 30) {\n      break;\n    }\n  }\n\n  const hrefs = markdownContent.match(hrefReg);\n  if (hrefs) {\n    const { images, links } = getLinks(hrefs);\n    return { previewText, images, links };\n  }\n  return { previewText, images: [], links: [] };\n};\n\n\nexport default getPreviewContent;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport TermsPreviewWidget from '../terms-preview-widget';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onClosePreviewDialog: PropTypes.func.isRequired,\n};\n\nclass TermsPreviewDialog extends React.Component {\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  }\n\n\n  toggle = () => {\n    this.props.onClosePreviewDialog();\n  }\n\n  render() {\n    let { title, content } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        size={'lg'}\n        style={{width: 600}}\n        wrapClassName={'conditions-perview-wrapper'}\n        toggle={this.toggle}\n      >\n        <ModalHeader toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody>\n          <TermsPreviewWidget content={content} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsPreviewDialog.propTypes = propTypes;\n\nexport default TermsPreviewDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { processor } from '@seafile/seafile-editor';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport getPreviewContent from '../../../utils/markdown-utils';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TermsPerviewDialog from '../../../components/dialog/terms-preview-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\n\nconst propsTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemContent: '...',\n      isOpIconShown: false,\n      isUpdateDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTermsPerviewDialogOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    let mdFile = this.props.item.text;\n    processor.process(mdFile).then((result) => {\n      let innerHtml = String(result);\n      this.setState({itemContent: innerHtml});\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.item.text !== this.props.item.text) {\n      let mdFile = nextProps.item.text;\n      processor.process(mdFile).then((result) => {\n        let innerHtml = String(result);\n        this.setState({itemContent: innerHtml});\n      });\n    }\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  toggleUpdateDialog = (e) => {\n    this.setState({isUpdateDialogOpen: !this.state.isUpdateDialogOpen});\n  }\n\n  toggleDeleteDialog = (e) => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  }\n\n  toggleTermsContentDialog = (e) => {\n    this.setState({isTermsPerviewDialogOpen: !this.state.isTermsPerviewDialogOpen});\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Update':\n        this.toggleUpdateDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  deleteTerm = () => {\n    this.props.deleteTerm(this.props.item.id);\n    this.toggleDeleteDialog();\n  }\n\n  updateTerm = (name, versionNumber, text, isActive) => {\n    this.props.updateTerm(this.props.item.id, name, versionNumber, text, isActive);\n    this.toggleUpdateDialog();\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Update':\n        translateResult = gettext('Update');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  }\n\n  render() {\n    let { item } = this.props;\n    let { isDeleteDialogOpen, isUpdateDialogOpen, isTermsPerviewDialogOpen } = this.state;\n    let previewContent = getPreviewContent(item.text);\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>{item.name}</td>\n          <td>{item.version_number}</td>\n          <td className=\"ellipsis\">\n            <a href='#' onClick={this.toggleTermsContentDialog}>{previewContent.previewText}</a>\n          </td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.activate_time ? moment(item.activate_time).fromNow() : '--'}</td>\n          <td>\n            {this.state.isOpIconShown &&\n              <OpMenu\n                operations={['Update', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete T&C')}\n              message={deleteDialogMsg}\n              toggleDialog={this.toggleDeleteDialog}\n              executeOperation={this.deleteTerm}\n              confirmBtnText={gettext('Delete')}\n            />\n          </ModalPortal>\n        }\n        {isUpdateDialogOpen &&\n          <ModalPortal>\n            <AddOrUpdateTermDialog\n              updateTerm={this.updateTerm}\n              toggle={this.toggleUpdateDialog}\n              isUpdate={true}\n              oldTermObj={item}\n            />\n          </ModalPortal>\n        }\n        {isTermsPerviewDialogOpen &&\n          <ModalPortal>\n            <TermsPerviewDialog\n              content={item.text}\n              onClosePreviewDialog={this.toggleTermsContentDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = propsTypes;\n\nexport default Item;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Item from './item';\n\nconst propTypes = {\n  loading: PropTypes.bool.isRequired,\n  items: PropTypes.array.isRequired,\n  errorMsg: PropTypes.string,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No terms and conditions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Version')}</th>\n                <th width=\"25%\">{gettext('Text')}</th>\n                <th width=\"20%\">{gettext('Created')}</th>\n                <th width=\"20%\">{gettext('Activated')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    deleteTerm={this.props.deleteTerm}\n                    updateTerm={this.props.updateTerm}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = propTypes;\n\nexport default Content;\n\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './content';\n\nclass TermsAndConditions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      termList: [],\n      isAddTermDialogOpen: false,\n    };\n  }\n\n  toggleAddTermDialog = () => {\n    this.setState({isAddTermDialogOpen: !this.state.isAddTermDialogOpen});\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListTermsAndConditions().then((res) => {\n      this.setState({\n        termList: res.data.term_and_condition_list,\n        loading: false,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  addTerm = (name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminAddTermAndCondition(name, versionNumber, text, isActive).then(res => {\n      // After adding the terms, you need to refresh the page.\n      location.reload();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  updateTerm = (termID, name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminUpdateTermAndCondition(termID, name, versionNumber, text, isActive).then(res => {\n      let termList = this.state.termList.map(item => {\n        if (item.id == termID) {\n          return res.data;\n        } else {\n          return item;\n        }\n      });\n      this.setState({termList: termList});\n      toaster.success(gettext('Update succeeded.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  deleteTerm = (termID) => {\n    seafileAPI.sysAdminDeleteTermAndCondition(termID).then(res => {\n      let termList = this.state.termList.filter(item => item.id != termID);\n      this.setState({termList: termList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let { termList, isAddTermDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddTermDialog}>{gettext('Add')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Terms and Conditions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={termList}\n                deleteTerm={this.deleteTerm}\n                updateTerm={this.updateTerm}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddTermDialogOpen &&\n        <ModalPortal>\n          <AddOrUpdateTermDialog\n            isUpdate={false}\n            addTerm={this.addTerm}\n            toggle={this.toggleAddTermDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TermsAndConditions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all', text: gettext('All')},\n      {name: 'unhandled', urlPart: 'unhandled', text: gettext('Unhandled')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/virus-files/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  }\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"27%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass AllVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.listVirusFiles(page, perPage).then((res) => {\n      const data = res.data;\n      this.setState({\n        loading: false,\n        virusFiles: data.virus_file_list,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  }\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AllVirusFiles;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  }\n\n  toggleItemSelected = (e) => {\n    this.props.toggleItemSelected(this.props.virusFile, e.target.checked);\n  }\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td className=\"text-center\">\n          <input type=\"checkbox\" checked={virusFile.isSelected} onChange={this.toggleItemSelected} />\n        </td>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage,\n      isAllItemsSelected\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"text-center\">\n                  <input type=\"checkbox\" checked={isAllItemsSelected} onChange={this.props.toggleAllSelected} />\n                </th>\n                <th width=\"24%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                    toggleItemSelected={this.props.toggleItemSelected}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass UnhandledVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n\n      isAllItemsSelected: false,\n      selectedItems: [],\n\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    const hasHandled = false;\n    seafileAPI.listVirusFiles(page, perPage, hasHandled).then((res) => {\n      const data = res.data;\n      const items = data.virus_file_list.map(item => {\n        item.isSelected = false;\n        return item;\n      });\n      this.setState({\n        loading: false,\n        virusFiles: items,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  }\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  }\n\n  toggleAllSelected = () => {\n    this.setState((prevState) => ({\n      isAllItemsSelected: !prevState.isAllItemsSelected,\n      virusFiles: this.state.virusFiles.map((item) => {\n        item.isSelected = !prevState.isAllItemsSelected;\n        return item;\n      })\n    }));\n  }\n\n  toggleItemSelected = (targetItem, isSelected) => {\n    this.setState({\n      virusFiles: this.state.virusFiles.map((item) => {\n        if (item === targetItem) {\n          item.isSelected = isSelected;\n        }\n        return item;\n      })\n    }, () => {\n      this.setState({\n        isAllItemsSelected: !this.state.virusFiles.some(item => !item.isSelected)\n      });\n    });\n  }\n\n  handleSelectedItems = (op) => {\n    // op: 'delete-virus', 'ignore-virus'\n    const virusIDs = this.state.virusFiles\n      .filter(item => {\n        if (op == 'delete-virus') {\n          return item.isSelected && !item.has_deleted;\n        } else {\n          return item.isSelected && !item.has_ignored;\n        }\n      })\n      .map(item => item.virus_id);\n    seafileAPI.batchProcessVirusFiles(virusIDs, op).then((res) => {\n      let fileList = this.state.virusFiles;\n      res.data.success.forEach(item => {\n        let file = fileList.find(file => file.virus_id == item.virus_id);\n        if (op == 'delete-virus') {\n          file.has_deleted = true;\n        } else {\n          file.has_ignored = true;\n        }\n      });\n      this.setState({\n        virusFiles: fileList\n      });\n\n      res.data.failed.forEach(item => {\n        const file = fileList.find(file => file.virus_id == item.virus_id);\n        let errMsg = op == 'delete-virus' ?\n          gettext('Failed to delete %(virus_file) from library %(library): %(error_msg)') :\n          gettext('Failed to ignore %(virus_file) from library %(library): %(error_msg)');\n        errMsg = errMsg.replace('%(virus_file)', file.file_path)\n          .replace('%(library)', file.repo_name)\n          .replace('%(error_msg)', item.error_msg);\n        toaster.danger(errMsg);\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  }\n\n  deleteSelectedItems = () => {\n    const op = 'delete-virus';\n    this.handleSelectedItems(op);\n  }\n\n  ignoreSelectedItems = () => {\n    const op = 'ignore-virus';\n    this.handleSelectedItems(op);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {this.state.virusFiles.some(item => item.isSelected) ? (\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button onClick={this.deleteSelectedItems} className=\"operation-item\">{gettext('Delete')}</Button>\n              <Button onClick={this.ignoreSelectedItems} className=\"operation-item\">{gettext('Ignore')}</Button>\n            </Fragment>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"unhandled\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n                isAllItemsSelected={this.state.isAllItemsSelected}\n                toggleAllSelected={this.toggleAllSelected}\n                toggleItemSelected={this.toggleItemSelected}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UnhandledVirusFiles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass LogsNav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'adminOperationLogs', urlPart:'admin-logs/operation', text: gettext('Admin Operation Logs')},\n      {name: 'adminLoginLogs', urlPart:'admin-logs/login', text: gettext('Admin Login Logs')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nLogsNav.propTypes = propTypes;\n\nexport default LogsNav;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, enableSysAdminViewRepo, isPro } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin operation logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Operation')}</th>\n                <th width=\"50%\">{gettext('Detail')}</th>\n                <th width=\"15%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  getOperationText = (operationType) => {\n    switch (operationType) {\n      case 'repo_create': return gettext('Create Library');\n      case 'repo_delete': return gettext('Delete Library');\n      case 'repo_transfer': return gettext('Transfer Library');\n      case 'group_create': return gettext('Create Group');\n      case 'group_transfer': return gettext('Transfer Group');\n      case 'group_delete': return gettext('Delete Group');\n      case 'user_add': return gettext('Add User');\n      case 'user_delete': return gettext('Delete User');\n      default: return '';\n    }\n  }\n\n  getOperationDetail = (item) => {\n    let detail = item.detail;\n\n    let ownerPageUrl = '';\n    if (detail.owner) {\n      ownerPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.owner) + '/';\n    }\n    let userPageUrl = '';\n    if (detail.email) {\n      userPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.email) + '/';\n    }\n    let detailText = '';\n    let repoPageUrl = '';\n    let groupPageUrl = '';\n    if (item.operation == 'repo_create' || item.operation == 'repo_delete' || item.operation == 'repo_transfer') {\n      repoPageUrl = siteRoot + 'sys/libraries/' + detail.id + '/' + encodeURIComponent(detail.name) + '/';\n    }\n    if (item.operation == 'group_create' || item.operation == 'group_delete' || item.operation == 'group_transfer') {\n      groupPageUrl = siteRoot + 'sys/groups/' + detail.id + '/libraries/';\n    }\n\n    switch (item.operation) {\n      case 'repo_create':\n        detailText = gettext('Created library {library_name} with {owner} as its owner')\n          .replace('{owner}', '<a href=\"' + ownerPageUrl + '\">' + detail.owner + '</a>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'repo_delete':\n        detailText = gettext('Deleted library {library_name}')\n          .replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'repo_transfer':\n        detailText = gettext('Transferred library {library_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'group_create':\n        detailText = gettext('Created group {group_name}')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_transfer':\n        detailText = gettext('Transferred group {group_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_delete':\n        detailText = gettext('Deleted group {group_name}')\n          .replace('{group_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'user_add':\n        detailText = gettext('Added user {user}')\n          .replace('{user}', '<a href=\"' + userPageUrl + '\">' + detail.email+ '</a>');\n        return detailText;\n\n      case 'user_delete':\n        detailText = gettext('Deleted user {user}')\n          .replace('{user}', '<span class=\"font-weight-bold\">' + detail.email+ '</span>');\n        return detailText;\n\n      default: return '';\n    }\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{this.getOperationText(item.operation)}</td>\n        <td>\n          <span dangerouslySetInnerHTML={{__html: this.getOperationDetail(item)}}></span>\n        </td>\n        <td>{moment(item.datetime).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nclass AdminOperationLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  }\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminOperationLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminOperationLogs;\n","import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  }\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  }\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.login_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nclass AdminLoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  }\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminLoginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminLoginLogs;\n","import React, { Component, Fragment } from 'react';\nimport Account from '../../components/common/account';\nimport { gettext, siteRoot, mediaUrl } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport toaster from '../../components/toast';\nimport moment from 'moment';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass AbuseReports extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      abuseReportList: [],\n    };\n  }\n\n  listAbuseReports = () => {\n    seafileAPI.sysAdminListAbuseReports().then((res) => {\n      this.setState({\n        abuseReportList: res.data.abuse_report_list,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  updateAbuseReport = (handled, abuseReportId) => {\n    seafileAPI.sysAdminUpdateAbuseReport(handled, abuseReportId).then((res) => {\n      const abuseReportList = this.state.abuseReportList.map((item, index) => {\n        if (item.id === abuseReportId) {\n          item.handled = res.data.handled;\n        }\n        return item;\n      });\n      this.setState({\n        abuseReportList: abuseReportList,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleError = (e) => {\n    if (e.response) {\n      toaster.danger(e.response.data.error_msg || e.response.data.detail || gettext('Error'), {duration: 3});\n    } else {\n      toaster.danger(gettext('Please check the network.'), {duration: 3});\n    }\n  };\n\n  componentDidMount() {\n    this.listAbuseReports();\n  }\n\n  render() {\n    const isDesktop = Utils.isDesktop();\n    const AbuseReportList = this.state.abuseReportList.map((item, index) => {\n      const handled = (!item.handled).toString();\n      const abuseReportId = item.id;\n      const fileUrl = siteRoot + 'lib/' + item.repo_id + '/file' + item.file_path;\n      return (\n        <tr key={index}>\n          <td>{item.repo_name}</td>\n          <td><a href={fileUrl} target=\"_blank\">{item.file_path}</a></td>\n          <td>{item.reporter}</td>\n          <td>{item.abuse_type}</td>\n          <td>{item.description}</td>\n          <td>{moment(item.time).format('YYYY-MM-DD')}</td>\n          <td><p onClick={this.updateAbuseReport.bind(this, handled, abuseReportId)}\n            className=\"op-target ellipsis ellipsis-op-target cursor-pointer\"\n          >{gettext(item.handled.toString())}</p></td>\n        </tr>\n      );\n    });\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Abuse Reports')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table className={`table-hover`}>\n                <thead>\n                    <tr>\n                      <th width=\"20%\">{gettext('Library')}</th>\n                      <th width=\"20%\">{gettext('File')}</th>\n                      <th width=\"10%\">{gettext('Reporter')}</th>\n                      <th width=\"15%\">{gettext('Abuse Type')}</th>\n                      <th width=\"20%\">{gettext('Description')}</th>\n                      <th width=\"10%\">{gettext('Time')}</th>\n                      <th width=\"5%\">{gettext('Handled')}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                  {AbuseReportList}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AbuseReports;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport MediaQuery from 'react-responsive';\nimport { Modal } from 'reactstrap';\nimport { Router } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nimport SidePanel from './side-panel';\nimport MainPanel from './main-panel';\n\nimport Info from './info';\n\nimport StatisticFile from './statistic/statistic-file';\nimport StatisticStorage from './statistic/statistic-storage';\nimport StatisticTraffic from './statistic/statistic-traffic';\nimport StatisticUsers from './statistic/statistic-users';\nimport StatisticReport from './statistic/statistic-reports';\n\nimport DesktopDevices from './devices/desktop-devices';\nimport MobileDevices from './devices/mobile-devices';\nimport DeviceErrors from './devices/devices-errors';\n\nimport Users from './users/users';\nimport AdminUsers from './users/admin-users';\nimport LDAPImportedUsers from './users/ldap-imported-users';\nimport LDAPUsers from './users/ldap-users';\nimport SearchUsers from './users/search-users';\nimport User from './users/user-info';\nimport UserOwnedRepos from './users/user-repos';\nimport UserSharedRepos from './users/user-shared-repos';\nimport UserLinks from './users/user-links';\nimport UserGroups from './users/user-groups';\n\nimport AllRepos from './repos/all-repos';\nimport SystemRepo from './repos/system-repo';\nimport TrashRepos from './repos/trash-repos';\nimport SearchRepos from './repos/search-repos';\nimport DirView from './repos/dir-view';\n\nimport Groups from './groups/groups';\nimport SearchGroups from './groups/search-groups';\nimport GroupRepos from './groups/group-repos';\nimport GroupMembers from './groups/group-members';\n\nimport Departments from './departments/departments';\nimport DepartmentList from './departments/department-list';\nimport SubDepartments from './departments/sub-departments';\nimport DepartmentMembers from './departments/department-members';\nimport DepartmentLibraries from './departments/department-libraries';\n\nimport ShareLinks from './links/share-links';\nimport UploadLinks from './links/upload-links';\n\nimport Orgs from './orgs/orgs';\nimport SearchOrgs from './orgs/search-orgs';\nimport OrgInfo from './orgs/org-info';\nimport OrgUsers from './orgs/org-users';\nimport OrgGroups from './orgs/org-groups';\nimport OrgRepos from './orgs/org-repos';\n\nimport Institutions from './institutions/institutions';\nimport InstitutionInfo from './institutions/institution-info';\nimport InstitutionUsers from './institutions/institution-users';\nimport InstitutionAdmins from './institutions/institution-admins';\n\nimport LoginLogs from './logs-page/login-logs';\nimport FileAccessLogs from './logs-page/file-access-logs';\nimport FileUpdateLogs from './logs-page/file-update-logs';\nimport SharePermissionLogs from './logs-page/share-permission-logs';\n\nimport WebSettings from './web-settings/web-settings';\nimport Notifications from './notifications/notifications';\nimport FileScanRecords from './file-scan-records';\nimport WorkWeixinDepartments from './work-weixin-departments';\nimport DingtalkDepartments from './dingtalk-departments';\nimport Invitations from './invitations/invitations';\nimport TermsAndConditions from './terms-and-conditions/terms-and-conditions';\n\nimport AllVirusFiles from './virus-scan/all-virus-files';\nimport UnhandledVirusFiles from './virus-scan/unhandled-virus-files';\n\nimport AdminOperationLogs from './admin-logs/operation-logs';\nimport AdminLoginLogs from './admin-logs/login-logs';\n\nimport AbuseReports from './abuse-reports';\n\nimport '../../css/layout.css';\nimport '../../css/toolbar.css';\n\nclass SysAdmin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSidePanelClosed: false,\n      currentTab: 'file-scan'\n    };\n  }\n\n  componentDidMount() {\n    let href = window.location.href.split('/');\n    let currentTab = href[href.length - 2];\n\n    const pageList = [\n      {\n        tab: 'devices',\n        urlPartList: ['desktop-devices', 'mobile-devices', 'device-errors']\n      },\n      {\n        tab: 'libraries',\n        urlPartList: ['all-libraries', 'search-libraries', 'system-library', 'trash-libraries', 'libraries/']\n      },\n      {\n        tab: 'statistic',\n        urlPartList: ['statistics/file', 'statistics/storage', 'statistics/user', 'statistics/traffic', 'statistics/reports']\n      },\n      {\n        tab: 'users',\n        urlPartList: ['users/', 'search-users/']\n      },\n      {\n        tab: 'groups',\n        urlPartList: ['groups/', 'search-groups/']\n      },\n      {\n        tab: 'organizations',\n        urlPartList: ['organizations/', 'search-organizations/']\n      },\n      {\n        tab: 'links',\n        urlPartList: ['share-links/', 'upload-links/']\n      },\n      {\n        tab: 'institutions',\n        urlPartList: ['institutions/']\n      },\n      {\n        tab: 'termsandconditions',\n        urlPartList: ['terms-and-conditions/']\n      },\n      {\n        tab: 'departments',\n        urlPartList: ['departments/']\n      },\n      {\n        tab: 'logs',\n        urlPartList: ['logs/']\n      },\n      {\n        tab: 'virus-files',\n        urlPartList: ['virus-files/']\n      },\n      {\n        tab: 'adminLogs',\n        urlPartList: ['admin-logs/']\n      }\n    ];\n    const tmpTab = this.getCurrentTabForPageList(pageList);\n    currentTab = tmpTab ? tmpTab : currentTab;\n\n    this.setState({currentTab: currentTab});\n  }\n\n  componentWillMount() {\n    if (!Utils.isDesktop()) {\n      this.setState({\n        isSidePanelClosed: true\n      });\n    }\n  }\n\n  getCurrentTabForPageList = (pageList) => {\n    let urlPartList, tab;\n    const urlBase = `${siteRoot}sys/`;\n    for (let i = 0, len = pageList.length; i < len; i++) {\n      urlPartList = pageList[i].urlPartList;\n      tab = pageList[i].tab;\n      for (let j = 0, jlen = urlPartList.length; j < jlen; j++) {\n        if (location.href.indexOf(`${urlBase}${urlPartList[j]}`) != -1) {\n          return tab;\n        }\n      }\n    }\n  }\n\n  onCloseSidePanel = () => {\n    this.setState({isSidePanelClosed: !this.state.isSidePanelClosed});\n  }\n\n  tabItemClick = (param) => {\n    this.setState({currentTab: param});\n    if (!Utils.isDesktop() && !this.state.isSidePanelClosed) {\n      this.setState({ isSidePanelClosed: true });\n    }\n  }\n\n  toggleSidePanel = () => {\n    this.setState({\n      isSidePanelClosed: !this.state.isSidePanelClosed\n    });\n  }\n\n  render() {\n    const { currentTab, isSidePanelClosed } = this.state;\n    const commonProps = {\n      toggleSidePanel: this.toggleSidePanel\n    };\n\n    return (\n      <div id=\"main\">\n        <SidePanel\n          isSidePanelClosed={isSidePanelClosed}\n          onCloseSidePanel={this.onCloseSidePanel}\n          currentTab={currentTab}\n          tabItemClick={this.tabItemClick}\n        />\n        <MainPanel>\n          <Router className=\"reach-router\">\n            <Info path={siteRoot + 'sys/info'} {...commonProps} />\n            <StatisticFile path={siteRoot + 'sys/statistics/file'} {...commonProps} />\n            <StatisticStorage path={siteRoot + 'sys/statistics/storage'} {...commonProps} />\n            <StatisticUsers path={siteRoot + 'sys/statistics/user'} {...commonProps} />\n            <StatisticTraffic path={siteRoot + 'sys/statistics/traffic'} {...commonProps} />\n            <StatisticReport path={siteRoot + 'sys/statistics/reports'} {...commonProps} />\n            <DesktopDevices path={siteRoot + 'sys/desktop-devices'} {...commonProps} />\n            <MobileDevices path={siteRoot + 'sys/mobile-devices'} {...commonProps} />\n            <DeviceErrors path={siteRoot + 'sys/device-errors'} {...commonProps} />\n            <AllRepos path={siteRoot + 'sys/all-libraries'} {...commonProps} />\n            <SystemRepo path={siteRoot + 'sys/system-library'} {...commonProps} />\n            <TrashRepos path={siteRoot + 'sys/trash-libraries'} {...commonProps} />\n            <SearchRepos path={siteRoot + 'sys/search-libraries'} {...commonProps} />\n            <DirView path={siteRoot + 'sys/libraries/:repoID/*'} {...commonProps} />\n            <WebSettings path={siteRoot + 'sys/web-settings'} {...commonProps} />\n            <Notifications path={siteRoot + 'sys/notifications'} {...commonProps} />\n            <Groups path={siteRoot + 'sys/groups'} {...commonProps} />\n            <SearchGroups path={siteRoot + 'sys/search-groups'} {...commonProps} />\n            <GroupRepos path={siteRoot + 'sys/groups/:groupID/libraries'} {...commonProps} />\n            <GroupMembers path={siteRoot + 'sys/groups/:groupID/members'} {...commonProps} />\n            <Departments path={siteRoot + 'sys/departments'}>\n              <DepartmentList path='/' {...commonProps} />\n              <SubDepartments path='/:groupID' {...commonProps} />\n              <DepartmentMembers path='/:groupID/members' {...commonProps} />\n              <DepartmentLibraries path='/:groupID/libraries' {...commonProps} />\n            </Departments>\n            <ShareLinks path={siteRoot + 'sys/share-links'} {...commonProps} />\n            <UploadLinks path={siteRoot + 'sys/upload-links'} {...commonProps} />\n            <Orgs path={siteRoot + 'sys/organizations'} {...commonProps} />\n            <SearchOrgs path={siteRoot + 'sys/search-organizations'} {...commonProps} />\n            <OrgInfo path={siteRoot + 'sys/organizations/:orgID/info'} {...commonProps} />\n            <OrgUsers path={siteRoot + 'sys/organizations/:orgID/users'} {...commonProps} />\n            <OrgGroups path={siteRoot + 'sys/organizations/:orgID/groups'} {...commonProps} />\n            <OrgRepos path={siteRoot + 'sys/organizations/:orgID/libraries'} {...commonProps} />\n            <Institutions path={siteRoot + 'sys/institutions'} {...commonProps} />\n            <InstitutionInfo path={siteRoot + 'sys/institutions/:institutionID/info'} {...commonProps} />\n            <InstitutionUsers path={siteRoot + 'sys/institutions/:institutionID/members'} {...commonProps} />\n            <InstitutionAdmins path={siteRoot + 'sys/institutions/:institutionID/admins'} {...commonProps} />\n            <LoginLogs path={siteRoot + 'sys/logs/login'} {...commonProps} />\n            <FileAccessLogs path={siteRoot + 'sys/logs/file-access'} {...commonProps} />\n            <FileUpdateLogs path={siteRoot + 'sys/logs/file-update'} {...commonProps} />\n            <SharePermissionLogs path={siteRoot + 'sys/logs/share-permission'} {...commonProps} />\n            <AdminOperationLogs path={siteRoot + 'sys/admin-logs/operation'} {...commonProps} />\n            <AdminLoginLogs path={siteRoot + 'sys/admin-logs/login'} {...commonProps} />\n\n            <Users path={siteRoot + 'sys/users'} {...commonProps} />\n            <AdminUsers path={siteRoot + 'sys/users/admins'} {...commonProps} />\n            <LDAPImportedUsers path={siteRoot + 'sys/users/ldap-imported'} {...commonProps} />\n            <LDAPUsers path={siteRoot + 'sys/users/ldap'} {...commonProps} />\n            <SearchUsers path={siteRoot + 'sys/search-users'} {...commonProps} />\n            <User path={siteRoot + 'sys/users/:email'} {...commonProps} />\n            <UserOwnedRepos path={siteRoot + 'sys/users/:email/owned-libraries'} {...commonProps} />\n            <UserSharedRepos path={siteRoot + 'sys/users/:email/shared-libraries'} {...commonProps} />\n            <UserLinks path={siteRoot + 'sys/users/:email/shared-links'} {...commonProps} />\n            <UserGroups path={siteRoot + 'sys/users/:email/groups'} {...commonProps} />\n\n            <Invitations path={siteRoot + 'sys/invitations'} {...commonProps} />\n            <TermsAndConditions path={siteRoot + 'sys/terms-and-conditions/'} {...commonProps} />\n\n            <AllVirusFiles path={siteRoot + 'sys/virus-files/all'} {...commonProps} />\n            <UnhandledVirusFiles path={siteRoot + 'sys/virus-files/unhandled'} {...commonProps} />\n\n            <FileScanRecords path={siteRoot + 'sys/file-scan-records'} {...commonProps} />\n            <WorkWeixinDepartments path={siteRoot + 'sys/work-weixin'} {...commonProps} />\n            <DingtalkDepartments path={siteRoot + 'sys/dingtalk'} {...commonProps} />\n            <AbuseReports path={siteRoot + 'sys/abuse-reports'} {...commonProps} />\n          </Router>\n        </MainPanel>\n          <MediaQuery query=\"(max-width: 767.8px)\">\n            <Modal zIndex=\"1030\" isOpen={!isSidePanelClosed} toggle={this.toggleSidePanel} contentClassName=\"d-none\"></Modal>\n          </MediaQuery>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<SysAdmin />, document.getElementById('wrapper'));\n","/*!\n * Chart.js v2.9.4\n * https://www.chartjs.org\n * (c) 2020 Chart.js Contributors\n * Released under the MIT License\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(function() { try { return require('moment'); } catch(e) { } }()) :\ntypeof define === 'function' && define.amd ? define(['require'], function(require) { return factory(function() { try { return require('moment'); } catch(e) { } }()); }) :\n(global = global || self, global.Chart = factory(global.moment));\n}(this, (function (moment) { 'use strict';\n\nmoment = moment && moment.hasOwnProperty('default') ? moment['default'] : moment;\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\nvar colorName = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\nvar conversions = createCommonjsModule(function (module) {\n/* MIT license */\n\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in colorName) {\n\tif (colorName.hasOwnProperty(key)) {\n\t\treverseKeywords[colorName[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in colorName) {\n\t\tif (colorName.hasOwnProperty(keyword)) {\n\t\t\tvar value = colorName[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn colorName[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n});\nvar conversions_1 = conversions.rgb;\nvar conversions_2 = conversions.hsl;\nvar conversions_3 = conversions.hsv;\nvar conversions_4 = conversions.hwb;\nvar conversions_5 = conversions.cmyk;\nvar conversions_6 = conversions.xyz;\nvar conversions_7 = conversions.lab;\nvar conversions_8 = conversions.lch;\nvar conversions_9 = conversions.hex;\nvar conversions_10 = conversions.keyword;\nvar conversions_11 = conversions.ansi16;\nvar conversions_12 = conversions.ansi256;\nvar conversions_13 = conversions.hcg;\nvar conversions_14 = conversions.apple;\nvar conversions_15 = conversions.gray;\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nvar route = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nvar colorConvert = convert;\n\nvar colorName$1 = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\n/* MIT license */\n\n\nvar colorString = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n};\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3,4})$/i,\n       hex =  /^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr),\n       hexAlpha = \"\";\n   if (match) {\n      match = match[1];\n      hexAlpha = match[3];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(hex)) {\n      hexAlpha = match[2];\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorName$1[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgba, a) {\n   var a = (a !== undefined && rgba.length === 3) ? a : rgba[3];\n   return \"#\" + hexDouble(rgba[0]) \n              + hexDouble(rgba[1])\n              + hexDouble(rgba[2])\n              + (\n                 (a >= 0 && a < 1)\n                 ? hexDouble(Math.round(a * 255))\n                 : \"\"\n              );\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorName$1) {\n   reverseNames[colorName$1[name]] = name;\n}\n\n/* MIT license */\n\n\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.valid = false;\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = colorString.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = colorString.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = colorString.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\tisValid: function () {\n\t\treturn this.valid;\n\t},\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn colorString.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn colorString.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn colorString.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn colorString.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn colorString.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn colorString.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn colorString.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn colorString.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tthis.valid = true;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = colorConvert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nvar chartjsColor = Color;\n\nfunction isValidKey(key) {\r\n\treturn ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\r\n}\r\n\r\n/**\r\n * @namespace Chart.helpers\r\n */\r\nvar helpers = {\r\n\t/**\r\n\t * An empty function that can be used, for example, for optional callback.\r\n\t */\r\n\tnoop: function() {},\r\n\r\n\t/**\r\n\t * Returns a unique id, sequentially generated from a global variable.\r\n\t * @returns {number}\r\n\t * @function\r\n\t */\r\n\tuid: (function() {\r\n\t\tvar id = 0;\r\n\t\treturn function() {\r\n\t\t\treturn id++;\r\n\t\t};\r\n\t}()),\r\n\r\n\t/**\r\n\t * Returns true if `value` is neither null nor undefined, else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisNullOrUndef: function(value) {\r\n\t\treturn value === null || typeof value === 'undefined';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an array (including typed arrays), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @function\r\n\t */\r\n\tisArray: function(value) {\r\n\t\tif (Array.isArray && Array.isArray(value)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an object (excluding null), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisObject: function(value) {\r\n\t\treturn value !== null && Object.prototype.toString.call(value) === '[object Object]';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is a finite number, else returns false\r\n\t * @param {*} value  - The value to test.\r\n\t * @returns {boolean}\r\n\t */\r\n\tisFinite: function(value) {\r\n\t\treturn (typeof value === 'number' || value instanceof Number) && isFinite(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns `value` if defined, else returns `defaultValue`.\r\n\t * @param {*} value - The value to return if defined.\r\n\t * @param {*} defaultValue - The value to return if `value` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueOrDefault: function(value, defaultValue) {\r\n\t\treturn typeof value === 'undefined' ? defaultValue : value;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns value at the given `index` in array if defined, else returns `defaultValue`.\r\n\t * @param {Array} value - The array to lookup for value at `index`.\r\n\t * @param {number} index - The index in `value` to lookup for value.\r\n\t * @param {*} defaultValue - The value to return if `value[index]` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueAtIndexOrDefault: function(value, index, defaultValue) {\r\n\t\treturn helpers.valueOrDefault(helpers.isArray(value) ? value[index] : value, defaultValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\r\n\t * value returned by `fn`. If `fn` is not a function, this method returns undefined.\r\n\t * @param {function} fn - The function to call.\r\n\t * @param {Array|undefined|null} args - The arguments with which `fn` should be called.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @returns {*}\r\n\t */\r\n\tcallback: function(fn, args, thisArg) {\r\n\t\tif (fn && typeof fn.call === 'function') {\r\n\t\t\treturn fn.apply(thisArg, args);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Note(SB) for performance sake, this method should only be used when loopable type\r\n\t * is unknown or in none intensive code (not called often and small loopable). Else\r\n\t * it's preferable to use a regular for() loop and save extra function calls.\r\n\t * @param {object|Array} loopable - The object or array to be iterated.\r\n\t * @param {function} fn - The function to call for each item.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @param {boolean} [reverse] - If true, iterates backward on the loopable.\r\n\t */\r\n\teach: function(loopable, fn, thisArg, reverse) {\r\n\t\tvar i, len, keys;\r\n\t\tif (helpers.isArray(loopable)) {\r\n\t\t\tlen = loopable.length;\r\n\t\t\tif (reverse) {\r\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (helpers.isObject(loopable)) {\r\n\t\t\tkeys = Object.keys(loopable);\r\n\t\t\tlen = keys.length;\r\n\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\tfn.call(thisArg, loopable[keys[i]], keys[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\r\n\t * @see https://stackoverflow.com/a/14853974\r\n\t * @param {Array} a0 - The array to compare\r\n\t * @param {Array} a1 - The array to compare\r\n\t * @returns {boolean}\r\n\t */\r\n\tarrayEquals: function(a0, a1) {\r\n\t\tvar i, ilen, v0, v1;\r\n\r\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = a0.length; i < ilen; ++i) {\r\n\t\t\tv0 = a0[i];\r\n\t\t\tv1 = a1[i];\r\n\r\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\r\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if (v0 !== v1) {\r\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a deep copy of `source` without keeping references on objects and arrays.\r\n\t * @param {*} source - The value to clone.\r\n\t * @returns {*}\r\n\t */\r\n\tclone: function(source) {\r\n\t\tif (helpers.isArray(source)) {\r\n\t\t\treturn source.map(helpers.clone);\r\n\t\t}\r\n\r\n\t\tif (helpers.isObject(source)) {\r\n\t\t\tvar target = Object.create(source);\r\n\t\t\tvar keys = Object.keys(source);\r\n\t\t\tvar klen = keys.length;\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor (; k < klen; ++k) {\r\n\t\t\t\ttarget[keys[k]] = helpers.clone(source[keys[k]]);\r\n\t\t\t}\r\n\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\treturn source;\r\n\t},\r\n\r\n\t/**\r\n\t * The default merger when Chart.helpers.merge is called without merger option.\r\n\t * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\r\n\t * @private\r\n\t */\r\n\t_merger: function(key, target, source, options) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.merge(tval, sval, options);\r\n\t\t} else {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Merges source[key] in target[key] only if target[key] is undefined.\r\n\t * @private\r\n\t */\r\n\t_mergerIf: function(key, target, source) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.mergeIf(tval, sval);\r\n\t\t} else if (!target.hasOwnProperty(key)) {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` with the given `options`.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @param {object} [options] - Merging options:\r\n\t * @param {function} [options.merger] - The merge method (key, target, source, options)\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmerge: function(target, source, options) {\r\n\t\tvar sources = helpers.isArray(source) ? source : [source];\r\n\t\tvar ilen = sources.length;\r\n\t\tvar merge, i, keys, klen, k;\r\n\r\n\t\tif (!helpers.isObject(target)) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\tmerge = options.merger || helpers._merger;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!helpers.isObject(source)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tkeys = Object.keys(source);\r\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\r\n\t\t\t\tmerge(keys[k], target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` *only* if not defined in target.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmergeIf: function(target, source) {\r\n\t\treturn helpers.merge(target, source, {merger: helpers._mergerIf});\r\n\t},\r\n\r\n\t/**\r\n\t * Applies the contents of two or more objects together into the first object.\r\n\t * @param {object} target - The target object in which all objects are merged into.\r\n\t * @param {object} arg1 - Object containing additional properties to merge in target.\r\n\t * @param {object} argN - Additional objects containing properties to merge in target.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\textend: Object.assign || function(target) {\r\n\t\treturn helpers.merge(target, [].slice.call(arguments, 1), {\r\n\t\t\tmerger: function(key, dst, src) {\r\n\t\t\t\tdst[key] = src[key];\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Basic javascript inheritance based on the model created in Backbone.js\r\n\t */\r\n\tinherits: function(extensions) {\r\n\t\tvar me = this;\r\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\r\n\t\t\treturn me.apply(this, arguments);\r\n\t\t};\r\n\r\n\t\tvar Surrogate = function() {\r\n\t\t\tthis.constructor = ChartElement;\r\n\t\t};\r\n\r\n\t\tSurrogate.prototype = me.prototype;\r\n\t\tChartElement.prototype = new Surrogate();\r\n\t\tChartElement.extend = helpers.inherits;\r\n\r\n\t\tif (extensions) {\r\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\r\n\t\t}\r\n\r\n\t\tChartElement.__super__ = me.prototype;\r\n\t\treturn ChartElement;\r\n\t},\r\n\r\n\t_deprecated: function(scope, value, previous, current) {\r\n\t\tif (value !== undefined) {\r\n\t\t\tconsole.warn(scope + ': \"' + previous +\r\n\t\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar helpers_core = helpers;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.callback instead.\r\n * @function Chart.helpers.callCallback\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.callCallback = helpers.callback;\r\n\r\n/**\r\n * Provided for backward compatibility, use Array.prototype.indexOf instead.\r\n * Array.prototype.indexOf compatibility: Chrome, Opera, Safari, FF1.5+, IE9+\r\n * @function Chart.helpers.indexOf\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.indexOf = function(array, item, fromIndex) {\r\n\treturn Array.prototype.indexOf.call(array, item, fromIndex);\r\n};\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueOrDefault instead.\r\n * @function Chart.helpers.getValueOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueOrDefault = helpers.valueOrDefault;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueAtIndexOrDefault instead.\r\n * @function Chart.helpers.getValueAtIndexOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueAtIndexOrDefault = helpers.valueAtIndexOrDefault;\n\n/**\r\n * Easing functions adapted from Robert Penner's easing equations.\r\n * @namespace Chart.helpers.easingEffects\r\n * @see http://www.robertpenner.com/easing/\r\n */\r\nvar effects = {\r\n\tlinear: function(t) {\r\n\t\treturn t;\r\n\t},\r\n\r\n\teaseInQuad: function(t) {\r\n\t\treturn t * t;\r\n\t},\r\n\r\n\teaseOutQuad: function(t) {\r\n\t\treturn -t * (t - 2);\r\n\t},\r\n\r\n\teaseInOutQuad: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((--t) * (t - 2) - 1);\r\n\t},\r\n\r\n\teaseInCubic: function(t) {\r\n\t\treturn t * t * t;\r\n\t},\r\n\r\n\teaseOutCubic: function(t) {\r\n\t\treturn (t = t - 1) * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutCubic: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t + 2);\r\n\t},\r\n\r\n\teaseInQuart: function(t) {\r\n\t\treturn t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuart: function(t) {\r\n\t\treturn -((t = t - 1) * t * t * t - 1);\r\n\t},\r\n\r\n\teaseInOutQuart: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((t -= 2) * t * t * t - 2);\r\n\t},\r\n\r\n\teaseInQuint: function(t) {\r\n\t\treturn t * t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuint: function(t) {\r\n\t\treturn (t = t - 1) * t * t * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutQuint: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t},\r\n\r\n\teaseInSine: function(t) {\r\n\t\treturn -Math.cos(t * (Math.PI / 2)) + 1;\r\n\t},\r\n\r\n\teaseOutSine: function(t) {\r\n\t\treturn Math.sin(t * (Math.PI / 2));\r\n\t},\r\n\r\n\teaseInOutSine: function(t) {\r\n\t\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\r\n\t},\r\n\r\n\teaseInExpo: function(t) {\r\n\t\treturn (t === 0) ? 0 : Math.pow(2, 10 * (t - 1));\r\n\t},\r\n\r\n\teaseOutExpo: function(t) {\r\n\t\treturn (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1;\r\n\t},\r\n\r\n\teaseInOutExpo: function(t) {\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * Math.pow(2, 10 * (t - 1));\r\n\t\t}\r\n\t\treturn 0.5 * (-Math.pow(2, -10 * --t) + 2);\r\n\t},\r\n\r\n\teaseInCirc: function(t) {\r\n\t\tif (t >= 1) {\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\treturn -(Math.sqrt(1 - t * t) - 1);\r\n\t},\r\n\r\n\teaseOutCirc: function(t) {\r\n\t\treturn Math.sqrt(1 - (t = t - 1) * t);\r\n\t},\r\n\r\n\teaseInOutCirc: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn -0.5 * (Math.sqrt(1 - t * t) - 1);\r\n\t\t}\r\n\t\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\r\n\t},\r\n\r\n\teaseInElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t},\r\n\r\n\teaseOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1;\r\n\t},\r\n\r\n\teaseInOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif ((t /= 0.5) === 2) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.45;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\tif (t < 1) {\r\n\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\t},\r\n\teaseInBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn t * t * ((s + 1) * t - s);\r\n\t},\r\n\r\n\teaseOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn (t = t - 1) * t * ((s + 1) * t + s) + 1;\r\n\t},\r\n\r\n\teaseInOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\r\n\t},\r\n\r\n\teaseInBounce: function(t) {\r\n\t\treturn 1 - effects.easeOutBounce(1 - t);\r\n\t},\r\n\r\n\teaseOutBounce: function(t) {\r\n\t\tif (t < (1 / 2.75)) {\r\n\t\t\treturn 7.5625 * t * t;\r\n\t\t}\r\n\t\tif (t < (2 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t\t}\r\n\t\tif (t < (2.5 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t\t}\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t},\r\n\r\n\teaseInOutBounce: function(t) {\r\n\t\tif (t < 0.5) {\r\n\t\t\treturn effects.easeInBounce(t * 2) * 0.5;\r\n\t\t}\r\n\t\treturn effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\r\n\t}\r\n};\r\n\r\nvar helpers_easing = {\r\n\teffects: effects\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.easing.effects instead.\r\n * @function Chart.helpers.easingEffects\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.easingEffects = effects;\n\nvar PI = Math.PI;\r\nvar RAD_PER_DEG = PI / 180;\r\nvar DOUBLE_PI = PI * 2;\r\nvar HALF_PI = PI / 2;\r\nvar QUARTER_PI = PI / 4;\r\nvar TWO_THIRDS_PI = PI * 2 / 3;\r\n\r\n/**\r\n * @namespace Chart.helpers.canvas\r\n */\r\nvar exports$1 = {\r\n\t/**\r\n\t * Clears the entire canvas associated to the given `chart`.\r\n\t * @param {Chart} chart - The chart for which to clear the canvas.\r\n\t */\r\n\tclear: function(chart) {\r\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\r\n\t},\r\n\r\n\t/**\r\n\t * Creates a \"path\" for a rectangle with rounded corners at position (x, y) with a\r\n\t * given size (width, height) and the same `radius` for all corners.\r\n\t * @param {CanvasRenderingContext2D} ctx - The canvas 2D Context.\r\n\t * @param {number} x - The x axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} y - The y axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} width - The rectangle's width.\r\n\t * @param {number} height - The rectangle's height.\r\n\t * @param {number} radius - The rounded amount (in pixels) for the four corners.\r\n\t * @todo handle `radius` as top-left, top-right, bottom-right, bottom-left array/object?\r\n\t */\r\n\troundedRect: function(ctx, x, y, width, height, radius) {\r\n\t\tif (radius) {\r\n\t\t\tvar r = Math.min(radius, height / 2, width / 2);\r\n\t\t\tvar left = x + r;\r\n\t\t\tvar top = y + r;\r\n\t\t\tvar right = x + width - r;\r\n\t\t\tvar bottom = y + height - r;\r\n\r\n\t\t\tctx.moveTo(x, top);\r\n\t\t\tif (left < right && top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, -HALF_PI);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, 0);\r\n\t\t\t\tctx.arc(right, bottom, r, 0, HALF_PI);\r\n\t\t\t\tctx.arc(left, bottom, r, HALF_PI, PI);\r\n\t\t\t} else if (left < right) {\r\n\t\t\t\tctx.moveTo(left, y);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, HALF_PI);\r\n\t\t\t\tctx.arc(left, top, r, HALF_PI, PI + HALF_PI);\r\n\t\t\t} else if (top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, 0);\r\n\t\t\t\tctx.arc(left, bottom, r, 0, PI);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(left, top, r, -PI, PI);\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t} else {\r\n\t\t\tctx.rect(x, y, width, height);\r\n\t\t}\r\n\t},\r\n\r\n\tdrawPoint: function(ctx, style, radius, x, y, rotation) {\r\n\t\tvar type, xOffset, yOffset, size, cornerRadius;\r\n\t\tvar rad = (rotation || 0) * RAD_PER_DEG;\r\n\r\n\t\tif (style && typeof style === 'object') {\r\n\t\t\ttype = style.toString();\r\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.translate(x, y);\r\n\t\t\t\tctx.rotate(rad);\r\n\t\t\t\tctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\r\n\t\t\t\tctx.restore();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isNaN(radius) || radius <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\r\n\t\tswitch (style) {\r\n\t\t// Default includes circle\r\n\t\tdefault:\r\n\t\t\tctx.arc(x, y, radius, 0, DOUBLE_PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'triangle':\r\n\t\t\tctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rectRounded':\r\n\t\t\t// NOTE: the rounded rect implementation changed to use `arc` instead of\r\n\t\t\t// `quadraticCurveTo` since it generates better results when rect is\r\n\t\t\t// almost a circle. 0.516 (instead of 0.5) produces results with visually\r\n\t\t\t// closer proportion to the previous impl and it is inscribed in the\r\n\t\t\t// circle with `radius`. For more details, see the following PRs:\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5597\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5858\r\n\t\t\tcornerRadius = radius * 0.516;\r\n\t\t\tsize = radius - cornerRadius;\r\n\t\t\txOffset = Math.cos(rad + QUARTER_PI) * size;\r\n\t\t\tyOffset = Math.sin(rad + QUARTER_PI) * size;\r\n\t\t\tctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\r\n\t\t\tctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\r\n\t\t\tctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\r\n\t\t\tctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rect':\r\n\t\t\tif (!rotation) {\r\n\t\t\t\tsize = Math.SQRT1_2 * radius;\r\n\t\t\t\tctx.rect(x - size, y - size, 2 * size, 2 * size);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'rectRot':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'crossRot':\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'cross':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'star':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'line':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'dash':\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t\tctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the point is inside the rectangle\r\n\t * @param {object} point - The point to test\r\n\t * @param {object} area - The rectangle\r\n\t * @returns {boolean}\r\n\t * @private\r\n\t */\r\n\t_isPointInArea: function(point, area) {\r\n\t\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\r\n\t\treturn point.x > area.left - epsilon && point.x < area.right + epsilon &&\r\n\t\t\tpoint.y > area.top - epsilon && point.y < area.bottom + epsilon;\r\n\t},\r\n\r\n\tclipArea: function(ctx, area) {\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\r\n\t\tctx.clip();\r\n\t},\r\n\r\n\tunclipArea: function(ctx) {\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tlineTo: function(ctx, previous, target, flip) {\r\n\t\tvar stepped = target.steppedLine;\r\n\t\tif (stepped) {\r\n\t\t\tif (stepped === 'middle') {\r\n\t\t\t\tvar midpoint = (previous.x + target.x) / 2.0;\r\n\t\t\t\tctx.lineTo(midpoint, flip ? target.y : previous.y);\r\n\t\t\t\tctx.lineTo(midpoint, flip ? previous.y : target.y);\r\n\t\t\t} else if ((stepped === 'after' && !flip) || (stepped !== 'after' && flip)) {\r\n\t\t\t\tctx.lineTo(previous.x, target.y);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(target.x, previous.y);\r\n\t\t\t}\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!target.tension) {\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.bezierCurveTo(\r\n\t\t\tflip ? previous.controlPointPreviousX : previous.controlPointNextX,\r\n\t\t\tflip ? previous.controlPointPreviousY : previous.controlPointNextY,\r\n\t\t\tflip ? target.controlPointNextX : target.controlPointPreviousX,\r\n\t\t\tflip ? target.controlPointNextY : target.controlPointPreviousY,\r\n\t\t\ttarget.x,\r\n\t\t\ttarget.y);\r\n\t}\r\n};\r\n\r\nvar helpers_canvas = exports$1;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.clear instead.\r\n * @namespace Chart.helpers.clear\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.clear = exports$1.clear;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.roundedRect instead.\r\n * @namespace Chart.helpers.drawRoundedRectangle\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.drawRoundedRectangle = function(ctx) {\r\n\tctx.beginPath();\r\n\texports$1.roundedRect.apply(exports$1, arguments);\r\n};\n\nvar defaults = {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_set: function(scope, values) {\r\n\t\treturn helpers_core.merge(this[scope] || (this[scope] = {}), values);\r\n\t}\r\n};\r\n\r\n// TODO(v3): remove 'global' from namespace.  all default are global and\r\n// there's inconsistency around which options are under 'global'\r\ndefaults._set('global', {\r\n\tdefaultColor: 'rgba(0,0,0,0.1)',\r\n\tdefaultFontColor: '#666',\r\n\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\tdefaultFontSize: 12,\r\n\tdefaultFontStyle: 'normal',\r\n\tdefaultLineHeight: 1.2,\r\n\tshowLines: true\r\n});\r\n\r\nvar core_defaults = defaults;\n\nvar valueOrDefault = helpers_core.valueOrDefault;\r\n\r\n/**\r\n * Converts the given font object into a CSS font string.\r\n * @param {object} font - A font object.\r\n * @return {string} The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\r\n * @private\r\n */\r\nfunction toFontString(font) {\r\n\tif (!font || helpers_core.isNullOrUndef(font.size) || helpers_core.isNullOrUndef(font.family)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (font.style ? font.style + ' ' : '')\r\n\t\t+ (font.weight ? font.weight + ' ' : '')\r\n\t\t+ font.size + 'px '\r\n\t\t+ font.family;\r\n}\r\n\r\n/**\r\n * @alias Chart.helpers.options\r\n * @namespace\r\n */\r\nvar helpers_options = {\r\n\t/**\r\n\t * Converts the given line height `value` in pixels for a specific font `size`.\r\n\t * @param {number|string} value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\r\n\t * @param {number} size - The font size (in pixels) used to resolve relative `value`.\r\n\t * @returns {number} The effective line height in pixels (size * 1.2 if value is invalid).\r\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoLineHeight: function(value, size) {\r\n\t\tvar matches = ('' + value).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\r\n\t\tif (!matches || matches[1] === 'normal') {\r\n\t\t\treturn size * 1.2;\r\n\t\t}\r\n\r\n\t\tvalue = +matches[2];\r\n\r\n\t\tswitch (matches[3]) {\r\n\t\tcase 'px':\r\n\t\t\treturn value;\r\n\t\tcase '%':\r\n\t\t\tvalue /= 100;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn size * value;\r\n\t},\r\n\r\n\t/**\r\n\t * Converts the given value into a padding object with pre-computed width/height.\r\n\t * @param {number|object} value - If a number, set the value to all TRBL component,\r\n\t *  else, if and object, use defined properties and sets undefined ones to 0.\r\n\t * @returns {object} The padding values (top, right, bottom, left, width, height)\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoPadding: function(value) {\r\n\t\tvar t, r, b, l;\r\n\r\n\t\tif (helpers_core.isObject(value)) {\r\n\t\t\tt = +value.top || 0;\r\n\t\t\tr = +value.right || 0;\r\n\t\t\tb = +value.bottom || 0;\r\n\t\t\tl = +value.left || 0;\r\n\t\t} else {\r\n\t\t\tt = r = b = l = +value || 0;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop: t,\r\n\t\t\tright: r,\r\n\t\t\tbottom: b,\r\n\t\t\tleft: l,\r\n\t\t\theight: t + b,\r\n\t\t\twidth: l + r\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Parses font options and returns the font object.\r\n\t * @param {object} options - A object that contains font options to be parsed.\r\n\t * @return {object} The font object.\r\n\t * @todo Support font.* options and renamed to toFont().\r\n\t * @private\r\n\t */\r\n\t_parseFont: function(options) {\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar size = valueOrDefault(options.fontSize, globalDefaults.defaultFontSize);\r\n\t\tvar font = {\r\n\t\t\tfamily: valueOrDefault(options.fontFamily, globalDefaults.defaultFontFamily),\r\n\t\t\tlineHeight: helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight, globalDefaults.defaultLineHeight), size),\r\n\t\t\tsize: size,\r\n\t\t\tstyle: valueOrDefault(options.fontStyle, globalDefaults.defaultFontStyle),\r\n\t\t\tweight: null,\r\n\t\t\tstring: ''\r\n\t\t};\r\n\r\n\t\tfont.string = toFontString(font);\r\n\t\treturn font;\r\n\t},\r\n\r\n\t/**\r\n\t * Evaluates the given `inputs` sequentially and returns the first defined value.\r\n\t * @param {Array} inputs - An array of values, falling back to the last value.\r\n\t * @param {object} [context] - If defined and the current value is a function, the value\r\n\t * is called with `context` as first argument and the result becomes the new input.\r\n\t * @param {number} [index] - If defined and the current value is an array, the value\r\n\t * at `index` become the new input.\r\n\t * @param {object} [info] - object to return information about resolution in\r\n\t * @param {boolean} [info.cacheable] - Will be set to `false` if option is not cacheable.\r\n\t * @since 2.7.0\r\n\t */\r\n\tresolve: function(inputs, context, index, info) {\r\n\t\tvar cacheable = true;\r\n\t\tvar i, ilen, value;\r\n\r\n\t\tfor (i = 0, ilen = inputs.length; i < ilen; ++i) {\r\n\t\t\tvalue = inputs[i];\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (context !== undefined && typeof value === 'function') {\r\n\t\t\t\tvalue = value(context);\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (index !== undefined && helpers_core.isArray(value)) {\r\n\t\t\t\tvalue = value[index];\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tif (info && !cacheable) {\r\n\t\t\t\t\tinfo.cacheable = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\n/**\r\n * @alias Chart.helpers.math\r\n * @namespace\r\n */\r\nvar exports$2 = {\r\n\t/**\r\n\t * Returns an array of factors sorted from 1 to sqrt(value)\r\n\t * @private\r\n\t */\r\n\t_factorize: function(value) {\r\n\t\tvar result = [];\r\n\t\tvar sqrt = Math.sqrt(value);\r\n\t\tvar i;\r\n\r\n\t\tfor (i = 1; i < sqrt; i++) {\r\n\t\t\tif (value % i === 0) {\r\n\t\t\t\tresult.push(i);\r\n\t\t\t\tresult.push(value / i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (sqrt === (sqrt | 0)) { // if value is a square number\r\n\t\t\tresult.push(sqrt);\r\n\t\t}\r\n\r\n\t\tresult.sort(function(a, b) {\r\n\t\t\treturn a - b;\r\n\t\t}).pop();\r\n\t\treturn result;\r\n\t},\r\n\r\n\tlog10: Math.log10 || function(x) {\r\n\t\tvar exponent = Math.log(x) * Math.LOG10E; // Math.LOG10E = 1 / Math.LN10.\r\n\t\t// Check for whole powers of 10,\r\n\t\t// which due to floating point rounding error should be corrected.\r\n\t\tvar powerOf10 = Math.round(exponent);\r\n\t\tvar isPowerOf10 = x === Math.pow(10, powerOf10);\r\n\r\n\t\treturn isPowerOf10 ? powerOf10 : exponent;\r\n\t}\r\n};\r\n\r\nvar helpers_math = exports$2;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.math.log10 instead.\r\n * @namespace Chart.helpers.log10\r\n * @deprecated since version 2.9.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.log10 = exports$2.log10;\n\nvar getRtlAdapter = function(rectX, width) {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn rectX + rectX + width - x;\r\n\t\t},\r\n\t\tsetWidth: function(w) {\r\n\t\t\twidth = w;\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\tif (align === 'center') {\r\n\t\t\t\treturn align;\r\n\t\t\t}\r\n\t\t\treturn align === 'right' ? 'left' : 'right';\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x - value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, itemWidth) {\r\n\t\t\treturn x - itemWidth;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getLtrAdapter = function() {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\tsetWidth: function(w) { // eslint-disable-line no-unused-vars\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\treturn align;\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x + value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, _itemWidth) { // eslint-disable-line no-unused-vars\r\n\t\t\treturn x;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getAdapter = function(rtl, rectX, width) {\r\n\treturn rtl ? getRtlAdapter(rectX, width) : getLtrAdapter();\r\n};\r\n\r\nvar overrideTextDirection = function(ctx, direction) {\r\n\tvar style, original;\r\n\tif (direction === 'ltr' || direction === 'rtl') {\r\n\t\tstyle = ctx.canvas.style;\r\n\t\toriginal = [\r\n\t\t\tstyle.getPropertyValue('direction'),\r\n\t\t\tstyle.getPropertyPriority('direction'),\r\n\t\t];\r\n\r\n\t\tstyle.setProperty('direction', direction, 'important');\r\n\t\tctx.prevTextDirection = original;\r\n\t}\r\n};\r\n\r\nvar restoreTextDirection = function(ctx) {\r\n\tvar original = ctx.prevTextDirection;\r\n\tif (original !== undefined) {\r\n\t\tdelete ctx.prevTextDirection;\r\n\t\tctx.canvas.style.setProperty('direction', original[0], original[1]);\r\n\t}\r\n};\r\n\r\nvar helpers_rtl = {\r\n\tgetRtlAdapter: getAdapter,\r\n\toverrideTextDirection: overrideTextDirection,\r\n\trestoreTextDirection: restoreTextDirection,\r\n};\n\nvar helpers$1 = helpers_core;\r\nvar easing = helpers_easing;\r\nvar canvas = helpers_canvas;\r\nvar options = helpers_options;\r\nvar math = helpers_math;\r\nvar rtl = helpers_rtl;\nhelpers$1.easing = easing;\nhelpers$1.canvas = canvas;\nhelpers$1.options = options;\nhelpers$1.math = math;\nhelpers$1.rtl = rtl;\n\nfunction interpolate(start, view, model, ease) {\r\n\tvar keys = Object.keys(model);\r\n\tvar i, ilen, key, actual, origin, target, type, c0, c1;\r\n\r\n\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\tkey = keys[i];\r\n\r\n\t\ttarget = model[key];\r\n\r\n\t\t// if a value is added to the model after pivot() has been called, the view\r\n\t\t// doesn't contain it, so let's initialize the view to the target value.\r\n\t\tif (!view.hasOwnProperty(key)) {\r\n\t\t\tview[key] = target;\r\n\t\t}\r\n\r\n\t\tactual = view[key];\r\n\r\n\t\tif (actual === target || key[0] === '_') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!start.hasOwnProperty(key)) {\r\n\t\t\tstart[key] = actual;\r\n\t\t}\r\n\r\n\t\torigin = start[key];\r\n\r\n\t\ttype = typeof target;\r\n\r\n\t\tif (type === typeof origin) {\r\n\t\t\tif (type === 'string') {\r\n\t\t\t\tc0 = chartjsColor(origin);\r\n\t\t\t\tif (c0.valid) {\r\n\t\t\t\t\tc1 = chartjsColor(target);\r\n\t\t\t\t\tif (c1.valid) {\r\n\t\t\t\t\t\tview[key] = c1.mix(c0, ease).rgbString();\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (helpers$1.isFinite(origin) && helpers$1.isFinite(target)) {\r\n\t\t\t\tview[key] = origin + (target - origin) * ease;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tview[key] = target;\r\n\t}\r\n}\r\n\r\nvar Element = function(configuration) {\r\n\thelpers$1.extend(this, configuration);\r\n\tthis.initialize.apply(this, arguments);\r\n};\r\n\r\nhelpers$1.extend(Element.prototype, {\r\n\t_type: undefined,\r\n\r\n\tinitialize: function() {\r\n\t\tthis.hidden = false;\r\n\t},\r\n\r\n\tpivot: function() {\r\n\t\tvar me = this;\r\n\t\tif (!me._view) {\r\n\t\t\tme._view = helpers$1.extend({}, me._model);\r\n\t\t}\r\n\t\tme._start = {};\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttransition: function(ease) {\r\n\t\tvar me = this;\r\n\t\tvar model = me._model;\r\n\t\tvar start = me._start;\r\n\t\tvar view = me._view;\r\n\r\n\t\t// No animation -> No Transition\r\n\t\tif (!model || ease === 1) {\r\n\t\t\tme._view = helpers$1.extend({}, model);\r\n\t\t\tme._start = null;\r\n\t\t\treturn me;\r\n\t\t}\r\n\r\n\t\tif (!view) {\r\n\t\t\tview = me._view = {};\r\n\t\t}\r\n\r\n\t\tif (!start) {\r\n\t\t\tstart = me._start = {};\r\n\t\t}\r\n\r\n\t\tinterpolate(start, view, model, ease);\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\treturn {\r\n\t\t\tx: this._model.x,\r\n\t\t\ty: this._model.y\r\n\t\t};\r\n\t},\r\n\r\n\thasValue: function() {\r\n\t\treturn helpers$1.isNumber(this._model.x) && helpers$1.isNumber(this._model.y);\r\n\t}\r\n});\r\n\r\nElement.extend = helpers$1.inherits;\r\n\r\nvar core_element = Element;\n\nvar exports$3 = core_element.extend({\r\n\tchart: null, // the animation associated chart instance\r\n\tcurrentStep: 0, // the current animation step\r\n\tnumSteps: 60, // default number of steps\r\n\teasing: '', // the easing to use for this animation\r\n\trender: null, // render function used by the animation service\r\n\r\n\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\r\n\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\r\n});\r\n\r\nvar core_animation = exports$3;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation instead\r\n * @prop Chart.Animation#animationObject\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'animationObject', {\r\n\tget: function() {\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation#chart instead\r\n * @prop Chart.Animation#chartInstance\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'chartInstance', {\r\n\tget: function() {\r\n\t\treturn this.chart;\r\n\t},\r\n\tset: function(value) {\r\n\t\tthis.chart = value;\r\n\t}\r\n});\n\ncore_defaults._set('global', {\r\n\tanimation: {\r\n\t\tduration: 1000,\r\n\t\teasing: 'easeOutQuart',\r\n\t\tonProgress: helpers$1.noop,\r\n\t\tonComplete: helpers$1.noop\r\n\t}\r\n});\r\n\r\nvar core_animations = {\r\n\tanimations: [],\r\n\trequest: null,\r\n\r\n\t/**\r\n\t * @param {Chart} chart - The chart to animate.\r\n\t * @param {Chart.Animation} animation - The animation that we will animate.\r\n\t * @param {number} duration - The animation duration in ms.\r\n\t * @param {boolean} lazy - if true, the chart is not marked as animating to enable more responsive interactions\r\n\t */\r\n\taddAnimation: function(chart, animation, duration, lazy) {\r\n\t\tvar animations = this.animations;\r\n\t\tvar i, ilen;\r\n\r\n\t\tanimation.chart = chart;\r\n\t\tanimation.startTime = Date.now();\r\n\t\tanimation.duration = duration;\r\n\r\n\t\tif (!lazy) {\r\n\t\t\tchart.animating = true;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = animations.length; i < ilen; ++i) {\r\n\t\t\tif (animations[i].chart === chart) {\r\n\t\t\t\tanimations[i] = animation;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimations.push(animation);\r\n\r\n\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\r\n\t\tif (animations.length === 1) {\r\n\t\t\tthis.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\tcancelAnimation: function(chart) {\r\n\t\tvar index = helpers$1.findIndex(this.animations, function(animation) {\r\n\t\t\treturn animation.chart === chart;\r\n\t\t});\r\n\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.animations.splice(index, 1);\r\n\t\t\tchart.animating = false;\r\n\t\t}\r\n\t},\r\n\r\n\trequestAnimationFrame: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.request === null) {\r\n\t\t\t// Skip animation frame requests until the active one is executed.\r\n\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\r\n\t\t\t// and 'mouseout' events will trigger multiple renders.\r\n\t\t\tme.request = helpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tme.request = null;\r\n\t\t\t\tme.startDigest();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tstartDigest: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tme.advance();\r\n\r\n\t\t// Do we have more stuff to animate?\r\n\t\tif (me.animations.length > 0) {\r\n\t\t\tme.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tadvance: function() {\r\n\t\tvar animations = this.animations;\r\n\t\tvar animation, chart, numSteps, nextStep;\r\n\t\tvar i = 0;\r\n\r\n\t\t// 1 animation per chart, so we are looping charts here\r\n\t\twhile (i < animations.length) {\r\n\t\t\tanimation = animations[i];\r\n\t\t\tchart = animation.chart;\r\n\t\t\tnumSteps = animation.numSteps;\r\n\r\n\t\t\t// Make sure that currentStep starts at 1\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/6104\r\n\t\t\tnextStep = Math.floor((Date.now() - animation.startTime) / animation.duration * numSteps) + 1;\r\n\t\t\tanimation.currentStep = Math.min(nextStep, numSteps);\r\n\r\n\t\t\thelpers$1.callback(animation.render, [chart, animation], chart);\r\n\t\t\thelpers$1.callback(animation.onAnimationProgress, [animation], chart);\r\n\r\n\t\t\tif (animation.currentStep >= numSteps) {\r\n\t\t\t\thelpers$1.callback(animation.onAnimationComplete, [animation], chart);\r\n\t\t\t\tchart.animating = false;\r\n\t\t\t\tanimations.splice(i, 1);\r\n\t\t\t} else {\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar resolve = helpers$1.options.resolve;\r\n\r\nvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\r\n\r\n/**\r\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\r\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\r\n * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\r\n */\r\nfunction listenArrayEvents(array, listener) {\r\n\tif (array._chartjs) {\r\n\t\tarray._chartjs.listeners.push(listener);\r\n\t\treturn;\r\n\t}\r\n\r\n\tObject.defineProperty(array, '_chartjs', {\r\n\t\tconfigurable: true,\r\n\t\tenumerable: false,\r\n\t\tvalue: {\r\n\t\t\tlisteners: [listener]\r\n\t\t}\r\n\t});\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\r\n\t\tvar base = array[key];\r\n\r\n\t\tObject.defineProperty(array, key, {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: false,\r\n\t\t\tvalue: function() {\r\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\t\t\tvar res = base.apply(this, args);\r\n\r\n\t\t\t\thelpers$1.each(array._chartjs.listeners, function(object) {\r\n\t\t\t\t\tif (typeof object[method] === 'function') {\r\n\t\t\t\t\t\tobject[method].apply(object, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * Removes the given array event listener and cleanup extra attached properties (such as\r\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\r\n */\r\nfunction unlistenArrayEvents(array, listener) {\r\n\tvar stub = array._chartjs;\r\n\tif (!stub) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar listeners = stub.listeners;\r\n\tvar index = listeners.indexOf(listener);\r\n\tif (index !== -1) {\r\n\t\tlisteners.splice(index, 1);\r\n\t}\r\n\r\n\tif (listeners.length > 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tdelete array[key];\r\n\t});\r\n\r\n\tdelete array._chartjs;\r\n}\r\n\r\n// Base class for all dataset controllers (line, bar, etc)\r\nvar DatasetController = function(chart, datasetIndex) {\r\n\tthis.initialize(chart, datasetIndex);\r\n};\r\n\r\nhelpers$1.extend(DatasetController.prototype, {\r\n\r\n\t/**\r\n\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdatasetElementType: null,\r\n\r\n\t/**\r\n\t * Element type used to generate a meta data (e.g. Chart.element.Point).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdataElementType: null,\r\n\r\n\t/**\r\n\t * Dataset element option keys to be resolved in _resolveDatasetElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth'\r\n\t],\r\n\r\n\t/**\r\n\t * Data element option keys to be resolved in _resolveDataElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'pointStyle'\r\n\t],\r\n\r\n\tinitialize: function(chart, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tme.chart = chart;\r\n\t\tme.index = datasetIndex;\r\n\t\tme.linkScales();\r\n\t\tme.addElements();\r\n\t\tme._type = me.getMeta().type;\r\n\t},\r\n\r\n\tupdateIndex: function(datasetIndex) {\r\n\t\tthis.index = datasetIndex;\r\n\t},\r\n\r\n\tlinkScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar chart = me.chart;\r\n\t\tvar scales = chart.scales;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scalesOpts = chart.options.scales;\r\n\r\n\t\tif (meta.xAxisID === null || !(meta.xAxisID in scales) || dataset.xAxisID) {\r\n\t\t\tmeta.xAxisID = dataset.xAxisID || scalesOpts.xAxes[0].id;\r\n\t\t}\r\n\t\tif (meta.yAxisID === null || !(meta.yAxisID in scales) || dataset.yAxisID) {\r\n\t\t\tmeta.yAxisID = dataset.yAxisID || scalesOpts.yAxes[0].id;\r\n\t\t}\r\n\t},\r\n\r\n\tgetDataset: function() {\r\n\t\treturn this.chart.data.datasets[this.index];\r\n\t},\r\n\r\n\tgetMeta: function() {\r\n\t\treturn this.chart.getDatasetMeta(this.index);\r\n\t},\r\n\r\n\tgetScaleForId: function(scaleID) {\r\n\t\treturn this.chart.scales[scaleID];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScale: function() {\r\n\t\treturn this.getScaleForId(this._getValueScaleId());\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScale: function() {\r\n\t\treturn this.getScaleForId(this._getIndexScaleId());\r\n\t},\r\n\r\n\treset: function() {\r\n\t\tthis._update(true);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroy: function() {\r\n\t\tif (this._data) {\r\n\t\t\tunlistenArrayEvents(this._data, this);\r\n\t\t}\r\n\t},\r\n\r\n\tcreateMetaDataset: function() {\r\n\t\tvar me = this;\r\n\t\tvar type = me.datasetElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index\r\n\t\t});\r\n\t},\r\n\r\n\tcreateMetaData: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar type = me.dataElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index\r\n\t\t});\r\n\t},\r\n\r\n\taddElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data || [];\r\n\t\tvar metaData = meta.data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = data.length; i < ilen; ++i) {\r\n\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\r\n\t\t}\r\n\r\n\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\r\n\t},\r\n\r\n\taddElementAndReset: function(index) {\r\n\t\tvar element = this.createMetaData(index);\r\n\t\tthis.getMeta().data.splice(index, 0, element);\r\n\t\tthis.updateElement(element, index, true);\r\n\t},\r\n\r\n\tbuildOrUpdateElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar data = dataset.data || (dataset.data = []);\r\n\r\n\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\r\n\t\t// real-time charts), we need to monitor these data modifications and synchronize\r\n\t\t// the internal meta data accordingly.\r\n\t\tif (me._data !== data) {\r\n\t\t\tif (me._data) {\r\n\t\t\t\t// This case happens when the user replaced the data array instance.\r\n\t\t\t\tunlistenArrayEvents(me._data, me);\r\n\t\t\t}\r\n\r\n\t\t\tif (data && Object.isExtensible(data)) {\r\n\t\t\t\tlistenArrayEvents(data, me);\r\n\t\t\t}\r\n\t\t\tme._data = data;\r\n\t\t}\r\n\r\n\t\t// Re-sync meta data in case the user replaced the data array or if we missed\r\n\t\t// any updates and so make sure that we handle number of datapoints changing.\r\n\t\tme.resyncElements();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the merged user-supplied and default dataset-level options\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tme._config = helpers$1.merge(Object.create(null), [\r\n\t\t\tme.chart.options.datasets[me._type],\r\n\t\t\tme.getDataset(),\r\n\t\t], {\r\n\t\t\tmerger: function(key, target, source) {\r\n\t\t\t\tif (key !== '_meta' && key !== 'data') {\r\n\t\t\t\t\thelpers$1._merger(key, target, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t_update: function(reset) {\r\n\t\tvar me = this;\r\n\t\tme._configure();\r\n\t\tme._cachedDataOpts = null;\r\n\t\tme.update(reset);\r\n\t},\r\n\r\n\tupdate: helpers$1.noop,\r\n\r\n\ttransition: function(easingValue) {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].transition(easingValue);\r\n\t\t}\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.transition(easingValue);\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.draw();\r\n\t\t}\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].draw();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a set of predefined style properties that should be used to represent the dataset\r\n\t * or the data if the index is specified\r\n\t * @param {number} index - data index\r\n\t * @return {IStyleInterface} style object\r\n\t */\r\n\tgetStyle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = meta.dataset;\r\n\t\tvar style;\r\n\r\n\t\tme._configure();\r\n\t\tif (dataset && index === undefined) {\r\n\t\t\tstyle = me._resolveDatasetElementOptions(dataset || {});\r\n\t\t} else {\r\n\t\t\tindex = index || 0;\r\n\t\t\tstyle = me._resolveDataElementOptions(meta.data[index] || {}, index);\r\n\t\t}\r\n\r\n\t\tif (style.fill === false || style.fill === null) {\r\n\t\t\tstyle.backgroundColor = style.borderColor;\r\n\t\t}\r\n\r\n\t\treturn style;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element, hover) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = chart.options.elements[me.datasetElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._datasetElementOptions;\r\n\t\tvar values = {};\r\n\t\tvar i, ilen, key, readKey;\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index,\r\n\t\t\thover: hover\r\n\t\t};\r\n\r\n\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\tkey = elementOptions[i];\r\n\t\t\treadKey = hover ? 'hover' + key.charAt(0).toUpperCase() + key.slice(1) : key;\r\n\t\t\tvalues[key] = resolve([\r\n\t\t\t\tcustom[readKey],\r\n\t\t\t\tdatasetOpts[readKey],\r\n\t\t\t\toptions[readKey]\r\n\t\t\t], context);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(element, index) {\r\n\t\tvar me = this;\r\n\t\tvar custom = element && element.custom;\r\n\t\tvar cached = me._cachedDataOpts;\r\n\t\tif (cached && !custom) {\r\n\t\t\treturn cached;\r\n\t\t}\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar options = chart.options.elements[me.dataElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._dataElementOptions;\r\n\t\tvar values = {};\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// `resolve` sets cacheable to `false` if any option is indexed or scripted\r\n\t\tvar info = {cacheable: !custom};\r\n\r\n\t\tvar keys, i, ilen, key;\r\n\r\n\t\tcustom = custom || {};\r\n\r\n\t\tif (helpers$1.isArray(elementOptions)) {\r\n\t\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\t\tkey = elementOptions[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tkeys = Object.keys(elementOptions);\r\n\t\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\t\tkey = keys[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[elementOptions[key]],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (info.cacheable) {\r\n\t\t\tme._cachedDataOpts = Object.freeze(values);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tremoveHoverStyle: function(element) {\r\n\t\thelpers$1.merge(element._model, element.$previousStyle || {});\r\n\t\tdelete element.$previousStyle;\r\n\t},\r\n\r\n\tsetHoverStyle: function(element) {\r\n\t\tvar dataset = this.chart.data.datasets[element._datasetIndex];\r\n\t\tvar index = element._index;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar model = element._model;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\telement.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = resolve([custom.hoverBackgroundColor, dataset.hoverBackgroundColor, getHoverColor(model.backgroundColor)], undefined, index);\r\n\t\tmodel.borderColor = resolve([custom.hoverBorderColor, dataset.hoverBorderColor, getHoverColor(model.borderColor)], undefined, index);\r\n\t\tmodel.borderWidth = resolve([custom.hoverBorderWidth, dataset.hoverBorderWidth, model.borderWidth], undefined, index);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_removeDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\r\n\t\tif (element) {\r\n\t\t\tthis.removeHoverStyle(element);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_setDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\t\tvar prev = {};\r\n\t\tvar i, ilen, key, keys, hoverOptions, model;\r\n\r\n\t\tif (!element) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmodel = element._model;\r\n\t\thoverOptions = this._resolveDatasetElementOptions(element, true);\r\n\r\n\t\tkeys = Object.keys(hoverOptions);\r\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\tkey = keys[i];\r\n\t\t\tprev[key] = model[key];\r\n\t\t\tmodel[key] = hoverOptions[key];\r\n\t\t}\r\n\r\n\t\telement.$previousStyle = prev;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tresyncElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data;\r\n\t\tvar numMeta = meta.data.length;\r\n\t\tvar numData = data.length;\r\n\r\n\t\tif (numData < numMeta) {\r\n\t\t\tmeta.data.splice(numData, numMeta - numData);\r\n\t\t} else if (numData > numMeta) {\r\n\t\t\tme.insertElements(numMeta, numData - numMeta);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinsertElements: function(start, count) {\r\n\t\tfor (var i = 0; i < count; ++i) {\r\n\t\t\tthis.addElementAndReset(start + i);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPush: function() {\r\n\t\tvar count = arguments.length;\r\n\t\tthis.insertElements(this.getDataset().data.length - count, count);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPop: function() {\r\n\t\tthis.getMeta().data.pop();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataShift: function() {\r\n\t\tthis.getMeta().data.shift();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataSplice: function(start, count) {\r\n\t\tthis.getMeta().data.splice(start, count);\r\n\t\tthis.insertElements(start, arguments.length - 2);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataUnshift: function() {\r\n\t\tthis.insertElements(0, arguments.length);\r\n\t}\r\n});\r\n\r\nDatasetController.extend = helpers$1.inherits;\r\n\r\nvar core_datasetController = DatasetController;\n\nvar TAU = Math.PI * 2;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tarc: {\r\n\t\t\tbackgroundColor: core_defaults.global.defaultColor,\r\n\t\t\tborderColor: '#fff',\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderAlign: 'center'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction clipArc(ctx, arc) {\r\n\tvar startAngle = arc.startAngle;\r\n\tvar endAngle = arc.endAngle;\r\n\tvar pixelMargin = arc.pixelMargin;\r\n\tvar angleMargin = pixelMargin / arc.outerRadius;\r\n\tvar x = arc.x;\r\n\tvar y = arc.y;\r\n\r\n\t// Draw an inner border by cliping the arc and drawing a double-width border\r\n\t// Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, arc.outerRadius, startAngle - angleMargin, endAngle + angleMargin);\r\n\tif (arc.innerRadius > pixelMargin) {\r\n\t\tangleMargin = pixelMargin / arc.innerRadius;\r\n\t\tctx.arc(x, y, arc.innerRadius - pixelMargin, endAngle + angleMargin, startAngle - angleMargin, true);\r\n\t} else {\r\n\t\tctx.arc(x, y, pixelMargin, endAngle + Math.PI / 2, startAngle - Math.PI / 2);\r\n\t}\r\n\tctx.closePath();\r\n\tctx.clip();\r\n}\r\n\r\nfunction drawFullCircleBorders(ctx, vm, arc, inner) {\r\n\tvar endAngle = arc.endAngle;\r\n\tvar i;\r\n\r\n\tif (inner) {\r\n\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\tclipArc(ctx, arc);\r\n\t\tarc.endAngle = endAngle;\r\n\t\tif (arc.endAngle === arc.startAngle && arc.fullCircles) {\r\n\t\t\tarc.endAngle += TAU;\r\n\t\t\tarc.fullCircles--;\r\n\t\t}\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.startAngle + TAU, arc.startAngle, true);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.startAngle + TAU);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawBorder(ctx, vm, arc) {\r\n\tvar inner = vm.borderAlign === 'inner';\r\n\r\n\tif (inner) {\r\n\t\tctx.lineWidth = vm.borderWidth * 2;\r\n\t\tctx.lineJoin = 'round';\r\n\t} else {\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tctx.lineJoin = 'bevel';\r\n\t}\r\n\r\n\tif (arc.fullCircles) {\r\n\t\tdrawFullCircleBorders(ctx, vm, arc, inner);\r\n\t}\r\n\r\n\tif (inner) {\r\n\t\tclipArc(ctx, arc);\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.endAngle);\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n}\r\n\r\nvar element_arc = core_element.extend({\r\n\t_type: 'arc',\r\n\r\n\tinLabelRange: function(mouseX) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tinRange: function(chartX, chartY) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\tvar pointRelativePosition = helpers$1.getAngleFromPoint(vm, {x: chartX, y: chartY});\r\n\t\t\tvar angle = pointRelativePosition.angle;\r\n\t\t\tvar distance = pointRelativePosition.distance;\r\n\r\n\t\t\t// Sanitise angle range\r\n\t\t\tvar startAngle = vm.startAngle;\r\n\t\t\tvar endAngle = vm.endAngle;\r\n\t\t\twhile (endAngle < startAngle) {\r\n\t\t\t\tendAngle += TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle > endAngle) {\r\n\t\t\t\tangle -= TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle < startAngle) {\r\n\t\t\t\tangle += TAU;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if within the range of the open/close angle\r\n\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle);\r\n\t\t\tvar withinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\r\n\r\n\t\t\treturn (betweenAngles && withinRadius);\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar halfAngle = (vm.startAngle + vm.endAngle) / 2;\r\n\t\tvar halfRadius = (vm.innerRadius + vm.outerRadius) / 2;\r\n\t\treturn {\r\n\t\t\tx: vm.x + Math.cos(halfAngle) * halfRadius,\r\n\t\t\ty: vm.y + Math.sin(halfAngle) * halfRadius\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn Math.PI * ((vm.endAngle - vm.startAngle) / (2 * Math.PI)) * (Math.pow(vm.outerRadius, 2) - Math.pow(vm.innerRadius, 2));\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2);\r\n\t\tvar rangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\r\n\r\n\t\treturn {\r\n\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\r\n\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar pixelMargin = (vm.borderAlign === 'inner') ? 0.33 : 0;\r\n\t\tvar arc = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tinnerRadius: vm.innerRadius,\r\n\t\t\touterRadius: Math.max(vm.outerRadius - pixelMargin, 0),\r\n\t\t\tpixelMargin: pixelMargin,\r\n\t\t\tstartAngle: vm.startAngle,\r\n\t\t\tendAngle: vm.endAngle,\r\n\t\t\tfullCircles: Math.floor(vm.circumference / TAU)\r\n\t\t};\r\n\t\tvar i;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\r\n\t\tif (arc.fullCircles) {\r\n\t\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\t\tctx.closePath();\r\n\t\t\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\tarc.endAngle = arc.startAngle + vm.circumference % TAU;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth) {\r\n\t\t\tdrawBorder(ctx, vm, arc);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$1 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tline: {\r\n\t\t\ttension: 0.4,\r\n\t\t\tbackgroundColor: defaultColor,\r\n\t\t\tborderWidth: 3,\r\n\t\t\tborderColor: defaultColor,\r\n\t\t\tborderCapStyle: 'butt',\r\n\t\t\tborderDash: [],\r\n\t\t\tborderDashOffset: 0.0,\r\n\t\t\tborderJoinStyle: 'miter',\r\n\t\t\tcapBezierPoints: true,\r\n\t\t\tfill: true, // do we fill in the area between the line and its base axis\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar element_line = core_element.extend({\r\n\t_type: 'line',\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar vm = me._view;\r\n\t\tvar ctx = me._chart.ctx;\r\n\t\tvar spanGaps = vm.spanGaps;\r\n\t\tvar points = me._children.slice(); // clone array\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar globalOptionLineElements = globalDefaults.elements.line;\r\n\t\tvar lastDrawnIndex = -1;\r\n\t\tvar closePath = me._loop;\r\n\t\tvar index, previous, currentVM;\r\n\r\n\t\tif (!points.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (me._loop) {\r\n\t\t\tfor (index = 0; index < points.length; ++index) {\r\n\t\t\t\tprevious = helpers$1.previousItem(points, index);\r\n\t\t\t\t// If the line has an open path, shift the point array\r\n\t\t\t\tif (!points[index]._view.skip && previous._view.skip) {\r\n\t\t\t\t\tpoints = points.slice(index).concat(points.slice(0, index));\r\n\t\t\t\t\tclosePath = spanGaps;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If the line has a close path, add the first point again\r\n\t\t\tif (closePath) {\r\n\t\t\t\tpoints.push(points[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\r\n\t\t// Stroke Line Options\r\n\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\r\n\r\n\t\t// IE 9 and 10 do not support line dash\r\n\t\tif (ctx.setLineDash) {\r\n\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\r\n\t\t}\r\n\r\n\t\tctx.lineDashOffset = valueOrDefault$1(vm.borderDashOffset, globalOptionLineElements.borderDashOffset);\r\n\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\r\n\t\tctx.lineWidth = valueOrDefault$1(vm.borderWidth, globalOptionLineElements.borderWidth);\r\n\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\r\n\r\n\t\t// Stroke Line\r\n\t\tctx.beginPath();\r\n\r\n\t\t// First point moves to it's starting position no matter what\r\n\t\tcurrentVM = points[0]._view;\r\n\t\tif (!currentVM.skip) {\r\n\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\tlastDrawnIndex = 0;\r\n\t\t}\r\n\r\n\t\tfor (index = 1; index < points.length; ++index) {\r\n\t\t\tcurrentVM = points[index]._view;\r\n\t\t\tprevious = lastDrawnIndex === -1 ? helpers$1.previousItem(points, index) : points[lastDrawnIndex];\r\n\r\n\t\t\tif (!currentVM.skip) {\r\n\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\r\n\t\t\t\t\t// There was a gap and this is the first point after the gap\r\n\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Line to next point\r\n\t\t\t\t\thelpers$1.canvas.lineTo(ctx, previous._view, currentVM);\r\n\t\t\t\t}\r\n\t\t\t\tlastDrawnIndex = index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (closePath) {\r\n\t\t\tctx.closePath();\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$2 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor$1 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tpoint: {\r\n\t\t\tradius: 3,\r\n\t\t\tpointStyle: 'circle',\r\n\t\t\tbackgroundColor: defaultColor$1,\r\n\t\t\tborderColor: defaultColor$1,\r\n\t\t\tborderWidth: 1,\r\n\t\t\t// Hover\r\n\t\t\thitRadius: 1,\r\n\t\t\thoverRadius: 4,\r\n\t\t\thoverBorderWidth: 1\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction xRange(mouseX) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseX - vm.x) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nfunction yRange(mouseY) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseY - vm.y) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nvar element_point = core_element.extend({\r\n\t_type: 'point',\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\r\n\t},\r\n\r\n\tinLabelRange: xRange,\r\n\tinXRange: xRange,\r\n\tinYRange: yRange,\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\treturn Math.PI * Math.pow(this._view.radius, 2);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tpadding: vm.radius + vm.borderWidth\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar vm = this._view;\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar pointStyle = vm.pointStyle;\r\n\t\tvar rotation = vm.rotation;\r\n\t\tvar radius = vm.radius;\r\n\t\tvar x = vm.x;\r\n\t\tvar y = vm.y;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor; // eslint-disable-line no-shadow\r\n\r\n\t\tif (vm.skip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clipping for Points.\r\n\t\tif (chartArea === undefined || helpers$1.canvas._isPointInArea(vm, chartArea)) {\r\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\r\n\t\t\tctx.lineWidth = valueOrDefault$2(vm.borderWidth, globalDefaults.elements.point.borderWidth);\r\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\r\n\t\t\thelpers$1.canvas.drawPoint(ctx, pointStyle, radius, x, y, rotation);\r\n\t\t}\r\n\t}\r\n});\n\nvar defaultColor$2 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tbackgroundColor: defaultColor$2,\r\n\t\t\tborderColor: defaultColor$2,\r\n\t\t\tborderSkipped: 'bottom',\r\n\t\t\tborderWidth: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction isVertical(vm) {\r\n\treturn vm && vm.width !== undefined;\r\n}\r\n\r\n/**\r\n * Helper function to get the bounds of the bar regardless of the orientation\r\n * @param bar {Chart.Element.Rectangle} the bar\r\n * @return {Bounds} bounds of the bar\r\n * @private\r\n */\r\nfunction getBarBounds(vm) {\r\n\tvar x1, x2, y1, y2, half;\r\n\r\n\tif (isVertical(vm)) {\r\n\t\thalf = vm.width / 2;\r\n\t\tx1 = vm.x - half;\r\n\t\tx2 = vm.x + half;\r\n\t\ty1 = Math.min(vm.y, vm.base);\r\n\t\ty2 = Math.max(vm.y, vm.base);\r\n\t} else {\r\n\t\thalf = vm.height / 2;\r\n\t\tx1 = Math.min(vm.x, vm.base);\r\n\t\tx2 = Math.max(vm.x, vm.base);\r\n\t\ty1 = vm.y - half;\r\n\t\ty2 = vm.y + half;\r\n\t}\r\n\r\n\treturn {\r\n\t\tleft: x1,\r\n\t\ttop: y1,\r\n\t\tright: x2,\r\n\t\tbottom: y2\r\n\t};\r\n}\r\n\r\nfunction swap(orig, v1, v2) {\r\n\treturn orig === v1 ? v2 : orig === v2 ? v1 : orig;\r\n}\r\n\r\nfunction parseBorderSkipped(vm) {\r\n\tvar edge = vm.borderSkipped;\r\n\tvar res = {};\r\n\r\n\tif (!edge) {\r\n\t\treturn res;\r\n\t}\r\n\r\n\tif (vm.horizontal) {\r\n\t\tif (vm.base > vm.x) {\r\n\t\t\tedge = swap(edge, 'left', 'right');\r\n\t\t}\r\n\t} else if (vm.base < vm.y) {\r\n\t\tedge = swap(edge, 'bottom', 'top');\r\n\t}\r\n\r\n\tres[edge] = true;\r\n\treturn res;\r\n}\r\n\r\nfunction parseBorderWidth(vm, maxW, maxH) {\r\n\tvar value = vm.borderWidth;\r\n\tvar skip = parseBorderSkipped(vm);\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = +value.top || 0;\r\n\t\tr = +value.right || 0;\r\n\t\tb = +value.bottom || 0;\r\n\t\tl = +value.left || 0;\r\n\t} else {\r\n\t\tt = r = b = l = +value || 0;\r\n\t}\r\n\r\n\treturn {\r\n\t\tt: skip.top || (t < 0) ? 0 : t > maxH ? maxH : t,\r\n\t\tr: skip.right || (r < 0) ? 0 : r > maxW ? maxW : r,\r\n\t\tb: skip.bottom || (b < 0) ? 0 : b > maxH ? maxH : b,\r\n\t\tl: skip.left || (l < 0) ? 0 : l > maxW ? maxW : l\r\n\t};\r\n}\r\n\r\nfunction boundingRects(vm) {\r\n\tvar bounds = getBarBounds(vm);\r\n\tvar width = bounds.right - bounds.left;\r\n\tvar height = bounds.bottom - bounds.top;\r\n\tvar border = parseBorderWidth(vm, width / 2, height / 2);\r\n\r\n\treturn {\r\n\t\touter: {\r\n\t\t\tx: bounds.left,\r\n\t\t\ty: bounds.top,\r\n\t\t\tw: width,\r\n\t\t\th: height\r\n\t\t},\r\n\t\tinner: {\r\n\t\t\tx: bounds.left + border.l,\r\n\t\t\ty: bounds.top + border.t,\r\n\t\t\tw: width - border.l - border.r,\r\n\t\t\th: height - border.t - border.b\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction inRange(vm, x, y) {\r\n\tvar skipX = x === null;\r\n\tvar skipY = y === null;\r\n\tvar bounds = !vm || (skipX && skipY) ? false : getBarBounds(vm);\r\n\r\n\treturn bounds\r\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\r\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\r\n}\r\n\r\nvar element_rectangle = core_element.extend({\r\n\t_type: 'rectangle',\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar rects = boundingRects(vm);\r\n\t\tvar outer = rects.outer;\r\n\t\tvar inner = rects.inner;\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.fillRect(outer.x, outer.y, outer.w, outer.h);\r\n\r\n\t\tif (outer.w === inner.w && outer.h === inner.h) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(outer.x, outer.y, outer.w, outer.h);\r\n\t\tctx.clip();\r\n\t\tctx.fillStyle = vm.borderColor;\r\n\t\tctx.rect(inner.x, inner.y, inner.w, inner.h);\r\n\t\tctx.fill('evenodd');\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\theight: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm.base - vm.y;\r\n\t},\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\treturn inRange(this._view, mouseX, mouseY);\r\n\t},\r\n\r\n\tinLabelRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn isVertical(vm)\r\n\t\t\t? inRange(vm, mouseX, null)\r\n\t\t\t: inRange(vm, null, mouseY);\r\n\t},\r\n\r\n\tinXRange: function(mouseX) {\r\n\t\treturn inRange(this._view, mouseX, null);\r\n\t},\r\n\r\n\tinYRange: function(mouseY) {\r\n\t\treturn inRange(this._view, null, mouseY);\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar x, y;\r\n\t\tif (isVertical(vm)) {\r\n\t\t\tx = vm.x;\r\n\t\t\ty = (vm.y + vm.base) / 2;\r\n\t\t} else {\r\n\t\t\tx = (vm.x + vm.base) / 2;\r\n\t\t\ty = vm.y;\r\n\t\t}\r\n\r\n\t\treturn {x: x, y: y};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\r\n\t\treturn isVertical(vm)\r\n\t\t\t? vm.width * Math.abs(vm.y - vm.base)\r\n\t\t\t: vm.height * Math.abs(vm.x - vm.base);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t}\r\n});\n\nvar elements = {};\r\nvar Arc = element_arc;\r\nvar Line = element_line;\r\nvar Point = element_point;\r\nvar Rectangle = element_rectangle;\nelements.Arc = Arc;\nelements.Line = Line;\nelements.Point = Point;\nelements.Rectangle = Rectangle;\n\nvar deprecated = helpers$1._deprecated;\r\nvar valueOrDefault$3 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('bar', {\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tbar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\r\n * @private\r\n */\r\nfunction computeMinSampleSize(scale, pixels) {\r\n\tvar min = scale._length;\r\n\tvar prev, curr, i, ilen;\r\n\r\n\tfor (i = 1, ilen = pixels.length; i < ilen; ++i) {\r\n\t\tmin = Math.min(min, Math.abs(pixels[i] - pixels[i - 1]));\r\n\t}\r\n\r\n\tfor (i = 0, ilen = scale.getTicks().length; i < ilen; ++i) {\r\n\t\tcurr = scale.getPixelForTick(i);\r\n\t\tmin = i > 0 ? Math.min(min, Math.abs(curr - prev)) : min;\r\n\t\tprev = curr;\r\n\t}\r\n\r\n\treturn min;\r\n}\r\n\r\n/**\r\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\r\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\r\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\r\n * @private\r\n */\r\nfunction computeFitCategoryTraits(index, ruler, options) {\r\n\tvar thickness = options.barThickness;\r\n\tvar count = ruler.stackCount;\r\n\tvar curr = ruler.pixels[index];\r\n\tvar min = helpers$1.isNullOrUndef(thickness)\r\n\t\t? computeMinSampleSize(ruler.scale, ruler.pixels)\r\n\t\t: -1;\r\n\tvar size, ratio;\r\n\r\n\tif (helpers$1.isNullOrUndef(thickness)) {\r\n\t\tsize = min * options.categoryPercentage;\r\n\t\tratio = options.barPercentage;\r\n\t} else {\r\n\t\t// When bar thickness is enforced, category and bar percentages are ignored.\r\n\t\t// Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\r\n\t\t// and deprecate barPercentage since this value is ignored when thickness is absolute.\r\n\t\tsize = thickness * count;\r\n\t\tratio = 1;\r\n\t}\r\n\r\n\treturn {\r\n\t\tchunk: size / count,\r\n\t\tratio: ratio,\r\n\t\tstart: curr - (size / 2)\r\n\t};\r\n}\r\n\r\n/**\r\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\r\n * percentage options are 1), based on the previous and following categories. This mode\r\n * generates bars with different widths when data are not evenly spaced.\r\n * @private\r\n */\r\nfunction computeFlexCategoryTraits(index, ruler, options) {\r\n\tvar pixels = ruler.pixels;\r\n\tvar curr = pixels[index];\r\n\tvar prev = index > 0 ? pixels[index - 1] : null;\r\n\tvar next = index < pixels.length - 1 ? pixels[index + 1] : null;\r\n\tvar percent = options.categoryPercentage;\r\n\tvar start, size;\r\n\r\n\tif (prev === null) {\r\n\t\t// first data: its size is double based on the next point or,\r\n\t\t// if it's also the last data, we use the scale size.\r\n\t\tprev = curr - (next === null ? ruler.end - ruler.start : next - curr);\r\n\t}\r\n\r\n\tif (next === null) {\r\n\t\t// last data: its size is also double based on the previous point.\r\n\t\tnext = curr + curr - prev;\r\n\t}\r\n\r\n\tstart = curr - (curr - Math.min(prev, next)) / 2 * percent;\r\n\tsize = Math.abs(next - prev) / 2 * percent;\r\n\r\n\treturn {\r\n\t\tchunk: size / ruler.stackCount,\r\n\t\tratio: options.barPercentage,\r\n\t\tstart: start\r\n\t};\r\n}\r\n\r\nvar controller_bar = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Rectangle,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderSkipped',\r\n\t\t'borderWidth',\r\n\t\t'barPercentage',\r\n\t\t'barThickness',\r\n\t\t'categoryPercentage',\r\n\t\t'maxBarThickness',\r\n\t\t'minBarLength'\r\n\t],\r\n\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta, scaleOpts;\r\n\r\n\t\tcore_datasetController.prototype.initialize.apply(me, arguments);\r\n\r\n\t\tmeta = me.getMeta();\r\n\t\tmeta.stack = me.getDataset().stack;\r\n\t\tmeta.bar = true;\r\n\r\n\t\tscaleOpts = me._getIndexScale().options;\r\n\t\tdeprecated('bar chart', scaleOpts.barPercentage, 'scales.[x/y]Axes.barPercentage', 'dataset.barPercentage');\r\n\t\tdeprecated('bar chart', scaleOpts.barThickness, 'scales.[x/y]Axes.barThickness', 'dataset.barThickness');\r\n\t\tdeprecated('bar chart', scaleOpts.categoryPercentage, 'scales.[x/y]Axes.categoryPercentage', 'dataset.categoryPercentage');\r\n\t\tdeprecated('bar chart', me._getValueScale().options.minBarLength, 'scales.[x/y]Axes.minBarLength', 'dataset.minBarLength');\r\n\t\tdeprecated('bar chart', scaleOpts.maxBarThickness, 'scales.[x/y]Axes.maxBarThickness', 'dataset.maxBarThickness');\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._ruler = me.getRuler();\r\n\r\n\t\tfor (i = 0, ilen = rects.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(rects[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(rectangle, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar options = me._resolveDataElementOptions(rectangle, index);\r\n\r\n\t\trectangle._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\trectangle._yScale = me.getScaleForId(meta.yAxisID);\r\n\t\trectangle._datasetIndex = me.index;\r\n\t\trectangle._index = index;\r\n\t\trectangle._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderSkipped: options.borderSkipped,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\tdatasetLabel: dataset.label,\r\n\t\t\tlabel: me.chart.data.labels[index]\r\n\t\t};\r\n\r\n\t\tif (helpers$1.isArray(dataset.data[index])) {\r\n\t\t\trectangle._model.borderSkipped = null;\r\n\t\t}\r\n\r\n\t\tme._updateElementGeometry(rectangle, index, reset, options);\r\n\r\n\t\trectangle.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateElementGeometry: function(rectangle, index, reset, options) {\r\n\t\tvar me = this;\r\n\t\tvar model = rectangle._model;\r\n\t\tvar vscale = me._getValueScale();\r\n\t\tvar base = vscale.getBasePixel();\r\n\t\tvar horizontal = vscale.isHorizontal();\r\n\t\tvar ruler = me._ruler || me.getRuler();\r\n\t\tvar vpixels = me.calculateBarValuePixels(me.index, index, options);\r\n\t\tvar ipixels = me.calculateBarIndexPixels(me.index, index, ruler, options);\r\n\r\n\t\tmodel.horizontal = horizontal;\r\n\t\tmodel.base = reset ? base : vpixels.base;\r\n\t\tmodel.x = horizontal ? reset ? base : vpixels.head : ipixels.center;\r\n\t\tmodel.y = horizontal ? ipixels.center : reset ? base : vpixels.head;\r\n\t\tmodel.height = horizontal ? ipixels.size : undefined;\r\n\t\tmodel.width = horizontal ? undefined : ipixels.size;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stacks based on groups and bar visibility.\r\n\t * @param {number} [last] - The dataset index\r\n\t * @returns {string[]} The list of stack IDs\r\n\t * @private\r\n\t */\r\n\t_getStacks: function(last) {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar stacks = [];\r\n\t\tvar i, meta;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\t// stacked   | meta.stack\r\n\t\t\t//           | found | not found | undefined\r\n\t\t\t// false     |   x   |     x     |     x\r\n\t\t\t// true      |       |     x     |\r\n\t\t\t// undefined |       |     x     |     x\r\n\t\t\tif (stacked === false || stacks.indexOf(meta.stack) === -1 ||\r\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\r\n\t\t\t\tstacks.push(meta.stack);\r\n\t\t\t}\r\n\t\t\tif (meta.index === last) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn stacks;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the effective number of stacks based on groups and bar visibility.\r\n\t * @private\r\n\t */\r\n\tgetStackCount: function() {\r\n\t\treturn this._getStacks().length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\r\n\t * @param {number} [datasetIndex] - The dataset index\r\n\t * @param {string} [name] - The stack name to find\r\n\t * @returns {number} The stack index\r\n\t * @private\r\n\t */\r\n\tgetStackIndex: function(datasetIndex, name) {\r\n\t\tvar stacks = this._getStacks(datasetIndex);\r\n\t\tvar index = (name !== undefined)\r\n\t\t\t? stacks.indexOf(name)\r\n\t\t\t: -1; // indexOf returns -1 if element is not present\r\n\r\n\t\treturn (index === -1)\r\n\t\t\t? stacks.length - 1\r\n\t\t\t: index;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetRuler: function() {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar pixels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = me.getMeta().data.length; i < ilen; ++i) {\r\n\t\t\tpixels.push(scale.getPixelForValue(null, i, me.index));\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tpixels: pixels,\r\n\t\t\tstart: scale._startPixel,\r\n\t\t\tend: scale._endPixel,\r\n\t\t\tstackCount: me.getStackCount(),\r\n\t\t\tscale: scale\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Note: pixel values are not clamped to the scale area.\r\n\t * @private\r\n\t */\r\n\tcalculateBarValuePixels: function(datasetIndex, index, options) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar isHorizontal = scale.isHorizontal();\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar value = scale._parseValue(datasets[datasetIndex].data[index]);\r\n\t\tvar minBarLength = options.minBarLength;\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar stack = me.getMeta().stack;\r\n\t\tvar start = value.start === undefined ? 0 : value.max >= 0 && value.min >= 0 ? value.min : value.max;\r\n\t\tvar length = value.start === undefined ? value.end : value.max >= 0 && value.min >= 0 ? value.max - value.min : value.min - value.max;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, imeta, ivalue, base, head, size, stackLength;\r\n\r\n\t\tif (stacked || (stacked === undefined && stack !== undefined)) {\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\timeta = metasets[i];\r\n\r\n\t\t\t\tif (imeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (imeta.stack === stack) {\r\n\t\t\t\t\tstackLength = scale._parseValue(datasets[imeta.index].data[index]);\r\n\t\t\t\t\tivalue = stackLength.start === undefined ? stackLength.end : stackLength.min >= 0 && stackLength.max >= 0 ? stackLength.max : stackLength.min;\r\n\r\n\t\t\t\t\tif ((value.min < 0 && ivalue < 0) || (value.max >= 0 && ivalue > 0)) {\r\n\t\t\t\t\t\tstart += ivalue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbase = scale.getPixelForValue(start);\r\n\t\thead = scale.getPixelForValue(start + length);\r\n\t\tsize = head - base;\r\n\r\n\t\tif (minBarLength !== undefined && Math.abs(size) < minBarLength) {\r\n\t\t\tsize = minBarLength;\r\n\t\t\tif (length >= 0 && !isHorizontal || length < 0 && isHorizontal) {\r\n\t\t\t\thead = base - minBarLength;\r\n\t\t\t} else {\r\n\t\t\t\thead = base + minBarLength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tsize: size,\r\n\t\t\tbase: base,\r\n\t\t\thead: head,\r\n\t\t\tcenter: head + size / 2\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tcalculateBarIndexPixels: function(datasetIndex, index, ruler, options) {\r\n\t\tvar me = this;\r\n\t\tvar range = options.barThickness === 'flex'\r\n\t\t\t? computeFlexCategoryTraits(index, ruler, options)\r\n\t\t\t: computeFitCategoryTraits(index, ruler, options);\r\n\r\n\t\tvar stackIndex = me.getStackIndex(datasetIndex, me.getMeta().stack);\r\n\t\tvar center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\r\n\t\tvar size = Math.min(\r\n\t\t\tvalueOrDefault$3(options.maxBarThickness, Infinity),\r\n\t\t\trange.chunk * range.ratio);\r\n\r\n\t\treturn {\r\n\t\t\tbase: center - size / 2,\r\n\t\t\thead: center + size / 2,\r\n\t\t\tcenter: center,\r\n\t\t\tsize: size\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar ilen = rects.length;\r\n\t\tvar i = 0;\r\n\r\n\t\thelpers$1.canvas.clipArea(chart.ctx, chart.chartArea);\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tvar val = scale._parseValue(dataset.data[i]);\r\n\t\t\tif (!isNaN(val.min) && !isNaN(val.max)) {\r\n\t\t\t\trects[i].draw();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar values = helpers$1.extend({}, core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments));\r\n\t\tvar indexOpts = me._getIndexScale().options;\r\n\t\tvar valueOpts = me._getValueScale().options;\r\n\r\n\t\tvalues.barPercentage = valueOrDefault$3(indexOpts.barPercentage, values.barPercentage);\r\n\t\tvalues.barThickness = valueOrDefault$3(indexOpts.barThickness, values.barThickness);\r\n\t\tvalues.categoryPercentage = valueOrDefault$3(indexOpts.categoryPercentage, values.categoryPercentage);\r\n\t\tvalues.maxBarThickness = valueOrDefault$3(indexOpts.maxBarThickness, values.maxBarThickness);\r\n\t\tvalues.minBarLength = valueOrDefault$3(valueOpts.minBarLength, values.minBarLength);\r\n\r\n\t\treturn values;\r\n\t}\r\n\r\n});\n\nvar valueOrDefault$4 = helpers$1.valueOrDefault;\r\nvar resolve$1 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('bubble', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\r\n\t\t\tposition: 'bottom',\r\n\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\tvar datasetLabel = data.datasets[item.datasetIndex].label || '';\r\n\t\t\t\tvar dataPoint = data.datasets[item.datasetIndex].data[item.index];\r\n\t\t\t\treturn datasetLabel + ': (' + item.xLabel + ', ' + item.yLabel + ', ' + dataPoint.r + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_bubble = core_datasetController.extend({\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t\t'hoverRadius',\r\n\t\t'hitRadius',\r\n\t\t'pointStyle',\r\n\t\t'rotation'\r\n\t],\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data;\r\n\r\n\t\t// Update Points\r\n\t\thelpers$1.each(points, function(point, index) {\r\n\t\t\tme.updateElement(point, index, reset);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tvar yScale = me.getScaleForId(meta.yAxisID);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar data = me.getDataset().data[index];\r\n\t\tvar dsIndex = me.index;\r\n\r\n\t\tvar x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex);\r\n\t\tvar y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex);\r\n\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = dsIndex;\r\n\t\tpoint._index = index;\r\n\t\tpoint._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\thitRadius: options.hitRadius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tradius: reset ? 0 : options.radius,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t};\r\n\r\n\t\tpoint.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$4(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$4(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$4(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = options.radius + options.hoverRadius;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(point, index) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar data = dataset.data[index] || {};\r\n\t\tvar values = core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments);\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// In case values were cached (and thus frozen), we need to clone the values\r\n\t\tif (me._cachedDataOpts === values) {\r\n\t\t\tvalues = helpers$1.extend({}, values);\r\n\t\t}\r\n\r\n\t\t// Custom radius resolution\r\n\t\tvalues.radius = resolve$1([\r\n\t\t\tcustom.radius,\r\n\t\t\tdata.r,\r\n\t\t\tme._config.radius,\r\n\t\t\tchart.options.elements.point.radius\r\n\t\t], context, index);\r\n\r\n\t\treturn values;\r\n\t}\r\n});\n\nvar valueOrDefault$5 = helpers$1.valueOrDefault;\r\n\r\nvar PI$1 = Math.PI;\r\nvar DOUBLE_PI$1 = PI$1 * 2;\r\nvar HALF_PI$1 = PI$1 / 2;\r\n\r\ncore_defaults._set('doughnut', {\r\n\tanimation: {\r\n\t\t// Boolean - Whether we animate the rotation of the Doughnut\r\n\t\tanimateRotate: true,\r\n\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\r\n\t\tanimateScale: false\r\n\t},\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t// toggle visibility of index if exists\r\n\t\t\t\tif (meta.data[index]) {\r\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// The percentage of the chart that we cut out of the middle.\r\n\tcutoutPercentage: 50,\r\n\r\n\t// The rotation of the chart, where the first data arc begins.\r\n\trotation: -HALF_PI$1,\r\n\r\n\t// The total circumference of the chart.\r\n\tcircumference: DOUBLE_PI$1,\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar dataLabel = data.labels[tooltipItem.index];\r\n\t\t\t\tvar value = ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n\r\n\t\t\t\tif (helpers$1.isArray(dataLabel)) {\r\n\t\t\t\t\t// show value on first line of multiline label\r\n\t\t\t\t\t// need to clone because we are changing the value\r\n\t\t\t\t\tdataLabel = dataLabel.slice();\r\n\t\t\t\t\tdataLabel[0] += value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdataLabel += value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn dataLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_doughnut = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\r\n\tgetRingIndex: function(datasetIndex) {\r\n\t\tvar ringIndex = 0;\r\n\r\n\t\tfor (var j = 0; j < datasetIndex; ++j) {\r\n\t\t\tif (this.chart.isDatasetVisible(j)) {\r\n\t\t\t\t++ringIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringIndex;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar ratioX = 1;\r\n\t\tvar ratioY = 1;\r\n\t\tvar offsetX = 0;\r\n\t\tvar offsetY = 0;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar arcs = meta.data;\r\n\t\tvar cutout = opts.cutoutPercentage / 100 || 0;\r\n\t\tvar circumference = opts.circumference;\r\n\t\tvar chartWeight = me._getRingWeight(me.index);\r\n\t\tvar maxWidth, maxHeight, i, ilen;\r\n\r\n\t\t// If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\r\n\t\tif (circumference < DOUBLE_PI$1) {\r\n\t\t\tvar startAngle = opts.rotation % DOUBLE_PI$1;\r\n\t\t\tstartAngle += startAngle >= PI$1 ? -DOUBLE_PI$1 : startAngle < -PI$1 ? DOUBLE_PI$1 : 0;\r\n\t\t\tvar endAngle = startAngle + circumference;\r\n\t\t\tvar startX = Math.cos(startAngle);\r\n\t\t\tvar startY = Math.sin(startAngle);\r\n\t\t\tvar endX = Math.cos(endAngle);\r\n\t\t\tvar endY = Math.sin(endAngle);\r\n\t\t\tvar contains0 = (startAngle <= 0 && endAngle >= 0) || endAngle >= DOUBLE_PI$1;\r\n\t\t\tvar contains90 = (startAngle <= HALF_PI$1 && endAngle >= HALF_PI$1) || endAngle >= DOUBLE_PI$1 + HALF_PI$1;\r\n\t\t\tvar contains180 = startAngle === -PI$1 || endAngle >= PI$1;\r\n\t\t\tvar contains270 = (startAngle <= -HALF_PI$1 && endAngle >= -HALF_PI$1) || endAngle >= PI$1 + HALF_PI$1;\r\n\t\t\tvar minX = contains180 ? -1 : Math.min(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar minY = contains270 ? -1 : Math.min(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tvar maxX = contains0 ? 1 : Math.max(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar maxY = contains90 ? 1 : Math.max(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tratioX = (maxX - minX) / 2;\r\n\t\t\tratioY = (maxY - minY) / 2;\r\n\t\t\toffsetX = -(maxX + minX) / 2;\r\n\t\t\toffsetY = -(maxY + minY) / 2;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t}\r\n\r\n\t\tchart.borderWidth = me.getMaxBorderWidth();\r\n\t\tmaxWidth = (chartArea.right - chartArea.left - chart.borderWidth) / ratioX;\r\n\t\tmaxHeight = (chartArea.bottom - chartArea.top - chart.borderWidth) / ratioY;\r\n\t\tchart.outerRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\r\n\t\tchart.innerRadius = Math.max(chart.outerRadius * cutout, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / (me._getVisibleDatasetWeightTotal() || 1);\r\n\t\tchart.offsetX = offsetX * chart.outerRadius;\r\n\t\tchart.offsetY = offsetY * chart.outerRadius;\r\n\r\n\t\tmeta.total = me.calculateTotal();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - chart.radiusLength * me._getRingWeightOffset(me.index);\r\n\t\tme.innerRadius = Math.max(me.outerRadius - chart.radiusLength * chartWeight, 0);\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar centerX = (chartArea.left + chartArea.right) / 2;\r\n\t\tvar centerY = (chartArea.top + chartArea.bottom) / 2;\r\n\t\tvar startAngle = opts.rotation; // non reset case handled later\r\n\t\tvar endAngle = opts.rotation; // non reset case handled later\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar circumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / DOUBLE_PI$1);\r\n\t\tvar innerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius;\r\n\t\tvar outerRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius;\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX + chart.offsetX,\r\n\t\t\t\ty: centerY + chart.offsetY,\r\n\t\t\t\tstartAngle: startAngle,\r\n\t\t\t\tendAngle: endAngle,\r\n\t\t\t\tcircumference: circumference,\r\n\t\t\t\touterRadius: outerRadius,\r\n\t\t\t\tinnerRadius: innerRadius,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar model = arc._model;\r\n\r\n\t\t// Set correct angles if not resetting\r\n\t\tif (!reset || !animationOpts.animateRotate) {\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tmodel.startAngle = opts.rotation;\r\n\t\t\t} else {\r\n\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\r\n\t\t\t}\r\n\r\n\t\t\tmodel.endAngle = model.startAngle + model.circumference;\r\n\t\t}\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcalculateTotal: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar total = 0;\r\n\t\tvar value;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tvalue = dataset.data[index];\r\n\t\t\tif (!isNaN(value) && !element.hidden) {\r\n\t\t\t\ttotal += Math.abs(value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/* if (total === 0) {\r\n\t\t\ttotal = NaN;\r\n\t\t}*/\r\n\r\n\t\treturn total;\r\n\t},\r\n\r\n\tcalculateCircumference: function(value) {\r\n\t\tvar total = this.getMeta().total;\r\n\t\tif (total > 0 && !isNaN(value)) {\r\n\t\t\treturn DOUBLE_PI$1 * (Math.abs(value) / total);\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t// gets the max border or hover width to properly scale pie charts\r\n\tgetMaxBorderWidth: function(arcs) {\r\n\t\tvar me = this;\r\n\t\tvar max = 0;\r\n\t\tvar chart = me.chart;\r\n\t\tvar i, ilen, meta, arc, controller, options, borderWidth, hoverWidth;\r\n\r\n\t\tif (!arcs) {\r\n\t\t\t// Find the outmost visible dataset\r\n\t\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t\tarcs = meta.data;\r\n\t\t\t\t\tif (i !== me.index) {\r\n\t\t\t\t\t\tcontroller = meta.controller;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!arcs) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarc = arcs[i];\r\n\t\t\tif (controller) {\r\n\t\t\t\tcontroller._configure();\r\n\t\t\t\toptions = controller._resolveDataElementOptions(arc, i);\r\n\t\t\t} else {\r\n\t\t\t\toptions = arc._options;\r\n\t\t\t}\r\n\t\t\tif (options.borderAlign !== 'inner') {\r\n\t\t\t\tborderWidth = options.borderWidth;\r\n\t\t\t\thoverWidth = options.hoverBorderWidth;\r\n\r\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\r\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$5(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$5(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$5(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\r\n\t * @private\r\n\t */\r\n\t_getRingWeightOffset: function(datasetIndex) {\r\n\t\tvar ringWeightOffset = 0;\r\n\r\n\t\tfor (var i = 0; i < datasetIndex; ++i) {\r\n\t\t\tif (this.chart.isDatasetVisible(i)) {\r\n\t\t\t\tringWeightOffset += this._getRingWeight(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringWeightOffset;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getRingWeight: function(dataSetIndex) {\r\n\t\treturn Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight, 1), 0);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the sum of all visibile data set weights.  This value can be 0.\r\n\t * @private\r\n\t */\r\n\t_getVisibleDatasetWeightTotal: function() {\r\n\t\treturn this._getRingWeightOffset(this.chart.data.datasets.length);\r\n\t}\r\n});\n\ncore_defaults._set('horizontalBar', {\r\n\thover: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tposition: 'left',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}]\r\n\t},\r\n\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tborderSkipped: 'left'\r\n\t\t}\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\thorizontalBar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_horizontalBar = controller_bar.extend({\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t}\r\n});\n\nvar valueOrDefault$6 = helpers$1.valueOrDefault;\r\nvar resolve$2 = helpers$1.options.resolve;\r\nvar isPointInArea = helpers$1.canvas._isPointInArea;\r\n\r\ncore_defaults._set('line', {\r\n\tshowLines: true,\r\n\tspanGaps: false,\r\n\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tid: 'x-axis-0'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\nfunction scaleClip(scale, halfBorderWidth) {\r\n\tvar tickOpts = scale && scale.options.ticks || {};\r\n\tvar reverse = tickOpts.reverse;\r\n\tvar min = tickOpts.min === undefined ? halfBorderWidth : 0;\r\n\tvar max = tickOpts.max === undefined ? halfBorderWidth : 0;\r\n\treturn {\r\n\t\tstart: reverse ? max : min,\r\n\t\tend: reverse ? min : max\r\n\t};\r\n}\r\n\r\nfunction defaultClip(xScale, yScale, borderWidth) {\r\n\tvar halfBorderWidth = borderWidth / 2;\r\n\tvar x = scaleClip(xScale, halfBorderWidth);\r\n\tvar y = scaleClip(yScale, halfBorderWidth);\r\n\r\n\treturn {\r\n\t\ttop: y.end,\r\n\t\tright: x.end,\r\n\t\tbottom: y.start,\r\n\t\tleft: x.start\r\n\t};\r\n}\r\n\r\nfunction toClip(value) {\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = value.top;\r\n\t\tr = value.right;\r\n\t\tb = value.bottom;\r\n\t\tl = value.left;\r\n\t} else {\r\n\t\tt = r = b = l = value;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttop: t,\r\n\t\tright: r,\r\n\t\tbottom: b,\r\n\t\tleft: l\r\n\t};\r\n}\r\n\r\n\r\nvar controller_line = core_datasetController.extend({\r\n\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth',\r\n\t\t'cubicInterpolationMode',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar options = me.chart.options;\r\n\t\tvar config = me._config;\r\n\t\tvar showLine = me._showLine = valueOrDefault$6(config.showLine, options.showLines);\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tme._yScale = me.getScaleForId(meta.yAxisID);\r\n\r\n\t\t// Update Line\r\n\t\tif (showLine) {\r\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\t\tconfig.lineTension = config.tension;\r\n\t\t\t}\r\n\r\n\t\t\t// Utility\r\n\t\t\tline._scale = me._yScale;\r\n\t\t\tline._datasetIndex = me.index;\r\n\t\t\t// Data\r\n\t\t\tline._children = points;\r\n\t\t\t// Model\r\n\t\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\t\tline.pivot();\r\n\t\t}\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\tif (showLine && line._model.tension !== 0) {\r\n\t\t\tme.updateBezierControlPoints();\r\n\t\t}\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar datasetIndex = me.index;\r\n\t\tvar value = dataset.data[index];\r\n\t\tvar xScale = me._xScale;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar x, y;\r\n\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\r\n\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex);\r\n\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\r\n\r\n\t\t// Utility\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = datasetIndex;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$6(custom.tension, lineModel ? lineModel.tension : 0),\r\n\t\t\tsteppedLine: lineModel ? lineModel.steppedLine : false,\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element) {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = me.chart.options;\r\n\t\tvar lineOptions = options.elements.line;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\t// The default behavior of lines is to break at null values, according\r\n\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\r\n\t\t// This option gives lines the ability to span gaps\r\n\t\tvalues.spanGaps = valueOrDefault$6(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$6(config.lineTension, lineOptions.tension);\r\n\t\tvalues.steppedLine = resolve$2([custom.steppedLine, config.steppedLine, lineOptions.stepped]);\r\n\t\tvalues.clip = toClip(valueOrDefault$6(config.clip, defaultClip(me._xScale, me._yScale, values.borderWidth)));\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tcalculatePointY: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar sumPos = 0;\r\n\t\tvar sumNeg = 0;\r\n\t\tvar i, ds, dsMeta, stackedRightValue, rightValue, metasets, ilen;\r\n\r\n\t\tif (yScale.options.stacked) {\r\n\t\t\trightValue = +yScale.getRightValue(value);\r\n\t\t\tmetasets = chart._getSortedVisibleDatasetMetas();\r\n\t\t\tilen = metasets.length;\r\n\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\tdsMeta = metasets[i];\r\n\t\t\t\tif (dsMeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tds = chart.data.datasets[dsMeta.index];\r\n\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id) {\r\n\t\t\t\t\tstackedRightValue = +yScale.getRightValue(ds.data[index]);\r\n\t\t\t\t\tif (stackedRightValue < 0) {\r\n\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsumPos += stackedRightValue || 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (rightValue < 0) {\r\n\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\r\n\t\t\t}\r\n\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\r\n\t\t}\r\n\t\treturn yScale.getPixelForValue(value);\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (lineModel.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tif (lineModel.cubicInterpolationMode === 'monotone') {\r\n\t\t\thelpers$1.splineCurveMonotone(points);\r\n\t\t} else {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\t\thelpers$1.previousItem(points, i)._model,\r\n\t\t\t\t\tmodel,\r\n\t\t\t\t\thelpers$1.nextItem(points, i)._model,\r\n\t\t\t\t\tlineModel.tension\r\n\t\t\t\t);\r\n\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\r\n\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\r\n\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\r\n\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (chart.options.elements.line.capBezierPoints) {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tif (isPointInArea(model, area)) {\r\n\t\t\t\t\tif (i > 0 && isPointInArea(points[i - 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i < points.length - 1 && isPointInArea(points[i + 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data || [];\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar i = 0;\r\n\t\tvar ilen = points.length;\r\n\t\tvar clip;\r\n\r\n\t\tif (me._showLine) {\r\n\t\t\tclip = meta.dataset._model.clip;\r\n\r\n\t\t\thelpers$1.canvas.clipArea(chart.ctx, {\r\n\t\t\t\tleft: clip.left === false ? 0 : area.left - clip.left,\r\n\t\t\t\tright: clip.right === false ? canvas.width : area.right + clip.right,\r\n\t\t\t\ttop: clip.top === false ? 0 : area.top - clip.top,\r\n\t\t\t\tbottom: clip.bottom === false ? canvas.height : area.bottom + clip.bottom\r\n\t\t\t});\r\n\r\n\t\t\tmeta.dataset.draw();\r\n\r\n\t\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t\t}\r\n\r\n\t\t// Draw the points\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tpoints[i].draw(area);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$6(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$6(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$6(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$6(options.hoverRadius, options.radius);\r\n\t},\r\n});\n\nvar resolve$3 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('polarArea', {\r\n\tscale: {\r\n\t\ttype: 'radialLinear',\r\n\t\tangleLines: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tgridLines: {\r\n\t\t\tcircular: true\r\n\t\t},\r\n\t\tpointLabels: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tticks: {\r\n\t\t\tbeginAtZero: true\r\n\t\t}\r\n\t},\r\n\r\n\t// Boolean - Whether to animate the rotation of the chart\r\n\tanimation: {\r\n\t\tanimateRotate: true,\r\n\t\tanimateScale: true\r\n\t},\r\n\r\n\tstartAngle: -0.5 * Math.PI,\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\treturn data.labels[item.index] + ': ' + item.yLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_polarArea = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar start = me.chart.options.startAngle || 0;\r\n\t\tvar starts = me._starts = [];\r\n\t\tvar angles = me._angles = [];\r\n\t\tvar arcs = meta.data;\r\n\t\tvar i, ilen, angle;\r\n\r\n\t\tme._updateRadius();\r\n\r\n\t\tmeta.count = me.countVisibleElements();\r\n\r\n\t\tfor (i = 0, ilen = dataset.data.length; i < ilen; i++) {\r\n\t\t\tstarts[i] = start;\r\n\t\t\tangle = me._computeAngle(i);\r\n\t\t\tangles[i] = angle;\r\n\t\t\tstart += angle;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateRadius: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\r\n\r\n\t\tchart.outerRadius = Math.max(minSize / 2, 0);\r\n\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\r\n\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar scale = chart.scale;\r\n\t\tvar labels = chart.data.labels;\r\n\r\n\t\tvar centerX = scale.xCenter;\r\n\t\tvar centerY = scale.yCenter;\r\n\r\n\t\t// var negHalfPI = -0.5 * Math.PI;\r\n\t\tvar datasetStartAngle = opts.startAngle;\r\n\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar startAngle = me._starts[index];\r\n\t\tvar endAngle = startAngle + (arc.hidden ? 0 : me._angles[index]);\r\n\r\n\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\t\t\t_scale: scale,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX,\r\n\t\t\t\ty: centerY,\r\n\t\t\t\tinnerRadius: 0,\r\n\t\t\t\touterRadius: reset ? resetRadius : distance,\r\n\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\r\n\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(labels, index, labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcountVisibleElements: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar count = 0;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn count;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\t\tvar valueOrDefault = helpers$1.valueOrDefault;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeAngle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar count = this.getMeta().count;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\r\n\t\tif (isNaN(dataset.data[index]) || meta.data[index].hidden) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: me.chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\treturn resolve$3([\r\n\t\t\tme.chart.options.elements.arc.angle,\r\n\t\t\t(2 * Math.PI) / count\r\n\t\t], context, index);\r\n\t}\r\n});\n\ncore_defaults._set('pie', helpers$1.clone(core_defaults.doughnut));\r\ncore_defaults._set('pie', {\r\n\tcutoutPercentage: 0\r\n});\r\n\r\n// Pie charts are Doughnut chart with different defaults\r\nvar controller_pie = controller_doughnut;\n\nvar valueOrDefault$7 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('radar', {\r\n\tspanGaps: false,\r\n\tscale: {\r\n\t\ttype: 'radialLinear'\r\n\t},\r\n\telements: {\r\n\t\tline: {\r\n\t\t\tfill: 'start',\r\n\t\t\ttension: 0 // no bezier in radar\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_radar = core_datasetController.extend({\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderWidth',\r\n\t\t'borderColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar config = me._config;\r\n\t\tvar i, ilen;\r\n\r\n\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\tconfig.lineTension = config.tension;\r\n\t\t}\r\n\r\n\t\t// Utility\r\n\t\tline._scale = scale;\r\n\t\tline._datasetIndex = me.index;\r\n\t\t// Data\r\n\t\tline._children = points;\r\n\t\tline._loop = true;\r\n\t\t// Model\r\n\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\tline.pivot();\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\t// Update bezier control points\r\n\t\tme.updateBezierControlPoints();\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar lineModel = me.getMeta().dataset._model;\r\n\t\tvar x = reset ? scale.xCenter : pointPosition.x;\r\n\t\tvar y = reset ? scale.yCenter : pointPosition.y;\r\n\r\n\t\t// Utility\r\n\t\tpoint._scale = scale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = me.index;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x, // value not used in dataset scale, but we want a consistent API between scales\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$7(custom.tension, lineModel ? lineModel.tension : 0),\r\n\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar options = me.chart.options;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\tvalues.spanGaps = valueOrDefault$7(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$7(config.lineTension, options.elements.line.tension);\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar area = me.chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (meta.dataset._model.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tmodel = points[i]._model;\r\n\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\thelpers$1.previousItem(points, i, true)._model,\r\n\t\t\t\tmodel,\r\n\t\t\t\thelpers$1.nextItem(points, i, true)._model,\r\n\t\t\t\tmodel.tension\r\n\t\t\t);\r\n\r\n\t\t\t// Prevent the bezier going outside of the bounds of the graph\r\n\t\t\tmodel.controlPointPreviousX = capControlPoint(controlPoints.previous.x, area.left, area.right);\r\n\t\t\tmodel.controlPointPreviousY = capControlPoint(controlPoints.previous.y, area.top, area.bottom);\r\n\t\t\tmodel.controlPointNextX = capControlPoint(controlPoints.next.x, area.left, area.right);\r\n\t\t\tmodel.controlPointNextY = capControlPoint(controlPoints.next.y, area.top, area.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$7(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$7(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$7(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$7(options.hoverRadius, options.radius);\r\n\t}\r\n});\n\ncore_defaults._set('scatter', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\tid: 'x-axis-1',    // need an ID so datasets can reference the scale\r\n\t\t\ttype: 'linear',    // scatter should not use a category axis\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\tid: 'y-axis-1',\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';     // doesn't make sense for scatter since data are formatted as a point\r\n\t\t\t},\r\n\t\t\tlabel: function(item) {\r\n\t\t\t\treturn '(' + item.xLabel + ', ' + item.yLabel + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tscatter: {\r\n\t\t\tshowLine: false\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Scatter charts use line controllers\r\nvar controller_scatter = controller_line;\n\n// NOTE export a map in which the key represents the controller type, not\r\n// the class, and so must be CamelCase in order to be correctly retrieved\r\n// by the controller in core.controller.js (`controllers[meta.type]`).\r\n\r\nvar controllers = {\r\n\tbar: controller_bar,\r\n\tbubble: controller_bubble,\r\n\tdoughnut: controller_doughnut,\r\n\thorizontalBar: controller_horizontalBar,\r\n\tline: controller_line,\r\n\tpolarArea: controller_polarArea,\r\n\tpie: controller_pie,\r\n\tradar: controller_radar,\r\n\tscatter: controller_scatter\r\n};\n\n/**\r\n * Helper function to get relative position for an event\r\n * @param {Event|IEvent} event - The event to get the position for\r\n * @param {Chart} chart - The chart\r\n * @returns {object} the event position\r\n */\r\nfunction getRelativePosition(e, chart) {\r\n\tif (e.native) {\r\n\t\treturn {\r\n\t\t\tx: e.x,\r\n\t\t\ty: e.y\r\n\t\t};\r\n\t}\r\n\r\n\treturn helpers$1.getRelativePosition(e, chart);\r\n}\r\n\r\n/**\r\n * Helper function to traverse all of the visible elements in the chart\r\n * @param {Chart} chart - the chart\r\n * @param {function} handler - the callback to execute for each visible item\r\n */\r\nfunction parseVisibleItems(chart, handler) {\r\n\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\tvar metadata, i, j, ilen, jlen, element;\r\n\r\n\tfor (i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n\t\tmetadata = metasets[i].data;\r\n\t\tfor (j = 0, jlen = metadata.length; j < jlen; ++j) {\r\n\t\t\telement = metadata[j];\r\n\t\t\tif (!element._view.skip) {\r\n\t\t\t\thandler(element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Helper function to get the items that intersect the event position\r\n * @param {ChartElement[]} items - elements to filter\r\n * @param {object} position - the point to be nearest to\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getIntersectItems(chart, position) {\r\n\tvar elements = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * Helper function to get the items nearest to the event position considering all visible items in teh chart\r\n * @param {Chart} chart - the chart to look at elements from\r\n * @param {object} position - the point to be nearest to\r\n * @param {boolean} intersect - if true, only consider items that intersect the position\r\n * @param {function} distanceMetric - function to provide the distance between points\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getNearestItems(chart, position, intersect, distanceMetric) {\r\n\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\tvar nearestItems = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (intersect && !element.inRange(position.x, position.y)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar center = element.getCenterPoint();\r\n\t\tvar distance = distanceMetric(position, center);\r\n\t\tif (distance < minDistance) {\r\n\t\t\tnearestItems = [element];\r\n\t\t\tminDistance = distance;\r\n\t\t} else if (distance === minDistance) {\r\n\t\t\t// Can have multiple items at the same distance in which case we sort by size\r\n\t\t\tnearestItems.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn nearestItems;\r\n}\r\n\r\n/**\r\n * Get a distance metric function for two points based on the\r\n * axis mode setting\r\n * @param {string} axis - the axis mode. x|y|xy\r\n */\r\nfunction getDistanceMetricForAxis(axis) {\r\n\tvar useX = axis.indexOf('x') !== -1;\r\n\tvar useY = axis.indexOf('y') !== -1;\r\n\r\n\treturn function(pt1, pt2) {\r\n\t\tvar deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\r\n\t\tvar deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\r\n\t\treturn Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n\t};\r\n}\r\n\r\nfunction indexMode(chart, e, options) {\r\n\tvar position = getRelativePosition(e, chart);\r\n\t// Default axis for index mode is 'x' to match old behaviour\r\n\toptions.axis = options.axis || 'x';\r\n\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\tvar elements = [];\r\n\r\n\tif (!items.length) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tchart._getSortedVisibleDatasetMetas().forEach(function(meta) {\r\n\t\tvar element = meta.data[items[0]._index];\r\n\r\n\t\t// don't count items that are skipped (null data)\r\n\t\tif (element && !element._view.skip) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * @interface IInteractionOptions\r\n */\r\n/**\r\n * If true, only consider items that intersect the point\r\n * @name IInterfaceOptions#boolean\r\n * @type Boolean\r\n */\r\n\r\n/**\r\n * Contains interaction related functions\r\n * @namespace Chart.Interaction\r\n */\r\nvar core_interaction = {\r\n\t// Helper function for different modes\r\n\tmodes: {\r\n\t\tsingle: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar elements = [];\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\telements.push(element);\r\n\t\t\t\t\treturn elements;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn elements.slice(0, 1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.label\r\n\t\t * @deprecated since version 2.4.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tlabel: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\r\n\t\t * @function Chart.Interaction.modes.index\r\n\t\t * @since v2.4.0\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tindex: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\r\n\t\t * @function Chart.Interaction.modes.dataset\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tdataset: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\r\n\t\t\tif (items.length > 0) {\r\n\t\t\t\titems = chart.getDatasetMeta(items[0]._datasetIndex).data;\r\n\t\t\t}\r\n\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.x-axis\r\n\t\t * @deprecated since version 2.4.0. Use index mode and intersect == true\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\t'x-axis': function(chart, e) {\r\n\t\t\treturn indexMode(chart, e, {intersect: false});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Point mode returns all elements that hit test based on the event position\r\n\t\t * of the event\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tpoint: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\treturn getIntersectItems(chart, position);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * nearest mode returns the element closest to the point\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tnearest: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\treturn getNearestItems(chart, position, options.intersect, distanceMetric);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * x mode returns the elements that hit-test at the current x coordinate\r\n\t\t * @function Chart.Interaction.modes.x\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tx: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inXRange(position.x)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * y mode returns the elements that hit-test at the current y coordinate\r\n\t\t * @function Chart.Interaction.modes.y\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\ty: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inYRange(position.y)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t}\r\n\t}\r\n};\n\nvar extend = helpers$1.extend;\r\n\r\nfunction filterByPosition(array, position) {\r\n\treturn helpers$1.where(array, function(v) {\r\n\t\treturn v.pos === position;\r\n\t});\r\n}\r\n\r\nfunction sortByWeight(array, reverse) {\r\n\treturn array.sort(function(a, b) {\r\n\t\tvar v0 = reverse ? b : a;\r\n\t\tvar v1 = reverse ? a : b;\r\n\t\treturn v0.weight === v1.weight ?\r\n\t\t\tv0.index - v1.index :\r\n\t\t\tv0.weight - v1.weight;\r\n\t});\r\n}\r\n\r\nfunction wrapBoxes(boxes) {\r\n\tvar layoutBoxes = [];\r\n\tvar i, ilen, box;\r\n\r\n\tfor (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\r\n\t\tbox = boxes[i];\r\n\t\tlayoutBoxes.push({\r\n\t\t\tindex: i,\r\n\t\t\tbox: box,\r\n\t\t\tpos: box.position,\r\n\t\t\thorizontal: box.isHorizontal(),\r\n\t\t\tweight: box.weight\r\n\t\t});\r\n\t}\r\n\treturn layoutBoxes;\r\n}\r\n\r\nfunction setLayoutDims(layouts, params) {\r\n\tvar i, ilen, layout;\r\n\tfor (i = 0, ilen = layouts.length; i < ilen; ++i) {\r\n\t\tlayout = layouts[i];\r\n\t\t// store width used instead of chartArea.w in fitBoxes\r\n\t\tlayout.width = layout.horizontal\r\n\t\t\t? layout.box.fullWidth && params.availableWidth\r\n\t\t\t: params.vBoxMaxWidth;\r\n\t\t// store height used instead of chartArea.h in fitBoxes\r\n\t\tlayout.height = layout.horizontal && params.hBoxMaxHeight;\r\n\t}\r\n}\r\n\r\nfunction buildLayoutBoxes(boxes) {\r\n\tvar layoutBoxes = wrapBoxes(boxes);\r\n\tvar left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\r\n\tvar right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\r\n\tvar top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\r\n\tvar bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\r\n\r\n\treturn {\r\n\t\tleftAndTop: left.concat(top),\r\n\t\trightAndBottom: right.concat(bottom),\r\n\t\tchartArea: filterByPosition(layoutBoxes, 'chartArea'),\r\n\t\tvertical: left.concat(right),\r\n\t\thorizontal: top.concat(bottom)\r\n\t};\r\n}\r\n\r\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\r\n\treturn Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\r\n}\r\n\r\nfunction updateDims(chartArea, params, layout) {\r\n\tvar box = layout.box;\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\tvar newWidth, newHeight;\r\n\r\n\tif (layout.size) {\r\n\t\t// this layout was already counted for, lets first reduce old size\r\n\t\tchartArea[layout.pos] -= layout.size;\r\n\t}\r\n\tlayout.size = layout.horizontal ? box.height : box.width;\r\n\tchartArea[layout.pos] += layout.size;\r\n\r\n\tif (box.getPadding) {\r\n\t\tvar boxPadding = box.getPadding();\r\n\t\tmaxPadding.top = Math.max(maxPadding.top, boxPadding.top);\r\n\t\tmaxPadding.left = Math.max(maxPadding.left, boxPadding.left);\r\n\t\tmaxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\r\n\t\tmaxPadding.right = Math.max(maxPadding.right, boxPadding.right);\r\n\t}\r\n\r\n\tnewWidth = params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right');\r\n\tnewHeight = params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom');\r\n\r\n\tif (newWidth !== chartArea.w || newHeight !== chartArea.h) {\r\n\t\tchartArea.w = newWidth;\r\n\t\tchartArea.h = newHeight;\r\n\r\n\t\t// return true if chart area changed in layout's direction\r\n\t\tvar sizes = layout.horizontal ? [newWidth, chartArea.w] : [newHeight, chartArea.h];\r\n\t\treturn sizes[0] !== sizes[1] && (!isNaN(sizes[0]) || !isNaN(sizes[1]));\r\n\t}\r\n}\r\n\r\nfunction handleMaxPadding(chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction updatePos(pos) {\r\n\t\tvar change = Math.max(maxPadding[pos] - chartArea[pos], 0);\r\n\t\tchartArea[pos] += change;\r\n\t\treturn change;\r\n\t}\r\n\tchartArea.y += updatePos('top');\r\n\tchartArea.x += updatePos('left');\r\n\tupdatePos('right');\r\n\tupdatePos('bottom');\r\n}\r\n\r\nfunction getMargins(horizontal, chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction marginForPositions(positions) {\r\n\t\tvar margin = {left: 0, top: 0, right: 0, bottom: 0};\r\n\t\tpositions.forEach(function(pos) {\r\n\t\t\tmargin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\r\n\t\t});\r\n\t\treturn margin;\r\n\t}\r\n\r\n\treturn horizontal\r\n\t\t? marginForPositions(['left', 'right'])\r\n\t\t: marginForPositions(['top', 'bottom']);\r\n}\r\n\r\nfunction fitBoxes(boxes, chartArea, params) {\r\n\tvar refitBoxes = [];\r\n\tvar i, ilen, layout, box, refit, changed;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\r\n\t\tbox.update(\r\n\t\t\tlayout.width || chartArea.w,\r\n\t\t\tlayout.height || chartArea.h,\r\n\t\t\tgetMargins(layout.horizontal, chartArea)\r\n\t\t);\r\n\t\tif (updateDims(chartArea, params, layout)) {\r\n\t\t\tchanged = true;\r\n\t\t\tif (refitBoxes.length) {\r\n\t\t\t\t// Dimensions changed and there were non full width boxes before this\r\n\t\t\t\t// -> we have to refit those\r\n\t\t\t\trefit = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!box.fullWidth) { // fullWidth boxes don't need to be re-fitted in any case\r\n\t\t\trefitBoxes.push(layout);\r\n\t\t}\r\n\t}\r\n\r\n\treturn refit ? fitBoxes(refitBoxes, chartArea, params) || changed : changed;\r\n}\r\n\r\nfunction placeBoxes(boxes, chartArea, params) {\r\n\tvar userPadding = params.padding;\r\n\tvar x = chartArea.x;\r\n\tvar y = chartArea.y;\r\n\tvar i, ilen, layout, box;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\t\tif (layout.horizontal) {\r\n\t\t\tbox.left = box.fullWidth ? userPadding.left : chartArea.left;\r\n\t\t\tbox.right = box.fullWidth ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\r\n\t\t\tbox.top = y;\r\n\t\t\tbox.bottom = y + box.height;\r\n\t\t\tbox.width = box.right - box.left;\r\n\t\t\ty = box.bottom;\r\n\t\t} else {\r\n\t\t\tbox.left = x;\r\n\t\t\tbox.right = x + box.width;\r\n\t\t\tbox.top = chartArea.top;\r\n\t\t\tbox.bottom = chartArea.top + chartArea.h;\r\n\t\t\tbox.height = box.bottom - box.top;\r\n\t\t\tx = box.right;\r\n\t\t}\r\n\t}\r\n\r\n\tchartArea.x = x;\r\n\tchartArea.y = y;\r\n}\r\n\r\ncore_defaults._set('global', {\r\n\tlayout: {\r\n\t\tpadding: {\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * @interface ILayoutItem\r\n * @prop {string} position - The position of the item in the chart layout. Possible values are\r\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\r\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\r\n * @prop {boolean} fullWidth - if true, and the item is horizontal, then push vertical boxes down\r\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\r\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\r\n * @prop {function} getPadding -  Returns an object with padding on the edges\r\n * @prop {number} width - Width of item. Must be valid after update()\r\n * @prop {number} height - Height of item. Must be valid after update()\r\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\r\n */\r\n\r\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\r\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\r\n// It is this service's responsibility of carrying out that layout.\r\nvar core_layouts = {\r\n\tdefaults: {},\r\n\r\n\t/**\r\n\t * Register a box to a chart.\r\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\r\n\t * @param {Chart} chart - the chart to use\r\n\t * @param {ILayoutItem} item - the item to add to be layed out\r\n\t */\r\n\taddBox: function(chart, item) {\r\n\t\tif (!chart.boxes) {\r\n\t\t\tchart.boxes = [];\r\n\t\t}\r\n\r\n\t\t// initialize item with default values\r\n\t\titem.fullWidth = item.fullWidth || false;\r\n\t\titem.position = item.position || 'top';\r\n\t\titem.weight = item.weight || 0;\r\n\t\titem._layers = item._layers || function() {\r\n\t\t\treturn [{\r\n\t\t\t\tz: 0,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\titem.draw.apply(item, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t};\r\n\r\n\t\tchart.boxes.push(item);\r\n\t},\r\n\r\n\t/**\r\n\t * Remove a layoutItem from a chart\r\n\t * @param {Chart} chart - the chart to remove the box from\r\n\t * @param {ILayoutItem} layoutItem - the item to remove from the layout\r\n\t */\r\n\tremoveBox: function(chart, layoutItem) {\r\n\t\tvar index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\r\n\t\tif (index !== -1) {\r\n\t\t\tchart.boxes.splice(index, 1);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Sets (or updates) options on the given `item`.\r\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\r\n\t * @param {ILayoutItem} item - the item to configure with the given options\r\n\t * @param {object} options - the new item options.\r\n\t */\r\n\tconfigure: function(chart, item, options) {\r\n\t\tvar props = ['fullWidth', 'position', 'weight'];\r\n\t\tvar ilen = props.length;\r\n\t\tvar i = 0;\r\n\t\tvar prop;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tprop = props[i];\r\n\t\t\tif (options.hasOwnProperty(prop)) {\r\n\t\t\t\titem[prop] = options[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Fits boxes of the given chart into the given size by having each box measure itself\r\n\t * then running a fitting algorithm\r\n\t * @param {Chart} chart - the chart\r\n\t * @param {number} width - the width to fit into\r\n\t * @param {number} height - the height to fit into\r\n\t */\r\n\tupdate: function(chart, width, height) {\r\n\t\tif (!chart) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar layoutOptions = chart.options.layout || {};\r\n\t\tvar padding = helpers$1.options.toPadding(layoutOptions.padding);\r\n\r\n\t\tvar availableWidth = width - padding.width;\r\n\t\tvar availableHeight = height - padding.height;\r\n\t\tvar boxes = buildLayoutBoxes(chart.boxes);\r\n\t\tvar verticalBoxes = boxes.vertical;\r\n\t\tvar horizontalBoxes = boxes.horizontal;\r\n\r\n\t\t// Essentially we now have any number of boxes on each of the 4 sides.\r\n\t\t// Our canvas looks like the following.\r\n\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\r\n\t\t// B1 is the bottom axis\r\n\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\r\n\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\r\n\t\t// an error will be thrown.\r\n\t\t//\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  T1 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |    |    |                 T2                  |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    | C1 |                           | C2 |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    | C3 |                           | C4 |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    |                 B1                  |    |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  B2 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t//\r\n\r\n\t\tvar params = Object.freeze({\r\n\t\t\touterWidth: width,\r\n\t\t\touterHeight: height,\r\n\t\t\tpadding: padding,\r\n\t\t\tavailableWidth: availableWidth,\r\n\t\t\tvBoxMaxWidth: availableWidth / 2 / verticalBoxes.length,\r\n\t\t\thBoxMaxHeight: availableHeight / 2\r\n\t\t});\r\n\t\tvar chartArea = extend({\r\n\t\t\tmaxPadding: extend({}, padding),\r\n\t\t\tw: availableWidth,\r\n\t\t\th: availableHeight,\r\n\t\t\tx: padding.left,\r\n\t\t\ty: padding.top\r\n\t\t}, padding);\r\n\r\n\t\tsetLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\r\n\r\n\t\t// First fit vertical boxes\r\n\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\r\n\t\t// Then fit horizontal boxes\r\n\t\tif (fitBoxes(horizontalBoxes, chartArea, params)) {\r\n\t\t\t// if the area changed, re-fit vertical boxes\r\n\t\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\t\t}\r\n\r\n\t\thandleMaxPadding(chartArea);\r\n\r\n\t\t// Finally place the boxes to correct coordinates\r\n\t\tplaceBoxes(boxes.leftAndTop, chartArea, params);\r\n\r\n\t\t// Move to opposite side of chart\r\n\t\tchartArea.x += chartArea.w;\r\n\t\tchartArea.y += chartArea.h;\r\n\r\n\t\tplaceBoxes(boxes.rightAndBottom, chartArea, params);\r\n\r\n\t\tchart.chartArea = {\r\n\t\t\tleft: chartArea.left,\r\n\t\t\ttop: chartArea.top,\r\n\t\t\tright: chartArea.left + chartArea.w,\r\n\t\t\tbottom: chartArea.top + chartArea.h\r\n\t\t};\r\n\r\n\t\t// Finally update boxes in chartArea (radial scale for example)\r\n\t\thelpers$1.each(boxes.chartArea, function(layout) {\r\n\t\t\tvar box = layout.box;\r\n\t\t\textend(box, chart.chartArea);\r\n\t\t\tbox.update(chartArea.w, chartArea.h);\r\n\t\t});\r\n\t}\r\n};\n\n/**\r\n * Platform fallback implementation (minimal).\r\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\r\n */\r\n\r\nvar platform_basic = {\r\n\tacquireContext: function(item) {\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\treturn item && item.getContext('2d') || null;\r\n\t}\r\n};\n\nvar platform_dom = \"/*\\r\\n * DOM element rendering detection\\r\\n * https://davidwalsh.name/detect-node-insertion\\r\\n */\\r\\n@keyframes chartjs-render-animation {\\r\\n\\tfrom { opacity: 0.99; }\\r\\n\\tto { opacity: 1; }\\r\\n}\\r\\n\\r\\n.chartjs-render-monitor {\\r\\n\\tanimation: chartjs-render-animation 0.001s;\\r\\n}\\r\\n\\r\\n/*\\r\\n * DOM element resizing detection\\r\\n * https://github.com/marcj/css-element-queries\\r\\n */\\r\\n.chartjs-size-monitor,\\r\\n.chartjs-size-monitor-expand,\\r\\n.chartjs-size-monitor-shrink {\\r\\n\\tposition: absolute;\\r\\n\\tdirection: ltr;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n\\tright: 0;\\r\\n\\tbottom: 0;\\r\\n\\toverflow: hidden;\\r\\n\\tpointer-events: none;\\r\\n\\tvisibility: hidden;\\r\\n\\tz-index: -1;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-expand > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 1000000px;\\r\\n\\theight: 1000000px;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-shrink > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 200%;\\r\\n\\theight: 200%;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\";\n\nvar platform_dom$1 = /*#__PURE__*/Object.freeze({\n__proto__: null,\n'default': platform_dom\n});\n\nvar stylesheet = getCjsExportFromNamespace(platform_dom$1);\n\nvar EXPANDO_KEY = '$chartjs';\r\nvar CSS_PREFIX = 'chartjs-';\r\nvar CSS_SIZE_MONITOR = CSS_PREFIX + 'size-monitor';\r\nvar CSS_RENDER_MONITOR = CSS_PREFIX + 'render-monitor';\r\nvar CSS_RENDER_ANIMATION = CSS_PREFIX + 'render-animation';\r\nvar ANIMATION_START_EVENTS = ['animationstart', 'webkitAnimationStart'];\r\n\r\n/**\r\n * DOM event types -> Chart.js event types.\r\n * Note: only events with different types are mapped.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\r\n */\r\nvar EVENT_TYPES = {\r\n\ttouchstart: 'mousedown',\r\n\ttouchmove: 'mousemove',\r\n\ttouchend: 'mouseup',\r\n\tpointerenter: 'mouseenter',\r\n\tpointerdown: 'mousedown',\r\n\tpointermove: 'mousemove',\r\n\tpointerup: 'mouseup',\r\n\tpointerleave: 'mouseout',\r\n\tpointerout: 'mouseout'\r\n};\r\n\r\n/**\r\n * The \"used\" size is the final value of a dimension property after all calculations have\r\n * been performed. This method uses the computed style of `element` but returns undefined\r\n * if the computed style is not expressed in pixels. That can happen in some cases where\r\n * `element` has a size relative to its parent and this last one is not yet displayed,\r\n * for example because of `display: none` on a parent node.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\r\n * @returns {number} Size in pixels or undefined if unknown.\r\n */\r\nfunction readUsedSize(element, property) {\r\n\tvar value = helpers$1.getStyle(element, property);\r\n\tvar matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\r\n\treturn matches ? Number(matches[1]) : undefined;\r\n}\r\n\r\n/**\r\n * Initializes the canvas style and render size without modifying the canvas display size,\r\n * since responsiveness is handled by the controller.resize() method. The config is used\r\n * to determine the aspect ratio to apply in case no explicit height has been specified.\r\n */\r\nfunction initCanvas(canvas, config) {\r\n\tvar style = canvas.style;\r\n\r\n\t// NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\r\n\t// returns null or '' if no explicit value has been set to the canvas attribute.\r\n\tvar renderHeight = canvas.getAttribute('height');\r\n\tvar renderWidth = canvas.getAttribute('width');\r\n\r\n\t// Chart.js modifies some canvas values that we want to restore on destroy\r\n\tcanvas[EXPANDO_KEY] = {\r\n\t\tinitial: {\r\n\t\t\theight: renderHeight,\r\n\t\t\twidth: renderWidth,\r\n\t\t\tstyle: {\r\n\t\t\t\tdisplay: style.display,\r\n\t\t\t\theight: style.height,\r\n\t\t\t\twidth: style.width\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// Force canvas to display as block to avoid extra space caused by inline\r\n\t// elements, which would interfere with the responsive resize process.\r\n\t// https://github.com/chartjs/Chart.js/issues/2538\r\n\tstyle.display = style.display || 'block';\r\n\r\n\tif (renderWidth === null || renderWidth === '') {\r\n\t\tvar displayWidth = readUsedSize(canvas, 'width');\r\n\t\tif (displayWidth !== undefined) {\r\n\t\t\tcanvas.width = displayWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tif (renderHeight === null || renderHeight === '') {\r\n\t\tif (canvas.style.height === '') {\r\n\t\t\t// If no explicit render height and style height, let's apply the aspect ratio,\r\n\t\t\t// which one can be specified by the user but also by charts as default option\r\n\t\t\t// (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\r\n\t\t\tcanvas.height = canvas.width / (config.options.aspectRatio || 2);\r\n\t\t} else {\r\n\t\t\tvar displayHeight = readUsedSize(canvas, 'height');\r\n\t\t\tif (displayWidth !== undefined) {\r\n\t\t\t\tcanvas.height = displayHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn canvas;\r\n}\r\n\r\n/**\r\n * Detects support for options object argument in addEventListener.\r\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\r\n * @private\r\n */\r\nvar supportsEventListenerOptions = (function() {\r\n\tvar supports = false;\r\n\ttry {\r\n\t\tvar options = Object.defineProperty({}, 'passive', {\r\n\t\t\t// eslint-disable-next-line getter-return\r\n\t\t\tget: function() {\r\n\t\t\t\tsupports = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\twindow.addEventListener('e', null, options);\r\n\t} catch (e) {\r\n\t\t// continue regardless of error\r\n\t}\r\n\treturn supports;\r\n}());\r\n\r\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\r\n// https://github.com/chartjs/Chart.js/issues/4287\r\nvar eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\r\n\r\nfunction addListener(node, type, listener) {\r\n\tnode.addEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction removeListener(node, type, listener) {\r\n\tnode.removeEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction createEvent(type, chart, x, y, nativeEvent) {\r\n\treturn {\r\n\t\ttype: type,\r\n\t\tchart: chart,\r\n\t\tnative: nativeEvent || null,\r\n\t\tx: x !== undefined ? x : null,\r\n\t\ty: y !== undefined ? y : null,\r\n\t};\r\n}\r\n\r\nfunction fromNativeEvent(event, chart) {\r\n\tvar type = EVENT_TYPES[event.type] || event.type;\r\n\tvar pos = helpers$1.getRelativePosition(event, chart);\r\n\treturn createEvent(type, chart, pos.x, pos.y, event);\r\n}\r\n\r\nfunction throttled(fn, thisArg) {\r\n\tvar ticking = false;\r\n\tvar args = [];\r\n\r\n\treturn function() {\r\n\t\targs = Array.prototype.slice.call(arguments);\r\n\t\tthisArg = thisArg || this;\r\n\r\n\t\tif (!ticking) {\r\n\t\t\tticking = true;\r\n\t\t\thelpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tticking = false;\r\n\t\t\t\tfn.apply(thisArg, args);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction createDiv(cls) {\r\n\tvar el = document.createElement('div');\r\n\tel.className = cls || '';\r\n\treturn el;\r\n}\r\n\r\n// Implementation based on https://github.com/marcj/css-element-queries\r\nfunction createResizer(handler) {\r\n\tvar maxSize = 1000000;\r\n\r\n\t// NOTE(SB) Don't use innerHTML because it could be considered unsafe.\r\n\t// https://github.com/chartjs/Chart.js/issues/5902\r\n\tvar resizer = createDiv(CSS_SIZE_MONITOR);\r\n\tvar expand = createDiv(CSS_SIZE_MONITOR + '-expand');\r\n\tvar shrink = createDiv(CSS_SIZE_MONITOR + '-shrink');\r\n\r\n\texpand.appendChild(createDiv());\r\n\tshrink.appendChild(createDiv());\r\n\r\n\tresizer.appendChild(expand);\r\n\tresizer.appendChild(shrink);\r\n\tresizer._reset = function() {\r\n\t\texpand.scrollLeft = maxSize;\r\n\t\texpand.scrollTop = maxSize;\r\n\t\tshrink.scrollLeft = maxSize;\r\n\t\tshrink.scrollTop = maxSize;\r\n\t};\r\n\r\n\tvar onScroll = function() {\r\n\t\tresizer._reset();\r\n\t\thandler();\r\n\t};\r\n\r\n\taddListener(expand, 'scroll', onScroll.bind(expand, 'expand'));\r\n\taddListener(shrink, 'scroll', onScroll.bind(shrink, 'shrink'));\r\n\r\n\treturn resizer;\r\n}\r\n\r\n// https://davidwalsh.name/detect-node-insertion\r\nfunction watchForRender(node, handler) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\tvar proxy = expando.renderProxy = function(e) {\r\n\t\tif (e.animationName === CSS_RENDER_ANIMATION) {\r\n\t\t\thandler();\r\n\t\t}\r\n\t};\r\n\r\n\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\taddListener(node, type, proxy);\r\n\t});\r\n\r\n\t// #4737: Chrome might skip the CSS animation when the CSS_RENDER_MONITOR class\r\n\t// is removed then added back immediately (same animation frame?). Accessing the\r\n\t// `offsetParent` property will force a reflow and re-evaluate the CSS animation.\r\n\t// https://gist.github.com/paulirish/5d52fb081b3570c81e3a#box-metrics\r\n\t// https://github.com/chartjs/Chart.js/issues/4737\r\n\texpando.reflow = !!node.offsetParent;\r\n\r\n\tnode.classList.add(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction unwatchForRender(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar proxy = expando.renderProxy;\r\n\r\n\tif (proxy) {\r\n\t\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\t\tremoveListener(node, type, proxy);\r\n\t\t});\r\n\r\n\t\tdelete expando.renderProxy;\r\n\t}\r\n\r\n\tnode.classList.remove(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction addResizeListener(node, listener, chart) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\r\n\t// Let's keep track of this added resizer and thus avoid DOM query when removing it.\r\n\tvar resizer = expando.resizer = createResizer(throttled(function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = chart.options.maintainAspectRatio && node.parentNode;\r\n\t\t\tvar w = container ? container.clientWidth : 0;\r\n\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\tif (container && container.clientWidth < w && chart.canvas) {\r\n\t\t\t\t// If the container size shrank during chart resize, let's assume\r\n\t\t\t\t// scrollbar appeared. So we resize again with the scrollbar visible -\r\n\t\t\t\t// effectively making chart smaller and the scrollbar hidden again.\r\n\t\t\t\t// Because we are inside `throttled`, and currently `ticking`, scroll\r\n\t\t\t\t// events are ignored during this whole 2 resize process.\r\n\t\t\t\t// If we assumed wrong and something else happened, we are resizing\r\n\t\t\t\t// twice in a frame (potential performance issue)\r\n\t\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\t}\r\n\t\t}\r\n\t}));\r\n\r\n\t// The resizer needs to be attached to the node parent, so we first need to be\r\n\t// sure that `node` is attached to the DOM before injecting the resizer element.\r\n\twatchForRender(node, function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = node.parentNode;\r\n\t\t\tif (container && container !== resizer.parentNode) {\r\n\t\t\t\tcontainer.insertBefore(resizer, container.firstChild);\r\n\t\t\t}\r\n\r\n\t\t\t// The container size might have changed, let's reset the resizer state.\r\n\t\t\tresizer._reset();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction removeResizeListener(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar resizer = expando.resizer;\r\n\r\n\tdelete expando.resizer;\r\n\tunwatchForRender(node);\r\n\r\n\tif (resizer && resizer.parentNode) {\r\n\t\tresizer.parentNode.removeChild(resizer);\r\n\t}\r\n}\r\n\r\n/**\r\n * Injects CSS styles inline if the styles are not already present.\r\n * @param {HTMLDocument|ShadowRoot} rootNode - the node to contain the <style>.\r\n * @param {string} css - the CSS to be injected.\r\n */\r\nfunction injectCSS(rootNode, css) {\r\n\t// https://stackoverflow.com/q/3922139\r\n\tvar expando = rootNode[EXPANDO_KEY] || (rootNode[EXPANDO_KEY] = {});\r\n\tif (!expando.containsStyles) {\r\n\t\texpando.containsStyles = true;\r\n\t\tcss = '/* Chart.js */\\n' + css;\r\n\t\tvar style = document.createElement('style');\r\n\t\tstyle.setAttribute('type', 'text/css');\r\n\t\tstyle.appendChild(document.createTextNode(css));\r\n\t\trootNode.appendChild(style);\r\n\t}\r\n}\r\n\r\nvar platform_dom$2 = {\r\n\t/**\r\n\t * When `true`, prevents the automatic injection of the stylesheet required to\r\n\t * correctly detect when the chart is added to the DOM and then resized. This\r\n\t * switch has been added to allow external stylesheet (`dist/Chart(.min)?.js`)\r\n\t * to be manually imported to make this library compatible with any CSP.\r\n\t * See https://github.com/chartjs/Chart.js/issues/5208\r\n\t */\r\n\tdisableCSSInjection: false,\r\n\r\n\t/**\r\n\t * This property holds whether this platform is enabled for the current environment.\r\n\t * Currently used by platform.js to select the proper implementation.\r\n\t * @private\r\n\t */\r\n\t_enabled: typeof window !== 'undefined' && typeof document !== 'undefined',\r\n\r\n\t/**\r\n\t * Initializes resources that depend on platform options.\r\n\t * @param {HTMLCanvasElement} canvas - The Canvas element.\r\n\t * @private\r\n\t */\r\n\t_ensureLoaded: function(canvas) {\r\n\t\tif (!this.disableCSSInjection) {\r\n\t\t\t// If the canvas is in a shadow DOM, then the styles must also be inserted\r\n\t\t\t// into the same shadow DOM.\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5763\r\n\t\t\tvar root = canvas.getRootNode ? canvas.getRootNode() : document;\r\n\t\t\tvar targetNode = root.host ? root : document.head;\r\n\t\t\tinjectCSS(targetNode, stylesheet);\r\n\t\t}\r\n\t},\r\n\r\n\tacquireContext: function(item, config) {\r\n\t\tif (typeof item === 'string') {\r\n\t\t\titem = document.getElementById(item);\r\n\t\t} else if (item.length) {\r\n\t\t\t// Support for array based queries (such as jQuery)\r\n\t\t\titem = item[0];\r\n\t\t}\r\n\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\t// To prevent canvas fingerprinting, some add-ons undefine the getContext\r\n\t\t// method, for example: https://github.com/kkapsner/CanvasBlocker\r\n\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\tvar context = item && item.getContext && item.getContext('2d');\r\n\r\n\t\t// `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the item is\r\n\t\t// inside an iframe or when running in a protected environment. We could guess the\r\n\t\t// types from their toString() value but let's keep things flexible and assume it's\r\n\t\t// a sufficient condition if the item has a context2D which has item as `canvas`.\r\n\t\t// https://github.com/chartjs/Chart.js/issues/3887\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4102\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4152\r\n\t\tif (context && context.canvas === item) {\r\n\t\t\t// Load platform resources on first chart creation, to make it possible to\r\n\t\t\t// import the library before setting platform options.\r\n\t\t\tthis._ensureLoaded(item);\r\n\t\t\tinitCanvas(item, config);\r\n\t\t\treturn context;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\treleaseContext: function(context) {\r\n\t\tvar canvas = context.canvas;\r\n\t\tif (!canvas[EXPANDO_KEY]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar initial = canvas[EXPANDO_KEY].initial;\r\n\t\t['height', 'width'].forEach(function(prop) {\r\n\t\t\tvar value = initial[prop];\r\n\t\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\t\tcanvas.removeAttribute(prop);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.setAttribute(prop, value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(initial.style || {}, function(value, key) {\r\n\t\t\tcanvas.style[key] = value;\r\n\t\t});\r\n\r\n\t\t// The canvas render size might have been changed (and thus the state stack discarded),\r\n\t\t// we can't use save() and restore() to restore the initial state. So make sure that at\r\n\t\t// least the canvas context is reset to the default state by setting the canvas width.\r\n\t\t// https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\r\n\t\t// eslint-disable-next-line no-self-assign\r\n\t\tcanvas.width = canvas.width;\r\n\r\n\t\tdelete canvas[EXPANDO_KEY];\r\n\t},\r\n\r\n\taddEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\taddResizeListener(canvas, listener, chart);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || (listener[EXPANDO_KEY] = {});\r\n\t\tvar proxies = expando.proxies || (expando.proxies = {});\r\n\t\tvar proxy = proxies[chart.id + '_' + type] = function(event) {\r\n\t\t\tlistener(fromNativeEvent(event, chart));\r\n\t\t};\r\n\r\n\t\taddListener(canvas, type, proxy);\r\n\t},\r\n\r\n\tremoveEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\tremoveResizeListener(canvas);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || {};\r\n\t\tvar proxies = expando.proxies || {};\r\n\t\tvar proxy = proxies[chart.id + '_' + type];\r\n\t\tif (!proxy) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tremoveListener(canvas, type, proxy);\r\n\t}\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.addEventListener instead.\r\n * EventTarget.addEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\r\n * @function Chart.helpers.addEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.addEvent = addListener;\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.removeEventListener instead.\r\n * EventTarget.removeEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener\r\n * @function Chart.helpers.removeEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.removeEvent = removeListener;\n\n// @TODO Make possible to select another platform at build time.\r\nvar implementation = platform_dom$2._enabled ? platform_dom$2 : platform_basic;\r\n\r\n/**\r\n * @namespace Chart.platform\r\n * @see https://chartjs.gitbooks.io/proposals/content/Platform.html\r\n * @since 2.4.0\r\n */\r\nvar platform = helpers$1.extend({\r\n\t/**\r\n\t * @since 2.7.0\r\n\t */\r\n\tinitialize: function() {},\r\n\r\n\t/**\r\n\t * Called at chart construction time, returns a context2d instance implementing\r\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\r\n\t * @param {*} item - The native item from which to acquire context (platform specific)\r\n\t * @param {object} options - The chart options\r\n\t * @returns {CanvasRenderingContext2D} context2d instance\r\n\t */\r\n\tacquireContext: function() {},\r\n\r\n\t/**\r\n\t * Called at chart destruction time, releases any resources associated to the context\r\n\t * previously returned by the acquireContext() method.\r\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\r\n\t * @returns {boolean} true if the method succeeded, else false\r\n\t */\r\n\treleaseContext: function() {},\r\n\r\n\t/**\r\n\t * Registers the specified listener on the given chart.\r\n\t * @param {Chart} chart - Chart from which to listen for event\r\n\t * @param {string} type - The ({@link IEvent}) type to listen for\r\n\t * @param {function} listener - Receives a notification (an object that implements\r\n\t * the {@link IEvent} interface) when an event of the specified type occurs.\r\n\t */\r\n\taddEventListener: function() {},\r\n\r\n\t/**\r\n\t * Removes the specified listener previously registered with addEventListener.\r\n\t * @param {Chart} chart - Chart from which to remove the listener\r\n\t * @param {string} type - The ({@link IEvent}) type to remove\r\n\t * @param {function} listener - The listener function to remove from the event target.\r\n\t */\r\n\tremoveEventListener: function() {}\r\n\r\n}, implementation);\n\ncore_defaults._set('global', {\r\n\tplugins: {}\r\n});\r\n\r\n/**\r\n * The plugin service singleton\r\n * @namespace Chart.plugins\r\n * @since 2.1.0\r\n */\r\nvar core_plugins = {\r\n\t/**\r\n\t * Globally registered plugins.\r\n\t * @private\r\n\t */\r\n\t_plugins: [],\r\n\r\n\t/**\r\n\t * This identifier is used to invalidate the descriptors cache attached to each chart\r\n\t * when a global plugin is registered or unregistered. In this case, the cache ID is\r\n\t * incremented and descriptors are regenerated during following API calls.\r\n\t * @private\r\n\t */\r\n\t_cacheId: 0,\r\n\r\n\t/**\r\n\t * Registers the given plugin(s) if not already registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tif (p.indexOf(plugin) === -1) {\r\n\t\t\t\tp.push(plugin);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Unregisters the given plugin(s) only if registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tunregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tvar idx = p.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\tp.splice(idx, 1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Remove all registered plugins.\r\n\t * @since 2.1.5\r\n\t */\r\n\tclear: function() {\r\n\t\tthis._plugins = [];\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the number of registered plugins?\r\n\t * @returns {number}\r\n\t * @since 2.1.5\r\n\t */\r\n\tcount: function() {\r\n\t\treturn this._plugins.length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns all registered plugin instances.\r\n\t * @returns {IPlugin[]} array of plugin objects.\r\n\t * @since 2.1.5\r\n\t */\r\n\tgetAll: function() {\r\n\t\treturn this._plugins;\r\n\t},\r\n\r\n\t/**\r\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\r\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\r\n\t * returned value can be used, for instance, to interrupt the current action.\r\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\r\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\r\n\t * @param {Array} [args] - Extra arguments to apply to the hook call.\r\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\r\n\t */\r\n\tnotify: function(chart, hook, args) {\r\n\t\tvar descriptors = this.descriptors(chart);\r\n\t\tvar ilen = descriptors.length;\r\n\t\tvar i, descriptor, plugin, params, method;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tdescriptor = descriptors[i];\r\n\t\t\tplugin = descriptor.plugin;\r\n\t\t\tmethod = plugin[hook];\r\n\t\t\tif (typeof method === 'function') {\r\n\t\t\t\tparams = [chart].concat(args || []);\r\n\t\t\t\tparams.push(descriptor.options);\r\n\t\t\t\tif (method.apply(plugin, params) === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns descriptors of enabled plugins for the given chart.\r\n\t * @returns {object[]} [{ plugin, options }]\r\n\t * @private\r\n\t */\r\n\tdescriptors: function(chart) {\r\n\t\tvar cache = chart.$plugins || (chart.$plugins = {});\r\n\t\tif (cache.id === this._cacheId) {\r\n\t\t\treturn cache.descriptors;\r\n\t\t}\r\n\r\n\t\tvar plugins = [];\r\n\t\tvar descriptors = [];\r\n\t\tvar config = (chart && chart.config) || {};\r\n\t\tvar options = (config.options && config.options.plugins) || {};\r\n\r\n\t\tthis._plugins.concat(config.plugins || []).forEach(function(plugin) {\r\n\t\t\tvar idx = plugins.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar id = plugin.id;\r\n\t\t\tvar opts = options[id];\r\n\t\t\tif (opts === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts === true) {\r\n\t\t\t\topts = helpers$1.clone(core_defaults.global.plugins[id]);\r\n\t\t\t}\r\n\r\n\t\t\tplugins.push(plugin);\r\n\t\t\tdescriptors.push({\r\n\t\t\t\tplugin: plugin,\r\n\t\t\t\toptions: opts || {}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tcache.descriptors = descriptors;\r\n\t\tcache.id = this._cacheId;\r\n\t\treturn descriptors;\r\n\t},\r\n\r\n\t/**\r\n\t * Invalidates cache for the given chart: descriptors hold a reference on plugin option,\r\n\t * but in some cases, this reference can be changed by the user when updating options.\r\n\t * https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t * @private\r\n\t */\r\n\t_invalidate: function(chart) {\r\n\t\tdelete chart.$plugins;\r\n\t}\r\n};\n\nvar core_scaleService = {\r\n\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\r\n\t// use the new chart options to grab the correct scale\r\n\tconstructors: {},\r\n\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\r\n\t// old browsers\r\n\r\n\t// Scale config defaults\r\n\tdefaults: {},\r\n\tregisterScaleType: function(type, scaleConstructor, scaleDefaults) {\r\n\t\tthis.constructors[type] = scaleConstructor;\r\n\t\tthis.defaults[type] = helpers$1.clone(scaleDefaults);\r\n\t},\r\n\tgetScaleConstructor: function(type) {\r\n\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\r\n\t},\r\n\tgetScaleDefaults: function(type) {\r\n\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\r\n\t\treturn this.defaults.hasOwnProperty(type) ? helpers$1.merge(Object.create(null), [core_defaults.scale, this.defaults[type]]) : {};\r\n\t},\r\n\tupdateScaleDefaults: function(type, additions) {\r\n\t\tvar me = this;\r\n\t\tif (me.defaults.hasOwnProperty(type)) {\r\n\t\t\tme.defaults[type] = helpers$1.extend(me.defaults[type], additions);\r\n\t\t}\r\n\t},\r\n\taddScalesToLayout: function(chart) {\r\n\t\t// Adds each scale to the chart.boxes array to be sized accordingly\r\n\t\thelpers$1.each(chart.scales, function(scale) {\r\n\t\t\t// Set ILayoutItem parameters for backwards compatibility\r\n\t\t\tscale.fullWidth = scale.options.fullWidth;\r\n\t\t\tscale.position = scale.options.position;\r\n\t\t\tscale.weight = scale.options.weight;\r\n\t\t\tcore_layouts.addBox(chart, scale);\r\n\t\t});\r\n\t}\r\n};\n\nvar valueOrDefault$8 = helpers$1.valueOrDefault;\r\nvar getRtlHelper = helpers$1.rtl.getRtlAdapter;\r\n\r\ncore_defaults._set('global', {\r\n\ttooltips: {\r\n\t\tenabled: true,\r\n\t\tcustom: null,\r\n\t\tmode: 'nearest',\r\n\t\tposition: 'average',\r\n\t\tintersect: true,\r\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\ttitleFontStyle: 'bold',\r\n\t\ttitleSpacing: 2,\r\n\t\ttitleMarginBottom: 6,\r\n\t\ttitleFontColor: '#fff',\r\n\t\ttitleAlign: 'left',\r\n\t\tbodySpacing: 2,\r\n\t\tbodyFontColor: '#fff',\r\n\t\tbodyAlign: 'left',\r\n\t\tfooterFontStyle: 'bold',\r\n\t\tfooterSpacing: 2,\r\n\t\tfooterMarginTop: 6,\r\n\t\tfooterFontColor: '#fff',\r\n\t\tfooterAlign: 'left',\r\n\t\tyPadding: 6,\r\n\t\txPadding: 6,\r\n\t\tcaretPadding: 2,\r\n\t\tcaretSize: 5,\r\n\t\tcornerRadius: 6,\r\n\t\tmultiKeyBackground: '#fff',\r\n\t\tdisplayColors: true,\r\n\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\tborderWidth: 0,\r\n\t\tcallbacks: {\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeTitle: helpers$1.noop,\r\n\t\t\ttitle: function(tooltipItems, data) {\r\n\t\t\t\tvar title = '';\r\n\t\t\t\tvar labels = data.labels;\r\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\r\n\r\n\t\t\t\tif (tooltipItems.length > 0) {\r\n\t\t\t\t\tvar item = tooltipItems[0];\r\n\t\t\t\t\tif (item.label) {\r\n\t\t\t\t\t\ttitle = item.label;\r\n\t\t\t\t\t} else if (item.xLabel) {\r\n\t\t\t\t\t\ttitle = item.xLabel;\r\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\r\n\t\t\t\t\t\ttitle = labels[item.index];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn title;\r\n\t\t\t},\r\n\t\t\tafterTitle: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItem, data)\r\n\t\t\tbeforeLabel: helpers$1.noop,\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\r\n\r\n\t\t\t\tif (label) {\r\n\t\t\t\t\tlabel += ': ';\r\n\t\t\t\t}\r\n\t\t\t\tif (!helpers$1.isNullOrUndef(tooltipItem.value)) {\r\n\t\t\t\t\tlabel += tooltipItem.value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlabel += tooltipItem.yLabel;\r\n\t\t\t\t}\r\n\t\t\t\treturn label;\r\n\t\t\t},\r\n\t\t\tlabelColor: function(tooltipItem, chart) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(tooltipItem.datasetIndex);\r\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\r\n\t\t\t\tvar view = activeElement._view;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tborderColor: view.borderColor,\r\n\t\t\t\t\tbackgroundColor: view.backgroundColor\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tlabelTextColor: function() {\r\n\t\t\t\treturn this._options.bodyFontColor;\r\n\t\t\t},\r\n\t\t\tafterLabel: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tafterBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeFooter: helpers$1.noop,\r\n\t\t\tfooter: helpers$1.noop,\r\n\t\t\tafterFooter: helpers$1.noop\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar positioners = {\r\n\t/**\r\n\t * Average mode places the tooltip at the average position of the elements shown\r\n\t * @function Chart.Tooltip.positioners.average\r\n\t * @param elements {ChartElement[]} the elements being displayed in the tooltip\r\n\t * @returns {object} tooltip position\r\n\t */\r\n\taverage: function(elements) {\r\n\t\tif (!elements.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar i, len;\r\n\t\tvar x = 0;\r\n\t\tvar y = 0;\r\n\t\tvar count = 0;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar pos = el.tooltipPosition();\r\n\t\t\t\tx += pos.x;\r\n\t\t\t\ty += pos.y;\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x / count,\r\n\t\t\ty: y / count\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Gets the tooltip position nearest of the item nearest to the event position\r\n\t * @function Chart.Tooltip.positioners.nearest\r\n\t * @param elements {Chart.Element[]} the tooltip elements\r\n\t * @param eventPosition {object} the position of the event in canvas coordinates\r\n\t * @returns {object} the tooltip position\r\n\t */\r\n\tnearest: function(elements, eventPosition) {\r\n\t\tvar x = eventPosition.x;\r\n\t\tvar y = eventPosition.y;\r\n\t\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\t\tvar i, len, nearestElement;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar center = el.getCenterPoint();\r\n\t\t\t\tvar d = helpers$1.distanceBetweenPoints(eventPosition, center);\r\n\r\n\t\t\t\tif (d < minDistance) {\r\n\t\t\t\t\tminDistance = d;\r\n\t\t\t\t\tnearestElement = el;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (nearestElement) {\r\n\t\t\tvar tp = nearestElement.tooltipPosition();\r\n\t\t\tx = tp.x;\r\n\t\t\ty = tp.y;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// Helper to push or concat based on if the 2nd parameter is an array or not\r\nfunction pushOrConcat(base, toPush) {\r\n\tif (toPush) {\r\n\t\tif (helpers$1.isArray(toPush)) {\r\n\t\t\t// base = base.concat(toPush);\r\n\t\t\tArray.prototype.push.apply(base, toPush);\r\n\t\t} else {\r\n\t\t\tbase.push(toPush);\r\n\t\t}\r\n\t}\r\n\r\n\treturn base;\r\n}\r\n\r\n/**\r\n * Returns array of strings split by newline\r\n * @param {string} value - The value to split by newline.\r\n * @returns {string[]} value if newline present - Returned from String split() method\r\n * @function\r\n */\r\nfunction splitNewlines(str) {\r\n\tif ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\r\n\t\treturn str.split('\\n');\r\n\t}\r\n\treturn str;\r\n}\r\n\r\n\r\n/**\r\n * Private helper to create a tooltip item model\r\n * @param element - the chart element (point, arc, bar) to create the tooltip item for\r\n * @return new tooltip item\r\n */\r\nfunction createTooltipItem(element) {\r\n\tvar xScale = element._xScale;\r\n\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\r\n\tvar index = element._index;\r\n\tvar datasetIndex = element._datasetIndex;\r\n\tvar controller = element._chart.getDatasetMeta(datasetIndex).controller;\r\n\tvar indexScale = controller._getIndexScale();\r\n\tvar valueScale = controller._getValueScale();\r\n\r\n\treturn {\r\n\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tlabel: indexScale ? '' + indexScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tvalue: valueScale ? '' + valueScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tindex: index,\r\n\t\tdatasetIndex: datasetIndex,\r\n\t\tx: element._model.x,\r\n\t\ty: element._model.y\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the reset model for the tooltip\r\n * @param tooltipOpts {object} the tooltip options\r\n */\r\nfunction getBaseModel(tooltipOpts) {\r\n\tvar globalDefaults = core_defaults.global;\r\n\r\n\treturn {\r\n\t\t// Positioning\r\n\t\txPadding: tooltipOpts.xPadding,\r\n\t\tyPadding: tooltipOpts.yPadding,\r\n\t\txAlign: tooltipOpts.xAlign,\r\n\t\tyAlign: tooltipOpts.yAlign,\r\n\r\n\t\t// Drawing direction and text direction\r\n\t\trtl: tooltipOpts.rtl,\r\n\t\ttextDirection: tooltipOpts.textDirection,\r\n\r\n\t\t// Body\r\n\t\tbodyFontColor: tooltipOpts.bodyFontColor,\r\n\t\t_bodyFontFamily: valueOrDefault$8(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_bodyFontStyle: valueOrDefault$8(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\r\n\t\t_bodyAlign: tooltipOpts.bodyAlign,\r\n\t\tbodyFontSize: valueOrDefault$8(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\r\n\t\tbodySpacing: tooltipOpts.bodySpacing,\r\n\r\n\t\t// Title\r\n\t\ttitleFontColor: tooltipOpts.titleFontColor,\r\n\t\t_titleFontFamily: valueOrDefault$8(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_titleFontStyle: valueOrDefault$8(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\r\n\t\ttitleFontSize: valueOrDefault$8(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\r\n\t\t_titleAlign: tooltipOpts.titleAlign,\r\n\t\ttitleSpacing: tooltipOpts.titleSpacing,\r\n\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\r\n\r\n\t\t// Footer\r\n\t\tfooterFontColor: tooltipOpts.footerFontColor,\r\n\t\t_footerFontFamily: valueOrDefault$8(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_footerFontStyle: valueOrDefault$8(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\r\n\t\tfooterFontSize: valueOrDefault$8(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\r\n\t\t_footerAlign: tooltipOpts.footerAlign,\r\n\t\tfooterSpacing: tooltipOpts.footerSpacing,\r\n\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\r\n\r\n\t\t// Appearance\r\n\t\tcaretSize: tooltipOpts.caretSize,\r\n\t\tcornerRadius: tooltipOpts.cornerRadius,\r\n\t\tbackgroundColor: tooltipOpts.backgroundColor,\r\n\t\topacity: 0,\r\n\t\tlegendColorBackground: tooltipOpts.multiKeyBackground,\r\n\t\tdisplayColors: tooltipOpts.displayColors,\r\n\t\tborderColor: tooltipOpts.borderColor,\r\n\t\tborderWidth: tooltipOpts.borderWidth\r\n\t};\r\n}\r\n\r\n/**\r\n * Get the size of the tooltip\r\n */\r\nfunction getTooltipSize(tooltip, model) {\r\n\tvar ctx = tooltip._chart.ctx;\r\n\r\n\tvar height = model.yPadding * 2; // Tooltip Padding\r\n\tvar width = 0;\r\n\r\n\t// Count of all lines in the body\r\n\tvar body = model.body;\r\n\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\r\n\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\r\n\t}, 0);\r\n\tcombinedBodyLength += model.beforeBody.length + model.afterBody.length;\r\n\r\n\tvar titleLineCount = model.title.length;\r\n\tvar footerLineCount = model.footer.length;\r\n\tvar titleFontSize = model.titleFontSize;\r\n\tvar bodyFontSize = model.bodyFontSize;\r\n\tvar footerFontSize = model.footerFontSize;\r\n\r\n\theight += titleLineCount * titleFontSize; // Title Lines\r\n\theight += titleLineCount ? (titleLineCount - 1) * model.titleSpacing : 0; // Title Line Spacing\r\n\theight += titleLineCount ? model.titleMarginBottom : 0; // Title's bottom Margin\r\n\theight += combinedBodyLength * bodyFontSize; // Body Lines\r\n\theight += combinedBodyLength ? (combinedBodyLength - 1) * model.bodySpacing : 0; // Body Line Spacing\r\n\theight += footerLineCount ? model.footerMarginTop : 0; // Footer Margin\r\n\theight += footerLineCount * (footerFontSize); // Footer Lines\r\n\theight += footerLineCount ? (footerLineCount - 1) * model.footerSpacing : 0; // Footer Line Spacing\r\n\r\n\t// Title width\r\n\tvar widthPadding = 0;\r\n\tvar maxLineWidth = function(line) {\r\n\t\twidth = Math.max(width, ctx.measureText(line).width + widthPadding);\r\n\t};\r\n\r\n\tctx.font = helpers$1.fontString(titleFontSize, model._titleFontStyle, model._titleFontFamily);\r\n\thelpers$1.each(model.title, maxLineWidth);\r\n\r\n\t// Body width\r\n\tctx.font = helpers$1.fontString(bodyFontSize, model._bodyFontStyle, model._bodyFontFamily);\r\n\thelpers$1.each(model.beforeBody.concat(model.afterBody), maxLineWidth);\r\n\r\n\t// Body lines may include some extra width due to the color box\r\n\twidthPadding = model.displayColors ? (bodyFontSize + 2) : 0;\r\n\thelpers$1.each(body, function(bodyItem) {\r\n\t\thelpers$1.each(bodyItem.before, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.lines, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.after, maxLineWidth);\r\n\t});\r\n\r\n\t// Reset back to 0\r\n\twidthPadding = 0;\r\n\r\n\t// Footer width\r\n\tctx.font = helpers$1.fontString(footerFontSize, model._footerFontStyle, model._footerFontFamily);\r\n\thelpers$1.each(model.footer, maxLineWidth);\r\n\r\n\t// Add padding\r\n\twidth += 2 * model.xPadding;\r\n\r\n\treturn {\r\n\t\twidth: width,\r\n\t\theight: height\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the alignment of a tooltip given the size\r\n */\r\nfunction determineAlignment(tooltip, size) {\r\n\tvar model = tooltip._model;\r\n\tvar chart = tooltip._chart;\r\n\tvar chartArea = tooltip._chart.chartArea;\r\n\tvar xAlign = 'center';\r\n\tvar yAlign = 'center';\r\n\r\n\tif (model.y < size.height) {\r\n\t\tyAlign = 'top';\r\n\t} else if (model.y > (chart.height - size.height)) {\r\n\t\tyAlign = 'bottom';\r\n\t}\r\n\r\n\tvar lf, rf; // functions to determine left, right alignment\r\n\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\r\n\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\r\n\tvar midX = (chartArea.left + chartArea.right) / 2;\r\n\tvar midY = (chartArea.top + chartArea.bottom) / 2;\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= midX;\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x > midX;\r\n\t\t};\r\n\t} else {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= (size.width / 2);\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x >= (chart.width - (size.width / 2));\r\n\t\t};\r\n\t}\r\n\r\n\tolf = function(x) {\r\n\t\treturn x + size.width + model.caretSize + model.caretPadding > chart.width;\r\n\t};\r\n\torf = function(x) {\r\n\t\treturn x - size.width - model.caretSize - model.caretPadding < 0;\r\n\t};\r\n\tyf = function(y) {\r\n\t\treturn y <= midY ? 'top' : 'bottom';\r\n\t};\r\n\r\n\tif (lf(model.x)) {\r\n\t\txAlign = 'left';\r\n\r\n\t\t// Is tooltip too wide and goes over the right side of the chart.?\r\n\t\tif (olf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t} else if (rf(model.x)) {\r\n\t\txAlign = 'right';\r\n\r\n\t\t// Is tooltip too wide and goes outside left edge of canvas?\r\n\t\tif (orf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t}\r\n\r\n\tvar opts = tooltip._options;\r\n\treturn {\r\n\t\txAlign: opts.xAlign ? opts.xAlign : xAlign,\r\n\t\tyAlign: opts.yAlign ? opts.yAlign : yAlign\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\r\n */\r\nfunction getBackgroundPoint(vm, size, alignment, chart) {\r\n\t// Background Position\r\n\tvar x = vm.x;\r\n\tvar y = vm.y;\r\n\r\n\tvar caretSize = vm.caretSize;\r\n\tvar caretPadding = vm.caretPadding;\r\n\tvar cornerRadius = vm.cornerRadius;\r\n\tvar xAlign = alignment.xAlign;\r\n\tvar yAlign = alignment.yAlign;\r\n\tvar paddingAndSize = caretSize + caretPadding;\r\n\tvar radiusAndPadding = cornerRadius + caretPadding;\r\n\r\n\tif (xAlign === 'right') {\r\n\t\tx -= size.width;\r\n\t} else if (xAlign === 'center') {\r\n\t\tx -= (size.width / 2);\r\n\t\tif (x + size.width > chart.width) {\r\n\t\t\tx = chart.width - size.width;\r\n\t\t}\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tif (yAlign === 'top') {\r\n\t\ty += paddingAndSize;\r\n\t} else if (yAlign === 'bottom') {\r\n\t\ty -= size.height + paddingAndSize;\r\n\t} else {\r\n\t\ty -= (size.height / 2);\r\n\t}\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tif (xAlign === 'left') {\r\n\t\t\tx += paddingAndSize;\r\n\t\t} else if (xAlign === 'right') {\r\n\t\t\tx -= paddingAndSize;\r\n\t\t}\r\n\t} else if (xAlign === 'left') {\r\n\t\tx -= radiusAndPadding;\r\n\t} else if (xAlign === 'right') {\r\n\t\tx += radiusAndPadding;\r\n\t}\r\n\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\r\n\r\nfunction getAlignedX(vm, align) {\r\n\treturn align === 'center'\r\n\t\t? vm.x + vm.width / 2\r\n\t\t: align === 'right'\r\n\t\t\t? vm.x + vm.width - vm.xPadding\r\n\t\t\t: vm.x + vm.xPadding;\r\n}\r\n\r\n/**\r\n * Helper to build before and after body lines\r\n */\r\nfunction getBeforeAfterBodyLines(callback) {\r\n\treturn pushOrConcat([], splitNewlines(callback));\r\n}\r\n\r\nvar exports$4 = core_element.extend({\r\n\tinitialize: function() {\r\n\t\tthis._model = getBaseModel(this._options);\r\n\t\tthis._lastActive = [];\r\n\t},\r\n\r\n\t// Get the title\r\n\t// Args are: (tooltipItem, data)\r\n\tgetTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\t\tvar callbacks = opts.callbacks;\r\n\r\n\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments);\r\n\t\tvar title = callbacks.title.apply(me, arguments);\r\n\t\tvar afterTitle = callbacks.afterTitle.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeTitle));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(title));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterTitle));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBeforeBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBody: function(tooltipItems, data) {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\t\tvar bodyItems = [];\r\n\r\n\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\tvar bodyItem = {\r\n\t\t\t\tbefore: [],\r\n\t\t\t\tlines: [],\r\n\t\t\t\tafter: []\r\n\t\t\t};\r\n\t\t\tpushOrConcat(bodyItem.before, splitNewlines(callbacks.beforeLabel.call(me, tooltipItem, data)));\r\n\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\r\n\t\t\tpushOrConcat(bodyItem.after, splitNewlines(callbacks.afterLabel.call(me, tooltipItem, data)));\r\n\r\n\t\t\tbodyItems.push(bodyItem);\r\n\t\t});\r\n\r\n\t\treturn bodyItems;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetAfterBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Get the footer and beforeFooter and afterFooter lines\r\n\t// Args are: (tooltipItem, data)\r\n\tgetFooter: function() {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\r\n\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\r\n\t\tvar footer = callbacks.footer.apply(me, arguments);\r\n\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeFooter));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(footer));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterFooter));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\tupdate: function(changed) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\r\n\t\t// Need to regenerate the model because its faster than using extend and it is necessary due to the optimization in Chart.Element.transition\r\n\t\t// that does _view = _model if ease === 1. This causes the 2nd tooltip update to set properties in both the view and model at the same time\r\n\t\t// which breaks any animations.\r\n\t\tvar existingModel = me._model;\r\n\t\tvar model = me._model = getBaseModel(opts);\r\n\t\tvar active = me._active;\r\n\r\n\t\tvar data = me._data;\r\n\r\n\t\t// In the case where active.length === 0 we need to keep these at existing values for good animations\r\n\t\tvar alignment = {\r\n\t\t\txAlign: existingModel.xAlign,\r\n\t\t\tyAlign: existingModel.yAlign\r\n\t\t};\r\n\t\tvar backgroundPoint = {\r\n\t\t\tx: existingModel.x,\r\n\t\t\ty: existingModel.y\r\n\t\t};\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: existingModel.width,\r\n\t\t\theight: existingModel.height\r\n\t\t};\r\n\t\tvar tooltipPosition = {\r\n\t\t\tx: existingModel.caretX,\r\n\t\t\ty: existingModel.caretY\r\n\t\t};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (active.length) {\r\n\t\t\tmodel.opacity = 1;\r\n\r\n\t\t\tvar labelColors = [];\r\n\t\t\tvar labelTextColors = [];\r\n\t\t\ttooltipPosition = positioners[opts.position].call(me, active, me._eventPosition);\r\n\r\n\t\t\tvar tooltipItems = [];\r\n\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\r\n\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a filter function, use it to modify the tooltip items\r\n\t\t\tif (opts.filter) {\r\n\t\t\t\ttooltipItems = tooltipItems.filter(function(a) {\r\n\t\t\t\t\treturn opts.filter(a, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\r\n\t\t\tif (opts.itemSort) {\r\n\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\r\n\t\t\t\t\treturn opts.itemSort(a, b, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Determine colors for boxes\r\n\t\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, me._chart));\r\n\t\t\t\tlabelTextColors.push(opts.callbacks.labelTextColor.call(me, tooltipItem, me._chart));\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// Build the Text Lines\r\n\t\t\tmodel.title = me.getTitle(tooltipItems, data);\r\n\t\t\tmodel.beforeBody = me.getBeforeBody(tooltipItems, data);\r\n\t\t\tmodel.body = me.getBody(tooltipItems, data);\r\n\t\t\tmodel.afterBody = me.getAfterBody(tooltipItems, data);\r\n\t\t\tmodel.footer = me.getFooter(tooltipItems, data);\r\n\r\n\t\t\t// Initial positioning and colors\r\n\t\t\tmodel.x = tooltipPosition.x;\r\n\t\t\tmodel.y = tooltipPosition.y;\r\n\t\t\tmodel.caretPadding = opts.caretPadding;\r\n\t\t\tmodel.labelColors = labelColors;\r\n\t\t\tmodel.labelTextColors = labelTextColors;\r\n\r\n\t\t\t// data points\r\n\t\t\tmodel.dataPoints = tooltipItems;\r\n\r\n\t\t\t// We need to determine alignment of the tooltip\r\n\t\t\ttooltipSize = getTooltipSize(this, model);\r\n\t\t\talignment = determineAlignment(this, tooltipSize);\r\n\t\t\t// Final Size and Position\r\n\t\t\tbackgroundPoint = getBackgroundPoint(model, tooltipSize, alignment, me._chart);\r\n\t\t} else {\r\n\t\t\tmodel.opacity = 0;\r\n\t\t}\r\n\r\n\t\tmodel.xAlign = alignment.xAlign;\r\n\t\tmodel.yAlign = alignment.yAlign;\r\n\t\tmodel.x = backgroundPoint.x;\r\n\t\tmodel.y = backgroundPoint.y;\r\n\t\tmodel.width = tooltipSize.width;\r\n\t\tmodel.height = tooltipSize.height;\r\n\r\n\t\t// Point where the caret on the tooltip points to\r\n\t\tmodel.caretX = tooltipPosition.x;\r\n\t\tmodel.caretY = tooltipPosition.y;\r\n\r\n\t\tme._model = model;\r\n\r\n\t\tif (changed && opts.custom) {\r\n\t\t\topts.custom.call(me, model);\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdrawCaret: function(tooltipPoint, size) {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar caretPosition = this.getCaretPosition(tooltipPoint, size, vm);\r\n\r\n\t\tctx.lineTo(caretPosition.x1, caretPosition.y1);\r\n\t\tctx.lineTo(caretPosition.x2, caretPosition.y2);\r\n\t\tctx.lineTo(caretPosition.x3, caretPosition.y3);\r\n\t},\r\n\tgetCaretPosition: function(tooltipPoint, size, vm) {\r\n\t\tvar x1, x2, x3, y1, y2, y3;\r\n\t\tvar caretSize = vm.caretSize;\r\n\t\tvar cornerRadius = vm.cornerRadius;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar ptX = tooltipPoint.x;\r\n\t\tvar ptY = tooltipPoint.y;\r\n\t\tvar width = size.width;\r\n\t\tvar height = size.height;\r\n\r\n\t\tif (yAlign === 'center') {\r\n\t\t\ty2 = ptY + (height / 2);\r\n\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx1 = ptX;\r\n\t\t\t\tx2 = x1 - caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 + caretSize;\r\n\t\t\t\ty3 = y2 - caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx1 = ptX + width;\r\n\t\t\t\tx2 = x1 + caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 - caretSize;\r\n\t\t\t\ty3 = y2 + caretSize;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx2 = ptX + cornerRadius + (caretSize);\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else if (xAlign === 'right') {\r\n\t\t\t\tx2 = ptX + width - cornerRadius - caretSize;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx2 = vm.caretX;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t}\r\n\t\t\tif (yAlign === 'top') {\r\n\t\t\t\ty1 = ptY;\r\n\t\t\t\ty2 = y1 - caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = ptY + height;\r\n\t\t\t\ty2 = y1 + caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t\t// invert drawing order\r\n\t\t\t\tvar tmp = x3;\r\n\t\t\t\tx3 = x1;\r\n\t\t\t\tx1 = tmp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {x1: x1, x2: x2, x3: x3, y1: y1, y2: y2, y3: y3};\r\n\t},\r\n\r\n\tdrawTitle: function(pt, vm, ctx) {\r\n\t\tvar title = vm.title;\r\n\t\tvar length = title.length;\r\n\t\tvar titleFontSize, titleSpacing, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._titleAlign);\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._titleAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\ttitleFontSize = vm.titleFontSize;\r\n\t\t\ttitleSpacing = vm.titleSpacing;\r\n\r\n\t\t\tctx.fillStyle = vm.titleFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFontSize / 2);\r\n\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\r\n\r\n\t\t\t\tif (i + 1 === length) {\r\n\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBody: function(pt, vm, ctx) {\r\n\t\tvar bodyFontSize = vm.bodyFontSize;\r\n\t\tvar bodySpacing = vm.bodySpacing;\r\n\t\tvar bodyAlign = vm._bodyAlign;\r\n\t\tvar body = vm.body;\r\n\t\tvar drawColorBoxes = vm.displayColors;\r\n\t\tvar xLinePadding = 0;\r\n\t\tvar colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n\r\n\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\tvar fillLineOfText = function(line) {\r\n\t\t\tctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyFontSize / 2);\r\n\t\t\tpt.y += bodyFontSize + bodySpacing;\r\n\t\t};\r\n\r\n\t\tvar bodyItem, textColor, labelColors, lines, i, j, ilen, jlen;\r\n\t\tvar bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\r\n\r\n\t\tctx.textAlign = bodyAlign;\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.font = helpers$1.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n\t\tpt.x = getAlignedX(vm, bodyAlignForCalculation);\r\n\r\n\t\t// Before body lines\r\n\t\tctx.fillStyle = vm.bodyFontColor;\r\n\t\thelpers$1.each(vm.beforeBody, fillLineOfText);\r\n\r\n\t\txLinePadding = drawColorBoxes && bodyAlignForCalculation !== 'right'\r\n\t\t\t? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n\t\t\t: 0;\r\n\r\n\t\t// Draw body lines now\r\n\t\tfor (i = 0, ilen = body.length; i < ilen; ++i) {\r\n\t\t\tbodyItem = body[i];\r\n\t\t\ttextColor = vm.labelTextColors[i];\r\n\t\t\tlabelColors = vm.labelColors[i];\r\n\r\n\t\t\tctx.fillStyle = textColor;\r\n\t\t\thelpers$1.each(bodyItem.before, fillLineOfText);\r\n\r\n\t\t\tlines = bodyItem.lines;\r\n\t\t\tfor (j = 0, jlen = lines.length; j < jlen; ++j) {\r\n\t\t\t\t// Draw Legend-like boxes if needed\r\n\t\t\t\tif (drawColorBoxes) {\r\n\t\t\t\t\tvar rtlColorX = rtlHelper.x(colorX);\r\n\r\n\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\r\n\t\t\t\t\tctx.fillStyle = vm.legendColorBackground;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Border\r\n\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\tctx.strokeStyle = labelColors.borderColor;\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Inner square\r\n\t\t\t\t\tctx.fillStyle = labelColors.backgroundColor;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), bodyFontSize - 2), pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n\t\t\t\t\tctx.fillStyle = textColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfillLineOfText(lines[j]);\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(bodyItem.after, fillLineOfText);\r\n\t\t}\r\n\r\n\t\t// Reset back to 0 for after body\r\n\t\txLinePadding = 0;\r\n\r\n\t\t// After body lines\r\n\t\thelpers$1.each(vm.afterBody, fillLineOfText);\r\n\t\tpt.y -= bodySpacing; // Remove last body spacing\r\n\t},\r\n\r\n\tdrawFooter: function(pt, vm, ctx) {\r\n\t\tvar footer = vm.footer;\r\n\t\tvar length = footer.length;\r\n\t\tvar footerFontSize, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._footerAlign);\r\n\t\t\tpt.y += vm.footerMarginTop;\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._footerAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\tfooterFontSize = vm.footerFontSize;\r\n\r\n\t\t\tctx.fillStyle = vm.footerFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFontSize / 2);\r\n\t\t\t\tpt.y += footerFontSize + vm.footerSpacing;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBackground: function(pt, vm, ctx, tooltipSize) {\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar x = pt.x;\r\n\t\tvar y = pt.y;\r\n\t\tvar width = tooltipSize.width;\r\n\t\tvar height = tooltipSize.height;\r\n\t\tvar radius = vm.cornerRadius;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x + radius, y);\r\n\t\tif (yAlign === 'top') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width - radius, y);\r\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'right') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width, y + height - radius);\r\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n\t\tif (yAlign === 'bottom') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + radius, y + height);\r\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'left') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x, y + radius);\r\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\r\n\t\tctx.closePath();\r\n\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth > 0) {\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm.opacity === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: vm.width,\r\n\t\t\theight: vm.height\r\n\t\t};\r\n\t\tvar pt = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\r\n\t\t// IE11/Edge does not like very small opacities, so snap to 0\r\n\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\r\n\r\n\t\t// Truthy/falsey value for empty tooltip\r\n\t\tvar hasTooltipContent = vm.title.length || vm.beforeBody.length || vm.body.length || vm.afterBody.length || vm.footer.length;\r\n\r\n\t\tif (this._options.enabled && hasTooltipContent) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.globalAlpha = opacity;\r\n\r\n\t\t\t// Draw Background\r\n\t\t\tthis.drawBackground(pt, vm, ctx, tooltipSize);\r\n\r\n\t\t\t// Draw Title, Body, and Footer\r\n\t\t\tpt.y += vm.yPadding;\r\n\r\n\t\t\thelpers$1.rtl.overrideTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\t// Titles\r\n\t\t\tthis.drawTitle(pt, vm, ctx);\r\n\r\n\t\t\t// Body\r\n\t\t\tthis.drawBody(pt, vm, ctx);\r\n\r\n\t\t\t// Footer\r\n\t\t\tthis.drawFooter(pt, vm, ctx);\r\n\r\n\t\t\thelpers$1.rtl.restoreTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t * @returns {boolean} true if the tooltip changed\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me._options;\r\n\t\tvar changed = false;\r\n\r\n\t\tme._lastActive = me._lastActive || [];\r\n\r\n\t\t// Find Active Elements for tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme._active = [];\r\n\t\t} else {\r\n\t\t\tme._active = me._chart.getElementsAtEventForMode(e, options.mode, options);\r\n\t\t\tif (options.reverse) {\r\n\t\t\t\tme._active.reverse();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remember Last Actives\r\n\t\tchanged = !helpers$1.arrayEquals(me._active, me._lastActive);\r\n\r\n\t\t// Only handle target event on tooltip change\r\n\t\tif (changed) {\r\n\t\t\tme._lastActive = me._active;\r\n\r\n\t\t\tif (options.enabled || options.custom) {\r\n\t\t\t\tme._eventPosition = {\r\n\t\t\t\t\tx: e.x,\r\n\t\t\t\t\ty: e.y\r\n\t\t\t\t};\r\n\r\n\t\t\t\tme.update(true);\r\n\t\t\t\tme.pivot();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * @namespace Chart.Tooltip.positioners\r\n */\r\nvar positioners_1 = positioners;\r\n\r\nvar core_tooltip = exports$4;\ncore_tooltip.positioners = positioners_1;\n\nvar valueOrDefault$9 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {},\r\n\tevents: [\r\n\t\t'mousemove',\r\n\t\t'mouseout',\r\n\t\t'click',\r\n\t\t'touchstart',\r\n\t\t'touchmove'\r\n\t],\r\n\thover: {\r\n\t\tonHover: null,\r\n\t\tmode: 'nearest',\r\n\t\tintersect: true,\r\n\t\tanimationDuration: 400\r\n\t},\r\n\tonClick: null,\r\n\tmaintainAspectRatio: true,\r\n\tresponsive: true,\r\n\tresponsiveAnimationDuration: 0\r\n});\r\n\r\n/**\r\n * Recursively merge the given config objects representing the `scales` option\r\n * by incorporating scale defaults in `xAxes` and `yAxes` array items, then\r\n * returns a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeScaleConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\r\n\t\t\t\tvar slen = source[key].length;\r\n\t\t\t\tvar i, type, scale;\r\n\r\n\t\t\t\tif (!target[key]) {\r\n\t\t\t\t\ttarget[key] = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i = 0; i < slen; ++i) {\r\n\t\t\t\t\tscale = source[key][i];\r\n\t\t\t\t\ttype = valueOrDefault$9(scale.type, key === 'xAxes' ? 'category' : 'linear');\r\n\r\n\t\t\t\t\tif (i >= target[key].length) {\r\n\t\t\t\t\t\ttarget[key].push({});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!target[key][i].type || (scale.type && scale.type !== target[key][i].type)) {\r\n\t\t\t\t\t\t// new/untyped scale or type changed: let's apply the new defaults\r\n\t\t\t\t\t\t// then merge source scale to correctly overwrite the defaults.\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], [core_scaleService.getScaleDefaults(type), scale]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// scales type are the same\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], scale);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Recursively merge the given config objects as the root options by handling\r\n * default scale options for the `scales` and `scale` properties, then returns\r\n * a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tvar tval = target[key] || Object.create(null);\r\n\t\t\tvar sval = source[key];\r\n\r\n\t\t\tif (key === 'scales') {\r\n\t\t\t\t// scale config merging is complex. Add our own function here for that\r\n\t\t\t\ttarget[key] = mergeScaleConfig(tval, sval);\r\n\t\t\t} else if (key === 'scale') {\r\n\t\t\t\t// used in polar area & radar charts since there is only one scale\r\n\t\t\t\ttarget[key] = helpers$1.merge(tval, [core_scaleService.getScaleDefaults(sval.type), sval]);\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction initConfig(config) {\r\n\tconfig = config || Object.create(null);\r\n\r\n\t// Do NOT use mergeConfig for the data object because this method merges arrays\r\n\t// and so would change references to labels and datasets, preventing data updates.\r\n\tvar data = config.data = config.data || {};\r\n\tdata.datasets = data.datasets || [];\r\n\tdata.labels = data.labels || [];\r\n\r\n\tconfig.options = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[config.type],\r\n\t\tconfig.options || {});\r\n\r\n\treturn config;\r\n}\r\n\r\nfunction updateConfig(chart) {\r\n\tvar newOptions = chart.options;\r\n\r\n\thelpers$1.each(chart.scales, function(scale) {\r\n\t\tcore_layouts.removeBox(chart, scale);\r\n\t});\r\n\r\n\tnewOptions = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[chart.config.type],\r\n\t\tnewOptions);\r\n\r\n\tchart.options = chart.config.options = newOptions;\r\n\tchart.ensureScalesHaveIDs();\r\n\tchart.buildOrUpdateScales();\r\n\r\n\t// Tooltip\r\n\tchart.tooltip._options = newOptions.tooltips;\r\n\tchart.tooltip.initialize();\r\n}\r\n\r\nfunction nextAvailableScaleId(axesOpts, prefix, index) {\r\n\tvar id;\r\n\tvar hasId = function(obj) {\r\n\t\treturn obj.id === id;\r\n\t};\r\n\r\n\tdo {\r\n\t\tid = prefix + index++;\r\n\t} while (helpers$1.findIndex(axesOpts, hasId) >= 0);\r\n\r\n\treturn id;\r\n}\r\n\r\nfunction positionIsHorizontal(position) {\r\n\treturn position === 'top' || position === 'bottom';\r\n}\r\n\r\nfunction compare2Level(l1, l2) {\r\n\treturn function(a, b) {\r\n\t\treturn a[l1] === b[l1]\r\n\t\t\t? a[l2] - b[l2]\r\n\t\t\t: a[l1] - b[l1];\r\n\t};\r\n}\r\n\r\nvar Chart = function(item, config) {\r\n\tthis.construct(item, config);\r\n\treturn this;\r\n};\r\n\r\nhelpers$1.extend(Chart.prototype, /** @lends Chart */ {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tconstruct: function(item, config) {\r\n\t\tvar me = this;\r\n\r\n\t\tconfig = initConfig(config);\r\n\r\n\t\tvar context = platform.acquireContext(item, config);\r\n\t\tvar canvas = context && context.canvas;\r\n\t\tvar height = canvas && canvas.height;\r\n\t\tvar width = canvas && canvas.width;\r\n\r\n\t\tme.id = helpers$1.uid();\r\n\t\tme.ctx = context;\r\n\t\tme.canvas = canvas;\r\n\t\tme.config = config;\r\n\t\tme.width = width;\r\n\t\tme.height = height;\r\n\t\tme.aspectRatio = height ? width / height : null;\r\n\t\tme.options = config.options;\r\n\t\tme._bufferedRender = false;\r\n\t\tme._layers = [];\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, Chart and Chart.Controller have been merged,\r\n\t\t * the \"instance\" still need to be defined since it might be called from plugins.\r\n\t\t * @prop Chart#chart\r\n\t\t * @deprecated since version 2.6.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tme.chart = me;\r\n\t\tme.controller = me; // chart.chart.controller #inception\r\n\r\n\t\t// Add the chart instance to the global namespace\r\n\t\tChart.instances[me.id] = me;\r\n\r\n\t\t// Define alias to the config data: `chart.data === chart.config.data`\r\n\t\tObject.defineProperty(me, 'data', {\r\n\t\t\tget: function() {\r\n\t\t\t\treturn me.config.data;\r\n\t\t\t},\r\n\t\t\tset: function(value) {\r\n\t\t\t\tme.config.data = value;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!context || !canvas) {\r\n\t\t\t// The given item is not a compatible context2d element, let's return before finalizing\r\n\t\t\t// the chart initialization but after setting basic chart / controller properties that\r\n\t\t\t// can help to figure out that the chart is not valid (e.g chart.canvas !== null);\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\t\tconsole.error(\"Failed to create chart: can't acquire context from the given item\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme.initialize();\r\n\t\tme.update();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Before init plugin notification\r\n\t\tcore_plugins.notify(me, 'beforeInit');\r\n\r\n\t\thelpers$1.retinaScale(me, me.options.devicePixelRatio);\r\n\r\n\t\tme.bindEvents();\r\n\r\n\t\tif (me.options.responsive) {\r\n\t\t\t// Initial resize before chart draws (must be silent to preserve initial animations).\r\n\t\t\tme.resize(true);\r\n\t\t}\r\n\r\n\t\tme.initToolTip();\r\n\r\n\t\t// After init plugin notification\r\n\t\tcore_plugins.notify(me, 'afterInit');\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tclear: function() {\r\n\t\thelpers$1.canvas.clear(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tstop: function() {\r\n\t\t// Stops any current animation loop occurring\r\n\t\tcore_animations.cancelAnimation(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tresize: function(silent) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar aspectRatio = (options.maintainAspectRatio && me.aspectRatio) || null;\r\n\r\n\t\t// the canvas render width and height will be casted to integers so make sure that\r\n\t\t// the canvas display style uses the same integer values to avoid blurring effect.\r\n\r\n\t\t// Set to 0 instead of canvas.size because the size defaults to 300x150 if the element is collapsed\r\n\t\tvar newWidth = Math.max(0, Math.floor(helpers$1.getMaximumWidth(canvas)));\r\n\t\tvar newHeight = Math.max(0, Math.floor(aspectRatio ? newWidth / aspectRatio : helpers$1.getMaximumHeight(canvas)));\r\n\r\n\t\tif (me.width === newWidth && me.height === newHeight) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvas.width = me.width = newWidth;\r\n\t\tcanvas.height = me.height = newHeight;\r\n\t\tcanvas.style.width = newWidth + 'px';\r\n\t\tcanvas.style.height = newHeight + 'px';\r\n\r\n\t\thelpers$1.retinaScale(me, options.devicePixelRatio);\r\n\r\n\t\tif (!silent) {\r\n\t\t\t// Notify any plugins about the resize\r\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\r\n\t\t\tcore_plugins.notify(me, 'resize', [newSize]);\r\n\r\n\t\t\t// Notify of resize\r\n\t\t\tif (options.onResize) {\r\n\t\t\t\toptions.onResize(me, newSize);\r\n\t\t\t}\r\n\r\n\t\t\tme.stop();\r\n\t\t\tme.update({\r\n\t\t\t\tduration: options.responsiveAnimationDuration\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tensureScalesHaveIDs: function() {\r\n\t\tvar options = this.options;\r\n\t\tvar scalesOptions = options.scales || {};\r\n\t\tvar scaleOptions = options.scale;\r\n\r\n\t\thelpers$1.each(scalesOptions.xAxes, function(xAxisOptions, index) {\r\n\t\t\tif (!xAxisOptions.id) {\r\n\t\t\t\txAxisOptions.id = nextAvailableScaleId(scalesOptions.xAxes, 'x-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(scalesOptions.yAxes, function(yAxisOptions, index) {\r\n\t\t\tif (!yAxisOptions.id) {\r\n\t\t\t\tyAxisOptions.id = nextAvailableScaleId(scalesOptions.yAxes, 'y-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (scaleOptions) {\r\n\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Builds a map of scale ID to scale object for future lookup.\r\n\t */\r\n\tbuildOrUpdateScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar scales = me.scales || {};\r\n\t\tvar items = [];\r\n\t\tvar updated = Object.keys(scales).reduce(function(obj, id) {\r\n\t\t\tobj[id] = false;\r\n\t\t\treturn obj;\r\n\t\t}, {});\r\n\r\n\t\tif (options.scales) {\r\n\t\t\titems = items.concat(\r\n\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\r\n\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category', dposition: 'bottom'};\r\n\t\t\t\t}),\r\n\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\r\n\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear', dposition: 'left'};\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (options.scale) {\r\n\t\t\titems.push({\r\n\t\t\t\toptions: options.scale,\r\n\t\t\t\tdtype: 'radialLinear',\r\n\t\t\t\tisDefault: true,\r\n\t\t\t\tdposition: 'chartArea'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\thelpers$1.each(items, function(item) {\r\n\t\t\tvar scaleOptions = item.options;\r\n\t\t\tvar id = scaleOptions.id;\r\n\t\t\tvar scaleType = valueOrDefault$9(scaleOptions.type, item.dtype);\r\n\r\n\t\t\tif (positionIsHorizontal(scaleOptions.position) !== positionIsHorizontal(item.dposition)) {\r\n\t\t\t\tscaleOptions.position = item.dposition;\r\n\t\t\t}\r\n\r\n\t\t\tupdated[id] = true;\r\n\t\t\tvar scale = null;\r\n\t\t\tif (id in scales && scales[id].type === scaleType) {\r\n\t\t\t\tscale = scales[id];\r\n\t\t\t\tscale.options = scaleOptions;\r\n\t\t\t\tscale.ctx = me.ctx;\r\n\t\t\t\tscale.chart = me;\r\n\t\t\t} else {\r\n\t\t\t\tvar scaleClass = core_scaleService.getScaleConstructor(scaleType);\r\n\t\t\t\tif (!scaleClass) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tscale = new scaleClass({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\ttype: scaleType,\r\n\t\t\t\t\toptions: scaleOptions,\r\n\t\t\t\t\tctx: me.ctx,\r\n\t\t\t\t\tchart: me\r\n\t\t\t\t});\r\n\t\t\t\tscales[scale.id] = scale;\r\n\t\t\t}\r\n\r\n\t\t\tscale.mergeTicksOptions();\r\n\r\n\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\r\n\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\r\n\t\t\t// make the logic easier and remove some useless? custom code.\r\n\t\t\tif (item.isDefault) {\r\n\t\t\t\tme.scale = scale;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// clear up discarded scales\r\n\t\thelpers$1.each(updated, function(hasUpdated, id) {\r\n\t\t\tif (!hasUpdated) {\r\n\t\t\t\tdelete scales[id];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.scales = scales;\r\n\r\n\t\tcore_scaleService.addScalesToLayout(this);\r\n\t},\r\n\r\n\tbuildOrUpdateControllers: function() {\r\n\t\tvar me = this;\r\n\t\tvar newControllers = [];\r\n\t\tvar datasets = me.data.datasets;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tvar dataset = datasets[i];\r\n\t\t\tvar meta = me.getDatasetMeta(i);\r\n\t\t\tvar type = dataset.type || me.config.type;\r\n\r\n\t\t\tif (meta.type && meta.type !== type) {\r\n\t\t\t\tme.destroyDatasetMeta(i);\r\n\t\t\t\tmeta = me.getDatasetMeta(i);\r\n\t\t\t}\r\n\t\t\tmeta.type = type;\r\n\t\t\tmeta.order = dataset.order || 0;\r\n\t\t\tmeta.index = i;\r\n\r\n\t\t\tif (meta.controller) {\r\n\t\t\t\tmeta.controller.updateIndex(i);\r\n\t\t\t\tmeta.controller.linkScales();\r\n\t\t\t} else {\r\n\t\t\t\tvar ControllerClass = controllers[meta.type];\r\n\t\t\t\tif (ControllerClass === undefined) {\r\n\t\t\t\t\tthrow new Error('\"' + meta.type + '\" is not a chart type.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmeta.controller = new ControllerClass(me, i);\r\n\t\t\t\tnewControllers.push(meta.controller);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newControllers;\r\n\t},\r\n\r\n\t/**\r\n\t * Reset the elements of all datasets\r\n\t * @private\r\n\t */\r\n\tresetElements: function() {\r\n\t\tvar me = this;\r\n\t\thelpers$1.each(me.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t* Resets the chart back to it's state before the initial animation\r\n\t*/\r\n\treset: function() {\r\n\t\tthis.resetElements();\r\n\t\tthis.tooltip.initialize();\r\n\t},\r\n\r\n\tupdate: function(config) {\r\n\t\tvar me = this;\r\n\t\tvar i, ilen;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tupdateConfig(me);\r\n\r\n\t\t// plugins options references might have change, let's invalidate the cache\r\n\t\t// https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t\tcore_plugins._invalidate(me);\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// In case the entire data object changed\r\n\t\tme.tooltip._data = me.data;\r\n\r\n\t\t// Make sure dataset controllers are updated and new controllers are reset\r\n\t\tvar newControllers = me.buildOrUpdateControllers();\r\n\r\n\t\t// Make sure all dataset controllers have correct meta data counts\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\r\n\t\t\tme.getDatasetMeta(i).controller.buildOrUpdateElements();\r\n\t\t}\r\n\r\n\t\tme.updateLayout();\r\n\r\n\t\t// Can only reset the new controllers after the scales have been updated\r\n\t\tif (me.options.animation && me.options.animation.duration) {\r\n\t\t\thelpers$1.each(newControllers, function(controller) {\r\n\t\t\t\tcontroller.reset();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme.updateDatasets();\r\n\r\n\t\t// Need to reset tooltip in case it is displayed with elements that are removed\r\n\t\t// after update.\r\n\t\tme.tooltip.initialize();\r\n\r\n\t\t// Last active contains items that were previously in the tooltip.\r\n\t\t// When we reset the tooltip, we need to clear it\r\n\t\tme.lastActive = [];\r\n\r\n\t\t// Do this before render so that any plugins that need final scale updates can use it\r\n\t\tcore_plugins.notify(me, 'afterUpdate');\r\n\r\n\t\tme._layers.sort(compare2Level('z', '_idx'));\r\n\r\n\t\tif (me._bufferedRender) {\r\n\t\t\tme._bufferedRequest = {\r\n\t\t\t\tduration: config.duration,\r\n\t\t\t\teasing: config.easing,\r\n\t\t\t\tlazy: config.lazy\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tme.render(config);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\r\n\t * hook, in which case, plugins will not be called on `afterLayout`.\r\n\t * @private\r\n\t */\r\n\tupdateLayout: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeLayout') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcore_layouts.update(this, this.width, this.height);\r\n\r\n\t\tme._layers = [];\r\n\t\thelpers$1.each(me.boxes, function(box) {\r\n\t\t\t// _configure is called twice, once in core.scale.update and once here.\r\n\t\t\t// Here the boxes are fully updated and at their final positions.\r\n\t\t\tif (box._configure) {\r\n\t\t\t\tbox._configure();\r\n\t\t\t}\r\n\t\t\tme._layers.push.apply(me._layers, box._layers());\r\n\t\t}, me);\r\n\r\n\t\tme._layers.forEach(function(item, index) {\r\n\t\t\titem._idx = index;\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, use `afterLayout` instead.\r\n\t\t * @method IPlugin#afterScaleUpdate\r\n\t\t * @deprecated since version 2.5.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tcore_plugins.notify(me, 'afterScaleUpdate');\r\n\t\tcore_plugins.notify(me, 'afterLayout');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDatasets: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.updateDataset(i);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsUpdate');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDataset: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getDatasetMeta(index);\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: index\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetUpdate', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller._update();\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetUpdate', [args]);\r\n\t},\r\n\r\n\trender: function(config) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar animationOptions = me.options.animation;\r\n\t\tvar duration = valueOrDefault$9(config.duration, animationOptions && animationOptions.duration);\r\n\t\tvar lazy = config.lazy;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeRender') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar onComplete = function(animation) {\r\n\t\t\tcore_plugins.notify(me, 'afterRender');\r\n\t\t\thelpers$1.callback(animationOptions && animationOptions.onComplete, [animation], me);\r\n\t\t};\r\n\r\n\t\tif (animationOptions && duration) {\r\n\t\t\tvar animation = new core_animation({\r\n\t\t\t\tnumSteps: duration / 16.66, // 60 fps\r\n\t\t\t\teasing: config.easing || animationOptions.easing,\r\n\r\n\t\t\t\trender: function(chart, animationObject) {\r\n\t\t\t\t\tvar easingFunction = helpers$1.easing.effects[animationObject.easing];\r\n\t\t\t\t\tvar currentStep = animationObject.currentStep;\r\n\t\t\t\t\tvar stepDecimal = currentStep / animationObject.numSteps;\r\n\r\n\t\t\t\t\tchart.draw(easingFunction(stepDecimal), stepDecimal, currentStep);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonAnimationProgress: animationOptions.onProgress,\r\n\t\t\t\tonAnimationComplete: onComplete\r\n\t\t\t});\r\n\r\n\t\t\tcore_animations.addAnimation(me, animation, duration, lazy);\r\n\t\t} else {\r\n\t\t\tme.draw();\r\n\r\n\t\t\t// See https://github.com/chartjs/Chart.js/issues/3781\r\n\t\t\tonComplete(new core_animation({numSteps: 0, chart: me}));\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdraw: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar i, layers;\r\n\r\n\t\tme.clear();\r\n\r\n\t\tif (helpers$1.isNullOrUndef(easingValue)) {\r\n\t\t\teasingValue = 1;\r\n\t\t}\r\n\r\n\t\tme.transition(easingValue);\r\n\r\n\t\tif (me.width <= 0 || me.height <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Because of plugin hooks (before/afterDatasetsDraw), datasets can't\r\n\t\t// currently be part of layers. Instead, we draw\r\n\t\t// layers <= 0 before(default, backward compat), and the rest after\r\n\t\tlayers = me._layers;\r\n\t\tfor (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme.drawDatasets(easingValue);\r\n\r\n\t\t// Rest of layers\r\n\t\tfor (; i < layers.length; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme._drawTooltip(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\ttransition: function(easingValue) {\r\n\t\tvar me = this;\r\n\r\n\t\tfor (var i = 0, ilen = (me.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (me.isDatasetVisible(i)) {\r\n\t\t\t\tme.getDatasetMeta(i).controller.transition(easingValue);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.tooltip.transition(easingValue);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedDatasetMetas: function(filterVisible) {\r\n\t\tvar me = this;\r\n\t\tvar datasets = me.data.datasets || [];\r\n\t\tvar result = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\r\n\t\t\tif (!filterVisible || me.isDatasetVisible(i)) {\r\n\t\t\t\tresult.push(me.getDatasetMeta(i));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tresult.sort(compare2Level('order', 'index'));\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedVisibleDatasetMetas: function() {\r\n\t\treturn this._getSortedDatasetMetas(true);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDatasets: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar metasets, i;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmetasets = me._getSortedVisibleDatasetMetas();\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tme.drawDataset(metasets[i], easingValue);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDataset: function(meta, easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: meta.index,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller.draw(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws tooltip unless a plugin returns `false` to the `beforeTooltipDraw`\r\n\t * hook, in which case, plugins will not be called on `afterTooltipDraw`.\r\n\t * @private\r\n\t */\r\n\t_drawTooltip: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\t\tvar args = {\r\n\t\t\ttooltip: tooltip,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeTooltipDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttooltip.draw();\r\n\r\n\t\tcore_plugins.notify(me, 'afterTooltipDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Get the single element that was clicked on\r\n\t * @return An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\r\n\t */\r\n\tgetElementAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.single(this, e);\r\n\t},\r\n\r\n\tgetElementsAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.label(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtXAxis: function(e) {\r\n\t\treturn core_interaction.modes['x-axis'](this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtEventForMode: function(e, mode, options) {\r\n\t\tvar method = core_interaction.modes[mode];\r\n\t\tif (typeof method === 'function') {\r\n\t\t\treturn method(this, e, options);\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t},\r\n\r\n\tgetDatasetAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.dataset(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetDatasetMeta: function(datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.data.datasets[datasetIndex];\r\n\t\tif (!dataset._meta) {\r\n\t\t\tdataset._meta = {};\r\n\t\t}\r\n\r\n\t\tvar meta = dataset._meta[me.id];\r\n\t\tif (!meta) {\r\n\t\t\tmeta = dataset._meta[me.id] = {\r\n\t\t\t\ttype: null,\r\n\t\t\t\tdata: [],\r\n\t\t\t\tdataset: null,\r\n\t\t\t\tcontroller: null,\r\n\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\r\n\t\t\t\txAxisID: null,\r\n\t\t\t\tyAxisID: null,\r\n\t\t\t\torder: dataset.order || 0,\r\n\t\t\t\tindex: datasetIndex\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn meta;\r\n\t},\r\n\r\n\tgetVisibleDatasetCount: function() {\r\n\t\tvar count = 0;\r\n\t\tfor (var i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (this.isDatasetVisible(i)) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t},\r\n\r\n\tisDatasetVisible: function(datasetIndex) {\r\n\t\tvar meta = this.getDatasetMeta(datasetIndex);\r\n\r\n\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\r\n\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\r\n\t\treturn typeof meta.hidden === 'boolean' ? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\r\n\t},\r\n\r\n\tgenerateLegend: function() {\r\n\t\treturn this.options.legendCallback(this);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroyDatasetMeta: function(datasetIndex) {\r\n\t\tvar id = this.id;\r\n\t\tvar dataset = this.data.datasets[datasetIndex];\r\n\t\tvar meta = dataset._meta && dataset._meta[id];\r\n\r\n\t\tif (meta) {\r\n\t\t\tmeta.controller.destroy();\r\n\t\t\tdelete dataset._meta[id];\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tvar me = this;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme.stop();\r\n\r\n\t\t// dataset controllers need to cleanup associated data\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.destroyDatasetMeta(i);\r\n\t\t}\r\n\r\n\t\tif (canvas) {\r\n\t\t\tme.unbindEvents();\r\n\t\t\thelpers$1.canvas.clear(me);\r\n\t\t\tplatform.releaseContext(me.ctx);\r\n\t\t\tme.canvas = null;\r\n\t\t\tme.ctx = null;\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'destroy');\r\n\r\n\t\tdelete Chart.instances[me.id];\r\n\t},\r\n\r\n\ttoBase64Image: function() {\r\n\t\treturn this.canvas.toDataURL.apply(this.canvas, arguments);\r\n\t},\r\n\r\n\tinitToolTip: function() {\r\n\t\tvar me = this;\r\n\t\tme.tooltip = new core_tooltip({\r\n\t\t\t_chart: me,\r\n\t\t\t_chartInstance: me, // deprecated, backward compatibility\r\n\t\t\t_data: me.data,\r\n\t\t\t_options: me.options.tooltips\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners = {};\r\n\t\tvar listener = function() {\r\n\t\t\tme.eventHandler.apply(me, arguments);\r\n\t\t};\r\n\r\n\t\thelpers$1.each(me.options.events, function(type) {\r\n\t\t\tplatform.addEventListener(me, type, listener);\r\n\t\t\tlisteners[type] = listener;\r\n\t\t});\r\n\r\n\t\t// Elements used to detect size change should not be injected for non responsive charts.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/2210\r\n\t\tif (me.options.responsive) {\r\n\t\t\tlistener = function() {\r\n\t\t\t\tme.resize();\r\n\t\t\t};\r\n\r\n\t\t\tplatform.addEventListener(me, 'resize', listener);\r\n\t\t\tlisteners.resize = listener;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tunbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners;\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdelete me._listeners;\r\n\t\thelpers$1.each(listeners, function(listener, type) {\r\n\t\t\tplatform.removeEventListener(me, type, listener);\r\n\t\t});\r\n\t},\r\n\r\n\tupdateHoverStyle: function(elements, mode, enabled) {\r\n\t\tvar prefix = enabled ? 'set' : 'remove';\r\n\t\tvar element, i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\r\n\t\t\telement = elements[i];\r\n\t\t\tif (element) {\r\n\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[prefix + 'HoverStyle'](element);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (mode === 'dataset') {\r\n\t\t\tthis.getDatasetMeta(elements[0]._datasetIndex).controller['_' + prefix + 'DatasetHoverStyle']();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\teventHandler: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeEvent', [e]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Buffer any update calls so that renders do not occur\r\n\t\tme._bufferedRender = true;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\tvar changed = me.handleEvent(e);\r\n\t\t// for smooth tooltip animations issue #4989\r\n\t\t// the tooltip should be the source of change\r\n\t\t// Animation check workaround:\r\n\t\t// tooltip._start will be null when tooltip isn't animating\r\n\t\tif (tooltip) {\r\n\t\t\tchanged = tooltip._start\r\n\t\t\t\t? tooltip.handleEvent(e)\r\n\t\t\t\t: changed | tooltip.handleEvent(e);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterEvent', [e]);\r\n\r\n\t\tvar bufferedRequest = me._bufferedRequest;\r\n\t\tif (bufferedRequest) {\r\n\t\t\t// If we have an update that was triggered, we need to do a normal render\r\n\t\t\tme.render(bufferedRequest);\r\n\t\t} else if (changed && !me.animating) {\r\n\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\r\n\t\t\tme.stop();\r\n\r\n\t\t\t// We only need to render at this point. Updating will cause scales to be\r\n\t\t\t// recomputed generating flicker & using more memory than necessary.\r\n\t\t\tme.render({\r\n\t\t\t\tduration: me.options.hover.animationDuration,\r\n\t\t\t\tlazy: true\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme._bufferedRender = false;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event the event to handle\r\n\t * @return {boolean} true if the chart needs to re-render\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options || {};\r\n\t\tvar hoverOptions = options.hover;\r\n\t\tvar changed = false;\r\n\r\n\t\tme.lastActive = me.lastActive || [];\r\n\r\n\t\t// Find Active Elements for hover and tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme.active = [];\r\n\t\t} else {\r\n\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions);\r\n\t\t}\r\n\r\n\t\t// Invoke onHover hook\r\n\t\t// Need to call with native event here to not break backwards compatibility\r\n\t\thelpers$1.callback(options.onHover || options.hover.onHover, [e.native, me.active], me);\r\n\r\n\t\tif (e.type === 'mouseup' || e.type === 'click') {\r\n\t\t\tif (options.onClick) {\r\n\t\t\t\t// Use e.native here for backwards compatibility\r\n\t\t\t\toptions.onClick.call(me, e.native, me.active);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove styling for last active (even if it may still be active)\r\n\t\tif (me.lastActive.length) {\r\n\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\r\n\t\t}\r\n\r\n\t\t// Built in hover styling\r\n\t\tif (me.active.length && hoverOptions.mode) {\r\n\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\r\n\t\t}\r\n\r\n\t\tchanged = !helpers$1.arrayEquals(me.active, me.lastActive);\r\n\r\n\t\t// Remember Last Actives\r\n\t\tme.lastActive = me.active;\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * NOTE(SB) We actually don't use this container anymore but we need to keep it\r\n * for backward compatibility. Though, it can still be useful for plugins that\r\n * would need to work on multiple charts?!\r\n */\r\nChart.instances = {};\r\n\r\nvar core_controller = Chart;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart instead.\r\n * @class Chart.Controller\r\n * @deprecated since version 2.6\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.Controller = Chart;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.types = {};\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.configMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.configMerge = mergeConfig;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.scaleMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.scaleMerge = mergeScaleConfig;\n\nvar core_helpers = function() {\r\n\r\n\t// -- Basic js utility methods\r\n\r\n\thelpers$1.where = function(collection, filterCallback) {\r\n\t\tif (helpers$1.isArray(collection) && Array.prototype.filter) {\r\n\t\t\treturn collection.filter(filterCallback);\r\n\t\t}\r\n\t\tvar filtered = [];\r\n\r\n\t\thelpers$1.each(collection, function(item) {\r\n\t\t\tif (filterCallback(item)) {\r\n\t\t\t\tfiltered.push(item);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\thelpers$1.findIndex = Array.prototype.findIndex ?\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\treturn array.findIndex(callback, scope);\r\n\t\t} :\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\tscope = scope === undefined ? array : scope;\r\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\r\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t};\r\n\thelpers$1.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to start of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = -1;\r\n\t\t}\r\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to end of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = arrayToSearch.length;\r\n\t\t}\r\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// -- Math methods\r\n\thelpers$1.isNumber = function(n) {\r\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t};\r\n\thelpers$1.almostEquals = function(x, y, epsilon) {\r\n\t\treturn Math.abs(x - y) < epsilon;\r\n\t};\r\n\thelpers$1.almostWhole = function(x, epsilon) {\r\n\t\tvar rounded = Math.round(x);\r\n\t\treturn ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\r\n\t};\r\n\thelpers$1.max = function(array) {\r\n\t\treturn array.reduce(function(max, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.max(max, value);\r\n\t\t\t}\r\n\t\t\treturn max;\r\n\t\t}, Number.NEGATIVE_INFINITY);\r\n\t};\r\n\thelpers$1.min = function(array) {\r\n\t\treturn array.reduce(function(min, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.min(min, value);\r\n\t\t\t}\r\n\t\t\treturn min;\r\n\t\t}, Number.POSITIVE_INFINITY);\r\n\t};\r\n\thelpers$1.sign = Math.sign ?\r\n\t\tfunction(x) {\r\n\t\t\treturn Math.sign(x);\r\n\t\t} :\r\n\t\tfunction(x) {\r\n\t\t\tx = +x; // convert to a number\r\n\t\t\tif (x === 0 || isNaN(x)) {\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\treturn x > 0 ? 1 : -1;\r\n\t\t};\r\n\thelpers$1.toRadians = function(degrees) {\r\n\t\treturn degrees * (Math.PI / 180);\r\n\t};\r\n\thelpers$1.toDegrees = function(radians) {\r\n\t\treturn radians * (180 / Math.PI);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the number of decimal places\r\n\t * i.e. the number of digits after the decimal point, of the value of this Number.\r\n\t * @param {number} x - A number.\r\n\t * @returns {number} The number of decimal places.\r\n\t * @private\r\n\t */\r\n\thelpers$1._decimalPlaces = function(x) {\r\n\t\tif (!helpers$1.isFinite(x)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar e = 1;\r\n\t\tvar p = 0;\r\n\t\twhile (Math.round(x * e) / e !== x) {\r\n\t\t\te *= 10;\r\n\t\t\tp++;\r\n\t\t}\r\n\t\treturn p;\r\n\t};\r\n\r\n\t// Gets the angle from vertical upright to the point about a centre.\r\n\thelpers$1.getAngleFromPoint = function(centrePoint, anglePoint) {\r\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x;\r\n\t\tvar distanceFromYCenter = anglePoint.y - centrePoint.y;\r\n\t\tvar radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\r\n\r\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\r\n\r\n\t\tif (angle < (-0.5 * Math.PI)) {\r\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tangle: angle,\r\n\t\t\tdistance: radialDistanceFromCenter\r\n\t\t};\r\n\t};\r\n\thelpers$1.distanceBetweenPoints = function(pt1, pt2) {\r\n\t\treturn Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\r\n\t};\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.helpers.aliasPixel\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\thelpers$1.aliasPixel = function(pixelWidth) {\r\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the aligned pixel value to avoid anti-aliasing blur\r\n\t * @param {Chart} chart - The chart instance.\r\n\t * @param {number} pixel - A pixel value.\r\n\t * @param {number} width - The width of the element.\r\n\t * @returns {number} The aligned pixel value.\r\n\t * @private\r\n\t */\r\n\thelpers$1._alignPixel = function(chart, pixel, width) {\r\n\t\tvar devicePixelRatio = chart.currentDevicePixelRatio;\r\n\t\tvar halfWidth = width / 2;\r\n\t\treturn Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\r\n\t};\r\n\r\n\thelpers$1.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\r\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\r\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\r\n\r\n\t\t// This function must also respect \"skipped\" points\r\n\r\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint;\r\n\t\tvar current = middlePoint;\r\n\t\tvar next = afterPoint.skip ? middlePoint : afterPoint;\r\n\r\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\r\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\r\n\r\n\t\tvar s01 = d01 / (d01 + d12);\r\n\t\tvar s12 = d12 / (d01 + d12);\r\n\r\n\t\t// If all points are the same, s01 & s02 will be inf\r\n\t\ts01 = isNaN(s01) ? 0 : s01;\r\n\t\ts12 = isNaN(s12) ? 0 : s12;\r\n\r\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\r\n\t\tvar fb = t * s12;\r\n\r\n\t\treturn {\r\n\t\t\tprevious: {\r\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\r\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\r\n\t\t\t},\r\n\t\t\tnext: {\r\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\r\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\thelpers$1.EPSILON = Number.EPSILON || 1e-14;\r\n\thelpers$1.splineCurveMonotone = function(points) {\r\n\t\t// This function calculates Bézier control points in a similar way than |splineCurve|,\r\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\r\n\t\t// between the dataset discrete points due to the interpolation.\r\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\r\n\r\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tmodel: point._model,\r\n\t\t\t\tdeltaK: 0,\r\n\t\t\t\tmK: 0\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\r\n\t\tvar pointsLen = pointsWithTangents.length;\r\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tvar slopeDeltaX = (pointAfter.model.x - pointCurrent.model.x);\r\n\r\n\t\t\t\t// In the case of two points that appear at the same x pixel, slopeDeltaX is 0\r\n\t\t\t\tpointCurrent.deltaK = slopeDeltaX !== 0 ? (pointAfter.model.y - pointCurrent.model.y) / slopeDeltaX : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\r\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\r\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\r\n\t\t\t\tpointCurrent.mK = 0;\r\n\t\t\t} else {\r\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Adjust tangents to ensure monotonic properties\r\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\r\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tpointAfter = pointsWithTangents[i + 1];\r\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (helpers$1.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\r\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\r\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\r\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\r\n\t\t\tif (squaredMagnitude <= 9) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\r\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\r\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\r\n\t\t}\r\n\r\n\t\t// Compute control points\r\n\t\tvar deltaX;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\r\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.nextItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\r\n\t\t}\r\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\r\n\t};\r\n\thelpers$1.previousItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\r\n\t\t}\r\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\r\n\t};\r\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\r\n\thelpers$1.niceNum = function(range, round) {\r\n\t\tvar exponent = Math.floor(helpers$1.log10(range));\r\n\t\tvar fraction = range / Math.pow(10, exponent);\r\n\t\tvar niceFraction;\r\n\r\n\t\tif (round) {\r\n\t\t\tif (fraction < 1.5) {\r\n\t\t\t\tniceFraction = 1;\r\n\t\t\t} else if (fraction < 3) {\r\n\t\t\t\tniceFraction = 2;\r\n\t\t\t} else if (fraction < 7) {\r\n\t\t\t\tniceFraction = 5;\r\n\t\t\t} else {\r\n\t\t\t\tniceFraction = 10;\r\n\t\t\t}\r\n\t\t} else if (fraction <= 1.0) {\r\n\t\t\tniceFraction = 1;\r\n\t\t} else if (fraction <= 2) {\r\n\t\t\tniceFraction = 2;\r\n\t\t} else if (fraction <= 5) {\r\n\t\t\tniceFraction = 5;\r\n\t\t} else {\r\n\t\t\tniceFraction = 10;\r\n\t\t}\r\n\r\n\t\treturn niceFraction * Math.pow(10, exponent);\r\n\t};\r\n\t// Request animation polyfill - https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\thelpers$1.requestAnimFrame = (function() {\r\n\t\tif (typeof window === 'undefined') {\r\n\t\t\treturn function(callback) {\r\n\t\t\t\tcallback();\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn window.requestAnimationFrame ||\r\n\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\tfunction(callback) {\r\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t}());\r\n\t// -- DOM methods\r\n\thelpers$1.getRelativePosition = function(evt, chart) {\r\n\t\tvar mouseX, mouseY;\r\n\t\tvar e = evt.originalEvent || evt;\r\n\t\tvar canvas = evt.target || evt.srcElement;\r\n\t\tvar boundingRect = canvas.getBoundingClientRect();\r\n\r\n\t\tvar touches = e.touches;\r\n\t\tif (touches && touches.length > 0) {\r\n\t\t\tmouseX = touches[0].clientX;\r\n\t\t\tmouseY = touches[0].clientY;\r\n\r\n\t\t} else {\r\n\t\t\tmouseX = e.clientX;\r\n\t\t\tmouseY = e.clientY;\r\n\t\t}\r\n\r\n\t\t// Scale mouse coordinates into canvas coordinates\r\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\r\n\t\t// https://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\r\n\t\tvar paddingLeft = parseFloat(helpers$1.getStyle(canvas, 'padding-left'));\r\n\t\tvar paddingTop = parseFloat(helpers$1.getStyle(canvas, 'padding-top'));\r\n\t\tvar paddingRight = parseFloat(helpers$1.getStyle(canvas, 'padding-right'));\r\n\t\tvar paddingBottom = parseFloat(helpers$1.getStyle(canvas, 'padding-bottom'));\r\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\r\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\r\n\r\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\r\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\r\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\r\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\r\n\r\n\t\treturn {\r\n\t\t\tx: mouseX,\r\n\t\t\ty: mouseY\r\n\t\t};\r\n\r\n\t};\r\n\r\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\r\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\r\n\t\tvar valueInPixels;\r\n\t\tif (typeof styleValue === 'string') {\r\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\r\n\r\n\t\t\tif (styleValue.indexOf('%') !== -1) {\r\n\t\t\t\t// percentage * size in dimension\r\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvalueInPixels = styleValue;\r\n\t\t}\r\n\r\n\t\treturn valueInPixels;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns if the given value contains an effective constraint.\r\n\t * @private\r\n\t */\r\n\tfunction isConstrainedValue(value) {\r\n\t\treturn value !== undefined && value !== null && value !== 'none';\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the max width or height of the given DOM node in a cross-browser compatible fashion\r\n\t * @param {HTMLElement} domNode - the node to check the constraint on\r\n\t * @param {string} maxStyle - the style that defines the maximum for the direction we are using ('max-width' / 'max-height')\r\n\t * @param {string} percentageProperty - property of parent to use when calculating width as a percentage\r\n\t * @see {@link https://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser}\r\n\t */\r\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\r\n\t\tvar view = document.defaultView;\r\n\t\tvar parentNode = helpers$1._getParentNode(domNode);\r\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\r\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\r\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\r\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\r\n\t\tvar infinity = Number.POSITIVE_INFINITY;\r\n\r\n\t\tif (hasCNode || hasCContainer) {\r\n\t\t\treturn Math.min(\r\n\t\t\t\thasCNode ? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\r\n\t\t\t\thasCContainer ? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\r\n\t\t}\r\n\r\n\t\treturn 'none';\r\n\t}\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintWidth = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\r\n\t};\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintHeight = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\r\n\t};\r\n\t/**\r\n\t * @private\r\n \t */\r\n\thelpers$1._calculatePadding = function(container, padding, parentDimension) {\r\n\t\tpadding = helpers$1.getStyle(container, padding);\r\n\r\n\t\treturn padding.indexOf('%') > -1 ? parentDimension * parseInt(padding, 10) / 100 : parseInt(padding, 10);\r\n\t};\r\n\t/**\r\n\t * @private\r\n\t */\r\n\thelpers$1._getParentNode = function(domNode) {\r\n\t\tvar parent = domNode.parentNode;\r\n\t\tif (parent && parent.toString() === '[object ShadowRoot]') {\r\n\t\t\tparent = parent.host;\r\n\t\t}\r\n\t\treturn parent;\r\n\t};\r\n\thelpers$1.getMaximumWidth = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientWidth;\r\n\t\t}\r\n\r\n\t\tvar clientWidth = container.clientWidth;\r\n\t\tvar paddingLeft = helpers$1._calculatePadding(container, 'padding-left', clientWidth);\r\n\t\tvar paddingRight = helpers$1._calculatePadding(container, 'padding-right', clientWidth);\r\n\r\n\t\tvar w = clientWidth - paddingLeft - paddingRight;\r\n\t\tvar cw = helpers$1.getConstraintWidth(domNode);\r\n\t\treturn isNaN(cw) ? w : Math.min(w, cw);\r\n\t};\r\n\thelpers$1.getMaximumHeight = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientHeight;\r\n\t\t}\r\n\r\n\t\tvar clientHeight = container.clientHeight;\r\n\t\tvar paddingTop = helpers$1._calculatePadding(container, 'padding-top', clientHeight);\r\n\t\tvar paddingBottom = helpers$1._calculatePadding(container, 'padding-bottom', clientHeight);\r\n\r\n\t\tvar h = clientHeight - paddingTop - paddingBottom;\r\n\t\tvar ch = helpers$1.getConstraintHeight(domNode);\r\n\t\treturn isNaN(ch) ? h : Math.min(h, ch);\r\n\t};\r\n\thelpers$1.getStyle = function(el, property) {\r\n\t\treturn el.currentStyle ?\r\n\t\t\tel.currentStyle[property] :\r\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\r\n\t};\r\n\thelpers$1.retinaScale = function(chart, forceRatio) {\r\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = forceRatio || (typeof window !== 'undefined' && window.devicePixelRatio) || 1;\r\n\t\tif (pixelRatio === 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar height = chart.height;\r\n\t\tvar width = chart.width;\r\n\r\n\t\tcanvas.height = height * pixelRatio;\r\n\t\tcanvas.width = width * pixelRatio;\r\n\t\tchart.ctx.scale(pixelRatio, pixelRatio);\r\n\r\n\t\t// If no style has been set on the canvas, the render size is used as display size,\r\n\t\t// making the chart visually bigger, so let's enforce it to the \"correct\" values.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/3575\r\n\t\tif (!canvas.style.height && !canvas.style.width) {\r\n\t\t\tcanvas.style.height = height + 'px';\r\n\t\t\tcanvas.style.width = width + 'px';\r\n\t\t}\r\n\t};\r\n\t// -- Canvas methods\r\n\thelpers$1.fontString = function(pixelSize, fontStyle, fontFamily) {\r\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\r\n\t};\r\n\thelpers$1.longestText = function(ctx, font, arrayOfThings, cache) {\r\n\t\tcache = cache || {};\r\n\t\tvar data = cache.data = cache.data || {};\r\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\r\n\r\n\t\tif (cache.font !== font) {\r\n\t\t\tdata = cache.data = {};\r\n\t\t\tgc = cache.garbageCollect = [];\r\n\t\t\tcache.font = font;\r\n\t\t}\r\n\r\n\t\tctx.font = font;\r\n\t\tvar longest = 0;\r\n\t\tvar ilen = arrayOfThings.length;\r\n\t\tvar i, j, jlen, thing, nestedThing;\r\n\t\tfor (i = 0; i < ilen; i++) {\r\n\t\t\tthing = arrayOfThings[i];\r\n\r\n\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\tif (thing !== undefined && thing !== null && helpers$1.isArray(thing) !== true) {\r\n\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, thing);\r\n\t\t\t} else if (helpers$1.isArray(thing)) {\r\n\t\t\t\t// if it is an array lets measure each element\r\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\r\n\t\t\t\tfor (j = 0, jlen = thing.length; j < jlen; j++) {\r\n\t\t\t\t\tnestedThing = thing[j];\r\n\t\t\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers$1.isArray(nestedThing)) {\r\n\t\t\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, nestedThing);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tif (gcLen > arrayOfThings.length) {\r\n\t\t\tfor (i = 0; i < gcLen; i++) {\r\n\t\t\t\tdelete data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\thelpers$1.measureText = function(ctx, data, gc, longest, string) {\r\n\t\tvar textWidth = data[string];\r\n\t\tif (!textWidth) {\r\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\r\n\t\t\tgc.push(string);\r\n\t\t}\r\n\t\tif (textWidth > longest) {\r\n\t\t\tlongest = textWidth;\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t */\r\n\thelpers$1.numberOfLabelLines = function(arrayOfThings) {\r\n\t\tvar numberOfLines = 1;\r\n\t\thelpers$1.each(arrayOfThings, function(thing) {\r\n\t\t\tif (helpers$1.isArray(thing)) {\r\n\t\t\t\tif (thing.length > numberOfLines) {\r\n\t\t\t\t\tnumberOfLines = thing.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn numberOfLines;\r\n\t};\r\n\r\n\thelpers$1.color = !chartjsColor ?\r\n\t\tfunction(value) {\r\n\t\t\tconsole.error('Color.js not found!');\r\n\t\t\treturn value;\r\n\t\t} :\r\n\t\tfunction(value) {\r\n\t\t\t/* global CanvasGradient */\r\n\t\t\tif (value instanceof CanvasGradient) {\r\n\t\t\t\tvalue = core_defaults.global.defaultColor;\r\n\t\t\t}\r\n\r\n\t\t\treturn chartjsColor(value);\r\n\t\t};\r\n\r\n\thelpers$1.getHoverColor = function(colorValue) {\r\n\t\t/* global CanvasPattern */\r\n\t\treturn (colorValue instanceof CanvasPattern || colorValue instanceof CanvasGradient) ?\r\n\t\t\tcolorValue :\r\n\t\t\thelpers$1.color(colorValue).saturate(0.5).darken(0.1).rgbString();\r\n\t};\r\n};\n\nfunction abstract() {\r\n\tthrow new Error(\r\n\t\t'This method is not implemented: either no adapter can ' +\r\n\t\t'be found or an incomplete integration was provided.'\r\n\t);\r\n}\r\n\r\n/**\r\n * Date adapter (current used by the time scale)\r\n * @namespace Chart._adapters._date\r\n * @memberof Chart._adapters\r\n * @private\r\n */\r\n\r\n/**\r\n * Currently supported unit string values.\r\n * @typedef {('millisecond'|'second'|'minute'|'hour'|'day'|'week'|'month'|'quarter'|'year')}\r\n * @memberof Chart._adapters._date\r\n * @name Unit\r\n */\r\n\r\n/**\r\n * @class\r\n */\r\nfunction DateAdapter(options) {\r\n\tthis.options = options || {};\r\n}\r\n\r\nhelpers$1.extend(DateAdapter.prototype, /** @lends DateAdapter */ {\r\n\t/**\r\n\t * Returns a map of time formats for the supported formatting units defined\r\n\t * in Unit as well as 'datetime' representing a detailed date/time string.\r\n\t * @returns {{string: string}}\r\n\t */\r\n\tformats: abstract,\r\n\r\n\t/**\r\n\t * Parses the given `value` and return the associated timestamp.\r\n\t * @param {any} value - the value to parse (usually comes from the data)\r\n\t * @param {string} [format] - the expected data format\r\n\t * @returns {(number|null)}\r\n\t * @function\r\n\t */\r\n\tparse: abstract,\r\n\r\n\t/**\r\n\t * Returns the formatted date in the specified `format` for a given `timestamp`.\r\n\t * @param {number} timestamp - the timestamp to format\r\n\t * @param {string} format - the date/time token\r\n\t * @return {string}\r\n\t * @function\r\n\t */\r\n\tformat: abstract,\r\n\r\n\t/**\r\n\t * Adds the specified `amount` of `unit` to the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {number} amount - the amount to add\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tadd: abstract,\r\n\r\n\t/**\r\n\t * Returns the number of `unit` between the given timestamps.\r\n\t * @param {number} max - the input timestamp (reference)\r\n\t * @param {number} min - the timestamp to substract\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tdiff: abstract,\r\n\r\n\t/**\r\n\t * Returns start of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @param {number} [weekday] - the ISO day of the week with 1 being Monday\r\n\t * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\r\n\t * @function\r\n\t */\r\n\tstartOf: abstract,\r\n\r\n\t/**\r\n\t * Returns end of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @function\r\n\t */\r\n\tendOf: abstract,\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility for scale.getValueForPixel(),\r\n\t * this method should be overridden only by the moment adapter.\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(value) {\r\n\t\treturn value;\r\n\t}\r\n});\r\n\r\nDateAdapter.override = function(members) {\r\n\thelpers$1.extend(DateAdapter.prototype, members);\r\n};\r\n\r\nvar _date = DateAdapter;\n\nvar core_adapters = {\n\t_date: _date\n};\n\n/**\r\n * Namespace to hold static tick generation functions\r\n * @namespace Chart.Ticks\r\n */\r\nvar core_ticks = {\r\n\t/**\r\n\t * Namespace to hold formatters for different types of ticks\r\n\t * @namespace Chart.Ticks.formatters\r\n\t */\r\n\tformatters: {\r\n\t\t/**\r\n\t\t * Formatter for value labels\r\n\t\t * @method Chart.Ticks.formatters.values\r\n\t\t * @param value the value to display\r\n\t\t * @return {string|string[]} the label to display\r\n\t\t */\r\n\t\tvalues: function(value) {\r\n\t\t\treturn helpers$1.isArray(value) ? value : '' + value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Formatter for linear numeric ticks\r\n\t\t * @method Chart.Ticks.formatters.linear\r\n\t\t * @param tickValue {number} the value to be formatted\r\n\t\t * @param index {number} the position of the tickValue parameter in the ticks array\r\n\t\t * @param ticks {number[]} the list of ticks being converted\r\n\t\t * @return {string} string representation of the tickValue parameter\r\n\t\t */\r\n\t\tlinear: function(tickValue, index, ticks) {\r\n\t\t\t// If we have lots of ticks, don't use the ones\r\n\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\r\n\r\n\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\r\n\t\t\tif (Math.abs(delta) > 1) {\r\n\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\r\n\t\t\t\t\t// not an integer\r\n\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar logDelta = helpers$1.log10(Math.abs(delta));\r\n\t\t\tvar tickString = '';\r\n\r\n\t\t\tif (tickValue !== 0) {\r\n\t\t\t\tvar maxTick = Math.max(Math.abs(ticks[0]), Math.abs(ticks[ticks.length - 1]));\r\n\t\t\t\tif (maxTick < 1e-4) { // all ticks are small numbers; use scientific notation\r\n\t\t\t\t\tvar logTick = helpers$1.log10(Math.abs(tickValue));\r\n\t\t\t\t\tvar numExponential = Math.floor(logTick) - Math.floor(logDelta);\r\n\t\t\t\t\tnumExponential = Math.max(Math.min(numExponential, 20), 0);\r\n\t\t\t\t\ttickString = tickValue.toExponential(numExponential);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\r\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\r\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttickString = '0'; // never show decimal places for 0\r\n\t\t\t}\r\n\r\n\t\t\treturn tickString;\r\n\t\t},\r\n\r\n\t\tlogarithmic: function(tickValue, index, ticks) {\r\n\t\t\tvar remain = tickValue / (Math.pow(10, Math.floor(helpers$1.log10(tickValue))));\r\n\r\n\t\t\tif (tickValue === 0) {\r\n\t\t\t\treturn '0';\r\n\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === ticks.length - 1) {\r\n\t\t\t\treturn tickValue.toExponential();\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n};\n\nvar isArray = helpers$1.isArray;\r\nvar isNullOrUndef = helpers$1.isNullOrUndef;\r\nvar valueOrDefault$a = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault = helpers$1.valueAtIndexOrDefault;\r\n\r\ncore_defaults._set('scale', {\r\n\tdisplay: true,\r\n\tposition: 'left',\r\n\toffset: false,\r\n\r\n\t// grid line settings\r\n\tgridLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tdrawBorder: true,\r\n\t\tdrawOnChartArea: true,\r\n\t\tdrawTicks: true,\r\n\t\ttickMarkLength: 10,\r\n\t\tzeroLineWidth: 1,\r\n\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\r\n\t\tzeroLineBorderDash: [],\r\n\t\tzeroLineBorderDashOffset: 0.0,\r\n\t\toffsetGridLines: false,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\t// scale label\r\n\tscaleLabel: {\r\n\t\t// display property\r\n\t\tdisplay: false,\r\n\r\n\t\t// actual label\r\n\t\tlabelString: '',\r\n\r\n\t\t// top/bottom padding\r\n\t\tpadding: {\r\n\t\t\ttop: 4,\r\n\t\t\tbottom: 4\r\n\t\t}\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tbeginAtZero: false,\r\n\t\tminRotation: 0,\r\n\t\tmaxRotation: 50,\r\n\t\tmirror: false,\r\n\t\tpadding: 0,\r\n\t\treverse: false,\r\n\t\tdisplay: true,\r\n\t\tautoSkip: true,\r\n\t\tautoSkipPadding: 0,\r\n\t\tlabelOffset: 0,\r\n\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\r\n\t\tcallback: core_ticks.formatters.values,\r\n\t\tminor: {},\r\n\t\tmajor: {}\r\n\t}\r\n});\r\n\r\n/** Returns a new array containing numItems from arr */\r\nfunction sample(arr, numItems) {\r\n\tvar result = [];\r\n\tvar increment = arr.length / numItems;\r\n\tvar i = 0;\r\n\tvar len = arr.length;\r\n\r\n\tfor (; i < len; i += increment) {\r\n\t\tresult.push(arr[Math.floor(i)]);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\r\n\tvar length = scale.getTicks().length;\r\n\tvar validIndex = Math.min(index, length - 1);\r\n\tvar lineValue = scale.getPixelForTick(validIndex);\r\n\tvar start = scale._startPixel;\r\n\tvar end = scale._endPixel;\r\n\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\tvar offset;\r\n\r\n\tif (offsetGridLines) {\r\n\t\tif (length === 1) {\r\n\t\t\toffset = Math.max(lineValue - start, end - lineValue);\r\n\t\t} else if (index === 0) {\r\n\t\t\toffset = (scale.getPixelForTick(1) - lineValue) / 2;\r\n\t\t} else {\r\n\t\t\toffset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\r\n\t\t}\r\n\t\tlineValue += validIndex < index ? offset : -offset;\r\n\r\n\t\t// Return undefined if the pixel is out of the range\r\n\t\tif (lineValue < start - epsilon || lineValue > end + epsilon) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\treturn lineValue;\r\n}\r\n\r\nfunction garbageCollect(caches, length) {\r\n\thelpers$1.each(caches, function(cache) {\r\n\t\tvar gc = cache.gc;\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tvar i;\r\n\t\tif (gcLen > length) {\r\n\t\t\tfor (i = 0; i < gcLen; ++i) {\r\n\t\t\t\tdelete cache.data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Returns {width, height, offset} objects for the first, last, widest, highest tick\r\n * labels where offset indicates the anchor point offset from the top in pixels.\r\n */\r\nfunction computeLabelSizes(ctx, tickFonts, ticks, caches) {\r\n\tvar length = ticks.length;\r\n\tvar widths = [];\r\n\tvar heights = [];\r\n\tvar offsets = [];\r\n\tvar widestLabelSize = 0;\r\n\tvar highestLabelSize = 0;\r\n\tvar i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel, widest, highest;\r\n\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tlabel = ticks[i].label;\r\n\t\ttickFont = ticks[i].major ? tickFonts.major : tickFonts.minor;\r\n\t\tctx.font = fontString = tickFont.string;\r\n\t\tcache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\r\n\t\tlineHeight = tickFont.lineHeight;\r\n\t\twidth = height = 0;\r\n\t\t// Undefined labels and arrays should not be measured\r\n\t\tif (!isNullOrUndef(label) && !isArray(label)) {\r\n\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, label);\r\n\t\t\theight = lineHeight;\r\n\t\t} else if (isArray(label)) {\r\n\t\t\t// if it is an array let's measure each element\r\n\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\tnestedLabel = label[j];\r\n\t\t\t\t// Undefined labels and arrays should not be measured\r\n\t\t\t\tif (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\r\n\t\t\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, nestedLabel);\r\n\t\t\t\t\theight += lineHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\twidths.push(width);\r\n\t\theights.push(height);\r\n\t\toffsets.push(lineHeight / 2);\r\n\t\twidestLabelSize = Math.max(width, widestLabelSize);\r\n\t\thighestLabelSize = Math.max(height, highestLabelSize);\r\n\t}\r\n\tgarbageCollect(caches, length);\r\n\r\n\twidest = widths.indexOf(widestLabelSize);\r\n\thighest = heights.indexOf(highestLabelSize);\r\n\r\n\tfunction valueAt(idx) {\r\n\t\treturn {\r\n\t\t\twidth: widths[idx] || 0,\r\n\t\t\theight: heights[idx] || 0,\r\n\t\t\toffset: offsets[idx] || 0\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tfirst: valueAt(0),\r\n\t\tlast: valueAt(length - 1),\r\n\t\twidest: valueAt(widest),\r\n\t\thighest: valueAt(highest)\r\n\t};\r\n}\r\n\r\nfunction getTickMarkLength(options) {\r\n\treturn options.drawTicks ? options.tickMarkLength : 0;\r\n}\r\n\r\nfunction getScaleLabelHeight(options) {\r\n\tvar font, padding;\r\n\r\n\tif (!options.display) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tfont = helpers$1.options._parseFont(options);\r\n\tpadding = helpers$1.options.toPadding(options.padding);\r\n\r\n\treturn font.lineHeight + padding.height;\r\n}\r\n\r\nfunction parseFontOptions(options, nestedOpts) {\r\n\treturn helpers$1.extend(helpers$1.options._parseFont({\r\n\t\tfontFamily: valueOrDefault$a(nestedOpts.fontFamily, options.fontFamily),\r\n\t\tfontSize: valueOrDefault$a(nestedOpts.fontSize, options.fontSize),\r\n\t\tfontStyle: valueOrDefault$a(nestedOpts.fontStyle, options.fontStyle),\r\n\t\tlineHeight: valueOrDefault$a(nestedOpts.lineHeight, options.lineHeight)\r\n\t}), {\r\n\t\tcolor: helpers$1.options.resolve([nestedOpts.fontColor, options.fontColor, core_defaults.global.defaultFontColor])\r\n\t});\r\n}\r\n\r\nfunction parseTickFontOptions(options) {\r\n\tvar minor = parseFontOptions(options, options.minor);\r\n\tvar major = options.major.enabled ? parseFontOptions(options, options.major) : minor;\r\n\r\n\treturn {minor: minor, major: major};\r\n}\r\n\r\nfunction nonSkipped(ticksToFilter) {\r\n\tvar filtered = [];\r\n\tvar item, index, len;\r\n\tfor (index = 0, len = ticksToFilter.length; index < len; ++index) {\r\n\t\titem = ticksToFilter[index];\r\n\t\tif (typeof item._index !== 'undefined') {\r\n\t\t\tfiltered.push(item);\r\n\t\t}\r\n\t}\r\n\treturn filtered;\r\n}\r\n\r\nfunction getEvenSpacing(arr) {\r\n\tvar len = arr.length;\r\n\tvar i, diff;\r\n\r\n\tif (len < 2) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor (diff = arr[0], i = 1; i < len; ++i) {\r\n\t\tif (arr[i] - arr[i - 1] !== diff) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn diff;\r\n}\r\n\r\nfunction calculateSpacing(majorIndices, ticks, axisLength, ticksLimit) {\r\n\tvar evenMajorSpacing = getEvenSpacing(majorIndices);\r\n\tvar spacing = (ticks.length - 1) / ticksLimit;\r\n\tvar factors, factor, i, ilen;\r\n\r\n\t// If the major ticks are evenly spaced apart, place the minor ticks\r\n\t// so that they divide the major ticks into even chunks\r\n\tif (!evenMajorSpacing) {\r\n\t\treturn Math.max(spacing, 1);\r\n\t}\r\n\r\n\tfactors = helpers$1.math._factorize(evenMajorSpacing);\r\n\tfor (i = 0, ilen = factors.length - 1; i < ilen; i++) {\r\n\t\tfactor = factors[i];\r\n\t\tif (factor > spacing) {\r\n\t\t\treturn factor;\r\n\t\t}\r\n\t}\r\n\treturn Math.max(spacing, 1);\r\n}\r\n\r\nfunction getMajorIndices(ticks) {\r\n\tvar result = [];\r\n\tvar i, ilen;\r\n\tfor (i = 0, ilen = ticks.length; i < ilen; i++) {\r\n\t\tif (ticks[i].major) {\r\n\t\t\tresult.push(i);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction skipMajors(ticks, majorIndices, spacing) {\r\n\tvar count = 0;\r\n\tvar next = majorIndices[0];\r\n\tvar i, tick;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tfor (i = 0; i < ticks.length; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = majorIndices[count * spacing];\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction skip(ticks, spacing, majorStart, majorEnd) {\r\n\tvar start = valueOrDefault$a(majorStart, 0);\r\n\tvar end = Math.min(valueOrDefault$a(majorEnd, ticks.length), ticks.length);\r\n\tvar count = 0;\r\n\tvar length, i, tick, next;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tif (majorEnd) {\r\n\t\tlength = majorEnd - majorStart;\r\n\t\tspacing = length / Math.floor(length / spacing);\r\n\t}\r\n\r\n\tnext = start;\r\n\r\n\twhile (next < 0) {\r\n\t\tcount++;\r\n\t\tnext = Math.round(start + count * spacing);\r\n\t}\r\n\r\n\tfor (i = Math.max(start, 0); i < end; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = Math.round(start + count * spacing);\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar Scale = core_element.extend({\r\n\r\n\tzeroLineIndex: 0,\r\n\r\n\t/**\r\n\t * Get the padding needed for the scale\r\n\t * @method getPadding\r\n\t * @private\r\n\t * @returns {Padding} the necessary padding\r\n\t */\r\n\tgetPadding: function() {\r\n\t\tvar me = this;\r\n\t\treturn {\r\n\t\t\tleft: me.paddingLeft || 0,\r\n\t\t\ttop: me.paddingTop || 0,\r\n\t\t\tright: me.paddingRight || 0,\r\n\t\t\tbottom: me.paddingBottom || 0\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the scale tick objects ({label, major})\r\n\t * @since 2.7\r\n\t */\r\n\tgetTicks: function() {\r\n\t\treturn this._ticks;\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getLabels: function() {\r\n\t\tvar data = this.chart.data;\r\n\t\treturn this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecyle. Utilities then follow.\r\n\t// Any function defined here is inherited by all scale types.\r\n\t// Any function can be extended by the scale type\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.Scale.mergeTicksOptions\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\tmergeTicksOptions: function() {\r\n\t\t// noop\r\n\t},\r\n\r\n\tbeforeUpdate: function() {\r\n\t\thelpers$1.callback(this.options.beforeUpdate, [this]);\r\n\t},\r\n\r\n\t/**\r\n\t * @param {number} maxWidth - the max width in pixels\r\n\t * @param {number} maxHeight - the max height in pixels\r\n\t * @param {object} margins - the space between the edge of the other scales and edge of the chart\r\n\t *   This space comes from two sources:\r\n\t *     - padding - space that's required to show the labels at the edges of the scale\r\n\t *     - thickness of scales or legends in another orientation\r\n\t */\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar sampleSize = tickOpts.sampleSize;\r\n\t\tvar i, ilen, labels, ticks, samplingEnabled;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = helpers$1.extend({\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0\r\n\t\t}, margins);\r\n\r\n\t\tme._ticks = null;\r\n\t\tme.ticks = null;\r\n\t\tme._labelSizes = null;\r\n\t\tme._maxLabelLines = 0;\r\n\t\tme.longestLabelWidth = 0;\r\n\t\tme.longestTextCache = me.longestTextCache || {};\r\n\t\tme._gridLineItems = null;\r\n\t\tme._labelItems = null;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\r\n\t\t// Data min/max\r\n\t\tme.beforeDataLimits();\r\n\t\tme.determineDataLimits();\r\n\t\tme.afterDataLimits();\r\n\r\n\t\t// Ticks - `this.ticks` is now DEPRECATED!\r\n\t\t// Internal ticks are now stored as objects in the PRIVATE `this._ticks` member\r\n\t\t// and must not be accessed directly from outside this class. `this.ticks` being\r\n\t\t// around for long time and not marked as private, we can't change its structure\r\n\t\t// without unexpected breaking changes. If you need to access the scale ticks,\r\n\t\t// use scale.getTicks() instead.\r\n\r\n\t\tme.beforeBuildTicks();\r\n\r\n\t\t// New implementations should return an array of objects but for BACKWARD COMPAT,\r\n\t\t// we still support no return (`this.ticks` internally set by calling this method).\r\n\t\tticks = me.buildTicks() || [];\r\n\r\n\t\t// Allow modification of ticks in callback.\r\n\t\tticks = me.afterBuildTicks(ticks) || ticks;\r\n\r\n\t\t// Ensure ticks contains ticks in new tick format\r\n\t\tif ((!ticks || !ticks.length) && me.ticks) {\r\n\t\t\tticks = [];\r\n\t\t\tfor (i = 0, ilen = me.ticks.length; i < ilen; ++i) {\r\n\t\t\t\tticks.push({\r\n\t\t\t\t\tvalue: me.ticks[i],\r\n\t\t\t\t\tmajor: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme._ticks = ticks;\r\n\r\n\t\t// Compute tick rotation and fit using a sampled subset of labels\r\n\t\t// We generally don't need to compute the size of every single label for determining scale size\r\n\t\tsamplingEnabled = sampleSize < ticks.length;\r\n\t\tlabels = me._convertTicksToLabels(samplingEnabled ? sample(ticks, sampleSize) : ticks);\r\n\r\n\t\t// _configure is called twice, once here, once from core.controller.updateLayout.\r\n\t\t// Here we haven't been positioned yet, but dimensions are correct.\r\n\t\t// Variables set in _configure are needed for calculateTickRotation, and\r\n\t\t// it's ok that coordinates are not correct there, only dimensions matter.\r\n\t\tme._configure();\r\n\r\n\t\t// Tick Rotation\r\n\t\tme.beforeCalculateTickRotation();\r\n\t\tme.calculateTickRotation();\r\n\t\tme.afterCalculateTickRotation();\r\n\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\r\n\t\t// Auto-skip\r\n\t\tme._ticksToDraw = tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto') ? me._autoSkip(ticks) : ticks;\r\n\r\n\t\tif (samplingEnabled) {\r\n\t\t\t// Generate labels using all non-skipped ticks\r\n\t\t\tlabels = me._convertTicksToLabels(me._ticksToDraw);\r\n\t\t}\r\n\r\n\t\tme.ticks = labels;   // BACKWARD COMPATIBILITY\r\n\r\n\t\t// IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\r\n\r\n\t\tme.afterUpdate();\r\n\r\n\t\t// TODO(v3): remove minSize as a public property and return value from all layout boxes. It is unused\r\n\t\t// make maxWidth and maxHeight private\r\n\t\treturn me.minSize;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar reversePixels = me.options.ticks.reverse;\r\n\t\tvar startPixel, endPixel;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tstartPixel = me.left;\r\n\t\t\tendPixel = me.right;\r\n\t\t} else {\r\n\t\t\tstartPixel = me.top;\r\n\t\t\tendPixel = me.bottom;\r\n\t\t\t// by default vertical scales are from bottom to top, so pixels are reversed\r\n\t\t\treversePixels = !reversePixels;\r\n\t\t}\r\n\t\tme._startPixel = startPixel;\r\n\t\tme._endPixel = endPixel;\r\n\t\tme._reversePixels = reversePixels;\r\n\t\tme._length = endPixel - startPixel;\r\n\t},\r\n\r\n\tafterUpdate: function() {\r\n\t\thelpers$1.callback(this.options.afterUpdate, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.beforeSetDimensions, [this]);\r\n\t},\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\t},\r\n\tafterSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.afterSetDimensions, [this]);\r\n\t},\r\n\r\n\t// Data limits\r\n\tbeforeDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.beforeDataLimits, [this]);\r\n\t},\r\n\tdetermineDataLimits: helpers$1.noop,\r\n\tafterDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.afterDataLimits, [this]);\r\n\t},\r\n\r\n\t//\r\n\tbeforeBuildTicks: function() {\r\n\t\thelpers$1.callback(this.options.beforeBuildTicks, [this]);\r\n\t},\r\n\tbuildTicks: helpers$1.noop,\r\n\tafterBuildTicks: function(ticks) {\r\n\t\tvar me = this;\r\n\t\t// ticks is empty for old axis implementations here\r\n\t\tif (isArray(ticks) && ticks.length) {\r\n\t\t\treturn helpers$1.callback(me.options.afterBuildTicks, [me, ticks]);\r\n\t\t}\r\n\t\t// Support old implementations (that modified `this.ticks` directly in buildTicks)\r\n\t\tme.ticks = helpers$1.callback(me.options.afterBuildTicks, [me, me.ticks]) || me.ticks;\r\n\t\treturn ticks;\r\n\t},\r\n\r\n\tbeforeTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.beforeTickToLabelConversion, [this]);\r\n\t},\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\t// Convert ticks to strings\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tme.ticks = me.ticks.map(tickOpts.userCallback || tickOpts.callback, this);\r\n\t},\r\n\tafterTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.afterTickToLabelConversion, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.beforeCalculateTickRotation, [this]);\r\n\t},\r\n\tcalculateTickRotation: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar numTicks = me.getTicks().length;\r\n\t\tvar minRotation = tickOpts.minRotation || 0;\r\n\t\tvar maxRotation = tickOpts.maxRotation;\r\n\t\tvar labelRotation = minRotation;\r\n\t\tvar labelSizes, maxLabelWidth, maxLabelHeight, maxWidth, tickWidth, maxHeight, maxLabelDiagonal;\r\n\r\n\t\tif (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\r\n\t\t\tme.labelRotation = minRotation;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlabelSizes = me._getLabelSizes();\r\n\t\tmaxLabelWidth = labelSizes.widest.width;\r\n\t\tmaxLabelHeight = labelSizes.highest.height - labelSizes.highest.offset;\r\n\r\n\t\t// Estimate the width of each grid based on the canvas width, the maximum\r\n\t\t// label width and the number of tick intervals\r\n\t\tmaxWidth = Math.min(me.maxWidth, me.chart.width - maxLabelWidth);\r\n\t\ttickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\r\n\r\n\t\t// Allow 3 pixels x2 padding either side for label readability\r\n\t\tif (maxLabelWidth + 6 > tickWidth) {\r\n\t\t\ttickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\r\n\t\t\tmaxHeight = me.maxHeight - getTickMarkLength(options.gridLines)\r\n\t\t\t\t- tickOpts.padding - getScaleLabelHeight(options.scaleLabel);\r\n\t\t\tmaxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\r\n\t\t\tlabelRotation = helpers$1.toDegrees(Math.min(\r\n\t\t\t\tMath.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)),\r\n\t\t\t\tMath.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)\r\n\t\t\t));\r\n\t\t\tlabelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\r\n\t\t}\r\n\r\n\t\tme.labelRotation = labelRotation;\r\n\t},\r\n\tafterCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.afterCalculateTickRotation, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeFit: function() {\r\n\t\thelpers$1.callback(this.options.beforeFit, [this]);\r\n\t},\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\t// Reset\r\n\t\tvar minSize = me.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\r\n\t\tvar chart = me.chart;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\t\tvar scaleLabelOpts = opts.scaleLabel;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar display = me._isVisible();\r\n\t\tvar isBottom = opts.position === 'bottom';\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\t// Width\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth;\r\n\t\t} else if (display) {\r\n\t\t\tminSize.width = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// height\r\n\t\tif (!isHorizontal) {\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t} else if (display) {\r\n\t\t\tminSize.height = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// Don't bother fitting the ticks if we are not showing the labels\r\n\t\tif (tickOpts.display && display) {\r\n\t\t\tvar tickFonts = parseTickFontOptions(tickOpts);\r\n\t\t\tvar labelSizes = me._getLabelSizes();\r\n\t\t\tvar firstLabelSize = labelSizes.first;\r\n\t\t\tvar lastLabelSize = labelSizes.last;\r\n\t\t\tvar widestLabelSize = labelSizes.widest;\r\n\t\t\tvar highestLabelSize = labelSizes.highest;\r\n\t\t\tvar lineSpace = tickFonts.minor.lineHeight * 0.4;\r\n\t\t\tvar tickPadding = tickOpts.padding;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\t// A horizontal axis is more constrained by the height.\r\n\t\t\t\tvar isRotated = me.labelRotation !== 0;\r\n\t\t\t\tvar angleRadians = helpers$1.toRadians(me.labelRotation);\r\n\t\t\t\tvar cosRotation = Math.cos(angleRadians);\r\n\t\t\t\tvar sinRotation = Math.sin(angleRadians);\r\n\r\n\t\t\t\tvar labelHeight = sinRotation * widestLabelSize.width\r\n\t\t\t\t\t+ cosRotation * (highestLabelSize.height - (isRotated ? highestLabelSize.offset : 0))\r\n\t\t\t\t\t+ (isRotated ? 0 : lineSpace); // padding\r\n\r\n\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\r\n\r\n\t\t\t\tvar offsetLeft = me.getPixelForTick(0) - me.left;\r\n\t\t\t\tvar offsetRight = me.right - me.getPixelForTick(me.getTicks().length - 1);\r\n\t\t\t\tvar paddingLeft, paddingRight;\r\n\r\n\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\r\n\t\t\t\t// which means that the right padding is dominated by the font height\r\n\t\t\t\tif (isRotated) {\r\n\t\t\t\t\tpaddingLeft = isBottom ?\r\n\t\t\t\t\t\tcosRotation * firstLabelSize.width + sinRotation * firstLabelSize.offset :\r\n\t\t\t\t\t\tsinRotation * (firstLabelSize.height - firstLabelSize.offset);\r\n\t\t\t\t\tpaddingRight = isBottom ?\r\n\t\t\t\t\t\tsinRotation * (lastLabelSize.height - lastLabelSize.offset) :\r\n\t\t\t\t\t\tcosRotation * lastLabelSize.width + sinRotation * lastLabelSize.offset;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpaddingLeft = firstLabelSize.width / 2;\r\n\t\t\t\t\tpaddingRight = lastLabelSize.width / 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust padding taking into account changes in offsets\r\n\t\t\t\t// and add 3 px to move away from canvas edges\r\n\t\t\t\tme.paddingLeft = Math.max((paddingLeft - offsetLeft) * me.width / (me.width - offsetLeft), 0) + 3;\r\n\t\t\t\tme.paddingRight = Math.max((paddingRight - offsetRight) * me.width / (me.width - offsetRight), 0) + 3;\r\n\t\t\t} else {\r\n\t\t\t\t// A vertical axis is more constrained by the width. Labels are the\r\n\t\t\t\t// dominant factor here, so get that length first and account for padding\r\n\t\t\t\tvar labelWidth = tickOpts.mirror ? 0 :\r\n\t\t\t\t\t// use lineSpace for consistency with horizontal axis\r\n\t\t\t\t\t// tickPadding is not implemented for horizontal\r\n\t\t\t\t\twidestLabelSize.width + tickPadding + lineSpace;\r\n\r\n\t\t\t\tminSize.width = Math.min(me.maxWidth, minSize.width + labelWidth);\r\n\r\n\t\t\t\tme.paddingTop = firstLabelSize.height / 2;\r\n\t\t\t\tme.paddingBottom = lastLabelSize.height / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.handleMargins();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tme.width = me._length = chart.width - me.margins.left - me.margins.right;\r\n\t\t\tme.height = minSize.height;\r\n\t\t} else {\r\n\t\t\tme.width = minSize.width;\r\n\t\t\tme.height = me._length = chart.height - me.margins.top - me.margins.bottom;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle margins and padding interactions\r\n\t * @private\r\n\t */\r\n\thandleMargins: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.margins) {\r\n\t\t\tme.margins.left = Math.max(me.paddingLeft, me.margins.left);\r\n\t\t\tme.margins.top = Math.max(me.paddingTop, me.margins.top);\r\n\t\t\tme.margins.right = Math.max(me.paddingRight, me.margins.right);\r\n\t\t\tme.margins.bottom = Math.max(me.paddingBottom, me.margins.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tafterFit: function() {\r\n\t\thelpers$1.callback(this.options.afterFit, [this]);\r\n\t},\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\tisFullWidth: function() {\r\n\t\treturn this.options.fullWidth;\r\n\t},\r\n\r\n\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\r\n\tgetRightValue: function(rawValue) {\r\n\t\t// Null and undefined values first\r\n\t\tif (isNullOrUndef(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\t\t// isNaN(object) returns true, so make sure NaN is checking for a number; Discard Infinite values\r\n\t\tif ((typeof rawValue === 'number' || rawValue instanceof Number) && !isFinite(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// If it is in fact an object, dive in one more level\r\n\t\tif (rawValue) {\r\n\t\t\tif (this.isHorizontal()) {\r\n\t\t\t\tif (rawValue.x !== undefined) {\r\n\t\t\t\t\treturn this.getRightValue(rawValue.x);\r\n\t\t\t\t}\r\n\t\t\t} else if (rawValue.y !== undefined) {\r\n\t\t\t\treturn this.getRightValue(rawValue.y);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Value is good, return it\r\n\t\treturn rawValue;\r\n\t},\r\n\r\n\t_convertTicksToLabels: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar labels, i, ilen;\r\n\r\n\t\tme.ticks = ticks.map(function(tick) {\r\n\t\t\treturn tick.value;\r\n\t\t});\r\n\r\n\t\tme.beforeTickToLabelConversion();\r\n\r\n\t\t// New implementations should return the formatted tick labels but for BACKWARD\r\n\t\t// COMPAT, we still support no return (`this.ticks` internally changed by calling\r\n\t\t// this method and supposed to contain only string values).\r\n\t\tlabels = me.convertTicksToLabels(ticks) || me.ticks;\r\n\r\n\t\tme.afterTickToLabelConversion();\r\n\r\n\t\t// BACKWARD COMPAT: synchronize `_ticks` with labels (so potentially `this.ticks`)\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tticks[i].label = labels[i];\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSizes: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelSizes = me._labelSizes;\r\n\r\n\t\tif (!labelSizes) {\r\n\t\t\tme._labelSizes = labelSizes = computeLabelSizes(me.ctx, parseTickFontOptions(me.options.ticks), me.getTicks(), me.longestTextCache);\r\n\t\t\tme.longestLabelWidth = labelSizes.widest.width;\r\n\t\t}\r\n\r\n\t\treturn labelSizes;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_parseValue: function(value) {\r\n\t\tvar start, end, min, max;\r\n\r\n\t\tif (isArray(value)) {\r\n\t\t\tstart = +this.getRightValue(value[0]);\r\n\t\t\tend = +this.getRightValue(value[1]);\r\n\t\t\tmin = Math.min(start, end);\r\n\t\t\tmax = Math.max(start, end);\r\n\t\t} else {\r\n\t\t\tvalue = +this.getRightValue(value);\r\n\t\t\tstart = undefined;\r\n\t\t\tend = value;\r\n\t\t\tmin = value;\r\n\t\t\tmax = value;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tmin: min,\r\n\t\t\tmax: max,\r\n\t\t\tstart: start,\r\n\t\t\tend: end\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getScaleLabel: function(rawValue) {\r\n\t\tvar v = this._parseValue(rawValue);\r\n\t\tif (v.start !== undefined) {\r\n\t\t\treturn '[' + v.start + ', ' + v.end + ']';\r\n\t\t}\r\n\r\n\t\treturn +this.getRightValue(rawValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Used to get the value to display in the tooltip for the data at the given index\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetLabelForIndex: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param value\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetPixelForValue: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param pixel\r\n\t */\r\n\tgetValueForPixel: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the tick at the given index\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar numTicks = me._ticks.length;\r\n\t\tvar tickWidth = 1 / Math.max(numTicks - (offset ? 0 : 1), 1);\r\n\r\n\t\treturn index < 0 || index > numTicks - 1\r\n\t\t\t? null\r\n\t\t\t: me.getPixelForDecimal(index * tickWidth + (offset ? tickWidth / 2 : 0));\r\n\t},\r\n\r\n\t/**\r\n\t * Utility for getting the pixel location of a percentage of scale\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForDecimal: function(decimal) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (me._reversePixels) {\r\n\t\t\tdecimal = 1 - decimal;\r\n\t\t}\r\n\r\n\t\treturn me._startPixel + decimal * me._length;\r\n\t},\r\n\r\n\tgetDecimalForPixel: function(pixel) {\r\n\t\tvar decimal = (pixel - this._startPixel) / this._length;\r\n\t\treturn this._reversePixels ? 1 - decimal : decimal;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the pixel for the minimum chart value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetBasePixel: function() {\r\n\t\treturn this.getPixelForValue(this.getBaseValue());\r\n\t},\r\n\r\n\tgetBaseValue: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a subset of ticks to be plotted to avoid overlapping labels.\r\n\t * @private\r\n\t */\r\n\t_autoSkip: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar axisLength = me._length;\r\n\t\tvar ticksLimit = tickOpts.maxTicksLimit || axisLength / me._tickSize() + 1;\r\n\t\tvar majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\r\n\t\tvar numMajorIndices = majorIndices.length;\r\n\t\tvar first = majorIndices[0];\r\n\t\tvar last = majorIndices[numMajorIndices - 1];\r\n\t\tvar i, ilen, spacing, avgMajorSpacing;\r\n\r\n\t\t// If there are too many major ticks to display them all\r\n\t\tif (numMajorIndices > ticksLimit) {\r\n\t\t\tskipMajors(ticks, majorIndices, numMajorIndices / ticksLimit);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\r\n\t\tspacing = calculateSpacing(majorIndices, ticks, axisLength, ticksLimit);\r\n\r\n\t\tif (numMajorIndices > 0) {\r\n\t\t\tfor (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\r\n\t\t\t\tskip(ticks, spacing, majorIndices[i], majorIndices[i + 1]);\r\n\t\t\t}\r\n\t\t\tavgMajorSpacing = numMajorIndices > 1 ? (last - first) / (numMajorIndices - 1) : null;\r\n\t\t\tskip(ticks, spacing, helpers$1.isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\r\n\t\t\tskip(ticks, spacing, last, helpers$1.isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\t\tskip(ticks, spacing);\r\n\t\treturn nonSkipped(ticks);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_tickSize: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\t// Calculate space needed by label in axis direction.\r\n\t\tvar rot = helpers$1.toRadians(me.labelRotation);\r\n\t\tvar cos = Math.abs(Math.cos(rot));\r\n\t\tvar sin = Math.abs(Math.sin(rot));\r\n\r\n\t\tvar labelSizes = me._getLabelSizes();\r\n\t\tvar padding = optionTicks.autoSkipPadding || 0;\r\n\t\tvar w = labelSizes ? labelSizes.widest.width + padding : 0;\r\n\t\tvar h = labelSizes ? labelSizes.highest.height + padding : 0;\r\n\r\n\t\t// Calculate space needed for 1 tick in axis direction.\r\n\t\treturn me.isHorizontal()\r\n\t\t\t? h * cos > w * sin ? w / cos : h / sin\r\n\t\t\t: h * sin < w * cos ? h / cos : w / sin;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_isVisible: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar display = me.options.display;\r\n\t\tvar i, ilen, meta;\r\n\r\n\t\tif (display !== 'auto') {\r\n\t\t\treturn !!display;\r\n\t\t}\r\n\r\n\t\t// When 'auto', the scale is visible if at least one associated dataset is visible.\r\n\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tif (meta.xAxisID === me.id || meta.yAxisID === me.id) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeGridLineItems: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar options = me.options;\r\n\t\tvar gridLines = options.gridLines;\r\n\t\tvar position = options.position;\r\n\t\tvar offsetGridLines = gridLines.offsetGridLines;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar ticksLength = ticks.length + (offsetGridLines ? 1 : 0);\r\n\r\n\t\tvar tl = getTickMarkLength(gridLines);\r\n\t\tvar items = [];\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar axisHalfWidth = axisWidth / 2;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar alignBorderValue = function(pixel) {\r\n\t\t\treturn alignPixel(chart, pixel, axisWidth);\r\n\t\t};\r\n\t\tvar borderValue, i, tick, lineValue, alignedLineValue;\r\n\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, lineWidth, lineColor, borderDash, borderDashOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\tborderValue = alignBorderValue(me.bottom);\r\n\t\t\tty1 = me.bottom - tl;\r\n\t\t\tty2 = borderValue - axisHalfWidth;\r\n\t\t\ty1 = alignBorderValue(chartArea.top) + axisHalfWidth;\r\n\t\t\ty2 = chartArea.bottom;\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\tborderValue = alignBorderValue(me.top);\r\n\t\t\ty1 = chartArea.top;\r\n\t\t\ty2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\r\n\t\t\tty1 = borderValue + axisHalfWidth;\r\n\t\t\tty2 = me.top + tl;\r\n\t\t} else if (position === 'left') {\r\n\t\t\tborderValue = alignBorderValue(me.right);\r\n\t\t\ttx1 = me.right - tl;\r\n\t\t\ttx2 = borderValue - axisHalfWidth;\r\n\t\t\tx1 = alignBorderValue(chartArea.left) + axisHalfWidth;\r\n\t\t\tx2 = chartArea.right;\r\n\t\t} else {\r\n\t\t\tborderValue = alignBorderValue(me.left);\r\n\t\t\tx1 = chartArea.left;\r\n\t\t\tx2 = alignBorderValue(chartArea.right) - axisHalfWidth;\r\n\t\t\ttx1 = borderValue + axisHalfWidth;\r\n\t\t\ttx2 = me.left + tl;\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ticksLength; ++i) {\r\n\t\t\ttick = ticks[i] || {};\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(tick.label) && i < ticks.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (i === me.zeroLineIndex && options.offset === offsetGridLines) {\r\n\t\t\t\t// Draw the first index specially\r\n\t\t\t\tlineWidth = gridLines.zeroLineWidth;\r\n\t\t\t\tlineColor = gridLines.zeroLineColor;\r\n\t\t\t\tborderDash = gridLines.zeroLineBorderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.zeroLineBorderDashOffset || 0.0;\r\n\t\t\t} else {\r\n\t\t\t\tlineWidth = valueAtIndexOrDefault(gridLines.lineWidth, i, 1);\r\n\t\t\t\tlineColor = valueAtIndexOrDefault(gridLines.color, i, 'rgba(0,0,0,0.1)');\r\n\t\t\t\tborderDash = gridLines.borderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.borderDashOffset || 0.0;\r\n\t\t\t}\r\n\r\n\t\t\tlineValue = getPixelForGridLine(me, tick._index || i, offsetGridLines);\r\n\r\n\t\t\t// Skip if the pixel is out of the range\r\n\t\t\tif (lineValue === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talignedLineValue = alignPixel(chart, lineValue, lineWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\ttx1 = tx2 = x1 = x2 = alignedLineValue;\r\n\t\t\t} else {\r\n\t\t\t\tty1 = ty2 = y1 = y2 = alignedLineValue;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttx1: tx1,\r\n\t\t\t\tty1: ty1,\r\n\t\t\t\ttx2: tx2,\r\n\t\t\t\tty2: ty2,\r\n\t\t\t\tx1: x1,\r\n\t\t\t\ty1: y1,\r\n\t\t\t\tx2: x2,\r\n\t\t\t\ty2: y2,\r\n\t\t\t\twidth: lineWidth,\r\n\t\t\t\tcolor: lineColor,\r\n\t\t\t\tborderDash: borderDash,\r\n\t\t\t\tborderDashOffset: borderDashOffset,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\titems.ticksLength = ticksLength;\r\n\t\titems.borderValue = borderValue;\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeLabelItems: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar optionTicks = options.ticks;\r\n\t\tvar position = options.position;\r\n\t\tvar isMirrored = optionTicks.mirror;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar fonts = parseTickFontOptions(optionTicks);\r\n\t\tvar tickPadding = optionTicks.padding;\r\n\t\tvar tl = getTickMarkLength(options.gridLines);\r\n\t\tvar rotation = -helpers$1.toRadians(me.labelRotation);\r\n\t\tvar items = [];\r\n\t\tvar i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\ty = me.bottom - tl - tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'left';\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\ty = me.top + tl + tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'right';\r\n\t\t} else if (position === 'left') {\r\n\t\t\tx = me.right - (isMirrored ? 0 : tl) - tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'left' : 'right';\r\n\t\t} else {\r\n\t\t\tx = me.left + (isMirrored ? 0 : tl) + tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'right' : 'left';\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\ttick = ticks[i];\r\n\t\t\tlabel = tick.label;\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(label)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpixel = me.getPixelForTick(tick._index || i) + optionTicks.labelOffset;\r\n\t\t\tfont = tick.major ? fonts.major : fonts.minor;\r\n\t\t\tlineHeight = font.lineHeight;\r\n\t\t\tlineCount = isArray(label) ? label.length : 1;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tx = pixel;\r\n\t\t\t\ttextOffset = position === 'top'\r\n\t\t\t\t\t? ((!rotation ? 0.5 : 1) - lineCount) * lineHeight\r\n\t\t\t\t\t: (!rotation ? 0.5 : 0) * lineHeight;\r\n\t\t\t} else {\r\n\t\t\t\ty = pixel;\r\n\t\t\t\ttextOffset = (1 - lineCount) * lineHeight / 2;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\trotation: rotation,\r\n\t\t\t\tlabel: label,\r\n\t\t\t\tfont: font,\r\n\t\t\t\ttextOffset: textOffset,\r\n\t\t\t\ttextAlign: textAlign\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar gridLines = me.options.gridLines;\r\n\r\n\t\tif (!gridLines.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar chart = me.chart;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\r\n\t\tvar width, color, i, ilen, item;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\twidth = item.width;\r\n\t\t\tcolor = item.color;\r\n\r\n\t\t\tif (width && color) {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.lineWidth = width;\r\n\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t\tctx.setLineDash(item.borderDash);\r\n\t\t\t\t\tctx.lineDashOffset = item.borderDashOffset;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\tif (gridLines.drawTicks) {\r\n\t\t\t\t\tctx.moveTo(item.tx1, item.ty1);\r\n\t\t\t\t\tctx.lineTo(item.tx2, item.ty2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (gridLines.drawOnChartArea) {\r\n\t\t\t\t\tctx.moveTo(item.x1, item.y1);\r\n\t\t\t\t\tctx.lineTo(item.x2, item.y2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (axisWidth) {\r\n\t\t\t// Draw the line at the edge of the axis\r\n\t\t\tvar firstLineWidth = axisWidth;\r\n\t\t\tvar lastLineWidth = valueAtIndexOrDefault(gridLines.lineWidth, items.ticksLength - 1, 1);\r\n\t\t\tvar borderValue = items.borderValue;\r\n\t\t\tvar x1, x2, y1, y2;\r\n\r\n\t\t\tif (me.isHorizontal()) {\r\n\t\t\t\tx1 = alignPixel(chart, me.left, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\tx2 = alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\ty1 = y2 = borderValue;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = alignPixel(chart, me.top, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\ty2 = alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\tx1 = x2 = borderValue;\r\n\t\t\t}\r\n\r\n\t\t\tctx.lineWidth = axisWidth;\r\n\t\t\tctx.strokeStyle = valueAtIndexOrDefault(gridLines.color, 0);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x2, y2);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\tif (!optionTicks.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar items = me._labelItems || (me._labelItems = me._computeLabelItems());\r\n\t\tvar i, j, ilen, jlen, item, tickFont, label, y;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\ttickFont = item.font;\r\n\r\n\t\t\t// Make sure we draw text in the correct color and font\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(item.x, item.y);\r\n\t\t\tctx.rotate(item.rotation);\r\n\t\t\tctx.font = tickFont.string;\r\n\t\t\tctx.fillStyle = tickFont.color;\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tctx.textAlign = item.textAlign;\r\n\r\n\t\t\tlabel = item.label;\r\n\t\t\ty = item.textOffset;\r\n\t\t\tif (isArray(label)) {\r\n\t\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\t\t// We just make sure the multiline element is a string here..\r\n\t\t\t\t\tctx.fillText('' + label[j], 0, y);\r\n\t\t\t\t\ty += tickFont.lineHeight;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tctx.fillText(label, 0, y);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar options = me.options;\r\n\t\tvar scaleLabel = options.scaleLabel;\r\n\r\n\t\tif (!scaleLabel.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar scaleLabelFontColor = valueOrDefault$a(scaleLabel.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar scaleLabelFont = helpers$1.options._parseFont(scaleLabel);\r\n\t\tvar scaleLabelPadding = helpers$1.options.toPadding(scaleLabel.padding);\r\n\t\tvar halfLineHeight = scaleLabelFont.lineHeight / 2;\r\n\t\tvar position = options.position;\r\n\t\tvar rotation = 0;\r\n\t\tvar scaleLabelX, scaleLabelY;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tscaleLabelX = me.left + me.width / 2; // midpoint of the width\r\n\t\t\tscaleLabelY = position === 'bottom'\r\n\t\t\t\t? me.bottom - halfLineHeight - scaleLabelPadding.bottom\r\n\t\t\t\t: me.top + halfLineHeight + scaleLabelPadding.top;\r\n\t\t} else {\r\n\t\t\tvar isLeft = position === 'left';\r\n\t\t\tscaleLabelX = isLeft\r\n\t\t\t\t? me.left + halfLineHeight + scaleLabelPadding.top\r\n\t\t\t\t: me.right - halfLineHeight - scaleLabelPadding.top;\r\n\t\t\tscaleLabelY = me.top + me.height / 2;\r\n\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(scaleLabelX, scaleLabelY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.fillStyle = scaleLabelFontColor; // render in correct colour\r\n\t\tctx.font = scaleLabelFont.string;\r\n\t\tctx.fillText(scaleLabel.labelString, 0, 0);\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!me._isVisible()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._drawGrid(chartArea);\r\n\t\tme._drawTitle();\r\n\t\tme._drawLabels();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_layers: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tz = opts.ticks && opts.ticks.z || 0;\r\n\t\tvar gz = opts.gridLines && opts.gridLines.z || 0;\r\n\r\n\t\tif (!me._isVisible() || tz === gz || me.draw !== me._draw) {\r\n\t\t\t// backward compatibility: draw has been overridden by custom scale\r\n\t\t\treturn [{\r\n\t\t\t\tz: tz,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\tme.draw.apply(me, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t}\r\n\r\n\t\treturn [{\r\n\t\t\tz: gz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawGrid.apply(me, arguments);\r\n\t\t\t\tme._drawTitle.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}, {\r\n\t\t\tz: tz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawLabels.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getMatchingVisibleMetas: function(type) {\r\n\t\tvar me = this;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\treturn me.chart._getSortedVisibleDatasetMetas()\r\n\t\t\t.filter(function(meta) {\r\n\t\t\t\treturn (!type || meta.type === type)\r\n\t\t\t\t\t&& (isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id);\r\n\t\t\t});\r\n\t}\r\n});\r\n\r\nScale.prototype._draw = Scale.prototype.draw;\r\n\r\nvar core_scale = Scale;\n\nvar isNullOrUndef$1 = helpers$1.isNullOrUndef;\r\n\r\nvar defaultConfig = {\r\n\tposition: 'bottom'\r\n};\r\n\r\nvar scale_category = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar min = ticksOpts.min;\r\n\t\tvar max = ticksOpts.max;\r\n\t\tvar minIndex = 0;\r\n\t\tvar maxIndex = labels.length - 1;\r\n\t\tvar findIndex;\r\n\r\n\t\tif (min !== undefined) {\r\n\t\t\t// user specified min value\r\n\t\t\tfindIndex = labels.indexOf(min);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tminIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (max !== undefined) {\r\n\t\t\t// user specified max value\r\n\t\t\tfindIndex = labels.indexOf(max);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tmaxIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.minIndex = minIndex;\r\n\t\tme.maxIndex = maxIndex;\r\n\t\tme.min = labels[minIndex];\r\n\t\tme.max = labels[maxIndex];\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar minIndex = me.minIndex;\r\n\t\tvar maxIndex = me.maxIndex;\r\n\r\n\t\t// If we are viewing some subset of labels, slice the original array\r\n\t\tme.ticks = (minIndex === 0 && maxIndex === labels.length - 1) ? labels : labels.slice(minIndex, maxIndex + 1);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\r\n\t\tif (chart.getDatasetMeta(datasetIndex).controller._getValueScaleId() === me.id) {\r\n\t\t\treturn me.getRightValue(chart.data.datasets[datasetIndex].data[index]);\r\n\t\t}\r\n\r\n\t\treturn me._getLabels()[index];\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar ticks = me.ticks;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (!me.isHorizontal()) {\r\n\t\t\t// For backward compatibility, vertical category scale reverse is inverted.\r\n\t\t\tme._reversePixels = !me._reversePixels;\r\n\t\t}\r\n\r\n\t\tif (!ticks) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._startValue = me.minIndex - (offset ? 0.5 : 0);\r\n\t\tme._valueRange = Math.max(ticks.length - (offset ? 0 : 1), 1);\r\n\t},\r\n\r\n\t// Used to get data value locations.  Value can either be an index or a numerical value\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar valueCategory, labels, idx;\r\n\r\n\t\tif (!isNullOrUndef$1(index) && !isNullOrUndef$1(datasetIndex)) {\r\n\t\t\tvalue = me.chart.data.datasets[datasetIndex].data[index];\r\n\t\t}\r\n\r\n\t\t// If value is a data object, then index is the index in the data array,\r\n\t\t// not the index of the scale. We need to change that.\r\n\t\tif (!isNullOrUndef$1(value)) {\r\n\t\t\tvalueCategory = me.isHorizontal() ? value.x : value.y;\r\n\t\t}\r\n\t\tif (valueCategory !== undefined || (value !== undefined && isNaN(index))) {\r\n\t\t\tlabels = me._getLabels();\r\n\t\t\tvalue = helpers$1.valueOrDefault(valueCategory, value);\r\n\t\t\tidx = labels.indexOf(value);\r\n\t\t\tindex = idx !== -1 ? idx : index;\r\n\t\t\tif (isNaN(index)) {\r\n\t\t\t\tindex = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal((index - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticks;\r\n\t\treturn index < 0 || index > ticks.length - 1\r\n\t\t\t? null\r\n\t\t\t: this.getPixelForValue(ticks[index], index + this.minIndex);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar value = Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\r\n\t\treturn Math.min(Math.max(value, 0), me.ticks.length - 1);\r\n\t},\r\n\r\n\tgetBasePixel: function() {\r\n\t\treturn this.bottom;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults = defaultConfig;\nscale_category._defaults = _defaults;\n\nvar noop = helpers$1.noop;\r\nvar isNullOrUndef$2 = helpers$1.isNullOrUndef;\r\n\r\n/**\r\n * Generate a set of linear ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\r\n\t// \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\r\n\t// for details.\r\n\r\n\tvar MIN_SPACING = 1e-14;\r\n\tvar stepSize = generationOptions.stepSize;\r\n\tvar unit = stepSize || 1;\r\n\tvar maxNumSpaces = generationOptions.maxTicks - 1;\r\n\tvar min = generationOptions.min;\r\n\tvar max = generationOptions.max;\r\n\tvar precision = generationOptions.precision;\r\n\tvar rmin = dataRange.min;\r\n\tvar rmax = dataRange.max;\r\n\tvar spacing = helpers$1.niceNum((rmax - rmin) / maxNumSpaces / unit) * unit;\r\n\tvar factor, niceMin, niceMax, numSpaces;\r\n\r\n\t// Beyond MIN_SPACING floating point numbers being to lose precision\r\n\t// such that we can't do the math necessary to generate ticks\r\n\tif (spacing < MIN_SPACING && isNullOrUndef$2(min) && isNullOrUndef$2(max)) {\r\n\t\treturn [rmin, rmax];\r\n\t}\r\n\r\n\tnumSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\r\n\tif (numSpaces > maxNumSpaces) {\r\n\t\t// If the calculated num of spaces exceeds maxNumSpaces, recalculate it\r\n\t\tspacing = helpers$1.niceNum(numSpaces * spacing / maxNumSpaces / unit) * unit;\r\n\t}\r\n\r\n\tif (stepSize || isNullOrUndef$2(precision)) {\r\n\t\t// If a precision is not specified, calculate factor based on spacing\r\n\t\tfactor = Math.pow(10, helpers$1._decimalPlaces(spacing));\r\n\t} else {\r\n\t\t// If the user specified a precision, round to that number of decimal places\r\n\t\tfactor = Math.pow(10, precision);\r\n\t\tspacing = Math.ceil(spacing * factor) / factor;\r\n\t}\r\n\r\n\tniceMin = Math.floor(rmin / spacing) * spacing;\r\n\tniceMax = Math.ceil(rmax / spacing) * spacing;\r\n\r\n\t// If min, max and stepSize is set and they make an evenly spaced scale use it.\r\n\tif (stepSize) {\r\n\t\t// If very close to our whole number, use it.\r\n\t\tif (!isNullOrUndef$2(min) && helpers$1.almostWhole(min / spacing, spacing / 1000)) {\r\n\t\t\tniceMin = min;\r\n\t\t}\r\n\t\tif (!isNullOrUndef$2(max) && helpers$1.almostWhole(max / spacing, spacing / 1000)) {\r\n\t\t\tniceMax = max;\r\n\t\t}\r\n\t}\r\n\r\n\tnumSpaces = (niceMax - niceMin) / spacing;\r\n\t// If very close to our rounded value, use it.\r\n\tif (helpers$1.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\r\n\t\tnumSpaces = Math.round(numSpaces);\r\n\t} else {\r\n\t\tnumSpaces = Math.ceil(numSpaces);\r\n\t}\r\n\r\n\tniceMin = Math.round(niceMin * factor) / factor;\r\n\tniceMax = Math.round(niceMax * factor) / factor;\r\n\tticks.push(isNullOrUndef$2(min) ? niceMin : min);\r\n\tfor (var j = 1; j < numSpaces; ++j) {\r\n\t\tticks.push(Math.round((niceMin + j * spacing) * factor) / factor);\r\n\t}\r\n\tticks.push(isNullOrUndef$2(max) ? niceMax : max);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar scale_linearbase = core_scale.extend({\r\n\tgetRightValue: function(value) {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn +value;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, value);\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\r\n\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\r\n\t\t// axis, they can manually override it\r\n\t\tif (tickOpts.beginAtZero) {\r\n\t\t\tvar minSign = helpers$1.sign(me.min);\r\n\t\t\tvar maxSign = helpers$1.sign(me.max);\r\n\r\n\t\t\tif (minSign < 0 && maxSign < 0) {\r\n\t\t\t\t// move the top up to 0\r\n\t\t\t\tme.max = 0;\r\n\t\t\t} else if (minSign > 0 && maxSign > 0) {\r\n\t\t\t\t// move the bottom down to 0\r\n\t\t\t\tme.min = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar setMin = tickOpts.min !== undefined || tickOpts.suggestedMin !== undefined;\r\n\t\tvar setMax = tickOpts.max !== undefined || tickOpts.suggestedMax !== undefined;\r\n\r\n\t\tif (tickOpts.min !== undefined) {\r\n\t\t\tme.min = tickOpts.min;\r\n\t\t} else if (tickOpts.suggestedMin !== undefined) {\r\n\t\t\tif (me.min === null) {\r\n\t\t\t\tme.min = tickOpts.suggestedMin;\r\n\t\t\t} else {\r\n\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tickOpts.max !== undefined) {\r\n\t\t\tme.max = tickOpts.max;\r\n\t\t} else if (tickOpts.suggestedMax !== undefined) {\r\n\t\t\tif (me.max === null) {\r\n\t\t\t\tme.max = tickOpts.suggestedMax;\r\n\t\t\t} else {\r\n\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (setMin !== setMax) {\r\n\t\t\t// We set the min or the max but not both.\r\n\t\t\t// So ensure that our range is good\r\n\t\t\t// Inverted or 0 length range can happen when\r\n\t\t\t// ticks.min is set, and no datasets are visible\r\n\t\t\tif (me.min >= me.max) {\r\n\t\t\t\tif (setMin) {\r\n\t\t\t\t\tme.max = me.min + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.min = me.max - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tme.max++;\r\n\r\n\t\t\tif (!tickOpts.beginAtZero) {\r\n\t\t\t\tme.min--;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar stepSize = tickOpts.stepSize;\r\n\t\tvar maxTicksLimit = tickOpts.maxTicksLimit;\r\n\t\tvar maxTicks;\r\n\r\n\t\tif (stepSize) {\r\n\t\t\tmaxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\r\n\t\t} else {\r\n\t\t\tmaxTicks = me._computeTickLimit();\r\n\t\t\tmaxTicksLimit = maxTicksLimit || 11;\r\n\t\t}\r\n\r\n\t\tif (maxTicksLimit) {\r\n\t\t\tmaxTicks = Math.min(maxTicksLimit, maxTicks);\r\n\t\t}\r\n\r\n\t\treturn maxTicks;\r\n\t},\r\n\r\n\t_computeTickLimit: function() {\r\n\t\treturn Number.POSITIVE_INFINITY;\r\n\t},\r\n\r\n\thandleDirectionalChanges: noop,\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// Figure out what the max number of ticks we can support it is based on the size of\r\n\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 40\r\n\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\r\n\t\t// the graph. Make sure we always have at least 2 ticks\r\n\t\tvar maxTicks = me.getTickLimit();\r\n\t\tmaxTicks = Math.max(2, maxTicks);\r\n\r\n\t\tvar numericGeneratorOptions = {\r\n\t\t\tmaxTicks: maxTicks,\r\n\t\t\tmin: tickOpts.min,\r\n\t\t\tmax: tickOpts.max,\r\n\t\t\tprecision: tickOpts.precision,\r\n\t\t\tstepSize: helpers$1.valueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks(numericGeneratorOptions, me);\r\n\r\n\t\tme.handleDirectionalChanges();\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\tme.ticksAsNumbers = me.ticks.slice();\r\n\t\tme.zeroLineIndex = me.ticks.indexOf(0);\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(me);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar ticks = me.getTicks();\r\n\t\tvar start = me.min;\r\n\t\tvar end = me.max;\r\n\t\tvar offset;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (me.options.offset && ticks.length) {\r\n\t\t\toffset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\r\n\t\t\tstart -= offset;\r\n\t\t\tend += offset;\r\n\t\t}\r\n\t\tme._startValue = start;\r\n\t\tme._endValue = end;\r\n\t\tme._valueRange = end - start;\r\n\t}\r\n});\n\nvar defaultConfig$1 = {\r\n\tposition: 'left',\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t}\r\n};\r\n\r\nvar DEFAULT_MIN = 0;\r\nvar DEFAULT_MAX = 1;\r\n\r\nfunction getOrCreateStack(stacks, stacked, meta) {\r\n\tvar key = [\r\n\t\tmeta.type,\r\n\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\tstacked === undefined && meta.stack === undefined ? meta.index : '',\r\n\t\tmeta.stack\r\n\t].join('.');\r\n\r\n\tif (stacks[key] === undefined) {\r\n\t\tstacks[key] = {\r\n\t\t\tpos: [],\r\n\t\t\tneg: []\r\n\t\t};\r\n\t}\r\n\r\n\treturn stacks[key];\r\n}\r\n\r\nfunction stackData(scale, stacks, meta, data) {\r\n\tvar opts = scale.options;\r\n\tvar stacked = opts.stacked;\r\n\tvar stack = getOrCreateStack(stacks, stacked, meta);\r\n\tvar pos = stack.pos;\r\n\tvar neg = stack.neg;\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tpos[i] = pos[i] || 0;\r\n\t\tneg[i] = neg[i] || 0;\r\n\r\n\t\tif (opts.relativePoints) {\r\n\t\t\tpos[i] = 100;\r\n\t\t} else if (value.min < 0 || value.max < 0) {\r\n\t\t\tneg[i] += value.min;\r\n\t\t} else {\r\n\t\t\tpos[i] += value.max;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction updateMinMax(scale, meta, data) {\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tscale.min = Math.min(scale.min, value.min);\r\n\t\tscale.max = Math.max(scale.max, value.max);\r\n\t}\r\n}\r\n\r\nvar scale_linear = scale_linearbase.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = me._getMatchingVisibleMetas();\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tvar stacks = {};\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, meta, data, values;\r\n\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (i = 0; !hasStacks && i < ilen; ++i) {\r\n\t\t\t\tmeta = metasets[i];\r\n\t\t\t\thasStacks = meta.stack !== undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\tdata = datasets[meta.index].data;\r\n\t\t\tif (hasStacks) {\r\n\t\t\t\tstackData(me, stacks, meta, data);\r\n\t\t\t} else {\r\n\t\t\t\tupdateMinMax(me, meta, data);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.each(stacks, function(stackValues) {\r\n\t\t\tvalues = stackValues.pos.concat(stackValues.neg);\r\n\t\t\tme.min = Math.min(me.min, helpers$1.min(values));\r\n\t\t\tme.max = Math.max(me.max, helpers$1.max(values));\r\n\t\t});\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) && !isNaN(me.min) ? me.min : DEFAULT_MIN;\r\n\t\tme.max = helpers$1.isFinite(me.max) && !isNaN(me.max) ? me.max : DEFAULT_MAX;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickFont;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\treturn Math.ceil(me.width / 40);\r\n\t\t}\r\n\t\ttickFont = helpers$1.options._parseFont(me.options.ticks);\r\n\t\treturn Math.ceil(me.height / tickFont.lineHeight);\r\n\t},\r\n\r\n\t// Called after the ticks are built. We need\r\n\thandleDirectionalChanges: function() {\r\n\t\tif (!this.isHorizontal()) {\r\n\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\r\n\t\t\tthis.ticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\t// Utils\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\treturn me.getPixelForDecimal((+me.getRightValue(value) - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\treturn this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticksAsNumbers;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$1 = defaultConfig$1;\nscale_linear._defaults = _defaults$1;\n\nvar valueOrDefault$b = helpers$1.valueOrDefault;\r\nvar log10 = helpers$1.math.log10;\r\n\r\n/**\r\n * Generate a set of logarithmic ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks$1(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\r\n\tvar tickVal = valueOrDefault$b(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\r\n\r\n\tvar endExp = Math.floor(log10(dataRange.max));\r\n\tvar endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\r\n\tvar exp, significand;\r\n\r\n\tif (tickVal === 0) {\r\n\t\texp = Math.floor(log10(dataRange.minNotZero));\r\n\t\tsignificand = Math.floor(dataRange.minNotZero / Math.pow(10, exp));\r\n\r\n\t\tticks.push(tickVal);\r\n\t\ttickVal = significand * Math.pow(10, exp);\r\n\t} else {\r\n\t\texp = Math.floor(log10(tickVal));\r\n\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp));\r\n\t}\r\n\tvar precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\r\n\r\n\tdo {\r\n\t\tticks.push(tickVal);\r\n\r\n\t\t++significand;\r\n\t\tif (significand === 10) {\r\n\t\t\tsignificand = 1;\r\n\t\t\t++exp;\r\n\t\t\tprecision = exp >= 0 ? 1 : precision;\r\n\t\t}\r\n\r\n\t\ttickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\r\n\t} while (exp < endExp || (exp === endExp && significand < endSignificand));\r\n\r\n\tvar lastTick = valueOrDefault$b(generationOptions.max, tickVal);\r\n\tticks.push(lastTick);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar defaultConfig$2 = {\r\n\tposition: 'left',\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.logarithmic\r\n\t}\r\n};\r\n\r\n// TODO(v3): change this to positiveOrDefault\r\nfunction nonNegativeOrDefault(value, defaultValue) {\r\n\treturn helpers$1.isFinite(value) && value >= 0 ? value : defaultValue;\r\n}\r\n\r\nvar scale_logarithmic = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tfunction IDMatches(meta) {\r\n\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\r\n\t\t}\r\n\t\tvar datasetIndex, meta, value, data, i, ilen;\r\n\r\n\t\t// Calculate Range\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\t\tme.minNotZero = Number.POSITIVE_INFINITY;\r\n\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta) &&\r\n\t\t\t\t\tmeta.stack !== undefined) {\r\n\t\t\t\t\thasStacks = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (opts.stacked || hasStacks) {\r\n\t\t\tvar valuesPerStack = {};\r\n\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tvar key = [\r\n\t\t\t\t\tmeta.type,\r\n\t\t\t\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\t\t\t\t((opts.stacked === undefined && meta.stack === undefined) ? datasetIndex : ''),\r\n\t\t\t\t\tmeta.stack\r\n\t\t\t\t].join('.');\r\n\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tif (valuesPerStack[key] === undefined) {\r\n\t\t\t\t\t\tvaluesPerStack[key] = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvar values = valuesPerStack[key];\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalues[i] = values[i] || 0;\r\n\t\t\t\t\t\tvalues[i] += value.max;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(valuesPerStack, function(valuesForType) {\r\n\t\t\t\tif (valuesForType.length > 0) {\r\n\t\t\t\t\tvar minVal = helpers$1.min(valuesForType);\r\n\t\t\t\t\tvar maxVal = helpers$1.max(valuesForType);\r\n\t\t\t\t\tme.min = Math.min(me.min, minVal);\r\n\t\t\t\t\tme.max = Math.max(me.max, maxVal);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tme.min = Math.min(value.min, me.min);\r\n\t\t\t\t\t\tme.max = Math.max(value.max, me.max);\r\n\r\n\t\t\t\t\t\tif (value.min !== 0) {\r\n\t\t\t\t\t\t\tme.minNotZero = Math.min(value.min, me.minNotZero);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) ? me.min : null;\r\n\t\tme.max = helpers$1.isFinite(me.max) ? me.max : null;\r\n\t\tme.minNotZero = helpers$1.isFinite(me.minNotZero) ? me.minNotZero : null;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max\r\n\t\tthis.handleTickRangeOptions();\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar DEFAULT_MIN = 1;\r\n\t\tvar DEFAULT_MAX = 10;\r\n\r\n\t\tme.min = nonNegativeOrDefault(tickOpts.min, me.min);\r\n\t\tme.max = nonNegativeOrDefault(tickOpts.max, me.max);\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tif (me.min !== 0 && me.min !== null) {\r\n\t\t\t\tme.min = Math.pow(10, Math.floor(log10(me.min)) - 1);\r\n\t\t\t\tme.max = Math.pow(10, Math.floor(log10(me.max)) + 1);\r\n\t\t\t} else {\r\n\t\t\t\tme.min = DEFAULT_MIN;\r\n\t\t\t\tme.max = DEFAULT_MAX;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (me.min === null) {\r\n\t\t\tme.min = Math.pow(10, Math.floor(log10(me.max)) - 1);\r\n\t\t}\r\n\t\tif (me.max === null) {\r\n\t\t\tme.max = me.min !== 0\r\n\t\t\t\t? Math.pow(10, Math.floor(log10(me.min)) + 1)\r\n\t\t\t\t: DEFAULT_MAX;\r\n\t\t}\r\n\t\tif (me.minNotZero === null) {\r\n\t\t\tif (me.min > 0) {\r\n\t\t\t\tme.minNotZero = me.min;\r\n\t\t\t} else if (me.max < 1) {\r\n\t\t\t\tme.minNotZero = Math.pow(10, Math.floor(log10(me.max)));\r\n\t\t\t} else {\r\n\t\t\t\tme.minNotZero = DEFAULT_MIN;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar reverse = !me.isHorizontal();\r\n\r\n\t\tvar generationOptions = {\r\n\t\t\tmin: nonNegativeOrDefault(tickOpts.min),\r\n\t\t\tmax: nonNegativeOrDefault(tickOpts.max)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks$1(generationOptions, me);\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\treverse = !reverse;\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t\tif (reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tthis.tickValues = this.ticks.slice();\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(this);\r\n\t},\r\n\r\n\t// Get the correct tooltip label\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.tickValues;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the value of the first tick.\r\n\t * @param {number} value - The minimum not zero value.\r\n\t * @return {number} The first tick value.\r\n\t * @private\r\n\t */\r\n\t_getFirstTickValue: function(value) {\r\n\t\tvar exp = Math.floor(log10(value));\r\n\t\tvar significand = Math.floor(value / Math.pow(10, exp));\r\n\r\n\t\treturn significand * Math.pow(10, exp);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar start = me.min;\r\n\t\tvar offset = 0;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (start === 0) {\r\n\t\t\tstart = me._getFirstTickValue(me.minNotZero);\r\n\t\t\toffset = valueOrDefault$b(me.options.ticks.fontSize, core_defaults.global.defaultFontSize) / me._length;\r\n\t\t}\r\n\r\n\t\tme._startValue = log10(start);\r\n\t\tme._valueOffset = offset;\r\n\t\tme._valueRange = (log10(me.max) - log10(start)) / (1 - offset);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = 0;\r\n\r\n\t\tvalue = +me.getRightValue(value);\r\n\r\n\t\tif (value > me.min && value > 0) {\r\n\t\t\tdecimal = (log10(value) - me._startValue) / me._valueRange + me._valueOffset;\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal(decimal);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = me.getDecimalForPixel(pixel);\r\n\t\treturn decimal === 0 && me.min === 0\r\n\t\t\t? 0\r\n\t\t\t: Math.pow(10, me._startValue + (decimal - me._valueOffset) * me._valueRange);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$2 = defaultConfig$2;\nscale_logarithmic._defaults = _defaults$2;\n\nvar valueOrDefault$c = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault$1 = helpers$1.valueAtIndexOrDefault;\r\nvar resolve$4 = helpers$1.options.resolve;\r\n\r\nvar defaultConfig$3 = {\r\n\tdisplay: true,\r\n\r\n\t// Boolean - Whether to animate scaling the chart from the centre\r\n\tanimate: true,\r\n\tposition: 'chartArea',\r\n\r\n\tangleLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\tgridLines: {\r\n\t\tcircular: false\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\t// Boolean - Show a backdrop to the scale label\r\n\t\tshowLabelBackdrop: true,\r\n\r\n\t\t// String - The colour of the label backdrop\r\n\t\tbackdropColor: 'rgba(255,255,255,0.75)',\r\n\r\n\t\t// Number - The backdrop padding above & below the label in pixels\r\n\t\tbackdropPaddingY: 2,\r\n\r\n\t\t// Number - The backdrop padding to the side of the label in pixels\r\n\t\tbackdropPaddingX: 2,\r\n\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t},\r\n\r\n\tpointLabels: {\r\n\t\t// Boolean - if true, show point labels\r\n\t\tdisplay: true,\r\n\r\n\t\t// Number - Point label font size in pixels\r\n\t\tfontSize: 10,\r\n\r\n\t\t// Function - Used to convert point labels\r\n\t\tcallback: function(label) {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction getTickBackdropHeight(opts) {\r\n\tvar tickOpts = opts.ticks;\r\n\r\n\tif (tickOpts.display && opts.display) {\r\n\t\treturn valueOrDefault$c(tickOpts.fontSize, core_defaults.global.defaultFontSize) + tickOpts.backdropPaddingY * 2;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction measureLabelSize(ctx, lineHeight, label) {\r\n\tif (helpers$1.isArray(label)) {\r\n\t\treturn {\r\n\t\t\tw: helpers$1.longestText(ctx, ctx.font, label),\r\n\t\t\th: label.length * lineHeight\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tw: ctx.measureText(label).width,\r\n\t\th: lineHeight\r\n\t};\r\n}\r\n\r\nfunction determineLimits(angle, pos, size, min, max) {\r\n\tif (angle === min || angle === max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - (size / 2),\r\n\t\t\tend: pos + (size / 2)\r\n\t\t};\r\n\t} else if (angle < min || angle > max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - size,\r\n\t\t\tend: pos\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tstart: pos,\r\n\t\tend: pos + size\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper function to fit a radial linear scale with point labels\r\n */\r\nfunction fitWithPointLabels(scale) {\r\n\r\n\t// Right, this is really confusing and there is a lot of maths going on here\r\n\t// The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\r\n\t//\r\n\t// Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\r\n\t//\r\n\t// Solution:\r\n\t//\r\n\t// We assume the radius of the polygon is half the size of the canvas at first\r\n\t// at each index we check if the text overlaps.\r\n\t//\r\n\t// Where it does, we store that angle and that index.\r\n\t//\r\n\t// After finding the largest index and angle we calculate how much we need to remove\r\n\t// from the shape radius to move the point inwards by that x.\r\n\t//\r\n\t// We average the left and right distances to get the maximum shape radius that can fit in the box\r\n\t// along with labels.\r\n\t//\r\n\t// Once we have that, we can find the centre point for the chart, by taking the x text protrusion\r\n\t// on each side, removing that from the size, halving it and adding the left x protrusion width.\r\n\t//\r\n\t// This will mean we have a shape fitted to the canvas, as large as it can be with the labels\r\n\t// and position it in the most space efficient manner\r\n\t//\r\n\t// https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\r\n\r\n\tvar plFont = helpers$1.options._parseFont(scale.options.pointLabels);\r\n\r\n\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\r\n\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\r\n\tvar furthestLimits = {\r\n\t\tl: 0,\r\n\t\tr: scale.width,\r\n\t\tt: 0,\r\n\t\tb: scale.height - scale.paddingTop\r\n\t};\r\n\tvar furthestAngles = {};\r\n\tvar i, textSize, pointPosition;\r\n\r\n\tscale.ctx.font = plFont.string;\r\n\tscale._pointLabelSizes = [];\r\n\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tfor (i = 0; i < valueCount; i++) {\r\n\t\tpointPosition = scale.getPointPosition(i, scale.drawingArea + 5);\r\n\t\ttextSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale.pointLabels[i]);\r\n\t\tscale._pointLabelSizes[i] = textSize;\r\n\r\n\t\t// Add quarter circle to make degree 0 mean top of circle\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians) % 360;\r\n\t\tvar hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\r\n\t\tvar vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\r\n\r\n\t\tif (hLimits.start < furthestLimits.l) {\r\n\t\t\tfurthestLimits.l = hLimits.start;\r\n\t\t\tfurthestAngles.l = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (hLimits.end > furthestLimits.r) {\r\n\t\t\tfurthestLimits.r = hLimits.end;\r\n\t\t\tfurthestAngles.r = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.start < furthestLimits.t) {\r\n\t\t\tfurthestLimits.t = vLimits.start;\r\n\t\t\tfurthestAngles.t = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.end > furthestLimits.b) {\r\n\t\t\tfurthestLimits.b = vLimits.end;\r\n\t\t\tfurthestAngles.b = angleRadians;\r\n\t\t}\r\n\t}\r\n\r\n\tscale.setReductions(scale.drawingArea, furthestLimits, furthestAngles);\r\n}\r\n\r\nfunction getTextAlignForAngle(angle) {\r\n\tif (angle === 0 || angle === 180) {\r\n\t\treturn 'center';\r\n\t} else if (angle < 180) {\r\n\t\treturn 'left';\r\n\t}\r\n\r\n\treturn 'right';\r\n}\r\n\r\nfunction fillText(ctx, text, position, lineHeight) {\r\n\tvar y = position.y + lineHeight / 2;\r\n\tvar i, ilen;\r\n\r\n\tif (helpers$1.isArray(text)) {\r\n\t\tfor (i = 0, ilen = text.length; i < ilen; ++i) {\r\n\t\t\tctx.fillText(text[i], position.x, y);\r\n\t\t\ty += lineHeight;\r\n\t\t}\r\n\t} else {\r\n\t\tctx.fillText(text, position.x, y);\r\n\t}\r\n}\r\n\r\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\r\n\tif (angle === 90 || angle === 270) {\r\n\t\tposition.y -= (textSize.h / 2);\r\n\t} else if (angle > 270 || angle < 90) {\r\n\t\tposition.y -= textSize.h;\r\n\t}\r\n}\r\n\r\nfunction drawPointLabels(scale) {\r\n\tvar ctx = scale.ctx;\r\n\tvar opts = scale.options;\r\n\tvar pointLabelOpts = opts.pointLabels;\r\n\tvar tickBackdropHeight = getTickBackdropHeight(opts);\r\n\tvar outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\r\n\tvar plFont = helpers$1.options._parseFont(pointLabelOpts);\r\n\r\n\tctx.save();\r\n\r\n\tctx.font = plFont.string;\r\n\tctx.textBaseline = 'middle';\r\n\r\n\tfor (var i = scale.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t// Extra pixels out for some label spacing\r\n\t\tvar extra = (i === 0 ? tickBackdropHeight / 2 : 0);\r\n\t\tvar pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + 5);\r\n\r\n\t\t// Keep this in loop since we may support array properties here\r\n\t\tvar pointLabelFontColor = valueAtIndexOrDefault$1(pointLabelOpts.fontColor, i, core_defaults.global.defaultFontColor);\r\n\t\tctx.fillStyle = pointLabelFontColor;\r\n\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians);\r\n\t\tctx.textAlign = getTextAlignForAngle(angle);\r\n\t\tadjustPointPositionForLabelHeight(angle, scale._pointLabelSizes[i], pointLabelPosition);\r\n\t\tfillText(ctx, scale.pointLabels[i], pointLabelPosition, plFont.lineHeight);\r\n\t}\r\n\tctx.restore();\r\n}\r\n\r\nfunction drawRadiusLine(scale, gridLineOpts, radius, index) {\r\n\tvar ctx = scale.ctx;\r\n\tvar circular = gridLineOpts.circular;\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tvar lineColor = valueAtIndexOrDefault$1(gridLineOpts.color, index - 1);\r\n\tvar lineWidth = valueAtIndexOrDefault$1(gridLineOpts.lineWidth, index - 1);\r\n\tvar pointPosition;\r\n\r\n\tif ((!circular && !valueCount) || !lineColor || !lineWidth) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tctx.save();\r\n\tctx.strokeStyle = lineColor;\r\n\tctx.lineWidth = lineWidth;\r\n\tif (ctx.setLineDash) {\r\n\t\tctx.setLineDash(gridLineOpts.borderDash || []);\r\n\t\tctx.lineDashOffset = gridLineOpts.borderDashOffset || 0.0;\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tif (circular) {\r\n\t\t// Draw circular arcs between the points\r\n\t\tctx.arc(scale.xCenter, scale.yCenter, radius, 0, Math.PI * 2);\r\n\t} else {\r\n\t\t// Draw straight lines connecting each index\r\n\t\tpointPosition = scale.getPointPosition(0, radius);\r\n\t\tctx.moveTo(pointPosition.x, pointPosition.y);\r\n\r\n\t\tfor (var i = 1; i < valueCount; i++) {\r\n\t\t\tpointPosition = scale.getPointPosition(i, radius);\r\n\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\r\n\t\t}\r\n\t}\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n\tctx.restore();\r\n}\r\n\r\nfunction numberOrZero(param) {\r\n\treturn helpers$1.isNumber(param) ? param : 0;\r\n}\r\n\r\nvar scale_radialLinear = scale_linearbase.extend({\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tme.width = me.maxWidth;\r\n\t\tme.height = me.maxHeight;\r\n\t\tme.paddingTop = getTickBackdropHeight(me.options) / 2;\r\n\t\tme.xCenter = Math.floor(me.width / 2);\r\n\t\tme.yCenter = Math.floor((me.height - me.paddingTop) / 2);\r\n\t\tme.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar min = Number.POSITIVE_INFINITY;\r\n\t\tvar max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\r\n\r\n\t\t\t\thelpers$1.each(dataset.data, function(rawValue, index) {\r\n\t\t\t\t\tvar value = +me.getRightValue(rawValue);\r\n\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmin = Math.min(value, min);\r\n\t\t\t\t\tmax = Math.max(value, max);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.min = (min === Number.POSITIVE_INFINITY ? 0 : min);\r\n\t\tme.max = (max === Number.NEGATIVE_INFINITY ? 0 : max);\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\treturn Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tscale_linearbase.prototype.convertTicksToLabels.call(me);\r\n\r\n\t\t// Point labels\r\n\t\tme.pointLabels = me.chart.data.labels.map(function() {\r\n\t\t\tvar label = helpers$1.callback(me.options.pointLabels.callback, arguments, me);\r\n\t\t\treturn label || label === 0 ? label : '';\r\n\t\t});\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (opts.display && opts.pointLabels.display) {\r\n\t\t\tfitWithPointLabels(me);\r\n\t\t} else {\r\n\t\t\tme.setCenterPoint(0, 0, 0, 0);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Set radius reductions and determine new radius and center point\r\n\t * @private\r\n\t */\r\n\tsetReductions: function(largestPossibleRadius, furthestLimits, furthestAngles) {\r\n\t\tvar me = this;\r\n\t\tvar radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\r\n\t\tvar radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\r\n\t\tvar radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\r\n\t\tvar radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\r\n\r\n\t\tradiusReductionLeft = numberOrZero(radiusReductionLeft);\r\n\t\tradiusReductionRight = numberOrZero(radiusReductionRight);\r\n\t\tradiusReductionTop = numberOrZero(radiusReductionTop);\r\n\t\tradiusReductionBottom = numberOrZero(radiusReductionBottom);\r\n\r\n\t\tme.drawingArea = Math.min(\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2));\r\n\t\tme.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\r\n\t},\r\n\r\n\tsetCenterPoint: function(leftMovement, rightMovement, topMovement, bottomMovement) {\r\n\t\tvar me = this;\r\n\t\tvar maxRight = me.width - rightMovement - me.drawingArea;\r\n\t\tvar maxLeft = leftMovement + me.drawingArea;\r\n\t\tvar maxTop = topMovement + me.drawingArea;\r\n\t\tvar maxBottom = (me.height - me.paddingTop) - bottomMovement - me.drawingArea;\r\n\r\n\t\tme.xCenter = Math.floor(((maxLeft + maxRight) / 2) + me.left);\r\n\t\tme.yCenter = Math.floor(((maxTop + maxBottom) / 2) + me.top + me.paddingTop);\r\n\t},\r\n\r\n\tgetIndexAngle: function(index) {\r\n\t\tvar chart = this.chart;\r\n\t\tvar angleMultiplier = 360 / chart.data.labels.length;\r\n\t\tvar options = chart.options || {};\r\n\t\tvar startAngle = options.startAngle || 0;\r\n\r\n\t\t// Start from the top instead of right, so remove a quarter of the circle\r\n\t\tvar angle = (index * angleMultiplier + startAngle) % 360;\r\n\r\n\t\treturn (angle < 0 ? angle + 360 : angle) * Math.PI * 2 / 360;\r\n\t},\r\n\r\n\tgetDistanceFromCenterForValue: function(value) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// Take into account half font size + the yPadding of the top value\r\n\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\r\n\t\tif (me.options.ticks.reverse) {\r\n\t\t\treturn (me.max - value) * scalingFactor;\r\n\t\t}\r\n\t\treturn (value - me.min) * scalingFactor;\r\n\t},\r\n\r\n\tgetPointPosition: function(index, distanceFromCenter) {\r\n\t\tvar me = this;\r\n\t\tvar thisAngle = me.getIndexAngle(index) - (Math.PI / 2);\r\n\t\treturn {\r\n\t\t\tx: Math.cos(thisAngle) * distanceFromCenter + me.xCenter,\r\n\t\t\ty: Math.sin(thisAngle) * distanceFromCenter + me.yCenter\r\n\t\t};\r\n\t},\r\n\r\n\tgetPointPositionForValue: function(index, value) {\r\n\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\r\n\t},\r\n\r\n\tgetBasePosition: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.getPointPositionForValue(index || 0,\r\n\t\t\tme.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar angleLineOpts = opts.angleLines;\r\n\t\tvar lineWidth = valueOrDefault$c(angleLineOpts.lineWidth, gridLineOpts.lineWidth);\r\n\t\tvar lineColor = valueOrDefault$c(angleLineOpts.color, gridLineOpts.color);\r\n\t\tvar i, offset, position;\r\n\r\n\t\tif (opts.pointLabels.display) {\r\n\t\t\tdrawPointLabels(me);\r\n\t\t}\r\n\r\n\t\tif (gridLineOpts.display) {\r\n\t\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\t\tif (index !== 0) {\r\n\t\t\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\t\t\t\t\tdrawRadiusLine(me, gridLineOpts, offset, index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (angleLineOpts.display && lineWidth && lineColor) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = lineColor;\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\tctx.setLineDash(resolve$4([angleLineOpts.borderDash, gridLineOpts.borderDash, []]));\r\n\t\t\t\tctx.lineDashOffset = resolve$4([angleLineOpts.borderDashOffset, gridLineOpts.borderDashOffset, 0.0]);\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = me.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t\t\toffset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\r\n\t\t\t\tposition = me.getPointPosition(i, offset);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(me.xCenter, me.yCenter);\r\n\t\t\t\tctx.lineTo(position.x, position.y);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\tif (!tickOpts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar startAngle = me.getIndexAngle(0);\r\n\t\tvar tickFont = helpers$1.options._parseFont(tickOpts);\r\n\t\tvar tickFontColor = valueOrDefault$c(tickOpts.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar offset, width;\r\n\r\n\t\tctx.save();\r\n\t\tctx.font = tickFont.string;\r\n\t\tctx.translate(me.xCenter, me.yCenter);\r\n\t\tctx.rotate(startAngle);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\tif (index === 0 && !tickOpts.reverse) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\r\n\t\t\tif (tickOpts.showLabelBackdrop) {\r\n\t\t\t\twidth = ctx.measureText(label).width;\r\n\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\r\n\r\n\t\t\t\tctx.fillRect(\r\n\t\t\t\t\t-width / 2 - tickOpts.backdropPaddingX,\r\n\t\t\t\t\t-offset - tickFont.size / 2 - tickOpts.backdropPaddingY,\r\n\t\t\t\t\twidth + tickOpts.backdropPaddingX * 2,\r\n\t\t\t\t\ttickFont.size + tickOpts.backdropPaddingY * 2\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tctx.fillStyle = tickFontColor;\r\n\t\t\tctx.fillText(label, 0, -offset);\r\n\t\t});\r\n\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: helpers$1.noop\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$3 = defaultConfig$3;\nscale_radialLinear._defaults = _defaults$3;\n\nvar deprecated$1 = helpers$1._deprecated;\r\nvar resolve$5 = helpers$1.options.resolve;\r\nvar valueOrDefault$d = helpers$1.valueOrDefault;\r\n\r\n// Integer constants are from the ES6 spec.\r\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\r\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\n\r\nvar INTERVALS = {\r\n\tmillisecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1,\r\n\t\tsteps: 1000\r\n\t},\r\n\tsecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1000,\r\n\t\tsteps: 60\r\n\t},\r\n\tminute: {\r\n\t\tcommon: true,\r\n\t\tsize: 60000,\r\n\t\tsteps: 60\r\n\t},\r\n\thour: {\r\n\t\tcommon: true,\r\n\t\tsize: 3600000,\r\n\t\tsteps: 24\r\n\t},\r\n\tday: {\r\n\t\tcommon: true,\r\n\t\tsize: 86400000,\r\n\t\tsteps: 30\r\n\t},\r\n\tweek: {\r\n\t\tcommon: false,\r\n\t\tsize: 604800000,\r\n\t\tsteps: 4\r\n\t},\r\n\tmonth: {\r\n\t\tcommon: true,\r\n\t\tsize: 2.628e9,\r\n\t\tsteps: 12\r\n\t},\r\n\tquarter: {\r\n\t\tcommon: false,\r\n\t\tsize: 7.884e9,\r\n\t\tsteps: 4\r\n\t},\r\n\tyear: {\r\n\t\tcommon: true,\r\n\t\tsize: 3.154e10\r\n\t}\r\n};\r\n\r\nvar UNITS = Object.keys(INTERVALS);\r\n\r\nfunction sorter(a, b) {\r\n\treturn a - b;\r\n}\r\n\r\nfunction arrayUnique(items) {\r\n\tvar hash = {};\r\n\tvar out = [];\r\n\tvar i, ilen, item;\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\titem = items[i];\r\n\t\tif (!hash[item]) {\r\n\t\t\thash[item] = true;\r\n\t\t\tout.push(item);\r\n\t\t}\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction getMin(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.min, options.ticks.min);\r\n}\r\n\r\nfunction getMax(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.max, options.ticks.max);\r\n}\r\n\r\n/**\r\n * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\r\n * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\r\n * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\r\n * extremity (left + width or top + height). Note that it would be more optimized to directly\r\n * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\r\n * to create the lookup table. The table ALWAYS contains at least two items: min and max.\r\n *\r\n * @param {number[]} timestamps - timestamps sorted from lowest to highest.\r\n * @param {string} distribution - If 'linear', timestamps will be spread linearly along the min\r\n * and max range, so basically, the table will contains only two items: {min, 0} and {max, 1}.\r\n * If 'series', timestamps will be positioned at the same distance from each other. In this\r\n * case, only timestamps that break the time linearity are registered, meaning that in the\r\n * best case, all timestamps are linear, the table contains only min and max.\r\n */\r\nfunction buildLookupTable(timestamps, min, max, distribution) {\r\n\tif (distribution === 'linear' || !timestamps.length) {\r\n\t\treturn [\r\n\t\t\t{time: min, pos: 0},\r\n\t\t\t{time: max, pos: 1}\r\n\t\t];\r\n\t}\r\n\r\n\tvar table = [];\r\n\tvar items = [min];\r\n\tvar i, ilen, prev, curr, next;\r\n\r\n\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\tcurr = timestamps[i];\r\n\t\tif (curr > min && curr < max) {\r\n\t\t\titems.push(curr);\r\n\t\t}\r\n\t}\r\n\r\n\titems.push(max);\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\tnext = items[i + 1];\r\n\t\tprev = items[i - 1];\r\n\t\tcurr = items[i];\r\n\r\n\t\t// only add points that breaks the scale linearity\r\n\t\tif (prev === undefined || next === undefined || Math.round((next + prev) / 2) !== curr) {\r\n\t\t\ttable.push({time: curr, pos: i / (ilen - 1)});\r\n\t\t}\r\n\t}\r\n\r\n\treturn table;\r\n}\r\n\r\n// @see adapted from https://www.anujgakhar.com/2014/03/01/binary-search-in-javascript/\r\nfunction lookup(table, key, value) {\r\n\tvar lo = 0;\r\n\tvar hi = table.length - 1;\r\n\tvar mid, i0, i1;\r\n\r\n\twhile (lo >= 0 && lo <= hi) {\r\n\t\tmid = (lo + hi) >> 1;\r\n\t\ti0 = table[mid - 1] || null;\r\n\t\ti1 = table[mid];\r\n\r\n\t\tif (!i0) {\r\n\t\t\t// given value is outside table (before first item)\r\n\t\t\treturn {lo: null, hi: i1};\r\n\t\t} else if (i1[key] < value) {\r\n\t\t\tlo = mid + 1;\r\n\t\t} else if (i0[key] > value) {\r\n\t\t\thi = mid - 1;\r\n\t\t} else {\r\n\t\t\treturn {lo: i0, hi: i1};\r\n\t\t}\r\n\t}\r\n\r\n\t// given value is outside table (after last item)\r\n\treturn {lo: i1, hi: null};\r\n}\r\n\r\n/**\r\n * Linearly interpolates the given source `value` using the table items `skey` values and\r\n * returns the associated `tkey` value. For example, interpolate(table, 'time', 42, 'pos')\r\n * returns the position for a timestamp equal to 42. If value is out of bounds, values at\r\n * index [0, 1] or [n - 1, n] are used for the interpolation.\r\n */\r\nfunction interpolate$1(table, skey, sval, tkey) {\r\n\tvar range = lookup(table, skey, sval);\r\n\r\n\t// Note: the lookup table ALWAYS contains at least 2 items (min and max)\r\n\tvar prev = !range.lo ? table[0] : !range.hi ? table[table.length - 2] : range.lo;\r\n\tvar next = !range.lo ? table[1] : !range.hi ? table[table.length - 1] : range.hi;\r\n\r\n\tvar span = next[skey] - prev[skey];\r\n\tvar ratio = span ? (sval - prev[skey]) / span : 0;\r\n\tvar offset = (next[tkey] - prev[tkey]) * ratio;\r\n\r\n\treturn prev[tkey] + offset;\r\n}\r\n\r\nfunction toTimestamp(scale, input) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options.time;\r\n\tvar parser = options.parser;\r\n\tvar format = parser || options.format;\r\n\tvar value = input;\r\n\r\n\tif (typeof parser === 'function') {\r\n\t\tvalue = parser(value);\r\n\t}\r\n\r\n\t// Only parse if its not a timestamp already\r\n\tif (!helpers$1.isFinite(value)) {\r\n\t\tvalue = typeof format === 'string'\r\n\t\t\t? adapter.parse(value, format)\r\n\t\t\t: adapter.parse(value);\r\n\t}\r\n\r\n\tif (value !== null) {\r\n\t\treturn +value;\r\n\t}\r\n\r\n\t// Labels are in an incompatible format and no `parser` has been provided.\r\n\t// The user might still use the deprecated `format` option for parsing.\r\n\tif (!parser && typeof format === 'function') {\r\n\t\tvalue = format(input);\r\n\r\n\t\t// `format` could return something else than a timestamp, if so, parse it\r\n\t\tif (!helpers$1.isFinite(value)) {\r\n\t\t\tvalue = adapter.parse(value);\r\n\t\t}\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction parse(scale, input) {\r\n\tif (helpers$1.isNullOrUndef(input)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar options = scale.options.time;\r\n\tvar value = toTimestamp(scale, scale.getRightValue(input));\r\n\tif (value === null) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tif (options.round) {\r\n\t\tvalue = +scale._adapter.startOf(value, options.round);\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\n/**\r\n * Figures out what unit results in an appropriate number of auto-generated ticks\r\n */\r\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\r\n\tvar ilen = UNITS.length;\r\n\tvar i, interval, factor;\r\n\r\n\tfor (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\r\n\t\tinterval = INTERVALS[UNITS[i]];\r\n\t\tfactor = interval.steps ? interval.steps : MAX_INTEGER;\r\n\r\n\t\tif (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[ilen - 1];\r\n}\r\n\r\n/**\r\n * Figures out what unit to format a set of ticks with\r\n */\r\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\r\n\tvar i, unit;\r\n\r\n\tfor (i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\r\n\t\tunit = UNITS[i];\r\n\t\tif (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\r\n\t\t\treturn unit;\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\r\n}\r\n\r\nfunction determineMajorUnit(unit) {\r\n\tfor (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\r\n\t\tif (INTERVALS[UNITS[i]].common) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Generates a maximum of `capacity` timestamps between min and max, rounded to the\r\n * `minor` unit using the given scale time `options`.\r\n * Important: this method can return ticks outside the min and max range, it's the\r\n * responsibility of the calling code to clamp values if needed.\r\n */\r\nfunction generate(scale, min, max, capacity) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options;\r\n\tvar timeOpts = options.time;\r\n\tvar minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\r\n\tvar stepSize = resolve$5([timeOpts.stepSize, timeOpts.unitStepSize, 1]);\r\n\tvar weekday = minor === 'week' ? timeOpts.isoWeekday : false;\r\n\tvar first = min;\r\n\tvar ticks = [];\r\n\tvar time;\r\n\r\n\t// For 'week' unit, handle the first day of week option\r\n\tif (weekday) {\r\n\t\tfirst = +adapter.startOf(first, 'isoWeek', weekday);\r\n\t}\r\n\r\n\t// Align first ticks on unit\r\n\tfirst = +adapter.startOf(first, weekday ? 'day' : minor);\r\n\r\n\t// Prevent browser from freezing in case user options request millions of milliseconds\r\n\tif (adapter.diff(max, min, minor) > 100000 * stepSize) {\r\n\t\tthrow min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor;\r\n\t}\r\n\r\n\tfor (time = first; time < max; time = +adapter.add(time, stepSize, minor)) {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\tif (time === max || options.bounds === 'ticks') {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\treturn ticks;\r\n}\r\n\r\n/**\r\n * Returns the start and end offsets from edges in the form of {start, end}\r\n * where each value is a relative width to the scale and ranges between 0 and 1.\r\n * They add extra margins on the both sides by scaling down the original scale.\r\n * Offsets are added when the `offset` option is true.\r\n */\r\nfunction computeOffsets(table, ticks, min, max, options) {\r\n\tvar start = 0;\r\n\tvar end = 0;\r\n\tvar first, last;\r\n\r\n\tif (options.offset && ticks.length) {\r\n\t\tfirst = interpolate$1(table, 'time', ticks[0], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tstart = 1 - first;\r\n\t\t} else {\r\n\t\t\tstart = (interpolate$1(table, 'time', ticks[1], 'pos') - first) / 2;\r\n\t\t}\r\n\t\tlast = interpolate$1(table, 'time', ticks[ticks.length - 1], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tend = last;\r\n\t\t} else {\r\n\t\t\tend = (last - interpolate$1(table, 'time', ticks[ticks.length - 2], 'pos')) / 2;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {start: start, end: end, factor: 1 / (start + 1 + end)};\r\n}\r\n\r\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\r\n\tvar adapter = scale._adapter;\r\n\tvar first = +adapter.startOf(ticks[0].value, majorUnit);\r\n\tvar last = ticks[ticks.length - 1].value;\r\n\tvar major, index;\r\n\r\n\tfor (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\r\n\t\tindex = map[major];\r\n\t\tif (index >= 0) {\r\n\t\t\tticks[index].major = true;\r\n\t\t}\r\n\t}\r\n\treturn ticks;\r\n}\r\n\r\nfunction ticksFromTimestamps(scale, values, majorUnit) {\r\n\tvar ticks = [];\r\n\tvar map = {};\r\n\tvar ilen = values.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = values[i];\r\n\t\tmap[value] = i;\r\n\r\n\t\tticks.push({\r\n\t\t\tvalue: value,\r\n\t\t\tmajor: false\r\n\t\t});\r\n\t}\r\n\r\n\t// We set the major ticks separately from the above loop because calling startOf for every tick\r\n\t// is expensive when there is a large number of ticks\r\n\treturn (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\r\n}\r\n\r\nvar defaultConfig$4 = {\r\n\tposition: 'bottom',\r\n\r\n\t/**\r\n\t * Data distribution along the scale:\r\n\t * - 'linear': data are spread according to their time (distances can vary),\r\n\t * - 'series': data are spread at the same distance from each other.\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t * @since 2.7.0\r\n\t */\r\n\tdistribution: 'linear',\r\n\r\n\t/**\r\n\t * Scale boundary strategy (bypassed by min/max time options)\r\n\t * - `data`: make sure data are fully visible, ticks outside are removed\r\n\t * - `ticks`: make sure ticks are fully visible, data outside are truncated\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4556\r\n\t * @since 2.7.0\r\n\t */\r\n\tbounds: 'data',\r\n\r\n\tadapters: {},\r\n\ttime: {\r\n\t\tparser: false, // false == a pattern string from https://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\r\n\t\tunit: false, // false == automatic or override with week, month, year, etc.\r\n\t\tround: false, // none, or override with week, month, year, etc.\r\n\t\tdisplayFormat: false, // DEPRECATED\r\n\t\tisoWeekday: false, // override week start day - see https://momentjs.com/docs/#/get-set/iso-weekday/\r\n\t\tminUnit: 'millisecond',\r\n\t\tdisplayFormats: {}\r\n\t},\r\n\tticks: {\r\n\t\tautoSkip: false,\r\n\r\n\t\t/**\r\n\t\t * Ticks generation input values:\r\n\t\t * - 'auto': generates \"optimal\" ticks based on scale size and time options.\r\n\t\t * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\r\n\t\t * - 'labels': generates ticks from user given `data.labels` values ONLY.\r\n\t\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t\t * @since 2.7.0\r\n\t\t */\r\n\t\tsource: 'auto',\r\n\r\n\t\tmajor: {\r\n\t\t\tenabled: false\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar scale_time = core_scale.extend({\r\n\tinitialize: function() {\r\n\t\tthis.mergeTicksOptions();\r\n\t\tcore_scale.prototype.initialize.call(this);\r\n\t},\r\n\r\n\tupdate: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar time = options.time || (options.time = {});\r\n\t\tvar adapter = me._adapter = new core_adapters._date(options.adapters.date);\r\n\r\n\t\t// DEPRECATIONS: output a message only one time per update\r\n\t\tdeprecated$1('time scale', time.format, 'time.format', 'time.parser');\r\n\t\tdeprecated$1('time scale', time.min, 'time.min', 'ticks.min');\r\n\t\tdeprecated$1('time scale', time.max, 'time.max', 'ticks.max');\r\n\r\n\t\t// Backward compatibility: before introducing adapter, `displayFormats` was\r\n\t\t// supposed to contain *all* unit/string pairs but this can't be resolved\r\n\t\t// when loading the scale (adapters are loaded afterward), so let's populate\r\n\t\t// missing formats on update\r\n\t\thelpers$1.mergeIf(time.displayFormats, adapter.formats());\r\n\r\n\t\treturn core_scale.prototype.update.apply(me, arguments);\r\n\t},\r\n\r\n\t/**\r\n\t * Allows data to be referenced via 't' attribute\r\n\t */\r\n\tgetRightValue: function(rawValue) {\r\n\t\tif (rawValue && rawValue.t !== undefined) {\r\n\t\t\trawValue = rawValue.t;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, rawValue);\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar unit = options.time.unit || 'day';\r\n\t\tvar min = MAX_INTEGER;\r\n\t\tvar max = MIN_INTEGER;\r\n\t\tvar timestamps = [];\r\n\t\tvar datasets = [];\r\n\t\tvar labels = [];\r\n\t\tvar i, j, ilen, jlen, data, timestamp, labelsAdded;\r\n\t\tvar dataLabels = me._getLabels();\r\n\r\n\t\tfor (i = 0, ilen = dataLabels.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(parse(me, dataLabels[i]));\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tdata = chart.data.datasets[i].data;\r\n\r\n\t\t\t\t// Let's consider that all data have the same format.\r\n\t\t\t\tif (helpers$1.isObject(data[0])) {\r\n\t\t\t\t\tdatasets[i] = [];\r\n\r\n\t\t\t\t\tfor (j = 0, jlen = data.length; j < jlen; ++j) {\r\n\t\t\t\t\t\ttimestamp = parse(me, data[j]);\r\n\t\t\t\t\t\ttimestamps.push(timestamp);\r\n\t\t\t\t\t\tdatasets[i][j] = timestamp;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatasets[i] = labels.slice(0);\r\n\t\t\t\t\tif (!labelsAdded) {\r\n\t\t\t\t\t\ttimestamps = timestamps.concat(labels);\r\n\t\t\t\t\t\tlabelsAdded = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdatasets[i] = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (labels.length) {\r\n\t\t\tmin = Math.min(min, labels[0]);\r\n\t\t\tmax = Math.max(max, labels[labels.length - 1]);\r\n\t\t}\r\n\r\n\t\tif (timestamps.length) {\r\n\t\t\ttimestamps = ilen > 1 ? arrayUnique(timestamps).sort(sorter) : timestamps.sort(sorter);\r\n\t\t\tmin = Math.min(min, timestamps[0]);\r\n\t\t\tmax = Math.max(max, timestamps[timestamps.length - 1]);\r\n\t\t}\r\n\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// In case there is no valid min/max, set limits based on unit time option\r\n\t\tmin = min === MAX_INTEGER ? +adapter.startOf(Date.now(), unit) : min;\r\n\t\tmax = max === MIN_INTEGER ? +adapter.endOf(Date.now(), unit) + 1 : max;\r\n\r\n\t\t// Make sure that max is strictly higher than min (required by the lookup table)\r\n\t\tme.min = Math.min(min, max);\r\n\t\tme.max = Math.max(min + 1, max);\r\n\r\n\t\t// PRIVATE\r\n\t\tme._table = [];\r\n\t\tme._timestamps = {\r\n\t\t\tdata: timestamps,\r\n\t\t\tdatasets: datasets,\r\n\t\t\tlabels: labels\r\n\t\t};\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar timeOpts = options.time;\r\n\t\tvar timestamps = me._timestamps;\r\n\t\tvar ticks = [];\r\n\t\tvar capacity = me.getLabelCapacity(min);\r\n\t\tvar source = tickOpts.source;\r\n\t\tvar distribution = options.distribution;\r\n\t\tvar i, ilen, timestamp;\r\n\r\n\t\tif (source === 'data' || (source === 'auto' && distribution === 'series')) {\r\n\t\t\ttimestamps = timestamps.data;\r\n\t\t} else if (source === 'labels') {\r\n\t\t\ttimestamps = timestamps.labels;\r\n\t\t} else {\r\n\t\t\ttimestamps = generate(me, min, max, capacity);\r\n\t\t}\r\n\r\n\t\tif (options.bounds === 'ticks' && timestamps.length) {\r\n\t\t\tmin = timestamps[0];\r\n\t\t\tmax = timestamps[timestamps.length - 1];\r\n\t\t}\r\n\r\n\t\t// Enforce limits with user min/max options\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// Remove ticks outside the min/max range\r\n\t\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\t\ttimestamp = timestamps[i];\r\n\t\t\tif (timestamp >= min && timestamp <= max) {\r\n\t\t\t\tticks.push(timestamp);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = min;\r\n\t\tme.max = max;\r\n\r\n\t\t// PRIVATE\r\n\t\t// determineUnitForFormatting relies on the number of ticks so we don't use it when\r\n\t\t// autoSkip is enabled because we don't yet know what the final number of ticks will be\r\n\t\tme._unit = timeOpts.unit || (tickOpts.autoSkip\r\n\t\t\t? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, capacity)\r\n\t\t\t: determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\r\n\t\tme._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined\r\n\t\t\t: determineMajorUnit(me._unit);\r\n\t\tme._table = buildLookupTable(me._timestamps.data, min, max, distribution);\r\n\t\tme._offsets = computeOffsets(me._table, ticks, min, max, options);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\r\n\t\treturn ticksFromTimestamps(me, ticks, me._majorUnit);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar data = me.chart.data;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar label = data.labels && index < data.labels.length ? data.labels[index] : '';\r\n\t\tvar value = data.datasets[datasetIndex].data[index];\r\n\r\n\t\tif (helpers$1.isObject(value)) {\r\n\t\t\tlabel = me.getRightValue(value);\r\n\t\t}\r\n\t\tif (timeOpts.tooltipFormat) {\r\n\t\t\treturn adapter.format(toTimestamp(me, label), timeOpts.tooltipFormat);\r\n\t\t}\r\n\t\tif (typeof label === 'string') {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t\treturn adapter.format(toTimestamp(me, label), timeOpts.displayFormats.datetime);\r\n\t},\r\n\r\n\t/**\r\n\t * Function to format an individual tick mark\r\n\t * @private\r\n\t */\r\n\ttickFormatFunction: function(time, index, ticks, format) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar formats = options.time.displayFormats;\r\n\t\tvar minorFormat = formats[me._unit];\r\n\t\tvar majorUnit = me._majorUnit;\r\n\t\tvar majorFormat = formats[majorUnit];\r\n\t\tvar tick = ticks[index];\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar major = majorUnit && majorFormat && tick && tick.major;\r\n\t\tvar label = adapter.format(time, format ? format : major ? majorFormat : minorFormat);\r\n\t\tvar nestedTickOpts = major ? tickOpts.major : tickOpts.minor;\r\n\t\tvar formatter = resolve$5([\r\n\t\t\tnestedTickOpts.callback,\r\n\t\t\tnestedTickOpts.userCallback,\r\n\t\t\ttickOpts.callback,\r\n\t\t\ttickOpts.userCallback\r\n\t\t]);\r\n\r\n\t\treturn formatter ? formatter(label, index, ticks) : label;\r\n\t},\r\n\r\n\tconvertTicksToLabels: function(ticks) {\r\n\t\tvar labels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(this.tickFormatFunction(ticks[i].value, i, ticks));\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetPixelForOffset: function(time) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = interpolate$1(me._table, 'time', time, 'pos');\r\n\t\treturn me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar time = null;\r\n\r\n\t\tif (index !== undefined && datasetIndex !== undefined) {\r\n\t\t\ttime = me._timestamps.datasets[datasetIndex][index];\r\n\t\t}\r\n\r\n\t\tif (time === null) {\r\n\t\t\ttime = parse(me, value);\r\n\t\t}\r\n\r\n\t\tif (time !== null) {\r\n\t\t\treturn me.getPixelForOffset(time);\r\n\t\t}\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.getTicks();\r\n\t\treturn index >= 0 && index < ticks.length ?\r\n\t\t\tthis.getPixelForOffset(ticks[index].value) :\r\n\t\t\tnull;\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\r\n\t\tvar time = interpolate$1(me._table, 'pos', pos, 'time');\r\n\r\n\t\t// DEPRECATION, we should return time directly\r\n\t\treturn me._adapter._create(time);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSize: function(label) {\r\n\t\tvar me = this;\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar tickLabelWidth = me.ctx.measureText(label).width;\r\n\t\tvar angle = helpers$1.toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\r\n\t\tvar cosRotation = Math.cos(angle);\r\n\t\tvar sinRotation = Math.sin(angle);\r\n\t\tvar tickFontSize = valueOrDefault$d(ticksOpts.fontSize, core_defaults.global.defaultFontSize);\r\n\r\n\t\treturn {\r\n\t\t\tw: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\r\n\t\t\th: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Crude approximation of what the label width might be\r\n\t * @private\r\n\t */\r\n\tgetLabelWidth: function(label) {\r\n\t\treturn this._getLabelSize(label).w;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetLabelCapacity: function(exampleTime) {\r\n\t\tvar me = this;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar displayFormats = timeOpts.displayFormats;\r\n\r\n\t\t// pick the longest format (milliseconds) for guestimation\r\n\t\tvar format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\r\n\t\tvar exampleLabel = me.tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\r\n\t\tvar size = me._getLabelSize(exampleLabel);\r\n\t\tvar capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h);\r\n\r\n\t\tif (me.options.offset) {\r\n\t\t\tcapacity--;\r\n\t\t}\r\n\r\n\t\treturn capacity > 0 ? capacity : 1;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$4 = defaultConfig$4;\nscale_time._defaults = _defaults$4;\n\nvar scales = {\r\n\tcategory: scale_category,\r\n\tlinear: scale_linear,\r\n\tlogarithmic: scale_logarithmic,\r\n\tradialLinear: scale_radialLinear,\r\n\ttime: scale_time\r\n};\n\nvar FORMATS = {\r\n\tdatetime: 'MMM D, YYYY, h:mm:ss a',\r\n\tmillisecond: 'h:mm:ss.SSS a',\r\n\tsecond: 'h:mm:ss a',\r\n\tminute: 'h:mm a',\r\n\thour: 'hA',\r\n\tday: 'MMM D',\r\n\tweek: 'll',\r\n\tmonth: 'MMM YYYY',\r\n\tquarter: '[Q]Q - YYYY',\r\n\tyear: 'YYYY'\r\n};\r\n\r\ncore_adapters._date.override(typeof moment === 'function' ? {\r\n\t_id: 'moment', // DEBUG ONLY\r\n\r\n\tformats: function() {\r\n\t\treturn FORMATS;\r\n\t},\r\n\r\n\tparse: function(value, format) {\r\n\t\tif (typeof value === 'string' && typeof format === 'string') {\r\n\t\t\tvalue = moment(value, format);\r\n\t\t} else if (!(value instanceof moment)) {\r\n\t\t\tvalue = moment(value);\r\n\t\t}\r\n\t\treturn value.isValid() ? value.valueOf() : null;\r\n\t},\r\n\r\n\tformat: function(time, format) {\r\n\t\treturn moment(time).format(format);\r\n\t},\r\n\r\n\tadd: function(time, amount, unit) {\r\n\t\treturn moment(time).add(amount, unit).valueOf();\r\n\t},\r\n\r\n\tdiff: function(max, min, unit) {\r\n\t\treturn moment(max).diff(moment(min), unit);\r\n\t},\r\n\r\n\tstartOf: function(time, unit, weekday) {\r\n\t\ttime = moment(time);\r\n\t\tif (unit === 'isoWeek') {\r\n\t\t\treturn time.isoWeekday(weekday).valueOf();\r\n\t\t}\r\n\t\treturn time.startOf(unit).valueOf();\r\n\t},\r\n\r\n\tendOf: function(time, unit) {\r\n\t\treturn moment(time).endOf(unit).valueOf();\r\n\t},\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility with scale.getValueForPixel().\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(time) {\r\n\t\treturn moment(time);\r\n\t},\r\n} : {});\n\ncore_defaults._set('global', {\r\n\tplugins: {\r\n\t\tfiller: {\r\n\t\t\tpropagate: true\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar mappers = {\r\n\tdataset: function(source) {\r\n\t\tvar index = source.fill;\r\n\t\tvar chart = source.chart;\r\n\t\tvar meta = chart.getDatasetMeta(index);\r\n\t\tvar visible = meta && chart.isDatasetVisible(index);\r\n\t\tvar points = (visible && meta.dataset._children) || [];\r\n\t\tvar length = points.length || 0;\r\n\r\n\t\treturn !length ? null : function(point, i) {\r\n\t\t\treturn (i < length && points[i]._view) || null;\r\n\t\t};\r\n\t},\r\n\r\n\tboundary: function(source) {\r\n\t\tvar boundary = source.boundary;\r\n\t\tvar x = boundary ? boundary.x : null;\r\n\t\tvar y = boundary ? boundary.y : null;\r\n\r\n\t\tif (helpers$1.isArray(boundary)) {\r\n\t\t\treturn function(point, i) {\r\n\t\t\t\treturn boundary[i];\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tx: x === null ? point.x : x,\r\n\t\t\t\ty: y === null ? point.y : y,\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// @todo if (fill[0] === '#')\r\nfunction decodeFill(el, index, count) {\r\n\tvar model = el._model || {};\r\n\tvar fill = model.fill;\r\n\tvar target;\r\n\r\n\tif (fill === undefined) {\r\n\t\tfill = !!model.backgroundColor;\r\n\t}\r\n\r\n\tif (fill === false || fill === null) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (fill === true) {\r\n\t\treturn 'origin';\r\n\t}\r\n\r\n\ttarget = parseFloat(fill, 10);\r\n\tif (isFinite(target) && Math.floor(target) === target) {\r\n\t\tif (fill[0] === '-' || fill[0] === '+') {\r\n\t\t\ttarget = index + target;\r\n\t\t}\r\n\r\n\t\tif (target === index || target < 0 || target >= count) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t}\r\n\r\n\tswitch (fill) {\r\n\t// compatibility\r\n\tcase 'bottom':\r\n\t\treturn 'start';\r\n\tcase 'top':\r\n\t\treturn 'end';\r\n\tcase 'zero':\r\n\t\treturn 'origin';\r\n\t// supported boundaries\r\n\tcase 'origin':\r\n\tcase 'start':\r\n\tcase 'end':\r\n\t\treturn fill;\r\n\t// invalid fill values\r\n\tdefault:\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction computeLinearBoundary(source) {\r\n\tvar model = source.el._model || {};\r\n\tvar scale = source.el._scale || {};\r\n\tvar fill = source.fill;\r\n\tvar target = null;\r\n\tvar horizontal;\r\n\r\n\tif (isFinite(fill)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Backward compatibility: until v3, we still need to support boundary values set on\r\n\t// the model (scaleTop, scaleBottom and scaleZero) because some external plugins and\r\n\t// controllers might still use it (e.g. the Smith chart).\r\n\r\n\tif (fill === 'start') {\r\n\t\ttarget = model.scaleBottom === undefined ? scale.bottom : model.scaleBottom;\r\n\t} else if (fill === 'end') {\r\n\t\ttarget = model.scaleTop === undefined ? scale.top : model.scaleTop;\r\n\t} else if (model.scaleZero !== undefined) {\r\n\t\ttarget = model.scaleZero;\r\n\t} else if (scale.getBasePixel) {\r\n\t\ttarget = scale.getBasePixel();\r\n\t}\r\n\r\n\tif (target !== undefined && target !== null) {\r\n\t\tif (target.x !== undefined && target.y !== undefined) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\tif (helpers$1.isFinite(target)) {\r\n\t\t\thorizontal = scale.isHorizontal();\r\n\t\t\treturn {\r\n\t\t\t\tx: horizontal ? target : null,\r\n\t\t\t\ty: horizontal ? null : target\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction computeCircularBoundary(source) {\r\n\tvar scale = source.el._scale;\r\n\tvar options = scale.options;\r\n\tvar length = scale.chart.data.labels.length;\r\n\tvar fill = source.fill;\r\n\tvar target = [];\r\n\tvar start, end, center, i, point;\r\n\r\n\tif (!length) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstart = options.ticks.reverse ? scale.max : scale.min;\r\n\tend = options.ticks.reverse ? scale.min : scale.max;\r\n\tcenter = scale.getPointPositionForValue(0, start);\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tpoint = fill === 'start' || fill === 'end'\r\n\t\t\t? scale.getPointPositionForValue(i, fill === 'start' ? start : end)\r\n\t\t\t: scale.getBasePosition(i);\r\n\t\tif (options.gridLines.circular) {\r\n\t\t\tpoint.cx = center.x;\r\n\t\t\tpoint.cy = center.y;\r\n\t\t\tpoint.angle = scale.getIndexAngle(i) - Math.PI / 2;\r\n\t\t}\r\n\t\ttarget.push(point);\r\n\t}\r\n\treturn target;\r\n}\r\n\r\nfunction computeBoundary(source) {\r\n\tvar scale = source.el._scale || {};\r\n\r\n\tif (scale.getPointPositionForValue) {\r\n\t\treturn computeCircularBoundary(source);\r\n\t}\r\n\treturn computeLinearBoundary(source);\r\n}\r\n\r\nfunction resolveTarget(sources, index, propagate) {\r\n\tvar source = sources[index];\r\n\tvar fill = source.fill;\r\n\tvar visited = [index];\r\n\tvar target;\r\n\r\n\tif (!propagate) {\r\n\t\treturn fill;\r\n\t}\r\n\r\n\twhile (fill !== false && visited.indexOf(fill) === -1) {\r\n\t\tif (!isFinite(fill)) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\ttarget = sources[fill];\r\n\t\tif (!target) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (target.visible) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\tvisited.push(fill);\r\n\t\tfill = target.fill;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction createMapper(source) {\r\n\tvar fill = source.fill;\r\n\tvar type = 'dataset';\r\n\r\n\tif (fill === false) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (!isFinite(fill)) {\r\n\t\ttype = 'boundary';\r\n\t}\r\n\r\n\treturn mappers[type](source);\r\n}\r\n\r\nfunction isDrawable(point) {\r\n\treturn point && !point.skip;\r\n}\r\n\r\nfunction drawArea(ctx, curve0, curve1, len0, len1) {\r\n\tvar i, cx, cy, r;\r\n\r\n\tif (!len0 || !len1) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// building first area curve (normal)\r\n\tctx.moveTo(curve0[0].x, curve0[0].y);\r\n\tfor (i = 1; i < len0; ++i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve0[i - 1], curve0[i]);\r\n\t}\r\n\r\n\tif (curve1[0].angle !== undefined) {\r\n\t\tcx = curve1[0].cx;\r\n\t\tcy = curve1[0].cy;\r\n\t\tr = Math.sqrt(Math.pow(curve1[0].x - cx, 2) + Math.pow(curve1[0].y - cy, 2));\r\n\t\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\t\tctx.arc(cx, cy, r, curve1[i].angle, curve1[i - 1].angle, true);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t// joining the two area curves\r\n\tctx.lineTo(curve1[len1 - 1].x, curve1[len1 - 1].y);\r\n\r\n\t// building opposite area curve (reverse)\r\n\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve1[i], curve1[i - 1], true);\r\n\t}\r\n}\r\n\r\nfunction doFill(ctx, points, mapper, view, color, loop) {\r\n\tvar count = points.length;\r\n\tvar span = view.spanGaps;\r\n\tvar curve0 = [];\r\n\tvar curve1 = [];\r\n\tvar len0 = 0;\r\n\tvar len1 = 0;\r\n\tvar i, ilen, index, p0, p1, d0, d1, loopOffset;\r\n\r\n\tctx.beginPath();\r\n\r\n\tfor (i = 0, ilen = count; i < ilen; ++i) {\r\n\t\tindex = i % count;\r\n\t\tp0 = points[index]._view;\r\n\t\tp1 = mapper(p0, index, view);\r\n\t\td0 = isDrawable(p0);\r\n\t\td1 = isDrawable(p1);\r\n\r\n\t\tif (loop && loopOffset === undefined && d0) {\r\n\t\t\tloopOffset = i + 1;\r\n\t\t\tilen = count + loopOffset;\r\n\t\t}\r\n\r\n\t\tif (d0 && d1) {\r\n\t\t\tlen0 = curve0.push(p0);\r\n\t\t\tlen1 = curve1.push(p1);\r\n\t\t} else if (len0 && len1) {\r\n\t\t\tif (!span) {\r\n\t\t\t\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\t\t\t\tlen0 = len1 = 0;\r\n\t\t\t\tcurve0 = [];\r\n\t\t\t\tcurve1 = [];\r\n\t\t\t} else {\r\n\t\t\t\tif (d0) {\r\n\t\t\t\t\tcurve0.push(p0);\r\n\t\t\t\t}\r\n\t\t\t\tif (d1) {\r\n\t\t\t\t\tcurve1.push(p1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\r\n\tctx.closePath();\r\n\tctx.fillStyle = color;\r\n\tctx.fill();\r\n}\r\n\r\nvar plugin_filler = {\r\n\tid: 'filler',\r\n\r\n\tafterDatasetsUpdate: function(chart, options) {\r\n\t\tvar count = (chart.data.datasets || []).length;\r\n\t\tvar propagate = options.propagate;\r\n\t\tvar sources = [];\r\n\t\tvar meta, i, el, source;\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\tel = meta.dataset;\r\n\t\t\tsource = null;\r\n\r\n\t\t\tif (el && el._model && el instanceof elements.Line) {\r\n\t\t\t\tsource = {\r\n\t\t\t\t\tvisible: chart.isDatasetVisible(i),\r\n\t\t\t\t\tfill: decodeFill(el, i, count),\r\n\t\t\t\t\tchart: chart,\r\n\t\t\t\t\tel: el\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tmeta.$filler = source;\r\n\t\t\tsources.push(source);\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!source) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tsource.fill = resolveTarget(sources, i, propagate);\r\n\t\t\tsource.boundary = computeBoundary(source);\r\n\t\t\tsource.mapper = createMapper(source);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeDatasetsDraw: function(chart) {\r\n\t\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\t\tvar ctx = chart.ctx;\r\n\t\tvar meta, i, el, view, points, mapper, color;\r\n\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tmeta = metasets[i].$filler;\r\n\r\n\t\t\tif (!meta || !meta.visible) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tel = meta.el;\r\n\t\t\tview = el._view;\r\n\t\t\tpoints = el._children || [];\r\n\t\t\tmapper = meta.mapper;\r\n\t\t\tcolor = view.backgroundColor || core_defaults.global.defaultColor;\r\n\r\n\t\t\tif (mapper && color && points.length) {\r\n\t\t\t\thelpers$1.canvas.clipArea(ctx, chart.chartArea);\r\n\t\t\t\tdoFill(ctx, points, mapper, view, color, el._loop);\r\n\t\t\t\thelpers$1.canvas.unclipArea(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar getRtlHelper$1 = helpers$1.rtl.getRtlAdapter;\r\nvar noop$1 = helpers$1.noop;\r\nvar valueOrDefault$e = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\tlegend: {\r\n\t\tdisplay: true,\r\n\t\tposition: 'top',\r\n\t\talign: 'center',\r\n\t\tfullWidth: true,\r\n\t\treverse: false,\r\n\t\tweight: 1000,\r\n\r\n\t\t// a callback that will handle\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.datasetIndex;\r\n\t\t\tvar ci = this.chart;\r\n\t\t\tvar meta = ci.getDatasetMeta(index);\r\n\r\n\t\t\t// See controller.isDatasetVisible comment\r\n\t\t\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\r\n\r\n\t\t\t// We hid a dataset ... rerender the chart\r\n\t\t\tci.update();\r\n\t\t},\r\n\r\n\t\tonHover: null,\r\n\t\tonLeave: null,\r\n\r\n\t\tlabels: {\r\n\t\t\tboxWidth: 40,\r\n\t\t\tpadding: 10,\r\n\t\t\t// Generates labels shown in the legend\r\n\t\t\t// Valid properties to return:\r\n\t\t\t// text : text to display\r\n\t\t\t// fillStyle : fill of coloured box\r\n\t\t\t// strokeStyle: stroke of coloured box\r\n\t\t\t// hidden : if this legend item refers to a hidden item\r\n\t\t\t// lineCap : cap style for line\r\n\t\t\t// lineDash\r\n\t\t\t// lineDashOffset :\r\n\t\t\t// lineJoin :\r\n\t\t\t// lineWidth :\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar datasets = chart.data.datasets;\r\n\t\t\t\tvar options = chart.options.legend || {};\r\n\t\t\t\tvar usePointStyle = options.labels && options.labels.usePointStyle;\r\n\r\n\t\t\t\treturn chart._getSortedDatasetMetas().map(function(meta) {\r\n\t\t\t\t\tvar style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttext: datasets[meta.index].label,\r\n\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(meta.index),\r\n\t\t\t\t\t\tlineCap: style.borderCapStyle,\r\n\t\t\t\t\t\tlineDash: style.borderDash,\r\n\t\t\t\t\t\tlineDashOffset: style.borderDashOffset,\r\n\t\t\t\t\t\tlineJoin: style.borderJoinStyle,\r\n\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\tpointStyle: style.pointStyle,\r\n\t\t\t\t\t\trotation: style.rotation,\r\n\r\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\r\n\t\t\t\t\t\tdatasetIndex: meta.index\r\n\t\t\t\t\t};\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\tlistItemSpan.style.backgroundColor = datasets[i].backgroundColor;\r\n\t\t\tif (datasets[i].label) {\r\n\t\t\t\tlistItem.appendChild(document.createTextNode(datasets[i].label));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t}\r\n});\r\n\r\n/**\r\n * Helper function to get the box width based on the usePointStyle option\r\n * @param {object} labelopts - the label options on the legend\r\n * @param {number} fontSize - the label font size\r\n * @return {number} width of the color box area\r\n */\r\nfunction getBoxWidth(labelOpts, fontSize) {\r\n\treturn labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n\t\tfontSize :\r\n\t\tlabelOpts.boxWidth;\r\n}\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Legend = core_element.extend({\r\n\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\r\n\t\t/**\r\n \t\t * @private\r\n \t\t */\r\n\t\tme._hoveredItem = null;\r\n\r\n\t\t// Are we in doughnut mode which has a different data type\r\n\t\tme.doughnutMode = false;\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\t// Any function defined here is inherited by all legend types.\r\n\t// Any function can be extended by the legend type\r\n\r\n\tbeforeUpdate: noop$1,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\t},\r\n\tafterUpdate: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$1,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$1,\r\n\tbuildLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelOpts = me.options.labels || {};\r\n\t\tvar legendItems = helpers$1.callback(labelOpts.generateLabels, [me.chart], me) || [];\r\n\r\n\t\tif (labelOpts.filter) {\r\n\t\t\tlegendItems = legendItems.filter(function(item) {\r\n\t\t\t\treturn labelOpts.filter(item, me.chart.data);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (me.options.reverse) {\r\n\t\t\tlegendItems.reverse();\r\n\t\t}\r\n\r\n\t\tme.legendItems = legendItems;\r\n\t},\r\n\tafterBuildLabels: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$1,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar display = opts.display;\r\n\r\n\t\tvar ctx = me.ctx;\r\n\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\r\n\t\t// Reset hit boxes\r\n\t\tvar hitboxes = me.legendHitBoxes = [];\r\n\r\n\t\tvar minSize = me.minSize;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth; // fill all the width\r\n\t\t\tminSize.height = display ? 10 : 0;\r\n\t\t} else {\r\n\t\t\tminSize.width = display ? 10 : 0;\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t}\r\n\r\n\t\t// Increase sizes here\r\n\t\tif (!display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\t// Labels\r\n\r\n\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n\t\t\tvar lineWidths = me.lineWidths = [0];\r\n\t\t\tvar totalHeight = 0;\r\n\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\tif (i === 0 || lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n\t\t\t\t\ttotalHeight += fontSize + labelOpts.padding;\r\n\t\t\t\t\tlineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n\t\t\t});\r\n\r\n\t\t\tminSize.height += totalHeight;\r\n\r\n\t\t} else {\r\n\t\t\tvar vPadding = labelOpts.padding;\r\n\t\t\tvar columnWidths = me.columnWidths = [];\r\n\t\t\tvar columnHeights = me.columnHeights = [];\r\n\t\t\tvar totalWidth = labelOpts.padding;\r\n\t\t\tvar currentColWidth = 0;\r\n\t\t\tvar currentColHeight = 0;\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\t// If too tall, go to new column\r\n\t\t\t\tif (i > 0 && currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\r\n\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\r\n\t\t\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\t\t\tcurrentColWidth = 0;\r\n\t\t\t\t\tcurrentColHeight = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get max width\r\n\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\r\n\t\t\t\tcurrentColHeight += fontSize + vPadding;\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: itemWidth,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\ttotalWidth += currentColWidth;\r\n\t\t\tcolumnWidths.push(currentColWidth);\r\n\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\tminSize.width += totalWidth;\r\n\t\t}\r\n\r\n\t\tme.width = minSize.width;\r\n\t\tme.height = minSize.height;\r\n\t},\r\n\tafterFit: noop$1,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the legend on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor;\r\n\t\tvar lineDefault = globalDefaults.elements.line;\r\n\t\tvar legendHeight = me.height;\r\n\t\tvar columnHeights = me.columnHeights;\r\n\t\tvar legendWidth = me.width;\r\n\t\tvar lineWidths = me.lineWidths;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar rtlHelper = getRtlHelper$1(opts.rtl, me.left, me.minSize.width);\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar fontColor = valueOrDefault$e(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\t\tvar cursor;\r\n\r\n\t\t// Canvas setup\r\n\t\tctx.textAlign = rtlHelper.textAlign('left');\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.lineWidth = 0.5;\r\n\t\tctx.strokeStyle = fontColor; // for strikethrough effect\r\n\t\tctx.fillStyle = fontColor; // render in correct colour\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\tvar hitboxes = me.legendHitBoxes;\r\n\r\n\t\t// current position\r\n\t\tvar drawLegendBox = function(x, y, legendItem) {\r\n\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Set the ctx for the box\r\n\t\t\tctx.save();\r\n\r\n\t\t\tvar lineWidth = valueOrDefault$e(legendItem.lineWidth, lineDefault.borderWidth);\r\n\t\t\tctx.fillStyle = valueOrDefault$e(legendItem.fillStyle, defaultColor);\r\n\t\t\tctx.lineCap = valueOrDefault$e(legendItem.lineCap, lineDefault.borderCapStyle);\r\n\t\t\tctx.lineDashOffset = valueOrDefault$e(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n\t\t\tctx.lineJoin = valueOrDefault$e(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = valueOrDefault$e(legendItem.strokeStyle, defaultColor);\r\n\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t// IE 9 and 10 do not support line dash\r\n\t\t\t\tctx.setLineDash(valueOrDefault$e(legendItem.lineDash, lineDefault.borderDash));\r\n\t\t\t}\r\n\r\n\t\t\tif (labelOpts && labelOpts.usePointStyle) {\r\n\t\t\t\t// Recalculate x and y for drawPoint() because its expecting\r\n\t\t\t\t// x and y to be center of figure (instead of top left)\r\n\t\t\t\tvar radius = boxWidth * Math.SQRT2 / 2;\r\n\t\t\t\tvar centerX = rtlHelper.xPlus(x, boxWidth / 2);\r\n\t\t\t\tvar centerY = y + fontSize / 2;\r\n\r\n\t\t\t\t// Draw pointStyle as legend symbol\r\n\t\t\t\thelpers$1.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY, legendItem.rotation);\r\n\t\t\t} else {\r\n\t\t\t\t// Draw box as legend symbol\r\n\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\tif (lineWidth !== 0) {\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t};\r\n\r\n\t\tvar fillText = function(x, y, legendItem, textWidth) {\r\n\t\t\tvar halfFontSize = fontSize / 2;\r\n\t\t\tvar xLeft = rtlHelper.xPlus(x, boxWidth + halfFontSize);\r\n\t\t\tvar yMiddle = y + halfFontSize;\r\n\r\n\t\t\tctx.fillText(legendItem.text, xLeft, yMiddle);\r\n\r\n\t\t\tif (legendItem.hidden) {\r\n\t\t\t\t// Strikethrough the text if hidden\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.lineWidth = 2;\r\n\t\t\t\tctx.moveTo(xLeft, yMiddle);\r\n\t\t\t\tctx.lineTo(rtlHelper.xPlus(xLeft, textWidth), yMiddle);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar alignmentOffset = function(dimension, blockSize) {\r\n\t\t\tswitch (opts.align) {\r\n\t\t\tcase 'start':\r\n\t\t\t\treturn labelOpts.padding;\r\n\t\t\tcase 'end':\r\n\t\t\t\treturn dimension - blockSize;\r\n\t\t\tdefault: // center\r\n\t\t\t\treturn (dimension - blockSize + labelOpts.padding) / 2;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Horizontal\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tif (isHorizontal) {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n\t\t\t\ty: me.top + labelOpts.padding,\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + labelOpts.padding,\r\n\t\t\t\ty: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\thelpers$1.rtl.overrideTextDirection(me.ctx, opts.textDirection);\r\n\r\n\t\tvar itemHeight = fontSize + labelOpts.padding;\r\n\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\tvar textWidth = ctx.measureText(legendItem.text).width;\r\n\t\t\tvar width = boxWidth + (fontSize / 2) + textWidth;\r\n\t\t\tvar x = cursor.x;\r\n\t\t\tvar y = cursor.y;\r\n\r\n\t\t\trtlHelper.setWidth(me.minSize.width);\r\n\r\n\t\t\t// Use (me.left + me.minSize.width) and (me.top + me.minSize.height)\r\n\t\t\t// instead of me.right and me.bottom because me.width and me.height\r\n\t\t\t// may have been changed since me.minSize was calculated\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tif (i > 0 && x + width + labelOpts.padding > me.left + me.minSize.width) {\r\n\t\t\t\t\ty = cursor.y += itemHeight;\r\n\t\t\t\t\tcursor.line++;\r\n\t\t\t\t\tx = cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n\t\t\t\t}\r\n\t\t\t} else if (i > 0 && y + itemHeight > me.top + me.minSize.height) {\r\n\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\r\n\t\t\t\tcursor.line++;\r\n\t\t\t\ty = cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n\t\t\t}\r\n\r\n\t\t\tvar realX = rtlHelper.x(x);\r\n\r\n\t\t\tdrawLegendBox(realX, y, legendItem);\r\n\r\n\t\t\thitboxes[i].left = rtlHelper.leftForLtr(realX, hitboxes[i].width);\r\n\t\t\thitboxes[i].top = y;\r\n\r\n\t\t\t// Fill the actual label\r\n\t\t\tfillText(realX, y, legendItem, textWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tcursor.x += width + labelOpts.padding;\r\n\t\t\t} else {\r\n\t\t\t\tcursor.y += itemHeight;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.rtl.restoreTextDirection(me.ctx, opts.textDirection);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLegendItemAt: function(x, y) {\r\n\t\tvar me = this;\r\n\t\tvar i, hitBox, lh;\r\n\r\n\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\r\n\t\t\t// See if we are touching one of the dataset boxes\r\n\t\t\tlh = me.legendHitBoxes;\r\n\t\t\tfor (i = 0; i < lh.length; ++i) {\r\n\t\t\t\thitBox = lh[i];\r\n\r\n\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\r\n\t\t\t\t\t// Touching an element\r\n\t\t\t\t\treturn me.legendItems[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\r\n\t\tvar hoveredItem;\r\n\r\n\t\tif (type === 'mousemove') {\r\n\t\t\tif (!opts.onHover && !opts.onLeave) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else if (type === 'click') {\r\n\t\t\tif (!opts.onClick) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Chart event already has relative position in it\r\n\t\thoveredItem = me._getLegendItemAt(e.x, e.y);\r\n\r\n\t\tif (type === 'click') {\r\n\t\t\tif (hoveredItem && opts.onClick) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onClick.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (opts.onLeave && hoveredItem !== me._hoveredItem) {\r\n\t\t\t\tif (me._hoveredItem) {\r\n\t\t\t\t\topts.onLeave.call(me, e.native, me._hoveredItem);\r\n\t\t\t\t}\r\n\t\t\t\tme._hoveredItem = hoveredItem;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.onHover && hoveredItem) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onHover.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction createNewLegendAndAttach(chart, legendOpts) {\r\n\tvar legend = new Legend({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: legendOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, legend, legendOpts);\r\n\tcore_layouts.addBox(chart, legend);\r\n\tchart.legend = legend;\r\n}\r\n\r\nvar plugin_legend = {\r\n\tid: 'legend',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the legend is registered as a plugin, making\r\n\t * Chart.Legend obsolete. To avoid a breaking change, we export the Legend as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Legend,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\t\tvar legend = chart.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\thelpers$1.mergeIf(legendOpts, core_defaults.global.legend);\r\n\r\n\t\t\tif (legend) {\r\n\t\t\t\tcore_layouts.configure(chart, legend, legendOpts);\r\n\t\t\t\tlegend.options = legendOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t\t}\r\n\t\t} else if (legend) {\r\n\t\t\tcore_layouts.removeBox(chart, legend);\r\n\t\t\tdelete chart.legend;\r\n\t\t}\r\n\t},\r\n\r\n\tafterEvent: function(chart, e) {\r\n\t\tvar legend = chart.legend;\r\n\t\tif (legend) {\r\n\t\t\tlegend.handleEvent(e);\r\n\t\t}\r\n\t}\r\n};\n\nvar noop$2 = helpers$1.noop;\r\n\r\ncore_defaults._set('global', {\r\n\ttitle: {\r\n\t\tdisplay: false,\r\n\t\tfontStyle: 'bold',\r\n\t\tfullWidth: true,\r\n\t\tpadding: 10,\r\n\t\tposition: 'top',\r\n\t\ttext: '',\r\n\t\tweight: 2000         // by default greater than legend (1000) to be above\r\n\t}\r\n});\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Title = core_element.extend({\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\r\n\tbeforeUpdate: noop$2,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\r\n\t},\r\n\tafterUpdate: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$2,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$2,\r\n\tbuildLabels: noop$2,\r\n\tafterBuildLabels: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$2,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar minSize = me.minSize = {};\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar lineCount, textSize;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlineCount = helpers$1.isArray(opts.text) ? opts.text.length : 1;\r\n\t\ttextSize = lineCount * helpers$1.options._parseFont(opts).lineHeight + opts.padding * 2;\r\n\r\n\t\tme.width = minSize.width = isHorizontal ? me.maxWidth : textSize;\r\n\t\tme.height = minSize.height = isHorizontal ? textSize : me.maxHeight;\r\n\t},\r\n\tafterFit: noop$2,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the title block on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar fontOpts = helpers$1.options._parseFont(opts);\r\n\t\tvar lineHeight = fontOpts.lineHeight;\r\n\t\tvar offset = lineHeight / 2 + opts.padding;\r\n\t\tvar rotation = 0;\r\n\t\tvar top = me.top;\r\n\t\tvar left = me.left;\r\n\t\tvar bottom = me.bottom;\r\n\t\tvar right = me.right;\r\n\t\tvar maxWidth, titleX, titleY;\r\n\r\n\t\tctx.fillStyle = helpers$1.valueOrDefault(opts.fontColor, core_defaults.global.defaultFontColor); // render in correct colour\r\n\t\tctx.font = fontOpts.string;\r\n\r\n\t\t// Horizontal\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\r\n\t\t\ttitleY = top + offset;\r\n\t\t\tmaxWidth = right - left;\r\n\t\t} else {\r\n\t\t\ttitleX = opts.position === 'left' ? left + offset : right - offset;\r\n\t\t\ttitleY = top + ((bottom - top) / 2);\r\n\t\t\tmaxWidth = bottom - top;\r\n\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(titleX, titleY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\tvar text = opts.text;\r\n\t\tif (helpers$1.isArray(text)) {\r\n\t\t\tvar y = 0;\r\n\t\t\tfor (var i = 0; i < text.length; ++i) {\r\n\t\t\t\tctx.fillText(text[i], 0, y, maxWidth);\r\n\t\t\t\ty += lineHeight;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tctx.fillText(text, 0, 0, maxWidth);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\r\n\r\nfunction createNewTitleBlockAndAttach(chart, titleOpts) {\r\n\tvar title = new Title({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: titleOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, title, titleOpts);\r\n\tcore_layouts.addBox(chart, title);\r\n\tchart.titleBlock = title;\r\n}\r\n\r\nvar plugin_title = {\r\n\tid: 'title',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the title is registered as a plugin, making\r\n\t * Chart.Title obsolete. To avoid a breaking change, we export the Title as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Title,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\t\tvar titleBlock = chart.titleBlock;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\thelpers$1.mergeIf(titleOpts, core_defaults.global.title);\r\n\r\n\t\t\tif (titleBlock) {\r\n\t\t\t\tcore_layouts.configure(chart, titleBlock, titleOpts);\r\n\t\t\t\ttitleBlock.options = titleOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t\t}\r\n\t\t} else if (titleBlock) {\r\n\t\t\tcore_layouts.removeBox(chart, titleBlock);\r\n\t\t\tdelete chart.titleBlock;\r\n\t\t}\r\n\t}\r\n};\n\nvar plugins = {};\r\nvar filler = plugin_filler;\r\nvar legend = plugin_legend;\r\nvar title = plugin_title;\nplugins.filler = filler;\nplugins.legend = legend;\nplugins.title = title;\n\n/**\r\n * @namespace Chart\r\n */\r\n\r\n\r\ncore_controller.helpers = helpers$1;\r\n\r\n// @todo dispatch these helpers into appropriated helpers/helpers.* file and write unit tests!\r\ncore_helpers();\r\n\r\ncore_controller._adapters = core_adapters;\r\ncore_controller.Animation = core_animation;\r\ncore_controller.animationService = core_animations;\r\ncore_controller.controllers = controllers;\r\ncore_controller.DatasetController = core_datasetController;\r\ncore_controller.defaults = core_defaults;\r\ncore_controller.Element = core_element;\r\ncore_controller.elements = elements;\r\ncore_controller.Interaction = core_interaction;\r\ncore_controller.layouts = core_layouts;\r\ncore_controller.platform = platform;\r\ncore_controller.plugins = core_plugins;\r\ncore_controller.Scale = core_scale;\r\ncore_controller.scaleService = core_scaleService;\r\ncore_controller.Ticks = core_ticks;\r\ncore_controller.Tooltip = core_tooltip;\r\n\r\n// Register built-in scales\r\n\r\ncore_controller.helpers.each(scales, function(scale, type) {\r\n\tcore_controller.scaleService.registerScaleType(type, scale, scale._defaults);\r\n});\r\n\r\n// Load to register built-in adapters (as side effects)\r\n\r\n\r\n// Loading built-in plugins\r\n\r\nfor (var k in plugins) {\r\n\tif (plugins.hasOwnProperty(k)) {\r\n\t\tcore_controller.plugins.register(plugins[k]);\r\n\t}\r\n}\r\n\r\ncore_controller.platform.initialize();\r\n\r\nvar src = core_controller;\r\nif (typeof window !== 'undefined') {\r\n\twindow.Chart = core_controller;\r\n}\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Chart\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Chart = core_controller;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Legend\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Legend = plugins.legend._element;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Title\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Title = plugins.title._element;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.plugins instead\r\n * @namespace Chart.pluginService\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.pluginService = core_controller.plugins;\r\n\r\n/**\r\n * Provided for backward compatibility, inheriting from Chart.PlugingBase has no\r\n * effect, instead simply create/register plugins via plain JavaScript objects.\r\n * @interface Chart.PluginBase\r\n * @deprecated since version 2.5.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.PluginBase = core_controller.Element.extend({});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas instead.\r\n * @namespace Chart.canvasHelpers\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.canvasHelpers = core_controller.helpers.canvas;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.layouts instead.\r\n * @namespace Chart.layoutService\r\n * @deprecated since version 2.7.3\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.layoutService = core_controller.layouts;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.LinearScaleBase\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.LinearScaleBase = scale_linearbase;\r\n\r\n/**\r\n * Provided for backward compatibility, instead we should create a new Chart\r\n * by setting the type in the config (`new Chart(id, {type: '{chart-type}'}`).\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n */\r\ncore_controller.helpers.each(\r\n\t[\r\n\t\t'Bar',\r\n\t\t'Bubble',\r\n\t\t'Doughnut',\r\n\t\t'Line',\r\n\t\t'PolarArea',\r\n\t\t'Radar',\r\n\t\t'Scatter'\r\n\t],\r\n\tfunction(klass) {\r\n\t\tcore_controller[klass] = function(ctx, cfg) {\r\n\t\t\treturn new core_controller(ctx, core_controller.helpers.merge(cfg || {}, {\r\n\t\t\t\ttype: klass.charAt(0).toLowerCase() + klass.slice(1)\r\n\t\t\t}));\r\n\t\t};\r\n\t}\r\n);\n\nreturn src;\n\n})));\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Chart\", {\n  enumerable: true,\n  get: function get() {\n    return _chart[\"default\"];\n  }\n});\nexports.defaults = exports.Scatter = exports.Bubble = exports.Polar = exports.Radar = exports.HorizontalBar = exports.Bar = exports.Line = exports.Pie = exports.Doughnut = exports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _chart = _interopRequireDefault(require(\"chart.js\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _keyBy = _interopRequireDefault(require(\"lodash/keyBy\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NODE_ENV = typeof process !== 'undefined' && process.env && process.env.NODE_ENV;\n\nvar ChartComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChartComponent, _React$Component);\n\n  var _super = _createSuper(ChartComponent);\n\n  function ChartComponent() {\n    var _this;\n\n    _classCallCheck(this, ChartComponent);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnClick\", function (event) {\n      var instance = _this.chartInstance;\n      var _this$props = _this.props,\n          getDatasetAtEvent = _this$props.getDatasetAtEvent,\n          getElementAtEvent = _this$props.getElementAtEvent,\n          getElementsAtEvent = _this$props.getElementsAtEvent,\n          onElementsClick = _this$props.onElementsClick;\n      getDatasetAtEvent && getDatasetAtEvent(instance.getDatasetAtEvent(event), event);\n      getElementAtEvent && getElementAtEvent(instance.getElementAtEvent(event), event);\n      getElementsAtEvent && getElementsAtEvent(instance.getElementsAtEvent(event), event);\n      onElementsClick && onElementsClick(instance.getElementsAtEvent(event), event); // Backward compatibility\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (element) {\n      _this.element = element;\n    });\n\n    _this.chartInstance = undefined;\n    return _this;\n  }\n\n  _createClass(ChartComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderChart();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.redraw) {\n        this.destroyChart();\n        this.renderChart();\n        return;\n      }\n\n      this.updateChart();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props2 = this.props,\n          redraw = _this$props2.redraw,\n          type = _this$props2.type,\n          options = _this$props2.options,\n          plugins = _this$props2.plugins,\n          legend = _this$props2.legend,\n          height = _this$props2.height,\n          width = _this$props2.width;\n\n      if (nextProps.redraw === true) {\n        return true;\n      }\n\n      if (height !== nextProps.height || width !== nextProps.width) {\n        return true;\n      }\n\n      if (type !== nextProps.type) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(legend, nextProps.legend)) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(options, nextProps.options)) {\n        return true;\n      }\n\n      var nextData = this.transformDataProp(nextProps);\n\n      if (!(0, _isEqual[\"default\"])(this.shadowDataProp, nextData)) {\n        return true;\n      }\n\n      return !(0, _isEqual[\"default\"])(plugins, nextProps.plugins);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyChart();\n    }\n  }, {\n    key: \"transformDataProp\",\n    value: function transformDataProp(props) {\n      var data = props.data;\n\n      if (typeof data == 'function') {\n        var node = this.element;\n        return data(node);\n      } else {\n        return data;\n      }\n    } // Chart.js directly mutates the data.dataset objects by adding _meta proprerty\n    // this makes impossible to compare the current and next data changes\n    // therefore we memoize the data prop while sending a fake to Chart.js for mutation.\n    // see https://github.com/chartjs/Chart.js/blob/master/src/core/core.controller.js#L615-L617\n\n  }, {\n    key: \"memoizeDataProps\",\n    value: function memoizeDataProps() {\n      if (!this.props.data) {\n        return;\n      }\n\n      var data = this.transformDataProp(this.props);\n      this.shadowDataProp = _objectSpread(_objectSpread({}, data), {}, {\n        datasets: data.datasets && data.datasets.map(function (set) {\n          return _objectSpread({}, set);\n        })\n      });\n      this.saveCurrentDatasets(); // to remove the dataset metadata from this chart when the chart is destroyed\n\n      return data;\n    }\n  }, {\n    key: \"checkDatasets\",\n    value: function checkDatasets(datasets) {\n      var isDev = NODE_ENV !== 'production' && NODE_ENV !== 'prod';\n      var usingCustomKeyProvider = this.props.datasetKeyProvider !== ChartComponent.getLabelAsKey;\n      var multipleDatasets = datasets.length > 1;\n\n      if (isDev && multipleDatasets && !usingCustomKeyProvider) {\n        var shouldWarn = false;\n        datasets.forEach(function (dataset) {\n          if (!dataset.label) {\n            shouldWarn = true;\n          }\n        });\n\n        if (shouldWarn) {\n          console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the \"label\" property on each dataset is used. Alternatively, you may provide a \"datasetKeyProvider\" as a prop that returns a unique key.');\n        }\n      }\n    }\n  }, {\n    key: \"getCurrentDatasets\",\n    value: function getCurrentDatasets() {\n      return this.chartInstance && this.chartInstance.config.data && this.chartInstance.config.data.datasets || [];\n    }\n  }, {\n    key: \"saveCurrentDatasets\",\n    value: function saveCurrentDatasets() {\n      var _this2 = this;\n\n      this.datasets = this.datasets || {};\n      var currentDatasets = this.getCurrentDatasets();\n      currentDatasets.forEach(function (d) {\n        _this2.datasets[_this2.props.datasetKeyProvider(d)] = d;\n      });\n    }\n  }, {\n    key: \"updateChart\",\n    value: function updateChart() {\n      var _this3 = this;\n\n      var options = this.props.options;\n      var data = this.memoizeDataProps(this.props);\n      if (!this.chartInstance) return;\n\n      if (options) {\n        this.chartInstance.options = _chart[\"default\"].helpers.configMerge(this.chartInstance.options, options);\n      } // Pipe datasets to chart instance datasets enabling\n      // seamless transitions\n\n\n      var currentDatasets = this.getCurrentDatasets();\n      var nextDatasets = data.datasets || [];\n      this.checkDatasets(currentDatasets);\n      var currentDatasetsIndexed = (0, _keyBy[\"default\"])(currentDatasets, this.props.datasetKeyProvider); // We can safely replace the dataset array, as long as we retain the _meta property\n      // on each dataset.\n\n      this.chartInstance.config.data.datasets = nextDatasets.map(function (next) {\n        var current = currentDatasetsIndexed[_this3.props.datasetKeyProvider(next)];\n\n        if (current && current.type === next.type && next.data) {\n          // Be robust to no data. Relevant for other update mechanisms as in chartjs-plugin-streaming.\n          // The data array must be edited in place. As chart.js adds listeners to it.\n          current.data.splice(next.data.length);\n          next.data.forEach(function (point, pid) {\n            current.data[pid] = next.data[pid];\n          });\n\n          var _data = next.data,\n              otherProps = _objectWithoutProperties(next, [\"data\"]); // Merge properties. Notice a weakness here. If a property is removed\n          // from next, it will be retained by current and never disappears.\n          // Workaround is to set value to null or undefined in next.\n\n\n          return _objectSpread(_objectSpread({}, current), otherProps);\n        } else {\n          return next;\n        }\n      });\n\n      var datasets = data.datasets,\n          rest = _objectWithoutProperties(data, [\"datasets\"]);\n\n      this.chartInstance.config.data = _objectSpread(_objectSpread({}, this.chartInstance.config.data), rest);\n      this.chartInstance.update();\n    }\n  }, {\n    key: \"renderChart\",\n    value: function renderChart() {\n      var _this$props3 = this.props,\n          options = _this$props3.options,\n          legend = _this$props3.legend,\n          type = _this$props3.type,\n          plugins = _this$props3.plugins;\n      var node = this.element;\n      var data = this.memoizeDataProps();\n\n      if (typeof legend !== 'undefined' && !(0, _isEqual[\"default\"])(ChartComponent.defaultProps.legend, legend)) {\n        options.legend = legend;\n      }\n\n      this.chartInstance = new _chart[\"default\"](node, {\n        type: type,\n        data: data,\n        options: options,\n        plugins: plugins\n      });\n    }\n  }, {\n    key: \"destroyChart\",\n    value: function destroyChart() {\n      if (!this.chartInstance) {\n        return;\n      } // Put all of the datasets that have existed in the chart back on the chart\n      // so that the metadata associated with this chart get destroyed.\n      // This allows the datasets to be used in another chart. This can happen,\n      // for example, in a tabbed UI where the chart gets created each time the\n      // tab gets switched to the chart and uses the same data).\n\n\n      this.saveCurrentDatasets();\n      var datasets = Object.values(this.datasets);\n      this.chartInstance.config.data.datasets = datasets;\n      this.chartInstance.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          height = _this$props4.height,\n          width = _this$props4.width,\n          id = _this$props4.id;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"canvas\", {\n        ref: this.ref,\n        height: height,\n        width: width,\n        id: id,\n        onClick: this.handleOnClick\n      });\n    }\n  }]);\n\n  return ChartComponent;\n}(_react[\"default\"].Component);\n\n_defineProperty(ChartComponent, \"getLabelAsKey\", function (d) {\n  return d.label;\n});\n\n_defineProperty(ChartComponent, \"propTypes\", {\n  data: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]).isRequired,\n  getDatasetAtEvent: _propTypes[\"default\"].func,\n  getElementAtEvent: _propTypes[\"default\"].func,\n  getElementsAtEvent: _propTypes[\"default\"].func,\n  height: _propTypes[\"default\"].number,\n  legend: _propTypes[\"default\"].object,\n  onElementsClick: _propTypes[\"default\"].func,\n  options: _propTypes[\"default\"].object,\n  plugins: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n  redraw: _propTypes[\"default\"].bool,\n  type: function type(props, propName, componentName) {\n    if (!_chart[\"default\"].controllers[props[propName]]) {\n      return new Error('Invalid chart type `' + props[propName] + '` supplied to' + ' `' + componentName + '`.');\n    }\n  },\n  width: _propTypes[\"default\"].number,\n  datasetKeyProvider: _propTypes[\"default\"].func\n});\n\n_defineProperty(ChartComponent, \"defaultProps\", {\n  legend: {\n    display: true,\n    position: 'bottom'\n  },\n  type: 'doughnut',\n  height: 150,\n  width: 300,\n  redraw: false,\n  options: {},\n  datasetKeyProvider: ChartComponent.getLabelAsKey\n});\n\nvar _default = ChartComponent;\nexports[\"default\"] = _default;\n\nvar Doughnut = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Doughnut, _React$Component2);\n\n  var _super2 = _createSuper(Doughnut);\n\n  function Doughnut() {\n    _classCallCheck(this, Doughnut);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Doughnut, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref) {\n          return _this4.chartInstance = _ref && _ref.chartInstance;\n        },\n        type: \"doughnut\"\n      }));\n    }\n  }]);\n\n  return Doughnut;\n}(_react[\"default\"].Component);\n\nexports.Doughnut = Doughnut;\n\nvar Pie = /*#__PURE__*/function (_React$Component3) {\n  _inherits(Pie, _React$Component3);\n\n  var _super3 = _createSuper(Pie);\n\n  function Pie() {\n    _classCallCheck(this, Pie);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(Pie, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref2) {\n          return _this5.chartInstance = _ref2 && _ref2.chartInstance;\n        },\n        type: \"pie\"\n      }));\n    }\n  }]);\n\n  return Pie;\n}(_react[\"default\"].Component);\n\nexports.Pie = Pie;\n\nvar Line = /*#__PURE__*/function (_React$Component4) {\n  _inherits(Line, _React$Component4);\n\n  var _super4 = _createSuper(Line);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref3) {\n          return _this6.chartInstance = _ref3 && _ref3.chartInstance;\n        },\n        type: \"line\"\n      }));\n    }\n  }]);\n\n  return Line;\n}(_react[\"default\"].Component);\n\nexports.Line = Line;\n\nvar Bar = /*#__PURE__*/function (_React$Component5) {\n  _inherits(Bar, _React$Component5);\n\n  var _super5 = _createSuper(Bar);\n\n  function Bar() {\n    _classCallCheck(this, Bar);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(Bar, [{\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref4) {\n          return _this7.chartInstance = _ref4 && _ref4.chartInstance;\n        },\n        type: \"bar\"\n      }));\n    }\n  }]);\n\n  return Bar;\n}(_react[\"default\"].Component);\n\nexports.Bar = Bar;\n\nvar HorizontalBar = /*#__PURE__*/function (_React$Component6) {\n  _inherits(HorizontalBar, _React$Component6);\n\n  var _super6 = _createSuper(HorizontalBar);\n\n  function HorizontalBar() {\n    _classCallCheck(this, HorizontalBar);\n\n    return _super6.apply(this, arguments);\n  }\n\n  _createClass(HorizontalBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref5) {\n          return _this8.chartInstance = _ref5 && _ref5.chartInstance;\n        },\n        type: \"horizontalBar\"\n      }));\n    }\n  }]);\n\n  return HorizontalBar;\n}(_react[\"default\"].Component);\n\nexports.HorizontalBar = HorizontalBar;\n\nvar Radar = /*#__PURE__*/function (_React$Component7) {\n  _inherits(Radar, _React$Component7);\n\n  var _super7 = _createSuper(Radar);\n\n  function Radar() {\n    _classCallCheck(this, Radar);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(Radar, [{\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref6) {\n          return _this9.chartInstance = _ref6 && _ref6.chartInstance;\n        },\n        type: \"radar\"\n      }));\n    }\n  }]);\n\n  return Radar;\n}(_react[\"default\"].Component);\n\nexports.Radar = Radar;\n\nvar Polar = /*#__PURE__*/function (_React$Component8) {\n  _inherits(Polar, _React$Component8);\n\n  var _super8 = _createSuper(Polar);\n\n  function Polar() {\n    _classCallCheck(this, Polar);\n\n    return _super8.apply(this, arguments);\n  }\n\n  _createClass(Polar, [{\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref7) {\n          return _this10.chartInstance = _ref7 && _ref7.chartInstance;\n        },\n        type: \"polarArea\"\n      }));\n    }\n  }]);\n\n  return Polar;\n}(_react[\"default\"].Component);\n\nexports.Polar = Polar;\n\nvar Bubble = /*#__PURE__*/function (_React$Component9) {\n  _inherits(Bubble, _React$Component9);\n\n  var _super9 = _createSuper(Bubble);\n\n  function Bubble() {\n    _classCallCheck(this, Bubble);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(Bubble, [{\n    key: \"render\",\n    value: function render() {\n      var _this11 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref8) {\n          return _this11.chartInstance = _ref8 && _ref8.chartInstance;\n        },\n        type: \"bubble\"\n      }));\n    }\n  }]);\n\n  return Bubble;\n}(_react[\"default\"].Component);\n\nexports.Bubble = Bubble;\n\nvar Scatter = /*#__PURE__*/function (_React$Component10) {\n  _inherits(Scatter, _React$Component10);\n\n  var _super10 = _createSuper(Scatter);\n\n  function Scatter() {\n    _classCallCheck(this, Scatter);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(Scatter, [{\n    key: \"render\",\n    value: function render() {\n      var _this12 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref9) {\n          return _this12.chartInstance = _ref9 && _ref9.chartInstance;\n        },\n        type: \"scatter\"\n      }));\n    }\n  }]);\n\n  return Scatter;\n}(_react[\"default\"].Component);\n\nexports.Scatter = Scatter;\nvar defaults = _chart[\"default\"].defaults;\nexports.defaults = defaults;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["CommitDetails","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","isLoading","errorMsg","_createClass","key","value","_this2","_this$props","this","repoID","commitID","seafileAPI","getCommitDetails","then","res","setState","commitDetails","data","catch","error","Utils","getErrorMsg","_this$props2","toggleDialog","commitTime","_jsxs","Modal","isOpen","centered","toggle","children","_jsx","ModalHeader","gettext","ModalBody","className","moment","format","Content","React","_React$Component2","_super2","_this3","_len","arguments","length","args","Array","_key","apply","concat","renderDetails","detailsData","type","title","showDesc","i","len","cmt_desc","map","item","index","dangerouslySetInnerHTML","__html","_this$props$data","Loading","CreateForder","handleChange","e","target","trim","isSubmitBtnActive","childName","handleSubmit","newName","checkDuplicatedName","errMessage","replace","HTMLescape","path","parentPath","onAddFolder","handleKeyPress","preventDefault","addFolderCancel","autoFocus","Form","FormGroup","Label","for","Input","id","onKeyPress","onChange","Alert","color","ModalFooter","Button","onClick","disabled","OpMenu","onMenuItemClick","operation","getEventData","onDropdownToggleClick","toggleOperationMenu","isItemMenuShow","onFreezedItem","onUnfreezedItem","operations","translateOperations","Dropdown","DropdownToggle","tag","DropdownMenu","DropdownItem","ShareAdminLink","copyToClipboard","copy","link","toaster","success","href","SysAdminUnlinkDevice","handleInputChange","inputChecked","checked","unlinkDevice","isPro","htmlFor","SidePanel","getActiveClass","tab","currentTab","isSidePanelClosed","Logo","onCloseSidePanel","canViewSystemInfo","Link","to","siteRoot","tabItemClick","isDBSqlite3","canViewStatistic","otherPermission","constanceEnabled","canConfigSystem","canManageLibrary","canManageUser","canManageGroup","multiTenancy","multiInstitution","sysadminExtraEnabled","canViewUserLog","enableFileScan","enableGuestInvitation","enableTermsAndConditions","canViewAdminLog","enableWorkWeixin","enableDingtalk","enableShareLinkReportAbuse","MainPanel","_Component","Component","MainPanelTopbar","toggleSidePanel","search","Account","isAdminPanel","Info","uploadLicenseFile","fileInput","current","files","file","sysAdminUploadLicense","info","sysInfo","Object","assign","with_license","errMsg","danger","openFileInput","click","renderLicenseDescString","license_mode","license_to","license_expiration","window","app","config","lang","loading","sysAdminGetSysInfo","_this$state$sysInfo","org_count","repos_count","total_files_count","total_storage","total_devices_count","current_connected_devices_count","license_maxusers","multi_tenancy_enabled","active_users_count","users_count","groups_count","_this$state","Fragment","_objectSpread","isDefaultAdmin","ref","bytesToSize","Nav","navItems","name","urlPart","text","currentItem","propsTypes","disabledDate","PropTypes","isRequired","FORMAT","Picker","defaultCalendarValue","locale","clone","calendar","Calendar","defaultValue","translateCalendar","DatePicker","_ref","placeholder","tabIndex","readOnly","StatisticCommonTool","changeActive","statisticTypeName","statisticType","startTime","endTime","subtract","getActiviesFiles","disabledStartDate","startValue","today","endValue","isBefore","disabledEndDate","field","_defineProperty","onSubmit","_this$state2","bind","StatisticChart","titleCallback","tooltipItem","datasets","datasetIndex","label","yLabel","ticksCallback","values","opations","labels","filesData","isTitleCallback","isTicksCallback","suggestedMaxNumbers","isLegendStatus","chartTitle","options","display","fontSize","elements","line","fill","tension","borderWidth","legend","usePointStyle","tooltips","callbacks","layout","padding","right","scales","yAxes","ticks","beginAtZero","suggestedMax","callback","xAxes","maxTicksLimit","nextProps","Line","StatisticFile","groupBy","sysAdminStatisticFiles","added","deleted","visited","modified","isArray","forEach","push","datetime","addedData","borderColor","backgroundColor","visitedData","modifiedData","deletedData","err","StatisticNav","StatisticStorage","sysAdminStatisticStorages","totalStorage","TrafficTable","sortBy","sortIcon","sortOrder","width","sortItems","TrafficTableBody","trafficName","userTrafficItem","email","org_name","syncUploadSize","sync_file_upload","syncDownloadSize","sync_file_download","webUploadSize","web_file_upload","webDownloadSize","web_file_download","linkUploadSize","link_file_upload","linkDownloadSize","link_file_download","OrgsTraffic","getPreviousPage","getTrafficList","month","currentPage","getNextPage","test","errorMessage","initPage","blur","page","perPage","orderBy","sysAdminListOrgTraffic","orgTrafficList","org_monthly_traffic_list","slice","hasNextPage","has_next_page","resetPerPage","newPerPage","initMonth","urlParams","URL","location","searchParams","_this$state3","parseInt","get","_this$state4","Paginator","gotoPreviousPage","gotoNextPage","curPerPage","UsersTraffic","sysAdminListUserTraffic","userTrafficList","user_monthly_traffic_list","StatisticTraffic","changeTabActive","activeName","tabActive","sysAdminStatisticTraffic","total_upload","total_download","link_upload","link_download","sync_upload","sync_download","web_upload","web_download","linkData","syncData","webData","renderCommonTool","_assertThisInitialized","StatisticUsers","sysAdminStatisticActiveUsers","count","userCount","StatisticReports","onGenerateReports","url","getPreviousPageDevicesList","getDevicesListByPage","pageInfo","current_page","getNextPageDevicesList","items","emptyTip","EmptyTip","table","Item","_Component2","handleMouseOver","isOpIconShown","handleMouseOut","handleUnlink","is_desktop_client","toggleUnlinkDeviceDialog","isUnlinkDeviceDialogOpen","deleteFiles","_this2$props$item","platform","device_id","user","sysAdminUnlinkDevice","unlinked","message","onMouseEnter","onMouseLeave","user_name","client_version","device_name","last_login_ip","last_accessed","fromNow","_Component3","DevicesByPlatform","_super3","devicesPlatform","per_page","sysAdminListDevices","devicesData","devices","page_info","_this4","_this$state2$currentP","DesktopDevices","DevicesNav","MobileDevices","UserLink","encodeURIComponent","getPreviousPageDeviceErrorsList","getDeviceErrorsListByPage","getNextPageDeviceErrorsList","device_ip","repo_id","repo_name","error_msg","error_time","DeviceErrors","sysAdminListDeviceErrors","devicesErrors","device_errors","isCleanBtnShown","clean","sysAdminClearDeviceErrors","_this$state$currentPa","SetQuotaDialog","handleQuotaChange","quota","updateQuota","InputGroup","InputGroupAddon","addonType","InputGroupText","SysAdminImportUserDialog","fileInputRef","uploadFile","fileName","substr","lastIndexOf","importUserInBatch","SysAdminUserRoleEditor","translateRoles","role","SelectEditor","isTextMode","isEditIconShow","roleOptions","currentOption","currentRole","onOptionChanged","onRoleChanged","translateOption","SysAdminAddUserDialog","checkSubmitBtnActive","password","passwordAgain","btnActive","togglePasswordVisible","isPasswordVisible","inputPassword","passwd","inputPasswordAgain","generatePassword","val","inputEmail","inputName","updateRole","showRole","addUser","dialogTitle","autoComplete","availableRoles","SysAdminBatchAddAdminDialog","handleSelectChange","addAdminInBatch","UserSelect","isMulti","onSelectChange","SysAdminUser","object","contact_email","login_id","last_login","last_access_time","create_time","is_active","is_staff","reference_id","department","quota_total","quota_usage","institution","org_id","isSelected","SysAdminAdminUser","admin_role","Search","submit","style","haveLDAP","SysAdminUserStatusEditor","translateStatus","status","statusOptions","currentStatus","onStatusChanged","_window$sysadmin$page","sysadmin","pageOptions","availableAdminRoles","institutions","isItemFreezed","getListByPage","sortByQuotaUsage","isAdmin","isAllUsersSelected","columns","spaceText","spaceEl","undefined","colSpaceText","colNameText","colCreatedText","toggleSelectAllUsers","updateUser","deleteUser","updateAdminRole","revokeAdmin","onUserSelected","isLDAPImported","isSearchResult","handleMouseEnter","highlight","handleMouseLeave","isOpIconShow","toggleSetQuotaDialog","isSetQuotaDialogOpen","toggleDeleteUserDialog","isDeleteUserDialogOpen","toggleResetUserPasswordDialog","isResetUserPasswordDialogOpen","toggleRevokeAdminDialog","isRevokeAdminDialogOpen","updateStatus","isActive","notify","translateAdminRole","updateInstitution","translateInstitution","inst","resetPassword","sysAdminResetUserPassword","reset_tip","getMenuOperations","_this3$props","list","source","translateResult","itemName","deleteDialogMsg","resetPasswordDialogMsg","revokeAdminDialogMsg","username","SysAdminUserSetQuotaDialog","CommonOperationConfirmationDialog","executeOperation","confirmBtnText","Users","toggleImportUserDialog","isImportUserDialogOpen","toggleAddUserDialog","isAddUserDialogOpen","toggleBatchSetQuotaDialog","isBatchSetQuotaDialogOpen","toggleBatchDeleteUserDialog","isBatchDeleteUserDialogOpen","hasUserSelected","selectedUserList","users","userList","filter","thisuser","getUserList","sysAdminListAdmins","admin_user_list","getUsersListByPage","sysAdminListUsers","total_count","URLSearchParams","set","toString","navigate","sysAdminDeleteUser","newUserList","setUserQuotaInBatch","quotaTotal","emails","sysAdminSetUserQuotaInBatch","resultUser","deleteUserInBatch","sysAdminDeleteUserInBatch","oldUser","some","deletedUser","msg","failed","sysAdminImportUserViaFile","sysAdminAddUser","unshift","add_user_tip","sysAdminUpdateUser","update_status_tip","sysAdminUpdateAdminRole","getOperationsForAll","toggleBatchAddAdminDialog","getCurrentNavItem","isBatchAddAdminDialogOpen","sysAdminAddAdminInBatch","getSearch","searchItems","keyword","_this$state3$sortBy","_this$state3$sortOrde","_this$props3","UsersNav","AdminUsers","LDAPImportedUsers","sysAdminListLDAPUsers","ldap_user_list","SearchUsers","getItems","sysAdminSearchUsers","query","user_list","getPreviousPageList","getNextPageList","params","document","row","Col","sm","size","SysAdminSetUploadDownloadRateLimitDialog","handleRateLimitChange","rateLimit","updateUploadDownloadRateLimit","uploadOrDownload","UpdateUser","updateValue","userName","twoFactorAuthEnabled","toggleSetUserUploadRateLimitDialog","isSetUserUploadRateLimitDialogOpen","toggleSetUserDownloadRateLimitDialog","isSetUserDownloadRateLimitDialogOpen","currentKey","isUpdateUserDialogOpen","toggleSetNameDialog","toggleSetUserLoginIDDialog","toggleSetUserComtactEmailDialog","toggleSetUserReferenceIDDialog","toggleUpdateUserDialog","showEditIcon","action","userInfo","src","avatar_url","alt","upload_rate_limit","download_rate_limit","has_default_device","disable2FA","check","is_force_2fa","toggleForce2fa","SysAdminSetQuotaDialog","SysAdminUpdateUserDialog","User","sysAdminDeleteTwoFactorAuth","sysAdminSetForceTwoFactorAuth","decodeURIComponent","sysAdminGetUser","enableSysAdminViewRepo","deleteRepo","transferRepo","toggleDeleteDialog","isDeleteDialogOpen","toggleTransferDialog","isTransferDialogOpen","owner","renderRepoName","repo","encrypted","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","last_modified","TransferDialog","canTransferToDept","Repos","sysAdminDeleteRepo","newRepoList","repoList","sysAdminTransferRepo","_this5","sysAdminListReposByOwner","repos","getOwnerLink","owner_email","indexOf","owner_name","groupID","substring","last_modify","sysAdminListShareInRepos","repo_list","deleteItem","toggleLinkDialog","isLinkDialogOpen","getRoleText","roleText","getIconUrl","is_dir","getFolderIconUrl","getFileIconUrl","obj_name","view_cnt","LinkDialog","Links","token","sysAdminDeleteShareLink","shareLinkItems","sysAdminDeleteUploadLink","uploadLinkItems","sysAdminListShareLinksByUser","share_link_list","sort","a","b","sysAdminListUploadLinksByUser","upload_link_list","parent_group_id","created_at","Groups","sysAdminListGroupsJoinedByUser","group_list","SysAdminCreateRepoDialog","handleRepoNameChange","repoName","ownerEmail","createRepo","option","UserItem","isOperationShow","deleteShareItem","user_email","onChangeUserPermission","permission","currentPermission","getSharedPermission","SharePermissionEditor","permissions","onPermissionChanged","UserList","SysAdminShareToUser","_React$Component3","selectedOption","setPermission","shareToUser","sysAdminAddRepoSharedItem","newItems","sharedItems","refs","userSelect","clearSelect","response","useremail","sysAdminDeleteRepoSharedItem","userEmail","sysAdminUpdateRepoSharedItemPermission","updateSharedItems","sharedItem","sharedItemUsername","is_admin","sysAdminListRepoSharedItems","colSpan","GroupItem","group_id","group_name","GroupList","NoOptionsMessage","innerProps","margin","textAlign","SysAdminShareToGroup","loadOptions","shareableGroups","obj","listSharedGroups","shareToGroup","groups","sharedItemGroupID","Select","maxMenuHeight","inputId","components","SysAdminShareDialog","getInitialActiveTab","activeTab","renderDirContent","enableDirPrivateShare","isGroupOwnedRepo","pills","NavItem","NavLink","TabContent","TabPane","tabId","itemType","itemPath","isRepoOwner","maxWidth","SysAdminLibHistorySettingDialog","days","keepDays","autoHistory","expireDays","sysAdminUpdateRepoHistorySetting","keep_days","errorInfo","num","setLimitDays","allHistory","noHistory","sysAdminGetRepoHistorySetting","onKeyDown","sortByFileCount","sortBySize","initialSortIcon","onDeleteRepo","onTransferRepo","isRepoDeleted","toggleShareDialog","toggleHistorySettingDialog","isShareDialogOpen","isHistorySettingDialogOpen","getOperations","departmentID","file_count","ModalPortal","repoEncrypted","userPerm","DeleteRepoDialog","AllRepos","toggleCreateRepoDialog","isCreateRepoDialogOpen","getReposByPage","sysAdminListAllRepos","Owner","sysAdminCreateRepo","targetRepo","searchRepos","repoNameOrID","_this$state3$currentP","ReposNav","description","SystemRepo","sysAdminGetSystemRepoInfo","trashReposExpireDays","onRestoreRepo","sysAdminDeleteTrashRepo","sysAdminRestoreTrashRepo","toggleDeleteRepoDialog","isDeleteRepoDialogOpen","toggleRestoreRepoDialog","isRestoreRepoDialogOpen","delete_time","TrashRepos","toggleCleanTrashDialog","isCleanTrashDialogOpen","sysAdminListTrashRepos","cleanTrash","sysAdminCleanTrashRepos","sysAdminSearchTrashRepos","SearchRepos","getRepos","sysAdminSearchRepos","handleNameInputChange","offset","Dirent","mtime","last_update","file_size","is_file","DirPath","onPathClick","turnPathToLink","pathList","split","nodePath","isSystemRepo","currentPath","pathElem","DirentItem","openFolder","dirent","deleteDirent","downloadDirent","fromSystemRepo","getDirentIcon","DirContent","direntList","DirView","loadDirentList","toggleNewFolderDialog","isNewFolderDialogOpen","createNewFolder","folderName","getFileName","sysAdminCreateSysRepoFolder","new_dirent","direntPath","joinPath","sysAdminListRepoDirents","_res$data","is_system_library","dirent_list","encodePath","history","replaceState","sysAdminDeleteRepoDirent","sysAdminGetRepoFileDownloadURL","download_url","onFileInputChange","sydAdminGetSysRepoItemUploadURL","formData","FormData","append","axios","post","upload_link","fileObj","newDirent","Date","getTime","dirs","splice","DirPathBar","CreateFolderDialog","SysAdminCreateGroupDialog","groupName","createGroup","SysAdminTransferGroupDialog","submitBtnDisabled","receiver","transferGroup","deleteGroup","groupUrl","toggleCreateGroupDialog","isCreateGroupDialogOpen","getGroupListByPage","sysAdminListAllGroups","groupList","OnwerEmail","sysAdminCreateNewGroup","newGroupList","sysAdminDismissGroupByID","receiverEmail","sysAdminTransferGroup","searchGroups","SearchGroups","getGroups","sysAdminSearchGroups","unshareRepo","toggleUnshareRepoDialog","isUnshareRepoDialogOpen","dialogMsg","shared_by","shared_by_name","GroupRepos","sysAdminUnshareRepoFromGroup","sysAdminListGroupRepos","libraries","GroupNav","SysAdminGroupAddMemberDialog","selectedOptions","isSubmitBtnDisabled","addMembers","SysAdminGroupRoleEditor","removeMember","updateMemberRole","GroupMembers","sysAdminListGroupMembers","memberList","members","toggleAddMemgerDialog","isAddMemberDialogOpen","sysAdminAddGroupMember","newMemberList","duration","sysAdminDeleteGroupMember","sysAdminUpdateGroupMemberRole","Departments","AddDepartDialog","validateName","parentGroup","parentGroupID","sysAdminAddNewDepartment","departName","onAddNewDepartment","header","RenameDepartmentDialog","sysAdminRenameDepartment","departmentName","onDepartmentNameChanged","onAfterModelOpened","newInput","focus","select","onOpened","innerRef","DeleteDepartmentDialog","deleteDepart","group","sysAdminDeleteDepartment","onDeleteDepartment","tipMessage","SetGroupQuotaDialog","setGroupQuota","newQuota","sysAdminUpdateDepartmentQuota","onSetQuota","toggleRenameDialog","isRenameDialogOpen","newHref","onSetDepartmentQuota","DepartmentList","listDepartments","sysAdminListAllDepartments","toggleAddDepartDialog","isShowAddDepartDialog","dept","newDepartment","topbarChildren","AddMemberDialog","orgSelect","onAddNewMembers","AddRepoDialog","sysAdminAddRepoInDepartment","onAddNewRepo","Department","getDepartmentInfo","sysAdminGetDepartmentInfo","ancestorGroups","ancestor_groups","toggleRenameDepartmentDialog","isShowRenameDepartmentDialog","toggleAddRepoDialog","isShowAddRepoDialog","toggleAddMemberDialog","isShowAddMemberDialog","toggleAddDepartmentDialog","isShowAddDepartmentDialog","topBtn","AddDepartmentDialog","ancestor","SubDepartments","listSubDepartments","onSubDepartmentNameChanged","DeleteMemberDialog","deleteMember","member","onMemberChanged","MemberItem","toggleMemberRoleMenu","showRoleMenu","onChangeUserRole","roles","RoleEditor","toggleItemFreezed","showDeleteMemberDialog","DepartmentMembers","listMembers","currentPageInfo","membersErrorMsg","toggleCancel","isFreezed","deletedMember","newMembers","_toConsumableArray","sysAdminDeleteRepoInDepartment","onRepoChanged","RepoItem","showDeleteRepoDialog","DepartmentDetail","listGroupRepo","deletedRepo","newRepo","getShareLinksByPage","sortByTime","sortByCount","deleteShareLink","renderExpiration","expire_date","expire_time","is_expired","deleteIcon","onMouseOver","onMouseOut","creator_email","creator_name","ctime","ShareLinks","_this4$state","sysAdminListShareLinks","shareLinkList","_this4$state2","linkToken","newShareLinkList","LinksNav","getUploadLinksByPage","deleteUploadLink","UploadLinks","sysAdminListAllUploadLinks","uploadLinkList","newUploadLinkList","SysAdminAddOrgDialog","orgName","addOrg","deleteOrg","sysAdminGetOrg","repoCount","Orgs","getItemsByPage","sysAdminListOrgs","orgList","organizations","toggleAddOrgDialog","isAddOrgDialogOpen","orgID","orgInfo","sysAdminUpdateOrg","newOrgList","org","sysAdminAddOrg","sysAdminDeleteOrg","SearchOrgs","sysAdminSearchOrgs","organization_list","SysAdminSetOrgNameDialog","updateName","SysAdminSetOrgMaxUserNumberDialog","isSetNameDialogOpen","toggleSetMaxUserNumberDialog","isSetMaxUserNumberDialogOpen","_this$props$orgInfo","max_user_number","enable_saml_login","url_prefix","metadata_url","domain","Row","md","serviceURL","SysAdminSetOrgQuotaDialog","updateMaxUserNumber","OrgInfo","newOrgInfo","newValue","maxUserNumber","OrgNav","SysAdminUserMembershipEditor","updateMembership","toggleResetPasswordDialog","isResetPasswordDialogOpen","statusValue","membershipValue","active","is_org_staff","OrgUsers","newUserInfo","sysAdminAddOrgUser","sysAdminDeleteOrgUser","sysAdminUpdateOrgUser","isOrgStaff","sysAdminListOrgUsers","OrgGroups","sysAdminListOrgGroups","OrgRepos","sysAdminListOrgRepos","SysAdminAddInstitutionDialog","addInstitution","getInstitutionsByPage","deleteInstitution","institutionName","Institutions","sysAdminListInstitutions","institutionList","institution_list","toggleAddInstitutionDialog","isAddInstitutionDialogOpen","sysAdminAddInstitution","institutionID","sysAdminDeleteInstitution","institutionInfo","user_count","quota_used","SysAdminSetInstitutionQuotaDialog","InstitutionInfo","sysAdminUpdateInstitution","newInstitutionInfo","sysAdminGetInstitution","InstitutionNav","getInstitutionUsersByPage","setAdmin","toggleSetAdminDialog","isSetAdminDialogOpen","is_institution_admin","InstitutionUsers","sysAdminListInstitutionUsers","sysAdminUpdateInstitutionUser","sysAdminAddInstitutionUserBatch","successArray","failedArray","sysAdminDeleteInstitutionUser","InstitutionAdmins","sysAdminListInstitutionAdmins","LogsExportExcelDialog","downloadExcel","isValidDateStr","startDateStr","endDateStr","logType","isValid","handleStartChange","handleEndChange","getLogsByPage","login_ip","log_success","login_time","LoginLogs","toggleExportExcelDialog","isExportExcelDialogOpen","sysAdminListLoginLogs","logList","login_log_list","LogsNav","FilterMenu","toggleMenu","isMenuShown","toggleFreezeItem","onItemClick","filterItems","filterBy","ToggleFilter","toggleFilter","toggleFilterByUser","filterByUser","toggleFilterByRepo","filterByRepo","freezed","userFilteredBy","repoFilteredBy","isHighlighted","event_type","ip","device","time","file_or_dir_name","FileAccessLogs","sysAdminListFileAccessLogs","file_access_log_list","updateURL","delete","toggleCommitDetailsDialog","isCommitDetailsDialogOpen","showCommitDetails","file_operation","repo_encrypted","commit_id","FileUpdateLogs","sysAdminListFileUpdateLogs","file_update_log_list","getActionTextByEType","etype","getShareTo","share_type","to_user_email","to_user_name","to_group_id","to_group_name","from_user_email","from_user_name","sharePerms","folder","date","SharePermissionLogs","sysAdminListSharePermissionLogs","share_permission_log_list","Section","headingText","SettingItemBase","helpTip","displayName","mainContent","extraContent","WebSettingInput","toggleBtns","isBtnsShown","hideBtns","onInputChange","saveSetting","keyText","inputType","onFocus","onBlur","onMouseDown","WebSettingFile","postFile","filePath","fileWidth","fileHeight","height","WebSettingCheckbox","valueToNum","WebSettings","sysAdminSetSysSettingInfo","config_dict","fileType","sysAdminUpdateLogo","sysAdminUpdateFavicon","sysAdminUpdateLoginBG","logoPath","logo_path","faviconPath","favicon_path","loginBGPath","login_bg_image_path","mediaUrl","sysAdminGetSysSettingInfo","InputItem","FileItem","CheckboxItem","SysAdminAddSysNotificationDialog","addNotification","deleteNotification","setToCurrent","is_current","Notifications","toggleAddNotificationDialog","isAddNotificationDialogOpen","sysAdminAddSysNotification","notificationList","notification","sysAdminDeleteSysNotification","sysAdminSetSysNotificationToCurrent","sysAdminListAllSysNotifications","notifications","Table","records","record","detail","suggestion","FileScanRecords","listFileScanRecords","record_list","WorkWeixinDepartmentMembersList","newUsersTempObj","checkedDepartmentId","isMembersListLoading","canCheckUserIds","membersList","avatar","onUserChecked","userid","mobile","hover","isCheckedAll","onAllUsersChecked","WorkWeixinDepartmentsTreeNode","toggleChildren","stopPropagation","isChildrenShow","dropdownToggle","dropdownOpen","importDepartmentDialogToggle","depart","renderTreeNodes","departmentsTree","onChangeDepartment","changeDept","toggleClass","classNames","nodeInnerClass","direction","opacity","WorkWeixinDepartmentsTreePanel","isTreeLoading","ImportWorkWeixinDepartmentDialog","onImportDepartmentSubmit","departmentsCount","membersCount","WorkWeixinDepartments","getDepartmentsTree","childIds","parentIds","parentid","intersection","v","rootIds","cloneData","deepCopy","father","branchArr","child","getWorkWeixinDepartmentsList","adminListWorkWeixinDepartments","importDepartmentChildrenCount","importDepartmentMembersCount","membersTempObj","handleError","getWorkWeixinDepartmentMembersList","department_id","adminListWorkWeixinDepartmentMembers","fetch_child","userlist","getCanCheckUserIds","userIds","keys","newUsersTempList","JSON","stringify","adminAddWorkWeixinUsersBatch","handleSubmitSuccess","fails","_success$i","j","departmentId","k","importDepartment","isImportDepartmentDialogShow","adminImportWorkWeixinDepartment","handleImportDepartmentSubmitSuccess","handleImportDepartmentSubmitFailed","successes","successMsg","department_name","api_user_name","fail","failName","canImportDepartment","DingtalkDepartmentMembersList","DingtalkDepartmentsTreeNode","DingtalkDepartmentsTreePanel","ImportDingtalkDepartmentDialog","DingtalkDepartments","getDingtalkDepartmentsList","adminListDingtalkDepartments","getDingtalkDepartmentMembersList","adminListDingtalkDepartmentMembers","adminAddDingtalkUsersBatch","adminImportDingtalkDepartment","getInviteTypeText","invite_type","inviter_email","inviter_name","accept_time","accepter_email","accepter_name","invite_time","Invitations","sysAdminListInvitations","invitation_list","targetItem","sysAdminDeleteInvitation","deleteItemInBatch","sysAdminDeleteExpiredInvitations","prevItems","totalItemCount","TermsEditorDialog","event","isContentChanged","currentContent","getCurrentContent","onCommit","onCloseEditorDialog","simpleEditor","hasContentChange","getMarkdown","setSimpleEditorRef","editor","content","wrapClassName","contentClassName","SimpleEditor","onRef","defaultProps","AddOrUpdateTermDialog","handleNameChange","handleVersionNumberChange","versionNumber","handleTextChange","setActive","setInActive","addTerm","isNaN","isUpdate","updateTerm","onContentClick","isConditionsEditorDialogShow","onUpdateContent","oldTermObj","version_number","activate_time","TermsPreviewWidget","hrefReg","imageReg1","imageReg2","linkReg1","linkReg2","markdownContent","previewText","newMarkdownContent","hrefs","match","_getLinks","hrefObj","links","images","imageSrcs","imageSrcs1","getLinks","TermsPreviewDialog","onClosePreviewDialog","toggleUpdateDialog","isUpdateDialogOpen","toggleTermsContentDialog","isTermsPerviewDialogOpen","deleteTerm","itemContent","mdFile","processor","process","result","innerHtml","String","previewContent","getPreviewContent","TermsPerviewDialog","TermsAndConditions","toggleAddTermDialog","isAddTermDialogOpen","sysAdminAddTermAndCondition","reload","termID","sysAdminUpdateTermAndCondition","termList","sysAdminDeleteTermAndCondition","sysAdminListTermsAndConditions","term_and_condition_list","VirusFileItem","handleFile","virusFile","virus_id","fileStatus","fileOpList","has_deleted","has_ignored","repo_owner","file_path","virusFiles","AllVirusFiles","listVirusFiles","virus_file_list","virusID","op","request","deleteVirusFile","toggleIgnoreVirusFile","virus_file","toggleItemSelected","isAllItemsSelected","toggleAllSelected","UnhandledVirusFiles","prevState","handleSelectedItems","virusIDs","batchProcessVirusFiles","fileList","find","deleteSelectedItems","ignoreSelectedItems","selectedItems","getOperationText","operationType","getOperationDetail","ownerPageUrl","userPageUrl","detailText","repoPageUrl","groupPageUrl","from","AdminOperationLogs","sysAdminListAdminLogs","login_success","AdminLoginLogs","sysAdminListAdminLoginLogs","AbuseReports","listAbuseReports","sysAdminListAbuseReports","abuseReportList","abuse_report_list","updateAbuseReport","handled","abuseReportId","sysAdminUpdateAbuseReport","AbuseReportList","isDesktop","fileUrl","reporter","abuse_type","SysAdmin","getCurrentTabForPageList","pageList","urlPartList","urlBase","jlen","param","tmpTab","commonProps","Router","StatisticReport","DepartmentLibraries","LDAPUsers","UserOwnedRepos","UserSharedRepos","UserLinks","UserGroups","MediaQuery","zIndex","ReactDom","getElementById","module","exports","createCommonjsModule","fn","getCjsExportFromNamespace","n","hasOwnProperty","colorName","conversions","reverseKeywords","convert","rgb","channels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","ansi16","ansi256","hcg","apple","gray","model","Error","defineProperty","comparativeDistance","x","y","Math","pow","h","l","r","g","min","max","delta","rdif","gdif","bdif","s","diff","diffc","c","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","z","t1","t2","t3","smin","lmin","hi","floor","f","p","q","t","sl","vmin","wh","bl","ratio","m","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","round","ansi","mult","rem","string","toUpperCase","colorString","char","join","integer","hue","chroma","pure","w","mg","buildGraph","graph","models","parent","deriveBFS","fromModel","queue","pop","adjacents","adjacent","node","wrapConversion","toModel","cur","conversion","route","wrapRaw","wrappedFn","prototype","wrapRounded","routes","raw","colorConvert","colorName$1","getRgba","getHsla","getRgb","getHsl","getHwb","getAlpha","hexString","rgbString","rgbaString","percentString","percentaString","hslString","hslaString","hwbString","abbr","rgba","per","hexAlpha","parseFloat","scale","alpha","hsla","vals","hexDouble","reverseNames","str","Color","valid","setValues","red","lightness","whiteness","cyan","setSpace","rgbArray","hslArray","hsvArray","hwbArray","cmykArray","rgbaArray","hslaArray","setChannel","green","blue","saturation","saturationv","blackness","magenta","yellow","black","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","dark","light","negate","lighten","darken","saturate","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","toJSON","prop","console","spaces","maxes","getValues","space","charAt","capped","chans","sname","svalues","chartjsColor","isValidKey","helpers","noop","uid","isNullOrUndef","isObject","isFinite","_isFinite","_x","Number","valueOrDefault","valueAtIndexOrDefault","thisArg","each","loopable","reverse","arrayEquals","a0","a1","ilen","v0","v1","create","klen","_merger","tval","sval","merge","_mergerIf","mergeIf","sources","merger","extend","dst","inherits","extensions","me","ChartElement","constructor","Surrogate","__super__","_deprecated","scope","previous","warn","helpers_core","callCallback","array","fromIndex","getValueOrDefault","getValueAtIndexOrDefault","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","helpers_easing","easingEffects","RAD_PER_DEG","DOUBLE_PI","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","exports$1","clear","chart","ctx","clearRect","roundedRect","radius","left","top","bottom","moveTo","arc","closePath","rect","drawPoint","rotation","xOffset","yOffset","cornerRadius","rad","save","translate","drawImage","restore","beginPath","lineTo","SQRT1_2","stroke","_isPointInArea","point","area","epsilon","clipArea","clip","unclipArea","flip","stepped","steppedLine","midpoint","bezierCurveTo","controlPointPreviousX","controlPointNextX","controlPointPreviousY","controlPointNextY","helpers_canvas","drawRoundedRectangle","defaults","_set","defaultColor","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","defaultLineHeight","showLines","core_defaults","toFontString","font","family","helpers_options","toLineHeight","matches","toPadding","_parseFont","globalDefaults","global","fontFamily","lineHeight","fontStyle","resolve","inputs","context","cacheable","exports$2","_factorize","log10","exponent","log","LOG10E","powerOf10","helpers_math","getRtlAdapter","rectX","setWidth","align","xPlus","leftForLtr","itemWidth","getLtrAdapter","_itemWidth","helpers$1","easing","canvas","math","rtl","overrideTextDirection","original","getPropertyValue","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","interpolate","start","view","ease","actual","origin","c0","c1","Element","configuration","initialize","_type","hidden","pivot","_view","_model","_start","transition","tooltipPosition","hasValue","isNumber","core_element","exports$3","currentStep","numSteps","render","onAnimationProgress","onAnimationComplete","core_animation","animation","onProgress","onComplete","core_animations","animations","addAnimation","lazy","now","animating","requestAnimationFrame","cancelAnimation","findIndex","requestAnimFrame","startDigest","advance","nextStep","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","configurable","enumerable","method","base","unlistenArrayEvents","stub","DatasetController","datasetElementType","dataElementType","_datasetElementOptions","_dataElementOptions","linkScales","addElements","getMeta","updateIndex","meta","dataset","getDataset","scalesOpts","xAxisID","yAxisID","getDatasetMeta","getScaleForId","scaleID","_getValueScaleId","_getIndexScaleId","_getValueScale","_getIndexScale","reset","_update","destroy","_data","createMetaDataset","_chart","_datasetIndex","createMetaData","_index","metaData","addElementAndReset","element","updateElement","buildOrUpdateElements","isExtensible","resyncElements","_configure","_config","_cachedDataOpts","update","easingValue","draw","getStyle","_resolveDatasetElementOptions","_resolveDataElementOptions","readKey","datasetOpts","custom","elementOptions","cached","dataIndex","freeze","removeHoverStyle","$previousStyle","setHoverStyle","getHoverColor","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","_removeDatasetHoverStyle","_setDatasetHoverStyle","hoverOptions","prev","numMeta","numData","insertElements","onDataPush","onDataPop","onDataShift","shift","onDataSplice","onDataUnshift","core_datasetController","TAU","clipArc","startAngle","endAngle","pixelMargin","angleMargin","outerRadius","innerRadius","drawFullCircleBorders","vm","inner","fullCircles","drawBorder","borderAlign","lineWidth","lineJoin","element_arc","inLabelRange","mouseX","hoverRadius","inRange","chartX","chartY","pointRelativePosition","getAngleFromPoint","angle","betweenAngles","withinRadius","getCenterPoint","halfAngle","halfRadius","getArea","centreAngle","rangeFromCentre","circumference","fillStyle","strokeStyle","valueOrDefault$1","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","capBezierPoints","element_line","currentVM","spanGaps","points","_children","globalOptionLineElements","lastDrawnIndex","_loop","previousItem","skip","lineCap","setLineDash","lineDashOffset","valueOrDefault$2","defaultColor$1","xRange","abs","hitRadius","yRange","mouseY","pointStyle","element_point","inXRange","inYRange","chartArea","defaultColor$2","isVertical","getBarBounds","x1","y1","half","swap","orig","v2","parseBorderSkipped","edge","borderSkipped","horizontal","parseBorderWidth","maxW","maxH","boundingRects","bounds","border","outer","skipX","skipY","rectangle","element_rectangle","rects","fillRect","Arc","Point","Rectangle","deprecated","valueOrDefault$3","computeMinSampleSize","pixels","curr","_length","getTicks","getPixelForTick","computeFitCategoryTraits","ruler","thickness","barThickness","stackCount","categoryPercentage","barPercentage","chunk","computeFlexCategoryTraits","next","percent","end","mode","gridLines","offsetGridLines","bar","controller_bar","scaleOpts","stack","minBarLength","maxBarThickness","_ruler","getRuler","_xScale","_yScale","datasetLabel","_updateElementGeometry","vscale","getBasePixel","isHorizontal","vpixels","calculateBarValuePixels","ipixels","calculateBarIndexPixels","head","center","_getStacks","last","metasets","_getMatchingVisibleMetas","stacked","stacks","getStackCount","getStackIndex","getPixelForValue","_startPixel","_endPixel","imeta","ivalue","stackLength","_parseValue","range","stackIndex","indexOpts","valueOpts","valueOrDefault$4","resolve$1","position","dataPoint","xLabel","controller_bubble","xScale","yScale","dsIndex","getPixelForDecimal","NaN","_options","valueOrDefault$5","PI$1","DOUBLE_PI$1","HALF_PI$1","animateRotate","animateScale","legendCallback","listItem","createElement","setAttribute","appendChild","createTextNode","outerHTML","generateLabels","controller","legendItem","cutoutPercentage","dataLabel","controller_doughnut","getRingIndex","ringIndex","isDatasetVisible","maxHeight","opts","ratioX","ratioY","offsetX","offsetY","arcs","cutout","chartWeight","_getRingWeight","startX","startY","endX","endY","contains0","contains90","contains270","minX","minY","maxX","maxY","getMaxBorderWidth","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animationOpts","centerX","centerY","calculateCircumference","hoverWidth","ringWeightOffset","dataSetIndex","axis","horizontalBar","controller_horizontalBar","valueOrDefault$6","resolve$2","isPointInArea","scaleClip","halfBorderWidth","tickOpts","defaultClip","toClip","controller_line","showLine","_showLine","lineTension","_scale","updateBezierControlPoints","lineModel","calculatePointY","lineOptions","ds","dsMeta","stackedRightValue","rightValue","sumPos","sumNeg","getRightValue","_getSortedVisibleDatasetMetas","controlPoints","capControlPoint","pt","cubicInterpolationMode","splineCurveMonotone","splineCurve","nextItem","resolve$3","angleLines","circular","pointLabels","controller_polarArea","starts","_starts","angles","_angles","_updateRadius","countVisibleElements","_computeAngle","minSize","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getDistanceFromCenterForValue","resetRadius","doughnut","controller_pie","valueOrDefault$7","controller_radar","pointPosition","getPointPositionForValue","scatter","controllers","bubble","polarArea","pie","radar","getRelativePosition","native","parseVisibleItems","handler","metadata","getIntersectItems","getNearestItems","intersect","distanceMetric","minDistance","POSITIVE_INFINITY","nearestItems","getDistanceMetricForAxis","useX","useY","pt1","pt2","deltaX","deltaY","indexMode","core_interaction","modes","single","nearest","intersectsItem","filterByPosition","where","pos","sortByWeight","wrapBoxes","boxes","box","layoutBoxes","setLayoutDims","layouts","fullWidth","availableWidth","vBoxMaxWidth","hBoxMaxHeight","buildLayoutBoxes","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateDims","newWidth","newHeight","getPadding","boxPadding","outerWidth","outerHeight","sizes","handleMaxPadding","updatePos","change","getMargins","marginForPositions","positions","fitBoxes","refit","changed","refitBoxes","placeBoxes","userPadding","core_layouts","addBox","_layers","removeBox","layoutItem","configure","layoutOptions","availableHeight","verticalBoxes","horizontalBoxes","platform_basic","acquireContext","getContext","platform_dom","stylesheet","__proto__","EXPANDO_KEY","CSS_PREFIX","CSS_SIZE_MONITOR","CSS_RENDER_MONITOR","CSS_RENDER_ANIMATION","ANIMATION_START_EVENTS","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","readUsedSize","property","initCanvas","renderHeight","getAttribute","renderWidth","initial","displayWidth","aspectRatio","displayHeight","eventListenerOptions","supports","addEventListener","passive","addListener","removeListener","removeEventListener","createEvent","nativeEvent","fromNativeEvent","throttled","ticking","createDiv","cls","el","createResizer","maxSize","resizer","expand","shrink","_reset","scrollLeft","scrollTop","onScroll","watchForRender","expando","proxy","renderProxy","animationName","reflow","offsetParent","classList","add","unwatchForRender","remove","addResizeListener","container","maintainAspectRatio","parentNode","clientWidth","insertBefore","firstChild","removeResizeListener","removeChild","injectCSS","rootNode","css","containsStyles","platform_dom$2","disableCSSInjection","_enabled","_ensureLoaded","root","getRootNode","host","releaseContext","removeAttribute","proxies","addEvent","removeEvent","implementation","plugins","core_plugins","_plugins","_cacheId","register","plugin","unregister","idx","getAll","hook","descriptor","descriptors","cache","$plugins","_invalidate","core_scaleService","constructors","registerScaleType","scaleConstructor","scaleDefaults","getScaleConstructor","getScaleDefaults","updateScaleDefaults","additions","addScalesToLayout","valueOrDefault$8","getRtlHelper","enabled","titleFontStyle","titleSpacing","titleMarginBottom","titleFontColor","titleAlign","bodySpacing","bodyFontColor","bodyAlign","footerFontStyle","footerSpacing","footerMarginTop","footerFontColor","footerAlign","yPadding","xPadding","caretPadding","caretSize","multiKeyBackground","displayColors","beforeTitle","tooltipItems","labelCount","afterTitle","beforeBody","beforeLabel","labelColor","labelTextColor","afterLabel","afterBody","beforeFooter","footer","afterFooter","positioners","average","eventPosition","nearestElement","d","distanceBetweenPoints","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","indexScale","valueScale","getLabelForIndex","getBaseModel","tooltipOpts","xAlign","yAlign","textDirection","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyFontSize","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontSize","_titleAlign","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontSize","_footerAlign","legendColorBackground","getTooltipSize","tooltip","body","combinedBodyLength","reduce","bodyItem","before","lines","after","titleLineCount","footerLineCount","widthPadding","maxLineWidth","measureText","fontString","determineAlignment","lf","rf","olf","orf","yf","midX","midY","getBackgroundPoint","alignment","paddingAndSize","radiusAndPadding","getAlignedX","getBeforeAfterBodyLines","exports$4","_lastActive","getTitle","getBeforeBody","getBody","bodyItems","getAfterBody","getFooter","existingModel","_active","backgroundPoint","tooltipSize","caretX","caretY","labelColors","labelTextColors","_eventPosition","itemSort","dataPoints","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","tmp","drawTitle","rtlHelper","textBaseline","fillText","drawBody","textColor","drawColorBoxes","xLinePadding","colorX","fillLineOfText","bodyAlignForCalculation","rtlColorX","strokeRect","drawFooter","drawBackground","quadraticCurveTo","hasTooltipContent","globalAlpha","handleEvent","getElementsAtEventForMode","positioners_1","core_tooltip","valueOrDefault$9","mergeScaleConfig","slen","mergeConfig","initConfig","updateConfig","newOptions","ensureScalesHaveIDs","buildOrUpdateScales","nextAvailableScaleId","axesOpts","prefix","hasId","positionIsHorizontal","compare2Level","l1","l2","events","onHover","animationDuration","responsive","responsiveAnimationDuration","Chart","construct","_bufferedRender","instances","retinaScale","devicePixelRatio","bindEvents","resize","initToolTip","stop","silent","getMaximumWidth","getMaximumHeight","newSize","onResize","scalesOptions","scaleOptions","xAxisOptions","yAxisOptions","updated","dtype","dposition","isDefault","scaleType","scaleClass","mergeTicksOptions","hasUpdated","buildOrUpdateControllers","newControllers","destroyDatasetMeta","order","ControllerClass","resetElements","updateLayout","updateDatasets","lastActive","_bufferedRequest","_idx","updateDataset","animationOptions","animationObject","easingFunction","stepDecimal","layers","drawDatasets","_drawTooltip","_getSortedDatasetMetas","filterVisible","drawDataset","getElementAtEvent","getElementsAtEvent","getElementsAtXAxis","getDatasetAtEvent","_meta","generateLegend","unbindEvents","toBase64Image","toDataURL","_chartInstance","_listeners","eventHandler","updateHoverStyle","bufferedRequest","core_controller","Controller","types","configMerge","scaleMerge","core_helpers","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","defaultView","_getParentNode","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","collection","filterCallback","filtered","findNextWhere","arrayToSearch","startIndex","findPreviousWhere","almostEquals","almostWhole","rounded","NEGATIVE_INFINITY","sign","toRadians","toDegrees","radians","_decimalPlaces","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","aliasPixel","pixelWidth","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","EPSILON","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","pointsWithTangents","deltaK","mK","pointsLen","slopeDeltaX","loop","niceNum","fraction","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","evt","originalEvent","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","paddingTop","paddingRight","paddingBottom","getConstraintWidth","getConstraintHeight","_calculatePadding","parentDimension","cw","clientHeight","ch","currentStyle","forceRatio","pixelRatio","pixelSize","longestText","arrayOfThings","gc","garbageCollect","thing","nestedThing","longest","gcLen","textWidth","numberOfLabelLines","numberOfLines","CanvasGradient","colorValue","CanvasPattern","abstract","DateAdapter","formats","parse","startOf","endOf","_create","override","core_adapters","_date","core_ticks","formatters","tickValue","logDelta","tickString","logTick","numExponential","toExponential","numDecimal","toFixed","logarithmic","remain","valueOrDefault$a","sample","arr","numItems","increment","getPixelForGridLine","validIndex","lineValue","caches","computeLabelSizes","tickFonts","tickFont","nestedLabel","widest","highest","widths","heights","offsets","widestLabelSize","highestLabelSize","major","minor","valueAt","first","getTickMarkLength","drawTicks","tickMarkLength","getScaleLabelHeight","parseFontOptions","nestedOpts","fontColor","parseTickFontOptions","nonSkipped","ticksToFilter","getEvenSpacing","calculateSpacing","majorIndices","axisLength","ticksLimit","factors","factor","evenMajorSpacing","spacing","getMajorIndices","skipMajors","tick","ceil","majorStart","majorEnd","drawOnChartArea","zeroLineWidth","zeroLineColor","zeroLineBorderDash","zeroLineBorderDashOffset","scaleLabel","labelString","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Scale","zeroLineIndex","_ticks","_getLabels","xLabels","yLabels","beforeUpdate","margins","samplingEnabled","sampleSize","_labelSizes","_maxLabelLines","longestLabelWidth","longestTextCache","_gridLineItems","_labelItems","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","_convertTicksToLabels","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","beforeFit","fit","afterFit","_ticksToDraw","_autoSkip","afterUpdate","startPixel","endPixel","reversePixels","_reversePixels","beforeTickToLabelConversion","convertTicksToLabels","userCallback","afterTickToLabelConversion","labelSizes","maxLabelWidth","maxLabelHeight","tickWidth","maxLabelDiagonal","numTicks","labelRotation","_isVisible","_getLabelSizes","scaleLabelOpts","gridLineOpts","isBottom","firstLabelSize","lastLabelSize","lineSpace","tickPadding","isRotated","angleRadians","cosRotation","sinRotation","labelHeight","offsetLeft","offsetRight","labelWidth","handleMargins","isFullWidth","rawValue","_getScaleLabel","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","avgMajorSpacing","_tickSize","numMajorIndices","optionTicks","rot","_computeGridLineItems","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","lineColor","ticksLength","tl","axisWidth","axisHalfWidth","alignPixel","alignBorderValue","_computeLabelItems","lineCount","textOffset","isMirrored","fonts","_drawGrid","firstLineWidth","lastLineWidth","_drawLabels","_drawTitle","scaleLabelX","scaleLabelY","scaleLabelFontColor","scaleLabelFont","scaleLabelPadding","halfLineHeight","isLeft","tz","gz","_draw","core_scale","isNullOrUndef$1","defaultConfig","scale_category","ticksOpts","minIndex","maxIndex","_startValue","_valueRange","valueCategory","_defaults","isNullOrUndef$2","generateTicks","generationOptions","dataRange","niceMin","niceMax","numSpaces","MIN_SPACING","stepSize","unit","maxNumSpaces","maxTicks","precision","rmin","rmax","scale_linearbase","handleTickRangeOptions","minSign","maxSign","setMin","suggestedMin","setMax","getTickLimit","_computeTickLimit","handleDirectionalChanges","numericGeneratorOptions","fixedStepSize","ticksAsNumbers","_endValue","defaultConfig$1","DEFAULT_MIN","DEFAULT_MAX","getOrCreateStack","neg","stackData","relativePoints","updateMinMax","scale_linear","hasStacks","stackValues","_defaults$1","valueOrDefault$b","generateTicks$1","exp","significand","tickVal","endExp","endSignificand","minNotZero","lastTick","defaultConfig$2","nonNegativeOrDefault","scale_logarithmic","IDMatches","valuesPerStack","valuesForType","minVal","maxVal","tickValues","_getFirstTickValue","_valueOffset","_defaults$2","valueOrDefault$c","valueAtIndexOrDefault$1","resolve$4","defaultConfig$3","animate","showLabelBackdrop","backdropColor","backdropPaddingY","backdropPaddingX","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","textSize","plFont","furthestLimits","furthestAngles","_pointLabelSizes","valueCount","getPointPosition","drawingArea","getIndexAngle","hLimits","vLimits","setReductions","getTextAlignForAngle","adjustPointPositionForLabelHeight","drawPointLabels","pointLabelOpts","tickBackdropHeight","outerDistance","extra","pointLabelPosition","pointLabelFontColor","drawRadiusLine","numberOrZero","scale_radialLinear","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","scalingFactor","distanceFromCenter","thisAngle","getBasePosition","angleLineOpts","tickFontColor","_defaults$3","deprecated$1","resolve$5","valueOrDefault$d","MIN_INTEGER","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","quarter","year","UNITS","sorter","arrayUnique","hash","out","getMin","getMax","buildLookupTable","timestamps","distribution","lookup","mid","i0","i1","lo","interpolate$1","skey","tkey","span","toTimestamp","input","adapter","_adapter","parser","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","generate","timeOpts","unitStepSize","weekday","isoWeekday","computeOffsets","setMajorTicks","majorUnit","ticksFromTimestamps","defaultConfig$4","adapters","displayFormat","displayFormats","scale_time","timestamp","labelsAdded","dataLabels","_table","_timestamps","getLabelCapacity","_unit","_majorUnit","_offsets","tooltipFormat","tickFormatFunction","minorFormat","majorFormat","nestedTickOpts","formatter","getPixelForOffset","_getLabelSize","tickLabelWidth","tickFontSize","getLabelWidth","exampleTime","exampleLabel","_defaults$4","category","radialLinear","FORMATS","_id","valueOf","amount","filler","propagate","mappers","boundary","decodeFill","computeLinearBoundary","scaleBottom","scaleTop","scaleZero","computeCircularBoundary","cx","cy","computeBoundary","resolveTarget","visible","createMapper","isDrawable","drawArea","curve0","curve1","len0","len1","doFill","mapper","p0","p1","d0","d1","loopOffset","plugin_filler","afterDatasetsUpdate","$filler","beforeDatasetsDraw","getRtlHelper$1","noop$1","valueOrDefault$e","getBoxWidth","labelOpts","boxWidth","ci","onLeave","lineDash","Legend","legendHitBoxes","_hoveredItem","doughnutMode","beforeBuildLabels","buildLabels","afterBuildLabels","legendItems","labelFont","hitboxes","lineWidths","totalHeight","vPadding","columnWidths","columnHeights","totalWidth","currentColWidth","currentColHeight","lineDefault","legendHeight","legendWidth","cursor","drawLegendBox","SQRT2","halfFontSize","xLeft","yMiddle","alignmentOffset","dimension","blockSize","itemHeight","realX","_getLegendItemAt","hitBox","lh","hoveredItem","createNewLegendAndAttach","legendOpts","plugin_legend","_element","beforeInit","afterEvent","noop$2","Title","titleX","titleY","fontOpts","createNewTitleBlockAndAttach","titleOpts","titleBlock","_adapters","Animation","animationService","Interaction","scaleService","Ticks","Tooltip","pluginService","PluginBase","canvasHelpers","layoutService","LinearScaleBase","klass","cfg","toLowerCase","factory","require","setter","iteratee","accumulator","baseEach","arrayAggregator","baseAggregator","baseIteratee","initializer","func","baseIsEqual","other","baseAssignValue","keyBy","createAggregator","_react","_interopRequireDefault","_propTypes","_isEqual","_keyBy","__esModule","default","_extends","_typeof","Symbol","iterator","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","instance","Constructor","TypeError","_defineProperties","writable","protoProps","staticProps","subClass","superClass","_setPrototypeOf","o","setPrototypeOf","Derived","hasNativeReflectConstruct","Reflect","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","self","_possibleConstructorReturn","ReferenceError","getPrototypeOf","NODE_ENV","ChartComponent","chartInstance","onElementsClick","renderChart","redraw","destroyChart","updateChart","nextData","transformDataProp","shadowDataProp","saveCurrentDatasets","isDev","usingCustomKeyProvider","datasetKeyProvider","getLabelAsKey","multipleDatasets","shouldWarn","getCurrentDatasets","memoizeDataProps","currentDatasets","nextDatasets","checkDatasets","currentDatasetsIndexed","pid","otherProps","rest","_this$props4","handleOnClick","oneOfType","number","arrayOf","bool","propName","componentName","Doughnut","Pie","_ref2","_React$Component4","_super4","_this6","_ref3","Bar","_React$Component5","_super5","_this7","_ref4","HorizontalBar","_React$Component6","_super6","_this8","_ref5","Radar","_React$Component7","_super7","_this9","_ref6","Polar","_React$Component8","_super8","_this10","_ref7","Bubble","_React$Component9","_super9","_this11","_ref8","Scatter","_React$Component10","_super10","_this12","_ref9","propTypes","cssModule","bordered","borderless","striped","tagPropType","responsiveTag","Tag","ResponsiveTag","attributes","classes","mapToCssModules","responsiveClassName"],"sourceRoot":""}