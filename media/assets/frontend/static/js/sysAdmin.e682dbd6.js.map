{"version":3,"file":"static/js/sysAdmin.e682dbd6.js","mappings":"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","sources":["components/dialog/commit-details.js","components/dialog/create-folder-dialog.js","components/dialog/op-menu.js","components/dialog/share-admin-link.js","components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog.js","pages/sys-admin/side-panel.js","pages/sys-admin/main-panel.js","pages/sys-admin/main-panel-topbar.js","pages/sys-admin/info.js","pages/sys-admin/statistic/statistic-nav.js","pages/sys-admin/statistic/picker.js","pages/sys-admin/statistic/statistic-common-tool.js","pages/sys-admin/statistic/statistic-chart.js","pages/sys-admin/statistic/statistic-file.js","pages/sys-admin/statistic/statistic-storage.js","pages/sys-admin/statistic/traffic-table.js","pages/sys-admin/statistic/traffic-table-body.js","pages/sys-admin/statistic/statistic-traffic-orgs.js","pages/sys-admin/statistic/statistic-traffic-users.js","pages/sys-admin/statistic/statistic-traffic.js","pages/sys-admin/statistic/statistic-users.js","pages/sys-admin/statistic/statistic-reports.js","pages/sys-admin/devices/devices-nav.js","pages/sys-admin/devices/devices-by-platform.js","pages/sys-admin/devices/desktop-devices.js","pages/sys-admin/devices/mobile-devices.js","pages/sys-admin/user-link.js","pages/sys-admin/devices/devices-errors.js","components/dialog/sysadmin-dialog/set-quota.js","components/dialog/sysadmin-dialog/sysadmin-import-user-dialog.js","components/select-editor/sysadmin-user-role-editor.js","components/dialog/sysadmin-dialog/sysadmin-add-user-dialog.js","components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog.js","models/sysadmin-user.js","models/sysadmin-admin-user.js","pages/sys-admin/search.js","pages/sys-admin/users/users-nav.js","components/select-editor/sysadmin-user-status-editor.js","pages/sys-admin/users/users-content.js","pages/sys-admin/users/users.js","pages/sys-admin/users/admin-users.js","pages/sys-admin/users/ldap-imported-users.js","pages/sys-admin/users/ldap-users.js","pages/sys-admin/users/search-users.js","components/dialog/sysadmin-dialog/set-upload-download-rate-limit.js","components/dialog/sysadmin-dialog/update-user.js","pages/sys-admin/users/user-nav.js","pages/sys-admin/users/user-info.js","pages/sys-admin/users/user-repos.js","pages/sys-admin/users/user-shared-repos.js","pages/sys-admin/users/user-links.js","pages/sys-admin/users/user-groups.js","components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog.js","pages/sys-admin/repos/repos-nav.js","components/dialog/sysadmin-dialog/sysadmin-share-to-user.js","components/dialog/sysadmin-dialog/sysadmin-share-to-group.js","components/dialog/sysadmin-dialog/sysadmin-share-dialog.js","components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog.js","pages/sys-admin/repos/repos.js","pages/sys-admin/repos/all-repos.js","pages/sys-admin/repos/system-repo.js","pages/sys-admin/repos/trash-repos.js","pages/sys-admin/repos/search-repos.js","models/system-admin/dirent.js","pages/sys-admin/repos/dir-path-bar.js","pages/sys-admin/repos/dir-content.js","pages/sys-admin/repos/dir-view.js","components/dialog/sysadmin-dialog/sysadmin-create-group-dialog.js","components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog.js","pages/sys-admin/groups/groups-content.js","pages/sys-admin/groups/groups.js","pages/sys-admin/groups/search-groups.js","pages/sys-admin/groups/group-nav.js","pages/sys-admin/groups/group-repos.js","components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog.js","components/select-editor/sysadmin-group-role-editor.js","pages/sys-admin/groups/group-members.js","pages/sys-admin/departments/departments.js","components/dialog/sysadmin-dialog/sysadmin-add-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog.js","pages/sys-admin/departments/group-item.js","pages/sys-admin/departments/department-list.js","components/dialog/sysadmin-dialog/sysadmin-add-member-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog.js","pages/sys-admin/departments/department.js","pages/sys-admin/departments/sub-departments.js","components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog.js","pages/sys-admin/departments/member-item.js","pages/sys-admin/departments/department-members.js","components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog.js","pages/sys-admin/departments/repo-item.js","pages/sys-admin/departments/department-libraries.js","pages/sys-admin/links/links-nav.js","pages/sys-admin/links/share-links.js","pages/sys-admin/links/upload-links.js","components/dialog/sysadmin-dialog/sysadmin-add-org-dialog.js","pages/sys-admin/orgs/orgs-content.js","pages/sys-admin/orgs/orgs.js","pages/sys-admin/orgs/search-orgs.js","components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog.js","pages/sys-admin/orgs/org-nav.js","pages/sys-admin/orgs/org-info.js","components/select-editor/sysadmin-user-membership-editor.js","pages/sys-admin/orgs/org-users.js","pages/sys-admin/orgs/org-groups.js","pages/sys-admin/orgs/org-repos.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog.js","pages/sys-admin/institutions/institutions.js","pages/sys-admin/institutions/institution-nav.js","pages/sys-admin/institutions/institution-info.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog.js","pages/sys-admin/institutions/institution-users.js","pages/sys-admin/institutions/institution-admins.js","pages/sys-admin/logs-page/logs-nav.js","components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog.js","pages/sys-admin/logs-page/login-logs.js","pages/sys-admin/logs-page/file-access-item-menu.js","pages/sys-admin/logs-page/file-access-toggle-filter.js","pages/sys-admin/logs-page/file-access-logs.js","pages/sys-admin/logs-page/file-update-logs.js","pages/sys-admin/logs-page/share-permission-logs.js","pages/sys-admin/web-settings/section.js","pages/sys-admin/web-settings/setting-item-base.js","pages/sys-admin/web-settings/input-item.js","pages/sys-admin/web-settings/file-item.js","pages/sys-admin/web-settings/checkbox-item.js","pages/sys-admin/web-settings/web-settings.js","components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog.js","pages/sys-admin/notifications/notifications.js","pages/sys-admin/file-scan-records.js","pages/sys-admin/work-weixin/work-weixin-department-members-list.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-node.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-panel.js","components/dialog/import-work-weixin-department-dialog.js","pages/sys-admin/work-weixin-departments.js","pages/sys-admin/dingtalk/dingtalk-department-members-list.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-node.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-panel.js","components/dialog/import-dingtalk-department-dialog.js","pages/sys-admin/dingtalk-departments.js","pages/sys-admin/invitations/invitations.js","components/dialog/terms-editor-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog.js","utils/markdown-utils.js","components/dialog/terms-preview-dialog.js","pages/sys-admin/terms-and-conditions/item.js","pages/sys-admin/terms-and-conditions/content.js","pages/sys-admin/terms-and-conditions/terms-and-conditions.js","pages/sys-admin/virus-scan/nav.js","pages/sys-admin/virus-scan/all-virus-files.js","pages/sys-admin/virus-scan/unhandled-virus-files.js","pages/sys-admin/admin-logs/logs-nav.js","pages/sys-admin/admin-logs/operation-logs.js","pages/sys-admin/admin-logs/login-logs.js","pages/sys-admin/abuse-reports.js","pages/sys-admin/index.js","../node_modules/chart.js/dist/Chart.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/isEqual.js","../node_modules/lodash/keyBy.js","../node_modules/react-chartjs-2/es/index.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../loading';\n\nimport '../../css/commit-details.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  commitID: PropTypes.string.isRequired,\n  commitTime: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass CommitDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errorMsg: '',\n    };\n  }\n\n  componentDidMount() {\n    const {repoID, commitID} = this.props;\n    seafileAPI.getCommitDetails(repoID, commitID).then((res) => {\n      this.setState({\n        isLoading: false,\n        errorMsg: '',\n        commitDetails: res.data\n      });\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        isLoading: false,\n        errorMsg: errorMsg\n      });\n    });\n  }\n\n  render() {\n    const { toggleDialog, commitTime} = this.props;\n    return (\n      <Modal isOpen={true} centered={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{gettext('Modification Details')}</ModalHeader>\n        <ModalBody>\n          <p className=\"small\">{moment(commitTime).format('YYYY-MM-DD HH:mm:ss')}</p>\n          <Content data={this.state} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nclass Content extends React.Component {\n\n  renderDetails = (data) => {\n    const detailsData = [\n      {type: 'new', title: gettext('New files')},\n      {type: 'removed', title: gettext('Deleted files')},\n      {type: 'renamed', title: gettext('Renamed or Moved files')},\n      {type: 'modified', title: gettext('Modified files')},\n      {type: 'newdir', title: gettext('New directories')},\n      {type: 'deldir', title: gettext('Deleted directories')}\n    ];\n\n    let showDesc = true;\n    for (let i = 0, len = detailsData.length; i < len; i++) {\n      if (data[detailsData[i].type].length) {\n        showDesc = false;\n        break;\n      }\n    }\n    if (showDesc) {\n      return <p>{data.cmt_desc}</p>;\n    }\n\n    return (\n      <React.Fragment>\n        {detailsData.map((item, index) => {\n          if (!data[item.type].length) {\n            return null;\n          }\n          return (\n            <React.Fragment key={index}>\n              <h6>{item.title}</h6>\n              <ul>\n                {\n                  data[item.type].map((item, index) => {\n                    return <li key={index} dangerouslySetInnerHTML={{__html: item}} className=\"commit-detail-item\"></li>;\n                  })\n                }\n              </ul>\n            </React.Fragment>\n          );\n        })}\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const {isLoading, errorMsg, commitDetails} = this.props.data;\n\n    if (isLoading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error mt-4 text-center\">{errorMsg}</p>;\n    }\n\n    return this.renderDetails(commitDetails);\n  }\n}\n\nContent.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nCommitDetails.propTypes = propTypes;\n\nexport default CommitDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFolderCancel: PropTypes.func.isRequired,\n};\n\nclass CreateForder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: '',\n      errMessage: '',\n      isSubmitBtnActive: false,\n    };\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n  }\n\n  handleChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({childName: e.target.value});\n  };\n\n  handleSubmit = () => {\n    if (!this.state.isSubmitBtnActive) {\n      return;\n    }\n\n    let newName = this.state.childName;\n    let isDuplicated = this.checkDuplicatedName();\n\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      this.props.onAddFolder(path);\n    }\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.addFolderCancel();\n  };\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Folder')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"folderName\">{gettext('Name')}</Label>\n              <Input\n                id=\"folderName\"\n                value={this.state.childName}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateForder.propTypes = propTypes;\n\nexport default CreateForder;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  operations: PropTypes.array.isRequired,\n  translateOperations: PropTypes.func.isRequired\n};\n\nclass OpMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = Utils.getEventData(e, 'op');\n    this.props.onMenuItemClick(operation);\n  };\n\n  onDropdownToggleClick = (e) => {\n    this.toggleOperationMenu(e);\n  };\n\n  toggleOperationMenu = (e) => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  };\n\n  render() {\n    const { operations, translateOperations } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isItemMenuShow}\n        />\n        <DropdownMenu className=\"my-1 mr-2\">\n          {operations.map((item, index )=> {\n            return (<DropdownItem key={index} data-op={item} onClick={this.onMenuItemClick}>{translateOperations(item)}</DropdownItem>);\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nOpMenu.propTypes = propTypes;\n\nexport default OpMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport copy from '../copy-to-clipboard';\nimport { gettext } from '../../utils/constants';\nimport toaster from '../../components/toast';\n\nconst propTypes = {\n  link: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass ShareAdminLink extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  copyToClipboard = () => {\n    copy(this.props.link);\n    this.props.toggleDialog();\n    toaster.success(gettext('The link is copied to the clipboard.'), {duration: 2});\n  };\n\n  render() {\n    const { link, toggleDialog } = this.props;\n    return (\n      <Modal isOpen={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{gettext('Link')}</ModalHeader>\n        <ModalBody>\n          <a href={link}>{link}</a>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.copyToClipboard}>{gettext('Copy')}</Button>\n          <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nShareAdminLink.propTypes = propTypes;\n\nexport default ShareAdminLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, isPro } from '../../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  unlinkDevice: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminUnlinkDevice extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputChecked: e.target.checked\n    });\n  };\n\n  unlinkDevice = () => {\n    this.props.toggleDialog();\n    this.props.unlinkDevice(this.state.inputChecked);\n  };\n\n  render() {\n    const { inputChecked } = this.state;\n    const toggle = this.props.toggleDialog;\n    return (\n      <Modal isOpen={true} toggle={toggle}>\n        <ModalHeader toggle={toggle}>{gettext('Unlink device')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure you want to unlink this device?')}</p>\n          {isPro &&\n          <div className=\"d-flex align-items-center\">\n            <input id=\"delete-files\" className=\"mr-1\" type=\"checkbox\" checked={inputChecked} onChange={this.handleInputChange} />\n            <label htmlFor=\"delete-files\" className=\"m-0\">{gettext('Delete files from this device the next time it comes online.')}</label>\n          </div>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.unlinkDevice}>{gettext('Unlink')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminUnlinkDevice.propTypes = propTypes;\n\nexport default SysAdminUnlinkDevice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport Logo from '../../components/logo';\nimport { gettext, siteRoot, isPro, otherPermission, canViewSystemInfo, canViewStatistic,\n  canConfigSystem, canManageLibrary, canManageUser, canManageGroup, canViewUserLog,\n  canViewAdminLog, constanceEnabled, multiTenancy, multiInstitution, sysadminExtraEnabled,\n  enableGuestInvitation, enableTermsAndConditions, enableFileScan, enableWorkWeixin, enableDingtalk,\n  enableShareLinkReportAbuse, isDBSqlite3 } from '../../utils/constants';\n\nconst propTypes = {\n  isSidePanelClosed: PropTypes.bool.isRequired,\n  onCloseSidePanel: PropTypes.func.isRequired,\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired\n};\n\nclass SidePanel extends React.Component {\n\n  getActiveClass = (tab) => {\n    return this.props.currentTab == tab ? 'active' : '';\n  };\n\n  render() {\n    return (\n      <div className={`side-panel ${this.props.isSidePanelClosed ? '' : 'left-zero'}`}>\n        <div className=\"side-panel-north\">\n          <Logo onCloseSidePanel={this.props.onCloseSidePanel}/>\n        </div>\n        <div className=\"side-panel-center\">\n          <div className=\"side-nav\">\n            <div className=\"side-nav-con\">\n              <h3 className=\"sf-heading\">{gettext('System Admin')}</h3>\n              <ul className=\"nav nav-pills flex-column nav-container\">\n                {canViewSystemInfo &&\n                <li className=\"nav-item\">\n                  <Link\n                    className={`nav-link ellipsis ${this.getActiveClass('info')}`}\n                    to={siteRoot + 'sys/info/'}\n                    onClick={() => this.props.tabItemClick('info')}\n                  >\n                    <span className=\"sf2-icon-info\" aria-hidden=\"true\"></span>\n                    <span className=\"nav-text\">{gettext('Info')}</span>\n                  </Link>\n                </li>\n                }\n                {(isPro || !isDBSqlite3) && canViewStatistic &&\n                  <li className=\"nav-item\">\n                    <Link className={`nav-link ellipsis ${this.getActiveClass('statistic')}`}\n                      to={siteRoot + 'sys/statistics/file/'}\n                      onClick={() => this.props.tabItemClick('statistic')}\n                    >\n                      <span className=\"sf2-icon-histogram\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Statistic')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('devices')}`}\n                      to={siteRoot + 'sys/desktop-devices/'}\n                      onClick={() => this.props.tabItemClick('devices')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Devices')}</span>\n                    </Link>\n                  </li>\n                }\n                {constanceEnabled && canConfigSystem &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('web-settings')}`}\n                      to={siteRoot + 'sys/web-settings/'}\n                      onClick={() => this.props.tabItemClick('web-settings')}\n                    >\n                      <span className=\"sf2-icon-cog2\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Settings')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageLibrary &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('libraries')}`}\n                      to={siteRoot + 'sys/all-libraries/'}\n                      onClick={() => this.props.tabItemClick('libraries')}\n                    >\n                      <span className=\"sf2-icon-library\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Libraries')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageUser &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('users')}`}\n                      to={siteRoot + 'sys/users/'}\n                      onClick={() => this.props.tabItemClick('users')}\n                    >\n                      <span className=\"sf2-icon-user\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Users')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('groups')}`}\n                      to={siteRoot + 'sys/groups/'}\n                      onClick={() => this.props.tabItemClick('groups')}\n                    >\n                      <span className=\"sf2-icon-group\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Groups')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('departments')}`}\n                      to={siteRoot + 'sys/departments/'}\n                      onClick={() => this.props.tabItemClick('departments')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Departments')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiTenancy && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('organizations')}`}\n                      to={siteRoot + 'sys/organizations/'}\n                      onClick={() => this.props.tabItemClick('organizations')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Organizations')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiInstitution && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('institutions')}`}\n                      to={siteRoot + 'sys/institutions/'}\n                      onClick={() => this.props.tabItemClick('institutions')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Institutions')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('notifications')}`}\n                      to={siteRoot + 'sys/notifications/'}\n                      onClick={() => this.props.tabItemClick('notifications')}\n                    >\n                      <span className=\"sf2-icon-msgs\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Notifications')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('links')}`}\n                      to={siteRoot + 'sys/share-links/'}\n                      onClick={() => this.props.tabItemClick('links')}\n                    >\n                      <span className=\"sf2-icon-link\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Links')}</span>\n                    </Link>\n                  </li>\n                }\n                {sysadminExtraEnabled && canViewUserLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('logs')}`}\n                      to={siteRoot + 'sys/logs/login'}\n                      onClick={() => this.props.tabItemClick('logs')}\n                    >\n                      <span className=\"sf2-icon-clock\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission && enableFileScan &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('file-scan-records')}`}\n                      to={siteRoot + 'sys/file-scan-records/'}\n                      onClick={() => this.props.tabItemClick('file-scan-records')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('File Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('virus-files')}`}\n                      to={siteRoot + 'sys/virus-files/all/'}\n                      onClick={() => this.props.tabItemClick('virus-files')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Virus Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && enableGuestInvitation && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('invitations')}`}\n                      to={siteRoot + 'sys/invitations/'}\n                      onClick={() => this.props.tabItemClick('invitations')}\n                    >\n                      <span className=\"sf2-icon-invite\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Invitations')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableTermsAndConditions &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('termsandconditions')}`}\n                      to={siteRoot + 'sys/terms-and-conditions/'}\n                      onClick={() => this.props.tabItemClick('termsandconditions')}\n                    >\n                      <span className=\"sf2-icon-wiki\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Terms and Conditions')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canViewAdminLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('adminLogs')}`}\n                      to={siteRoot + 'sys/admin-logs/operation'}\n                      onClick={() => this.props.tabItemClick('adminLogs')}\n                    >\n                      <span className=\"sf2-icon-admin-log\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Admin Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableWorkWeixin &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('work-weixin')}`}\n                      to={siteRoot + 'sys/work-weixin/'}\n                      onClick={() => this.props.tabItemClick('work-weixin')}\n                    >\n                      <span className=\"sf3-font-enterprise-wechat sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{'企业微信集成'}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableDingtalk &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('dingtalk')}`}\n                      to={siteRoot + 'sys/dingtalk/'}\n                      onClick={() => this.props.tabItemClick('dingtalk')}\n                    >\n                      <span className=\"sf3-font-dingtalk sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{'钉钉集成'}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableShareLinkReportAbuse &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('abuse-reports')}`}\n                      to={siteRoot + 'sys/abuse-reports/'}\n                      onClick={() => this.props.tabItemClick('abuse-reports')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Abuse Reports')}</span>\n                    </Link>\n                  </li>\n                }\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nclass MainPanel extends Component {\n\n  render() {\n    return (\n      <div className=\"main-panel\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nMainPanel.propTypes = propTypes;\n\nexport default MainPanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Account from '../../components/common/account';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  children: PropTypes.object,\n  search: PropTypes.any,\n  toggleSidePanel: PropTypes.func\n};\n\nclass MainPanelTopbar extends Component {\n\n  render() {\n    return (\n      <div className={`main-panel-north ${this.props.children ? 'border-left-show' : ''}`}>\n        <div className=\"cur-view-toolbar\">\n          <span\n            className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\"\n            title={gettext('Side Nav Menu')}\n            onClick={this.props.toggleSidePanel}\n          ></span>\n          <div className=\"operation\">\n            {this.props.children}\n          </div>\n        </div>\n        <div className=\"common-toolbar\">\n          {this.props.search && this.props.search}\n          <Account isAdminPanel={true} />\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanelTopbar.propTypes = propTypes;\n\nexport default MainPanelTopbar;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, isPro, isDefaultAdmin } from '../../utils/constants';\nimport toaster from '../../components/toast';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/system-info.css';\n\nclass Info extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      sysInfo: {}\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysInfo().then((res) => {\n      this.setState({\n        loading: false,\n        sysInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  uploadLicenseFile = (e) => {\n\n    // no file selected\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    seafileAPI.sysAdminUploadLicense(file).then((res) => {\n      let info = this.state.sysInfo;\n      Object.assign(info, res.data, {with_license: true});\n      this.setState({\n        sysInfo: info\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  renderLicenseDescString = (license_mode, license_to, license_expiration) => {\n    if (license_mode == 'life-time') {\n      if (window.app.config.lang == 'zh-cn') {\n        return '永久授权给 ' + license_to + '，技术支持服务至 ' + license_expiration + ' 到期';\n      } else {\n        return gettext('licensed to {placeholder_license_to}, upgrade service expired in {placeholder_license_expiration}')\n          .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n      }\n    } else {\n      return gettext('licensed to {placeholder_license_to}, expires on {placeholder_license_expiration}')\n        .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n    }\n  };\n\n  render() {\n    let { license_mode, license_to, license_expiration, org_count,\n      repos_count, total_files_count, total_storage, total_devices_count,\n      current_connected_devices_count, license_maxusers, multi_tenancy_enabled,\n      active_users_count, users_count, groups_count, with_license } = this.state.sysInfo;\n    let { loading, errorMsg } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container system-admin-info\">\n            <h2 className=\"heading\">{gettext('Info')}</h2>\n            <div className=\"content\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) &&\n              <dl className=\"flex-1 m-0\">\n                <dt className=\"info-item-heading\">{gettext('System Info')}</dt>\n                {isPro ?\n                  <dd className=\"info-item-content\">\n                    {gettext('Professional Edition')}\n                    {with_license &&\n                      ' ' + this.renderLicenseDescString(license_mode, license_to, license_expiration)\n                    }<br/>\n                    {isDefaultAdmin &&\n                      <Fragment>\n                        <Button type=\"button\" className=\"mt-2\" onClick={this.openFileInput}>{gettext('Upload license')}</Button>\n                        <input className=\"d-none\" type=\"file\" onChange={this.uploadLicenseFile} ref={this.fileInput} />\n                      </Fragment>\n                    }\n                  </dd> :\n                  <dd className=\"info-item-content\">\n                    {gettext('Community Edition')}\n                    <a className=\"ml-1\" href=\"https://download.seafile.com/published/seafile-manual/deploy_pro/migrate_from_seafile_community_server.md\" target=\"_blank\" rel=\"noreferrer\">{gettext('Upgrade to Pro Edition')}</a>\n                  </dd>\n                }\n                <dt className=\"info-item-heading\">{gettext('Libraries')} / {gettext('Files')}</dt>\n                <dd className=\"info-item-content\">{repos_count} / {total_files_count}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Storage Used')}</dt>\n                <dd className=\"info-item-content\">{Utils.bytesToSize(total_storage)}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Total Devices')} / {gettext('Current Connected Devices')}</dt>\n                <dd className=\"info-item-content\">{total_devices_count} / {current_connected_devices_count}</dd>\n\n                {isPro ?\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')} / {gettext('Limits')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count}{' / '}{users_count}{' / '}{with_license ? license_maxusers : '--'}</dd>\n                  </Fragment> :\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count} / {users_count}</dd>\n                  </Fragment>\n                }\n\n                <dt className=\"info-item-heading\">{gettext('Groups')}</dt>\n                <dd className=\"info-item-content\">{groups_count}</dd>\n\n                {multi_tenancy_enabled &&\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Organizations')}</dt>\n                    <dd className=\"info-item-content\">{org_count}</dd>\n                  </Fragment>\n                }\n              </dl>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Info;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'fileStatistic', urlPart: 'statistics/file', text: gettext('File')},\n      {name: 'storageStatistic', urlPart: 'statistics/storage', text: gettext('Storage')},\n      {name: 'usersStatistic', urlPart: 'statistics/user', text: gettext('Users')},\n      {name: 'trafficStatistic', urlPart: 'statistics/traffic', text: gettext('Traffic')},\n      {name: 'reportsStatistic', urlPart: 'statistics/reports', text: gettext('Reports')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Calendar from '@seafile/seafile-calendar';\nimport DatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport { translateCalendar } from '../../../utils/date-format-utils';\n\nimport '@seafile/seafile-calendar/assets/index.css';\n\nconst FORMAT = 'YYYY-MM-DD';\n\nclass Picker extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.defaultCalendarValue = null;\n  }\n\n  componentDidMount() {\n    let lang = window.app.config.lang;\n    this.defaultCalendarValue = moment().locale(lang).clone();\n  }\n\n  render() {\n    const props = this.props;\n    const calendar = (<Calendar\n      defaultValue={this.defaultCalendarValue}\n      disabledDate={props.disabledDate}\n      format={FORMAT}\n      locale={translateCalendar()}\n    />);\n    return (\n      <DatePicker\n        calendar={calendar}\n        value={props.value}\n        onChange={props.onChange}\n      >\n        {\n          ({value}) => {\n            return (\n              <span>\n                <input\n                  placeholder=\"yyyy-mm-dd\"\n                  tabIndex=\"-1\"\n                  readOnly\n                  value={value && value.format(FORMAT) || ''}\n                  className=\"form-control system-statistic-input\"\n                />\n              </span>\n            );\n          }\n        }\n      </DatePicker>\n    );\n  }\n}\n\nPicker.propTypes = {\n  disabledDate: PropTypes.func.isRequired,\n  value: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Picker;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport Picker from './picker';\n\nconst propTypes = {\n  getActiviesFiles: PropTypes.func.isRequired,\n  children: PropTypes.object,\n};\n\nclass StatisticCommonTool extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      statisticType: 'oneWeek',\n      startValue: null,\n      endValue: null,\n    };\n  }\n\n  componentDidMount() {\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  changeActive = (statisticTypeName) => {\n    let { statisticType } = this.state;\n    if (statisticType === statisticTypeName) {\n      return;\n    }\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime;\n    switch(statisticTypeName) {\n      case 'oneWeek' :\n        startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneMonth' :\n        startTime = moment().subtract(29,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneYear' :\n        startTime = moment().subtract(364,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n    }\n    this.setState({\n      statisticType: statisticTypeName,\n    });\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  };\n\n  disabledStartDate = (startValue) => {\n    if (!startValue) {\n      return false;\n    }\n    let today = moment().format();\n\n    const endValue = this.state.endValue;\n    if (!endValue) {\n      let startTime = moment(startValue).format();\n      return today < startTime;\n    }\n    return endValue.isBefore(startValue) || moment(startValue).format() > today;\n  };\n\n  disabledEndDate = (endValue) => {\n    if (!endValue) {\n      return false;\n    }\n    let today = moment().format();\n    const startValue = this.state.startValue;\n    if (!startValue) {\n      let endTime = moment(endValue).format();\n      return today < endTime;\n    }\n    return endValue.isBefore(startValue) || moment(endValue).format() > today;\n  };\n\n  onChange = (field, value) => {\n    this.setState({\n      [field]: value,\n    });\n  };\n\n  onSubmit = () => {\n    let { startValue, endValue } = this.state;\n    if(!startValue || !endValue) {\n      return;\n    }\n    this.setState({\n      statisticType: 'itemButton',\n    });\n    let startTime = moment(startValue).format('YYYY-MM-DD 00:00:00');\n    let endTime = moment(endValue).format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  };\n\n  render() {\n    let { statisticType, endValue, startValue } = this.state;\n    return(\n      <Fragment>\n        {this.props.children}\n        <div className=\"system-statistic-time-range\">\n          <div className=\"sys-stat-tool\">\n            <div className={`system-statistic-item border-right-0 rounded-left ${statisticType === 'oneWeek' ? 'item-active' : ''}`} onClick={this.changeActive.bind(this, 'oneWeek')}>{gettext('7 Days')}</div>\n            <div className={`system-statistic-item border-right-0 ${statisticType === 'oneMonth' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneMonth')}>{gettext('30 Days')}</div>\n            <div className={`system-statistic-item rounded-right ${statisticType === 'oneYear' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneYear')}>{gettext('1 Year')}</div>\n          </div>\n          <div className=\"system-statistic-input-container\">\n            <Picker\n              disabledDate={this.disabledStartDate}\n              value={startValue}\n              onChange={this.onChange.bind(this, 'startValue')}\n            />\n            <span className=\"system-statistic-connect\">-</span>\n            <Picker\n              disabledDate={this.disabledEndDate}\n              value={endValue}\n              onChange={this.onChange.bind(this, 'endValue')}\n            />\n            <Button className=\"operation-item system-statistic-button\" onClick={this.onSubmit}>{gettext('Submit')}</Button>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nStatisticCommonTool.propTypes = propTypes;\n\nexport default StatisticCommonTool;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  labels: PropTypes.array.isRequired,\n  filesData: PropTypes.array.isRequired,\n  suggestedMaxNumbers: PropTypes.number.isRequired,\n  isLegendStatus: PropTypes.bool.isRequired,\n  chartTitle: PropTypes.string.isRequired,\n  isTitleCallback: PropTypes.bool,\n  isTicksCallback: PropTypes.bool,\n};\n\nclass StatisticChart extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      opations: {}\n    };\n  }\n\n  componentDidMount() {\n    let { labels, filesData, isTitleCallback, isTicksCallback, suggestedMaxNumbers, isLegendStatus, chartTitle } = this.props;\n    let _this = this;\n    let data = {\n      labels: labels,\n      datasets: filesData\n    };\n    let options = {\n      title: {\n        display: true,\n        fontSize: 14,\n        text: chartTitle,\n      },\n      elements: {\n        line: {\n          fill: false,\n          tension: 0, // disable bezier curves, i.e, draw straight lines\n          borderWidth: 2\n        }\n      },\n      legend: {\n        display: isLegendStatus,\n        labels: {\n          usePointStyle: true\n        }\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            if (isTitleCallback) {\n              return _this.titleCallback(tooltipItem, data);\n            }\n            return data.datasets[tooltipItem.datasetIndex].label + ': ' + tooltipItem.yLabel;\n          }\n        }\n      },\n      layout: {\n        padding: {\n          right: 100,\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: suggestedMaxNumbers,\n            callback: function(value, index, values) {\n              if (isTicksCallback) {\n                return _this.ticksCallback(value, index, values);\n              }\n              return value;\n            }\n          }\n        }],\n        xAxes: [{\n          ticks: {\n            maxTicksLimit: 20\n          }\n        }]\n      }\n    };\n    this.setState({\n      data: data,\n      options: options\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let data = {\n      labels: nextProps.labels,\n      datasets: nextProps.filesData\n    };\n    this.setState({data: data});\n  }\n\n  titleCallback = (tooltipItem, data) => {\n    return data.datasets[tooltipItem.datasetIndex].label + ': ' + Utils.bytesToSize(tooltipItem.yLabel);\n  };\n\n  ticksCallback = (value, index, values) => {\n    return Utils.bytesToSize(value);\n  };\n\n  render() {\n\n    let { data, options } = this.state;\n    return (\n      <Line\n        data={data}\n        options={options}\n      />\n    );\n  }\n}\n\nStatisticChart.propTypes = propTypes;\n\nexport default StatisticChart;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nimport '../../../css/system-stat.css';\n\nclass StatisticFile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticFiles(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        added = [],\n        deleted = [],\n        visited = [],\n        modified = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          added.push(item.added);\n          deleted.push(item.deleted);\n          modified.push(item.modified);\n          visited.push(item.visited);\n        });\n        let addedData = {\n          label: gettext('Added'),\n          data: added,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let visitedData = {\n          label: gettext('Visited'),\n          data: visited,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let modifiedData = {\n          label: gettext('Modified'),\n          data: modified,\n          borderColor: '#72c3fc',\n          backgroundColor: '#72c3fc'};\n        let deletedData = {\n          label: gettext('Deleted'),\n          data: deleted,\n          borderColor: '#f75356',\n          backgroundColor: '#f75356'};\n        filesData = [visitedData, addedData, modifiedData, deletedData];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"fileStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={true}\n                chartTitle={gettext('File Operations')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticFile;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticStorage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticStorages(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        totalStorage = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          totalStorage.push(item.total_storage);\n        });\n        let total_storage = {\n          label: gettext('Total Storage'),\n          data: totalStorage,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [total_storage];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"storageStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10*1000*1000}\n                isTitleCallback={true}\n                isTicksCallback={true}\n                isLegendStatus={false}\n                chartTitle={gettext('Total Storage')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticStorage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n};\n\nclass TrafficTable extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { type, sortBy, sortOrder } = this.props;\n    const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n    return (\n      <table className=\"table-hover\">\n        <thead>\n          <tr>\n            <th width=\"16%\">{type == 'user' ? gettext('User') : gettext('Organization')}</th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_upload')}>{gettext('Sync Upload')} {sortBy === 'sync_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_download')}>{gettext('Sync Download')} {sortBy === 'sync_file_download' && sortIcon}</div></th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_upload')}>{gettext('Web Upload')} {sortBy === 'web_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_download')}>{gettext('Web Download')} {sortBy === 'web_file_download' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_upload')}>{gettext('Share link upload')} {sortBy === 'link_file_upload' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_download')}>{gettext('Share link download')} {sortBy === 'link_file_download' && sortIcon}</div></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.children}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTrafficTable.propTypes = propTypes;\n\nexport default TrafficTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  userTrafficItem: PropTypes.object.isRequired,\n};\n\nclass TrafficTableBody extends React.Component {\n\n  trafficName = () => {\n    let { userTrafficItem, type } = this.props;\n    switch(type) {\n      case 'user':\n        if (userTrafficItem.name) {\n          return (\n            <a href={siteRoot + 'useradmin/info/' + userTrafficItem.email + '/'}>{userTrafficItem.name}</a>\n          );\n        }\n        return(<span>{'--'}</span>);\n      case 'org':\n        return(<span>{userTrafficItem.org_name}</span>);\n    }\n  };\n\n  render() {\n    let { userTrafficItem } = this.props;\n\n    let syncUploadSize = Utils.bytesToSize(userTrafficItem.sync_file_upload);\n    let syncDownloadSize = Utils.bytesToSize(userTrafficItem.sync_file_download);\n    let webUploadSize = Utils.bytesToSize(userTrafficItem.web_file_upload);\n    let webDownloadSize = Utils.bytesToSize(userTrafficItem.web_file_download);\n    let linkUploadSize = Utils.bytesToSize(userTrafficItem.link_file_upload);\n    let linkDownloadSize = Utils.bytesToSize(userTrafficItem.link_file_download);\n\n    return(\n      <tr>\n        <td>{this.trafficName()}</td>\n        <td>{syncUploadSize}</td>\n        <td>{syncDownloadSize}</td>\n        <td>{webUploadSize}</td>\n        <td>{webDownloadSize}</td>\n        <td>{linkUploadSize}</td>\n        <td>{linkDownloadSize}</td>\n      </tr>\n    );\n  }\n}\n\nTrafficTableBody.propTypes = propTypes;\n\nexport default TrafficTableBody;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass OrgsTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgTrafficList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  };\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  };\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({isLoading: true, errorMessage: ''});\n    seafileAPI.sysAdminListOrgTraffic(month, page, perPage, orderBy).then(res => {\n      let orgTrafficList = res.data.org_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        orgTrafficList: orgTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initPage, this.initMonth));\n  };\n\n  render() {\n    const {\n      isLoading, errorMessage, orgTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'org'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {orgTrafficList.length > 0 && orgTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'org'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgsTraffic;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass UsersTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userTrafficList: [],\n      hasNextPage: false,\n      perPage: 25,\n      currentPage: 1,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  };\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  };\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({\n      isLoading: true,\n      errorMessage: ''\n    });\n    seafileAPI.sysAdminListUserTraffic(month, page, perPage, orderBy).then(res => {\n      let userTrafficList = res.data.user_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        userTrafficList: userTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initMonth, this.initPage));\n  };\n\n  render() {\n    const {\n      isLoading, errorMessage, userTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'user'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {userTrafficList.length > 0 && userTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'user'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default UsersTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport Loading from '../../../components/loading';\nimport OrgsTraffic from './statistic-traffic-orgs';\nimport UsersTraffic from './statistic-traffic-users';\nimport StatisticChart from './statistic-chart';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      linkData: [],\n      syncData: [],\n      webData: [],\n      labels: [],\n      isLoading: true,\n      tabActive: 'system'\n    };\n  }\n\n  changeTabActive = activeName => {\n    this.setState({tabActive: activeName});\n  };\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    seafileAPI.sysAdminStatisticTraffic(startTime, endTime, groupBy).then((res) => {\n      let labels = [];\n      let total_upload = [],\n        total_download = [],\n        link_upload = [],\n        link_download = [],\n        sync_upload = [],\n        sync_download = [],\n        web_upload = [],\n        web_download = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          link_upload.push(item['link-file-upload']);\n          link_download.push(item['link-file-download']);\n          sync_upload.push(item['sync-file-upload']);\n          sync_download.push(item['sync-file-download']);\n          web_upload.push(item['web-file-upload']);\n          web_download.push(item['web-file-download']);\n          total_upload.push(item['link-file-upload'] + item['sync-file-upload'] + item['web-file-upload']);\n          total_download.push(item['link-file-download'] + item['sync-file-download'] + item['web-file-download']);\n        });\n        let linkUpload = {\n          label: gettext('Upload'),\n          data: link_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let linkDownload = {\n          label: gettext('Download'),\n          data: link_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let syncUpload = {\n          label: gettext('Upload'),\n          data: sync_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let syncDownload = {\n          label: gettext('Download'),\n          data: sync_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let webUpload = {\n          label: gettext('Upload'),\n          data: web_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let webDownload = {\n          label: gettext('Download'),\n          data: web_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let totalUpload = {\n          label: gettext('Upload'),\n          data: total_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let totalDownload = {\n          label: gettext('Download'),\n          data: total_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let linkData = [linkUpload, linkDownload];\n        let syncData = [syncUpload, syncDownload];\n        let webData = [webUpload, webDownload];\n        let filesData = [totalUpload, totalDownload];\n        this.setState({\n          linkData: linkData,\n          syncData: syncData,\n          webData: webData,\n          filesData: filesData,\n          labels: labels,\n          isLoading: false\n        });\n      }\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  renderCommonTool = () => {\n    let { tabActive } = this.state;\n    if (tabActive === 'system') {\n      return (\n        <StatisticCommonTool getActiviesFiles={this.getActiviesFiles}>\n          <div className=\"statistic-traffic-tab\">\n            <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n          </div>\n        </StatisticCommonTool>\n      );\n    }\n    return (\n      <div className=\"statistic-traffic-tab\">\n        <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n      </div>\n    );\n  };\n\n  render() {\n    let { labels, filesData, linkData, syncData, webData, isLoading, tabActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"trafficStatistic\" />\n          <div className=\"cur-view-content\">\n            {this.renderCommonTool()}\n            {isLoading && <Loading />}\n            {!isLoading && tabActive === 'system' &&\n              <div className=\"statistic-traffic-chart-container\">\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={filesData}\n                      chartTitle={gettext('Total Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={webData}\n                      chartTitle={gettext('Web Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={linkData}\n                      chartTitle={gettext('Share Link Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={syncData}\n                      chartTitle={gettext('Sync Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n              </div>\n            }\n            {!isLoading && tabActive === 'user' &&\n              <UsersTraffic />\n            }\n            {!isLoading && tabActive === 'organizations' &&\n              <OrgsTraffic />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticUsers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true,\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticActiveUsers(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        count = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          count.push(item.count);\n        });\n        let userCount = {\n          label: gettext('Active Users'),\n          data: count,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [userCount];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"usersStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={false}\n                chartTitle={gettext('Active Users')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticUsers;\n","import React, { Fragment } from 'react';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport moment from 'moment';\nimport StatisticNav from './statistic-nav';\nimport { Button, Input } from 'reactstrap';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nclass StatisticReports extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: moment().format('YYYYMM'),\n      errorMessage: ''\n    };\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  onGenerateReports = (type) => {\n    let url = siteRoot + 'api/v2.1/admin/statistics/';\n    let { month } = this.state;\n    if (!month) {\n      let errorMessage = gettext('It is required.');\n      this.setState({\n        errorMessage: errorMessage\n      });\n      return;\n    }\n    if (type === 'month') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n    }\n    switch(type) {\n      case 'month':\n        url += 'system-user-traffic/excel/?month=' + month;\n        break;\n      case 'storage':\n        url += 'system-user-storage/excel/?';\n        break;\n    }\n    this.setState({\n      errorMessage: ''\n    });\n    window.location.href = url;\n  };\n\n  render() {\n\n    let { errorMessage } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"reportsStatistic\" />\n          <div className=\"cur-view-content\">\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('Monthly User Traffic')}</div>\n              <div className=\"d-flex align-items-center mt-4\">\n                <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n                <Input className=\"statistic-reports-input\" defaultValue={moment().format('YYYYMM')} onChange={this.handleChange} />\n                <Button className=\"statistic-reports-submit operation-item\" onClick={this.onGenerateReports.bind(this, 'month')}>{gettext('Create Report')}</Button>\n              </div>\n              {errorMessage && <div className=\"error\">{errorMessage}</div>}\n            </div>\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('User Storage')}</div>\n              <Button className=\"mt-4 operation-item\" onClick={this.onGenerateReports.bind(this, 'storage')}>{gettext('Create Report')}</Button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticReports;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'desktop', urlPart:'desktop-devices', text: gettext('Desktop')},\n      {name: 'mobile', urlPart:'mobile-devices', text: gettext('Mobile')}\n    ];\n    if (isPro) {\n      this.navItems.push({name: 'errors', urlPart:'device-errors', text: gettext('Errors')});\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUnlinkDevice from '../../../components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No connected devices')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"19%\">{gettext('User')}</th>\n                <th width=\"19%\">{gettext('Platform')}{' / '}{gettext('Version')}</th>\n                <th width=\"19%\">{gettext('Device Name')}</th>\n                <th width=\"19%\">{gettext('IP')}</th>\n                <th width=\"19%\">{gettext('Last Access')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDevicesList}\n            gotoNextPage={this.getNextPageDevicesList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getDevicesListByPage: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      unlinked: false,\n      isOpIconShown: false,\n      isUnlinkDeviceDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  handleUnlink = (e) => {\n    e.preventDefault();\n    if (this.props.item.is_desktop_client) {\n      this.toggleUnlinkDeviceDialog();\n    } else {\n      this.unlinkDevice(true);\n    }\n  };\n\n  toggleUnlinkDeviceDialog = () => {\n    this.setState({isUnlinkDeviceDialogOpen: !this.state.isUnlinkDeviceDialogOpen});\n  };\n\n  unlinkDevice = (deleteFiles) => {\n    const { platform, device_id, user } = this.props.item;\n    seafileAPI.sysAdminUnlinkDevice(platform, device_id, user, deleteFiles).then((res) => {\n      this.setState({unlinked: true});\n      let message = gettext('Successfully unlinked the device.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const item = this.props.item;\n    const { unlinked, isUnlinkDeviceDialogOpen, isOpIconShown } = this.state;\n\n    if (unlinked) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td>{item.user_name}</td>\n          <td>{item.platform}{' / '}{item.client_version}</td>\n          <td>{item.device_name}</td>\n          <td>{item.last_login_ip}</td>\n          <td>\n            <span title={moment(item.last_accessed).format('llll')}>{moment(item.last_accessed).fromNow()}</span>\n          </td>\n          <td>\n            <a href=\"#\" className={`sf2-icon-delete action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unlink')} onClick={this.handleUnlink}></a>\n          </td>\n        </tr>\n        {isUnlinkDeviceDialogOpen &&\n          <SysAdminUnlinkDevice\n            unlinkDevice={this.unlinkDevice}\n            toggleDialog={this.toggleUnlinkDeviceDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass DevicesByPlatform extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesData: {},\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDevicesListByPage(this.state.currentPage);\n    });\n  }\n\n  getDevicesListByPage = (page) => {\n    let platform = this.props.devicesPlatform;\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDevices(platform, page, per_page).then((res) => {\n      this.setState({\n        devicesData: res.data.devices,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDevicesListByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"cur-view-content\">\n        <Content\n          loading={this.state.loading}\n          errorMsg={this.state.errorMsg}\n          items={this.state.devicesData}\n          getDevicesListByPage={this.getDevicesListByPage}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n          pageInfo={this.state.pageInfo}\n        />\n      </div>\n    );\n  }\n}\n\nDevicesByPlatform.propTypes = {\n  devicesPlatform: PropTypes.string.isRequired,\n};\n\nexport default DevicesByPlatform;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass DesktopDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"desktop\" />\n            <DevicesByPlatform\n              devicesPlatform={'desktop'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DesktopDevices;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass MobileDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"mobile\" />\n            <DevicesByPlatform\n              devicesPlatform={'mobile'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default MobileDevices;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string,\n  name: PropTypes.string.isRequired\n};\n\nclass UserLink extends Component {\n\n  render() {\n    return <Link to={`${siteRoot}sys/users/${encodeURIComponent(this.props.email)}/`}>{this.props.name}</Link>;\n  }\n}\n\nUserLink.propTypes = propTypes;\n\nexport default UserLink;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { Link } from '@gatsbyjs/reach-router';\nimport DevicesNav from './devices-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No sync errors')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"16%\">{gettext('User')}</th>\n                <th width=\"20%\">{gettext('Device')}{' / '}{gettext('Version')}</th>\n                <th width=\"16%\">{gettext('IP')}</th>\n                <th width=\"16%\">{gettext('Library')}</th>\n                <th width=\"16%\">{gettext('Error')}</th>\n                <th width=\"16%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDeviceErrorsList}\n            gotoNextPage={this.getNextPageDeviceErrorsList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getDeviceErrorsListByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  render() {\n    let item = this.props.item;\n    return (\n      <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.device_name}{' / '}{item.client_version}</td>\n        <td>{item.device_ip}</td>\n        <td><Link to={`${siteRoot}sysadmin/#libs/${item.repo_id}`}>{item.repo_name}</Link></td>\n        <td>{item.error_msg}</td>\n        <td>\n          <span className=\"item-meta-info\" title={moment(item.last_accessed).format('llll')}>{moment(item.error_time).fromNow()}</span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass DeviceErrors extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesErrors: [],\n      isCleanBtnShown: false,\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDeviceErrorsListByPage(this.state.currentPage);\n    });\n  }\n\n  getDeviceErrorsListByPage = (page) => {\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDeviceErrors(page, per_page).then((res) => {\n      this.setState({\n        loading: false,\n        devicesErrors: res.data.device_errors,\n        pageInfo: res.data.page_info,\n        isCleanBtnShown: res.data.length > 0\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  clean = () => {\n    seafileAPI.sysAdminClearDeviceErrors().then((res) => {\n      this.setState({\n        devicesErrors: [],\n        isCleanBtnShown: false\n      });\n      let message = gettext('Successfully cleaned all errors.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDeviceErrorsListByPage(1);\n    });\n  };\n  render() {\n    return (\n      <Fragment>\n        {this.state.isCleanBtnShown ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.clean}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : (\n          <MainPanelTopbar {...this.props} />\n        )}\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"errors\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.devicesErrors}\n                getDeviceErrorsListByPage={this.getDeviceErrorsListByPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                pageInfo={this.state.pageInfo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DeviceErrors;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  updateQuota: PropTypes.func.isRequired\n};\n\nclass SetQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleQuotaChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      quota: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateQuota(this.state.quota.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { quota, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={quota}\n                  onKeyPress={this.handleKeyPress}\n                  onChange={this.handleQuotaChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>MB</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetQuotaDialog.propTypes = propTypes;\n\nexport default SetQuotaDialog;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  importUserInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminImportUserDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: ''\n    };\n    this.fileInputRef = React.createRef();\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  openFileInput = () => {\n    this.fileInputRef.current.click();\n  };\n\n  uploadFile = (e) => {\n    // no file selected\n    if (!this.fileInputRef.current.files.length) {\n      return;\n    }\n    // check file extension\n    let fileName = this.fileInputRef.current.files[0].name;\n    if(fileName.substr(fileName.lastIndexOf('.') + 1) != 'xlsx') {\n      this.setState({\n        errorMsg: gettext('Please choose a .xlsx file.')\n      });\n      return;\n    }\n    const file = this.fileInputRef.current.files[0];\n    this.props.importUserInBatch(file);\n    this.toggle();\n  };\n\n  render() {\n    let { errorMsg } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Import users from a .xlsx file')}</ModalHeader>\n        <ModalBody>\n          <p><a className=\"text-secondary small\" href={`${siteRoot}useradmin/batchadduser/example/`}>{gettext('Download an example file')}</a></p>\n          <button className=\"btn btn-outline-primary\" onClick={this.openFileInput}>{gettext('Upload file')}</button>\n          <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInputRef} />\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminImportUserDialog.propTypes = propTypes;\n\nexport default SysAdminImportUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roleOptions: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserRoleEditor extends React.Component {\n\n  translateRoles = (role) => {\n    switch (role) {\n      case 'default':\n        return gettext('Default');\n      case 'guest':\n        return gettext('Guest');\n      default:\n        return role;\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roleOptions}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRoles}\n      />\n    );\n  }\n}\n\nSysAdminUserRoleEditor.propTypes = propTypes;\n\nexport default SysAdminUserRoleEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input, InputGroup, InputGroupAddon } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\n\nconst propTypes = {\n  availableRoles: PropTypes.array.isRequired,\n  dialogTitle: PropTypes.string.isRequired,\n  showRole: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass SysAdminAddUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: '',\n      isPasswordVisible: false,\n      password: '',\n      passwordAgain: '',\n      email: '',\n      name: '',\n      role: 'default',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (email.trim() &&\n      password.trim() &&\n      passwordAgain.trim()) {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  togglePasswordVisible = () => {\n    this.setState({isPasswordVisible: !this.state.isPasswordVisible});\n  };\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  };\n\n  generatePassword = () => {\n    let val = Utils.generatePassword(8);\n    this.setState({\n      password: val,\n      passwordAgain: val\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    });\n  };\n\n  updateRole = (role) => {\n    this.setState({\n      role: role\n    });\n  };\n\n  handleSubmit = () => {\n    const { email, password, passwordAgain, name, role } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    let data = {\n      email: email.trim(),\n      name: name.trim(),\n      password: password.trim()\n    };\n    if (this.props.showRole) {\n      data.role = role;\n    }\n    this.props.addUser(data);\n    this.toggle();\n  };\n\n  render() {\n    const { dialogTitle, showRole } = this.props;\n    const {\n      errorMsg, isPasswordVisible,\n      email, name, role, password, passwordAgain,\n      isSubmitBtnActive\n    } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{dialogTitle || gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Email')}</Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Name(optional)')}</Label>\n              <Input type=\"text\" value={name} onChange={this.inputName} />\n            </FormGroup>\n            {showRole &&\n            <FormGroup>\n              <Label>\n                {gettext('Role')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('You can also add a user as a guest, who will not be allowed to create libraries and groups.')}></span>\n              </Label>\n              <SysAdminUserRoleEditor\n                isTextMode={false}\n                isEditIconShow={false}\n                currentRole={role}\n                roleOptions={this.props.availableRoles}\n                onRoleChanged={this.updateRole}\n              />\n            </FormGroup>\n            }\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <InputGroup>\n                <Input autoComplete=\"new-password\" type={isPasswordVisible ? 'text' : 'password'} value={password || ''} onChange={this.inputPassword} />\n                <InputGroupAddon addonType=\"append\">\n                  <Button className=\"mt-0\" onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                  <Button className=\"mt-0\" onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type={isPasswordVisible ? 'text' : 'password'} value={passwordAgain || ''} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddUserDialog.propTypes = propTypes;\n\nexport default SysAdminAddUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport UserSelect from '../../user-select';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addAdminInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminBatchAddAdminDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: null,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleSelectChange = (options) => {\n    this.setState({\n      options: options,\n      isSubmitBtnActive: options.length > 0\n    });\n  };\n\n  handleSubmit = () => {\n    this.props.addAdminInBatch(this.state.options.map(item => item.email));\n    this.toggle();\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Admin')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminBatchAddAdminDialog.propTypes = propTypes;\n\nexport default SysAdminBatchAddAdminDialog;\n","class SysAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.reference_id = object.reference_id;\n    this.department = object.department;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.role = object.role;\n    this.institution = object.institution;\n    if (object.org_id) {\n      this.org_id = object.org_id;\n    }\n    if (object.org_name) {\n      this.org_name = object.org_name;\n    }\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminUser;\n","\nclass SysAdminAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.admin_role = object.admin_role;\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminAdminUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  submit: PropTypes.func.isRequired\n};\n\nclass Search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n  };\n\n  handleSubmit = () => {\n    const value = this.state.value.trim();\n    if (!value) {\n      return false;\n    }\n    this.props.submit(value);\n  };\n\n  render() {\n    return (\n      <div className=\"input-icon\">\n        <i className=\"d-flex input-icon-addon fas fa-search\"></i>\n        <input\n          type=\"text\"\n          className=\"form-control search-input h-6 mr-1\"\n          style={{width: '17rem'}}\n          placeholder={this.props.placeholder}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          onKeyPress={this.handleKeyPress}\n          autoComplete=\"off\"\n        />\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, haveLDAP, isDefaultAdmin } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'database', urlPart: 'users', text: gettext('Database')}\n    ];\n    if (haveLDAP) {\n      this.navItems.push(\n        {name: 'ldap', urlPart: 'users/ldap', text: gettext('LDAP')},\n        {name: 'ldap-imported', urlPart: 'users/ldap-imported', text: gettext('LDAP(imported)')}\n      );\n    }\n    if (isDefaultAdmin) {\n      this.navItems.push(\n        {name: 'admin', urlPart: 'users/admins', text: gettext('Admin')}\n      );\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusOptions: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserStatusEditor extends React.Component {\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'active':\n        return gettext('Active');\n      case 'inactive':\n        return gettext('Inactive');\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusOptions}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n}\n\nSysAdminUserStatusEditor.propTypes = propTypes;\n\nexport default SysAdminUserStatusEditor;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, username, gettext, multiInstitution, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUserStatusEditor from '../../../components/select-editor/sysadmin-user-status-editor';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\nimport SelectEditor from '../../../components/select-editor/select-editor';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\n\nconst { availableRoles, availableAdminRoles, institutions } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  sortByQuotaUsage = (e) => {\n    e.preventDefault();\n    this.props.sortByQuotaUsage();\n  };\n\n  render() {\n    const {\n      isAdmin, loading, errorMsg, items, isAllUsersSelected,\n      curPerPage, hasNextPage, currentPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n\n\n      let columns = [];\n\n      let sortIcon;\n      if (sortBy == '') {\n        // initial sort icon\n        sortIcon = <span className=\"fas fa-sort\"></span>;\n      } else {\n        sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      }\n      const spaceText = gettext('Space Used');\n      const spaceEl =\n        sortBy != undefined ? // only offer 'sort' for 'DB' & 'LDAPImported' users\n          <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByQuotaUsage}>{spaceText} {sortIcon}</a> :\n          spaceText;\n      const colSpaceText = <Fragment>{spaceEl}{` / ${gettext('Quota')}`}</Fragment>;\n\n      const colNameText = `${gettext('Name')} / ${gettext('Contact Email')}`;\n      const colCreatedText = `${gettext('Created At')} / ${gettext('Last Login')} / ${gettext('Last Access')}`;\n      if (isPro) {\n        columns.push(\n          {width: '20%', text: colNameText},\n          {width: '15%', text: gettext('Status')},\n          {width: '15%', text: gettext('Role')}\n        );\n      } else {\n        columns.push(\n          {width: '30%', text: colNameText},\n          {width: '20%', text: gettext('Status')}\n        );\n      }\n      if (multiInstitution && !isAdmin) {\n        columns.push(\n          {width: '14%', text: colSpaceText},\n          {width: '14%', text: gettext('Institution')},\n          {width: '14%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      } else {\n        columns.push(\n          {width: '20%', text: colSpaceText},\n          {width: '22%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      }\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"pl-2\">\n                  <input type=\"checkbox\" className=\"vam\" onChange={this.props.toggleSelectAllUsers} checked={isAllUsersSelected} />\n                </th>\n                {columns.map((item, index) => {\n                  return <th width={item.width} key={index}>{item.text}</th>;\n                })}\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  updateUser={this.props.updateUser}\n                  deleteUser={this.props.deleteUser}\n                  updateAdminRole={this.props.updateAdminRole}\n                  revokeAdmin={this.props.revokeAdmin}\n                  onUserSelected={this.props.onUserSelected}\n                  isAdmin={this.props.isAdmin}\n                  isLDAPImported={this.props.isLDAPImported}\n                />);\n              })}\n            </tbody>\n          </table>\n          {(!this.props.isAdmin && !this.props.isSearchResult) &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool,\n  errorMsg: PropTypes.string,\n  items: PropTypes.array,\n  deleteItem: PropTypes.func,\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool,\n  isSearchResult: PropTypes.bool,\n  sortBy: PropTypes.string,\n  sortByQuotaUsage: PropTypes.func,\n  getListByPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  toggleSelectAllUsers: PropTypes.func,\n  isAllUsersSelected: PropTypes.bool,\n  resetPerPage: PropTypes.func,\n  updateUser: PropTypes.func,\n  deleteUser: PropTypes.func,\n  updateAdminRole: PropTypes.func,\n  revokeAdmin: PropTypes.func,\n  onUserSelected: PropTypes.func,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  sortOrder: PropTypes.string,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteUserDialogOpen: false,\n      isResetUserPasswordDialogOpen: false,\n      isRevokeAdminDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleDeleteUserDialog = () => {\n    this.setState({isDeleteUserDialogOpen: !this.state.isDeleteUserDialogOpen});\n  };\n\n  toggleResetUserPasswordDialog = () => {\n    this.setState({isResetUserPasswordDialogOpen: !this.state.isResetUserPasswordDialogOpen});\n  };\n\n  toggleRevokeAdminDialog = () => {\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  };\n\n  onUserSelected = () => {\n    this.props.onUserSelected(this.props.item);\n  };\n\n  updateStatus= (value) => {\n    const isActive = value == 'active';\n    if (isActive) {\n      toaster.notify(gettext('It may take some time, please wait.'));\n    }\n    this.props.updateUser(this.props.item.email, 'is_active', isActive);\n  };\n\n  updateRole = (value) => {\n    this.props.updateUser(this.props.item.email, 'role', value);\n  };\n\n  updateAdminRole = (value) => {\n    this.props.updateAdminRole(this.props.item.email, value);\n  };\n\n  translateAdminRole = (role) => {\n    switch (role) {\n      case 'default_admin':\n        return gettext('Default Admin');\n      case 'system_admin':\n        return gettext('System Admin');\n      case 'daily_admin':\n        return gettext('Daily Admin');\n      case 'audit_admin':\n        return gettext('Audit Admin');\n      default:\n        return role;\n    }\n  };\n\n  updateInstitution = (value) => {\n    this.props.updateUser(this.props.item.email, 'institution', value);\n  };\n\n  translateInstitution = (inst) => {\n    return inst;\n  };\n\n  updateQuota = (value) => {\n    this.props.updateUser(this.props.item.email, 'quota_total', value);\n  };\n\n  deleteUser = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteUser(this.props.item.email, this.props.item.name);\n  };\n\n  resetPassword = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = () => {\n    const { item } = this.props;\n    this.props.revokeAdmin(item.email, item.name);\n  };\n\n  getMenuOperations = () => {\n    const {\n      isAdmin, isLDAPImported,\n      isSearchResult, item\n    } = this.props;\n    let list = ['Delete'];\n    if (!isLDAPImported ||\n      (isSearchResult && item.source == 'db')) {\n      list.push('Reset Password');\n    }\n    if (isAdmin) {\n      list = ['Revoke Admin'];\n    }\n    return list;\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteUserDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetUserPasswordDialog();\n        break;\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const { item, isAdmin } = this.props;\n    const {\n      isOpIconShown,\n      isSetQuotaDialogOpen,\n      isDeleteUserDialogOpen,\n      isResetUserPasswordDialogOpen,\n      isRevokeAdminDialogOpen\n    } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    const resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td className=\"pl-2\">\n            <input type=\"checkbox\" className=\"vam\" onChange={this.onUserSelected} checked={item.isSelected} />\n          </td>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n            {item.contact_email &&\n              <Fragment>\n                <br />\n                {item.contact_email}\n              </Fragment>}\n            {item.org_id &&\n              <Fragment>\n                <br />\n                <Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>({item.org_name})</Link>\n              </Fragment>\n            }\n          </td>\n          <td>\n            <SysAdminUserStatusEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.is_active ? 'active' : 'inactive'}\n              statusOptions={['active', 'inactive']}\n              onStatusChanged={this.updateStatus}\n            />\n          </td>\n          {isPro &&\n          <td>\n            {isAdmin ?\n              <SelectEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                options={availableAdminRoles}\n                currentOption={item.admin_role}\n                onOptionChanged={this.updateAdminRole}\n                translateOption={this.translateAdminRole}\n              /> :\n              <SysAdminUserRoleEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                currentRole={item.role}\n                roleOptions={availableRoles}\n                onRoleChanged={this.updateRole}\n              />\n            }\n          </td>\n          }\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n            <span\n              title={gettext('Edit')}\n              className={`fa fa-pencil-alt attr-action-icon ${isOpIconShown ? '' : 'invisible'}`}\n              onClick={this.toggleSetQuotaDialog}>\n            </span>\n          </td>\n          {(multiInstitution && !isAdmin) &&\n            <td>\n              <SelectEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown && institutions.length > 0}\n                options={institutions}\n                currentOption={item.institution}\n                onOptionChanged={this.updateInstitution}\n                translateOption={this.translateInstitution}\n              />\n            </td>\n          }\n          <td>\n            {`${item.create_time ? moment(item.create_time).format('YYYY-MM-DD HH:mm') : '--'} /`}\n            <br />\n            {`${item.last_login ? moment(item.last_login).fromNow() : '--'}`}\n            <br />\n            {`${item.last_access_time ? moment(item.last_access_time).fromNow() : '--'}`}\n          </td>\n          <td>\n            {(item.email != username && isOpIconShown) &&\n            <OpMenu\n              operations={this.getMenuOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleSetQuotaDialog}\n            updateQuota={this.updateQuota}\n          />\n        }\n        {isDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete User')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteUserDialog}\n          />\n        }\n        {isResetUserPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetUserPasswordDialog}\n          />\n        }\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object,\n  isItemFreezed: PropTypes.bool,\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool,\n  onFreezedItem: PropTypes.func,\n  onUnfreezedItem: PropTypes.func,\n  updateUser: PropTypes.func,\n  deleteUser: PropTypes.func,\n  updateAdminRole: PropTypes.func,\n  revokeAdmin: PropTypes.func,\n  onUserSelected: PropTypes.func,\n  isSearchResult: PropTypes.bool,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminImportUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-import-user-dialog';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport SysAdminBatchAddAdminDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminUser from '../../../models/sysadmin-user';\nimport SysAdminAdminUser from '../../../models/sysadmin-admin-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UsersNav from './users-nav';\nimport Content from './users-content';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nconst propTypes = {\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool\n};\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isImportUserDialogOpen: false,\n      isAddUserDialogOpen: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false,\n      isBatchAddAdminDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    if (this.props.isAdmin) { // 'Admin' page\n      this.getUserList(); // no pagination\n    } else {\n      let urlParams = (new URL(window.location)).searchParams;\n      const {\n        currentPage, perPage,\n        sortBy = '',\n        sortOrder = 'asc'\n      } = this.state;\n      this.setState({\n        perPage: parseInt(urlParams.get('per_page') || perPage),\n        currentPage: parseInt(urlParams.get('page') || currentPage),\n        sortBy: urlParams.get('order_by') || sortBy,\n        sortOrder: urlParams.get('direction') || sortOrder\n      }, () => {\n        this.getUsersListByPage(this.state.currentPage);\n      });\n    }\n  }\n\n  toggleImportUserDialog = () => {\n    this.setState({isImportUserDialogOpen: !this.state.isImportUserDialogOpen});\n  };\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  };\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  };\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  };\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  };\n\n  getUserList = () => {\n  // get admins\n    seafileAPI.sysAdminListAdmins().then(res => {\n      let users = res.data.admin_user_list.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  getUsersListByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const { isLDAPImported } = this.props;\n    seafileAPI.sysAdminListUsers(page, perPage, isLDAPImported, sortBy, sortOrder).then(res => {\n      let users = res.data.data.map(user => {return new SysAdminUser(user);});\n      this.setState({\n        userList: users,\n        loading: false,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortByQuotaUsage = () => {\n    this.setState({\n      sortBy: 'quota_usage',\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc',\n      currentPage: 1\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getUsersListByPage(currentPage);\n    });\n  };\n\n  deleteUser = (email, username) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      let msg = gettext('Deleted user %s');\n      msg = msg.replace('%s', username);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.forEach(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  importUserInBatch = (file) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminImportUserViaFile(file).then((res) => {\n      if (res.data.success.length) {\n        const users = res.data.success.map(item => {\n          if (item.institution == undefined) {\n            item.institution = '';\n          }\n          return new SysAdminUser(item);\n        });\n        this.setState({\n          userList: users.concat(this.state.userList)\n        });\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  addUser = (data) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    const { email, name, role, password } = data;\n    seafileAPI.sysAdminAddUser(email, name, role, password).then((res) => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({\n        userList: userList\n      });\n      toaster.success(res.data.add_user_tip);\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  };\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getOperationsForAll = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n\n    if (isAdmin) {\n      return <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchAddAdminDialog}>{gettext('Add Admin')}</Button>;\n    }\n\n    if (isLDAPImported) {\n      return <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>;\n    }\n\n    // 'database'\n    return (\n      <Fragment>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleImportUserDialog}>{gettext('Import Users')}</Button>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add User')}</Button>\n        <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>\n      </Fragment>\n    );\n  };\n\n  getCurrentNavItem = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n    let item = 'database';\n    if (isAdmin) {\n      item = 'admin';\n    } else if (isLDAPImported) {\n      item = 'ldap-imported';\n    }\n    return item;\n  };\n\n  toggleBatchAddAdminDialog = () => {\n    this.setState({isBatchAddAdminDialogOpen: !this.state.isBatchAddAdminDialogOpen});\n  };\n\n  addAdminInBatch = (emails) => {\n    seafileAPI.sysAdminAddAdminInBatch(emails).then(res => {\n      let users = res.data.success.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users.concat(this.state.userList)\n      });\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    if (this.props.isAdmin) {\n      return null;\n    }\n    // offer 'Search' for 'DB' & 'LDAPImported' users\n    return <Search\n      placeholder={gettext('Search users')}\n      submit={this.searchItems}\n    />;\n  };\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-users/?query=${encodeURIComponent(keyword)}`);\n  };\n\n  render() {\n    const { isAdmin, isLDAPImported } = this.props;\n    const {\n      hasUserSelected,\n      isImportUserDialogOpen,\n      isAddUserDialogOpen,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen,\n      isBatchAddAdminDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          {hasUserSelected ?\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n            : this.getOperationsForAll()\n          }\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem={this.getCurrentNavItem()} />\n            <div className=\"cur-view-content\">\n              <Content\n                isAdmin={isAdmin}\n                isLDAPImported={isLDAPImported}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortByQuotaUsage={this.sortByQuotaUsage}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getUsersListByPage}\n                updateUser={this.updateUser}\n                deleteUser={this.deleteUser}\n                updateAdminRole={this.updateAdminRole}\n                revokeAdmin={this.revokeAdmin}\n                onUserSelected={this.onUserSelected}\n                isAllUsersSelected={this.isAllUsersSelected}\n                toggleSelectAllUsers={this.toggleSelectAllUsers}\n              />\n            </div>\n          </div>\n        </div>\n        {isImportUserDialogOpen &&\n        <SysAdminImportUserDialog\n          toggle={this.toggleImportUserDialog}\n          importUserInBatch={this.importUserInBatch}\n        />\n        }\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            dialogTitle={gettext('Add User')}\n            showRole={isPro}\n            availableRoles={availableRoles}\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {isBatchAddAdminDialogOpen &&\n          <SysAdminBatchAddAdminDialog\n            addAdminInBatch={this.addAdminInBatch}\n            toggle={this.toggleBatchAddAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nUsers.propTypes = propTypes;\n\nexport default Users;\n","import React, { Component } from 'react';\nimport Users from './users';\n\nclass AdminUsers extends Component {\n\n  render() {\n    return <Users isAdmin={true} {...this.props} />;\n  }\n}\n\nexport default AdminUsers;\n","import React, { Component } from 'react';\nimport Users from './users';\n\nclass LDAPImportedUsers extends Component {\n\n  render() {\n    return <Users isLDAPImported={true} {...this.props} />;\n  }\n}\n\nexport default LDAPImportedUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport UsersNav from './users-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"40%\">{gettext('Email')}</th>\n                <th width=\"30%\">{gettext('Space Used')}{' / '}{gettext('Quota')}</th>\n                <th width=\"30%\">{gettext('Last Login')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n  render() {\n    const { item } = this.props;\n    return (\n      <Fragment>\n        <tr>\n          <td><UserLink email={item.email} name={item.email} /></td>\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n          </td>\n          <td>\n            {item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: {},\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUsersListByPage(this.state.currentPage);\n    });\n  }\n\n  getUsersListByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLDAPUsers(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        userList: res.data.ldap_user_list,\n        hasNextPage: res.data.has_next_page,\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem=\"ldap\" />\n            <div className=\"cur-view-content\">\n              <Content\n                resetPerPage={this.resetPerPage}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getUsersListByPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nUsers.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Users;\n","import React, { Component, Fragment } from 'react';\nimport { Button, Form, FormGroup, Input, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport Paginator from '../../../components/paginator';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './users-content';\n\n\nclass SearchUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      pageInfo: {\n        has_next_page: false,\n        current_page: 1,\n      },\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      query: params.get('query') || '',\n      currentPage: parseInt(params.get('page') || currentPage),\n      perPage: parseInt(params.get('per_page') || perPage)\n    }, () => {this.getItems(this.state.currentPage);});\n  }\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  };\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  };\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  };\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  };\n\n  getItems = (page) => {\n    seafileAPI.sysAdminSearchUsers(this.state.query.trim(), page, this.state.perPage).then(res => {\n      this.setState({\n        userList: res.data.user_list,\n        loading: false,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItems(1);\n    });\n  };\n\n  deleteUser = (email, username) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      let msg = gettext('Deleted user %s');\n      msg = msg.replace('%s', username);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.forEach(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  };\n\n  getPreviousPageList = () => {\n    this.getItems(this.state.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.getItems(this.state.pageInfo.current_page + 1);\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  }\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    const {\n      hasUserSelected,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        {hasUserSelected ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n          </MainPanelTopbar> :\n          <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Users')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Users')}</h4>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" value={query} placeholder={gettext('Search users')} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  isLDAPImported={false}\n                  isAdmin={false}\n                  isSearchResult={true}\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.userList}\n                  updateUser={this.updateUser}\n                  deleteUser={this.deleteUser}\n                  updateAdminRole={this.updateAdminRole}\n                  revokeAdmin={this.revokeAdmin}\n                  onUserSelected={this.onUserSelected}\n                  isAllUsersSelected={this.isAllUsersSelected}\n                  toggleSelectAllUsers={this.toggleSelectAllUsers}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {this.state.pageInfo &&\n        <Paginator\n          gotoPreviousPage={this.getPreviousPageList}\n          gotoNextPage={this.getNextPageList}\n          currentPage={this.state.pageInfo.current_page}\n          hasNextPage={this.state.pageInfo.has_next_page}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchUsers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  uploadOrDownload: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateUploadDownloadRateLimit: PropTypes.func.isRequired\n};\n\nclass SysAdminSetUploadDownloadRateLimitDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rateLimit: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleRateLimitChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      rateLimit: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateUploadDownloadRateLimit(this.props.uploadOrDownload, this.state.rateLimit.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { rateLimit, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{this.props.uploadOrDownload == 'upload' ? gettext('Set Upload Rate Limit') : gettext('Set Download Rate Limit')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={rateLimit}\n                  onKeyPress={this.handleKeyPress}\n                  onChange={this.handleRateLimitChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>kB/s</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetUploadDownloadRateLimitDialog.propTypes = propTypes;\n\nexport default SysAdminSetUploadDownloadRateLimitDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  value: PropTypes.string.isRequired,\n  dialogTitle: PropTypes.string.isRequired,\n  updateValue: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass UpdateUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.props.toggleDialog();\n  };\n\n  render() {\n    const  { toggleDialog } = this.props;\n    return (\n      <Modal isOpen={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{this.props.dialogTitle}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={this.state.value}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nUpdateUser.propTypes = propTypes;\n\nexport default UpdateUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string,\n  userName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: '', text: gettext('Info')},\n      {name: 'owned-repos', urlPart: 'owned-libraries', text: gettext('Owned Libraries')},\n      {name: 'shared-repos', urlPart: 'shared-libraries', text: gettext('Shared Libraries')},\n      {name: 'links', urlPart: 'shared-links', text: gettext('Shared Links')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')}\n    ];\n  }\n\n  render() {\n    const { currentItem, email, userName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/users/`}>{gettext('Users')}</Link> / {userName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/users/${encodeURIComponent(email)}/${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, Label, Input, Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetUploadDownloadRateLimitDialog from '../../../components/dialog/sysadmin-dialog/set-upload-download-rate-limit';\nimport SysAdminUpdateUserDialog from '../../../components/dialog/sysadmin-dialog/update-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { twoFactorAuthEnabled } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentKey: '',\n      dialogTitle: '',\n      isSetQuotaDialogOpen: false,\n      isSetUserUploadRateLimitDialogOpen: false,\n      isSetUserDownloadRateLimitDialogOpen: false,\n      isUpdateUserDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleSetUserUploadRateLimitDialog = () => {\n    this.setState({isSetUserUploadRateLimitDialogOpen: !this.state.isSetUserUploadRateLimitDialogOpen});\n  };\n\n  toggleSetUserDownloadRateLimitDialog = () => {\n    this.setState({isSetUserDownloadRateLimitDialogOpen: !this.state.isSetUserDownloadRateLimitDialogOpen});\n  };\n\n  updateQuota = (value) => {\n    this.props.updateUser('quota_total', value);\n  };\n\n  updateUploadDownloadRateLimit = (uploadOrDownload, value) => {\n    if (uploadOrDownload == 'upload'){\n      this.props.updateUser('upload_rate_limit', value);\n    }\n    if (uploadOrDownload == 'download'){\n      this.props.updateUser('download_rate_limit', value);\n    }\n  };\n\n  toggleDialog = (key, dialogTitle) => {\n    this.setState({\n      currentKey: key,\n      dialogTitle: dialogTitle,\n      isUpdateUserDialogOpen: !this.state.isUpdateUserDialogOpen\n    });\n  };\n\n  toggleSetNameDialog = () => {\n    this.toggleDialog('name', gettext('Set Name'));\n  };\n\n  toggleSetUserLoginIDDialog = () => {\n    this.toggleDialog('login_id', gettext('Set Login ID'));\n  };\n\n  toggleSetUserComtactEmailDialog = () => {\n    this.toggleDialog('contact_email', gettext('Set Contact Email'));\n  };\n\n  toggleSetUserReferenceIDDialog = () => {\n    this.toggleDialog('reference_id', gettext('Set Reference ID'));\n  };\n\n  updateValue = (value) => {\n    this.props.updateUser(this.state.currentKey, value);\n  };\n\n  toggleUpdateUserDialog = () => {\n    this.toggleDialog('', '');\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const user = this.props.userInfo;\n      const {\n        currentKey, dialogTitle,\n        isSetQuotaDialogOpen, isUpdateUserDialogOpen,\n        isSetUserUploadRateLimitDialogOpen, isSetUserDownloadRateLimitDialogOpen\n      } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Avatar')}</dt>\n            <dd className=\"info-item-content\">\n              <img src={user.avatar_url} alt={user.name} width=\"80\" className=\"rounded\"  />\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Email')}</dt>\n            <dd className=\"info-item-content\">{user.email}</dd>\n\n            {user.org_name &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Organization')}</dt>\n                <dd className=\"info-item-content\">{user.org_name}</dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {user.name || '--'}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Login ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.login_id || '--'}\n              {this.showEditIcon(this.toggleSetUserLoginIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Contact Email')}</dt>\n            <dd className=\"info-item-content\">\n              {user.contact_email || '--'}\n              {this.showEditIcon(this.toggleSetUserComtactEmailDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Reference ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.reference_id|| '--'}\n              {this.showEditIcon(this.toggleSetUserReferenceIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used / Quota')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(user.quota_usage)} / ${user.quota_total > 0 ? Utils.bytesToSize(user.quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {isPro &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Upload Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.upload_rate_limit > 0 ? user.upload_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserUploadRateLimitDialog)}\n                </dd>\n                <dt className=\"info-item-heading\">{gettext('Download Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.download_rate_limit > 0 ? user.download_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserDownloadRateLimitDialog)}\n                </dd>\n              </Fragment>\n            }\n            {twoFactorAuthEnabled &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Two-Factor Authentication')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.has_default_device ?\n                    <FormGroup>\n                      <p className=\"mb-1\">{gettext('Status: enabled')}</p>\n                      <Button onClick={this.props.disable2FA}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup> :\n                    <FormGroup>\n                      <Button disabled={true}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup>\n                  }\n                  <FormGroup check>\n                    <Label check>\n                      <Input type=\"checkbox\" checked={user.is_force_2fa} onChange={this.props.toggleForce2fa} />\n                      <span>{gettext('Force Two-Factor Authentication')}</span>\n                    </Label>\n                  </FormGroup>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetQuotaDialog\n            updateQuota={this.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {(isPro && isSetUserUploadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"upload\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserUploadRateLimitDialog}\n          />\n          }\n          {(isPro && isSetUserDownloadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"download\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserDownloadRateLimitDialog}\n          />\n          }\n          {isUpdateUserDialogOpen &&\n          <SysAdminUpdateUserDialog\n            dialogTitle={dialogTitle}\n            value={user[currentKey]}\n            updateValue={this.updateValue}\n            toggleDialog={this.toggleUpdateUserDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  updateUser: PropTypes.func.isRequired,\n  userInfo: PropTypes.object.isRequired,\n  disable2FA: PropTypes.func.isRequired,\n  toggleForce2fa: PropTypes.func.isRequired,\n  email: PropTypes.string,\n};\n\nclass User extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    // avatar size: 160\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email, 160).then((res) => {\n      this.setState({\n        loading: false,\n        userInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateUser = (key, value) => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo[key]= res.data[key];\n      this.setState({\n        userInfo: userInfo\n      });\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  disable2FA = () => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminDeleteTwoFactorAuth(email).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.has_default_device = false;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleForce2fa = (e) => {\n    const email = this.state.userInfo.email;\n    const checked = e.target.checked;\n    seafileAPI.sysAdminSetForceTwoFactorAuth(email, checked).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.is_force_2fa = checked;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { userInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"info\" email={this.props.email} userName={userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                userInfo={this.state.userInfo}\n                updateUser={this.updateUser}\n                disable2FA={this.disable2FA}\n                toggleForce2fa={this.toggleForce2fa}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nUser.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default User;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Last Update')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteRepo={this.props.deleteRepo}\n                  transferRepo={this.props.transferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  items: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.id);\n  };\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  transferRepo = (owner) => {\n    this.props.transferRepo(this.props.item.id, owner.email);\n    this.toggleTransferDialog();\n  };\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n    }\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modified).fromNow()}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n        <TransferDialog\n          itemName={item.name}\n          submit={this.transferRepo}\n          canTransferToDept={false}\n          toggleDialog={this.toggleTransferDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListReposByOwner(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repos\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferRepo = (repoID, email) => {\n    seafileAPI.sysAdminTransferRepo(repoID, email).then((res) => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"owned-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n                transferRepo={this.transferRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nRepos.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Share From')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Last Update')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n};\n\nclass Item extends Component {\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  getOwnerLink = () => {\n    let link;\n    const { item } = this.props;\n    const index = item.owner_email.indexOf('@seafile_group');\n    if (index == -1) {\n      link = <UserLink email={item.owner_email} name={item.owner_name} />;\n    } else {\n      const groupID = item.owner_email.substring(0, index);\n      link = <Link to={`${siteRoot}sys/departments/${groupID}/`}>{item.owner_name}</Link>;\n    }\n    return link;\n  };\n\n  render() {\n    const { item } = this.props;\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n    return (\n      <Fragment>\n        <tr>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{this.getOwnerLink()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modify).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListShareInRepos(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"shared-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nRepos.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport LinkDialog from '../../../components/dialog/share-admin-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No shared links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('Visits')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isLinkDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleLinkDialog = () => {\n    this.setState({isLinkDialogOpen: !this.state.isLinkDialogOpen});\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'View':\n        translateResult = gettext('View');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'View':\n        this.toggleLinkDialog();\n        break;\n      case 'Delete':\n        this.deleteItem();\n        break;\n    }\n  };\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  };\n\n  getIconUrl = () => {\n    const { item } = this.props;\n    let url;\n    if (item.type == 'upload') {\n      url = Utils.getFolderIconUrl();\n    } else { // share link\n      if (item.is_dir) {\n        url = Utils.getFolderIconUrl();\n      } else {\n        url = Utils.getFileIconUrl(item.obj_name);\n      }\n    }\n    return url;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isLinkDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={this.getIconUrl()} alt=\"\" width=\"24\" /></td>\n          <td>{item.obj_name == '/' ? item.repo_name : item.obj_name}</td>\n          {item.type == 'upload' ?\n            <Fragment>\n              <td></td>\n              <td>{gettext('Upload')}</td>\n            </Fragment> :\n            <Fragment>\n              <td>{item.is_dir ? null : Utils.bytesToSize(item.size)}</td>\n              <td>{gettext('Download')}</td>\n            </Fragment>\n          }\n          <td>{item.view_cnt}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['View', 'Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isLinkDialogOpen &&\n          <LinkDialog\n            link={item.link}\n            toggleDialog={this.toggleLinkDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Links extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      uploadLinkItems: [],\n      shareLinkItems: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n\n    seafileAPI.sysAdminListShareLinksByUser(email).then(res => {\n      const items = res.data.share_link_list.map(item => {\n        item.type = 'download';\n        return item;\n      });\n      items.sort((a, b) => {\n        return a.is_dir ? -1 : 1;\n      });\n      this.setState({\n        loading: false,\n        shareLinkItems: items\n      });\n    });\n    seafileAPI.sysAdminListUploadLinksByUser(email).then(res => {\n      const items = res.data.upload_link_list.map(item => {\n        item.type = 'upload';\n        return item;\n      });\n      this.setState({\n        loading: false,\n        uploadLinkItems: items\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteItem = (item) => {\n    const type = item.type;\n    const token = item.token;\n    if (type == 'download') {\n      seafileAPI.sysAdminDeleteShareLink(token).then(res => {\n        let items = this.state.shareLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          shareLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      seafileAPI.sysAdminDeleteUploadLink(token).then(res => {\n        let items = this.state.uploadLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          uploadLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    }\n  };\n\n  render() {\n    const { shareLinkItems, uploadLinkItems } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"links\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={[].concat(uploadLinkItems, shareLinkItems)}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nLinks.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Links;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"35%\">{gettext('Created At')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  };\n\n  render() {\n    const { item } = this.props;\n    const url = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={url}>{item.name}</Link></td>\n          <td>{this.getRoleText()}</td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm')}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n};\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListGroupsJoinedByUser(email).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"groups\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nGroups.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Groups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createRepo: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n};\n\nclass SysAdminCreateRepoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      repoName: value,\n      isSubmitBtnActive: value.trim()\n    });\n  };\n\n  handleSubmit = () => {\n    const { repoName, ownerEmail } = this.state;\n    this.props.createRepo(repoName.trim(), ownerEmail);\n    this.toggle();\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.repoName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userSelect\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                id=\"userSelect\"\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateRepoDialog.propTypes = propTypes;\n\nexport default SysAdminCreateRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all-libraries', text: gettext('All')},\n      {name: 'system', urlPart: 'system-library', text: gettext('System')},\n      {name: 'trash', urlPart: 'trash-libraries', text: gettext('Trash')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.user_email);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\">{item.user_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nUserItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nclass UserList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <UserItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nUserList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nclass SysAdminShareToUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n    this.options = [];\n  };\n\n  componentDidMount() {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'user').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({sharedItems: res.data});\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  shareToUser = () => {\n    let users = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        users[i] = this.state.selectedOption[i].email;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'user' , users, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let newItems = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(newItems),\n        selectedOption: null,\n        permission: 'rw',\n      });\n      this.refs.userSelect.clearSelect();\n    }).catch(error => {\n      if (error.response) {\n        let message = gettext('Library can not be shared to owner.');\n        let errMessage = [];\n        errMessage.push(message);\n        this.setState({\n          errorMsg: errMessage,\n          selectedOption: null,\n        });\n      }\n    });\n  };\n\n  deleteShareItem = (useremail) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'user', useremail).then(res => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter( item => { return item.user_email !== useremail; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let userEmail = item.user_email;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'user', userEmail, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (item, permission) => {\n    let username = item.user_name;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemUsername = sharedItem.user_name;\n      if (username === sharedItemUsername) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  };\n\n  render() {\n    let { sharedItems } = this.state;\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('User')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <UserSelect\n                  ref=\"userSelect\"\n                  isMulti={true}\n                  className=\"reviewer-select\"\n                  placeholder={gettext('Search users...')}\n                  onSelectChange={this.handleSelectChange}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToUser}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = '';\n                if (item.email) {\n                  errMessage = item.email + ': ' + item.error_msg;\n                } else {\n                  errMessage = item;\n                }\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('User')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <UserList\n              items={sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToUser.propTypes = propTypes;\n\nexport default SysAdminShareToUser;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\nimport { SeahubSelect, NoGroupMessage } from '../../common/select';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.group_id);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className='name'>{item.group_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nGroupItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nclass GroupList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <GroupItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nGroupList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n};\n\nclass SysAdminShareToGroup extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n  };\n\n  componentDidMount() {\n    this.loadOptions();\n    this.listSharedGroups();\n  }\n\n  loadOptions = () => {\n    seafileAPI.shareableGroups().then((res) => {\n      this.options = [];\n      for (let i = 0 ; i < res.data.length; i++) {\n        let obj = {};\n        obj.value = res.data[i].name;\n        obj.id = res.data[i].id;\n        obj.label = res.data[i].name;\n        this.options.push(obj);\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  listSharedGroups = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'group').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({\n          sharedItems: res.data\n        });\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  shareToGroup = () => {\n    let groups = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        groups[i] = this.state.selectedOption[i].id;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'group', groups, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let items = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(items),\n        selectedOption: null,\n        permission: 'rw',\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteShareItem = (groupID) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'group', groupID).then(() => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter(item => { return item.group_id !== groupID; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let groupID = item.group_id;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'group', groupID, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (item, permission) => {\n    let groupID = item.group_id;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemGroupID = sharedItem.group_id;\n      if (groupID === sharedItemGroupID) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Group')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <SeahubSelect\n                  onChange={this.handleSelectChange}\n                  options={this.options}\n                  placeholder={gettext('Select groups...')}\n                  maxMenuHeight={200}\n                  value={this.state.selectedOption}\n                  components={{ NoOptionsMessage: NoGroupMessage }}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToGroup}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = item.group_name + ': ' + item.error_msg;\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('Group')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <GroupList\n              items={this.state.sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToGroup.propTypes = propTypes;\n\nexport default SysAdminShareToGroup;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SysAdminShareToUser from './sysadmin-share-to-user';\nimport SysAdminShareToGroup from './sysadmin-share-to-group';\nimport '../../../css/share-link-dialog.css';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool\n};\n\nclass SysAdminShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab(),\n      isRepoOwner: false\n    };\n  }\n\n  getInitialActiveTab = () => {\n    return 'shareToUser';\n  };\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({activeTab: tab});\n    }\n  };\n\n  renderDirContent = () => {\n    let activeTab = this.state.activeTab;\n    const { enableDirPrivateShare, isGroupOwnedRepo } = this.props;\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')}>\n                    {gettext('Share to user')}\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')}>\n                    {gettext('Share to group')}\n                  </NavLink>\n                </NavItem>\n              </Fragment>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <TabPane tabId=\"shareToUser\">\n                  <SysAdminShareToUser itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n                <TabPane tabId=\"shareToGroup\">\n                  <SysAdminShareToGroup itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n              </Fragment>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <Modal isOpen={true} style={{maxWidth: '720px'}} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog}>{gettext('Share')} <span className=\"op-target\" title={this.props.itemName}>{this.props.itemName}</span></ModalHeader>\n          <ModalBody className=\"share-dialog-content\">\n            {this.renderDirContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nSysAdminShareDialog.propTypes = propTypes;\n\nexport default SysAdminShareDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass SysAdminLibHistorySettingDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      keepDays: -1,\n      expireDays: 30,\n      disabled: true,\n      allHistory: true,\n      noHistory: false,\n      autoHistory: false,\n      errorInfo: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.sysAdminGetRepoHistorySetting(this.props.repoID).then(res => {\n      this.setState({\n        keepDays: res.data.keep_days,\n        allHistory: res.data.keep_days < 0 ? true : false,\n        noHistory: res.data.keep_days === 0 ? true : false,\n        autoHistory: res.data.keep_days > 0 ? true : false,\n        disabled: res.data.keep_days > 0 ? false : true,\n        expireDays: res.data.keep_days > 0 ? res.data.keep_days : 30,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  submit = () => {\n    let days = this.state.keepDays;\n    if (this.state.autoHistory) {\n      days = this.state.expireDays;\n    }\n    let repoID = this.props.repoID;\n    let reg = /^-?\\d+$/;\n    let flag = reg.test(days);\n    if (flag) {\n      let message = gettext('Successfully set library history.');\n      seafileAPI.sysAdminUpdateRepoHistorySetting(repoID, days).then(res => {\n        toaster.success(message);\n        this.setState({keepDays: res.data.keep_days});\n        this.props.toggleDialog();\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      this.setState({\n        errorInfo: gettext('Please enter a non-negative integer'),\n      });\n    }\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.submit();\n      e.preventDefault();\n    }\n  };\n\n  onChange = (e) => {\n    let num = e.target.value;\n    this.setState({\n      keepDays: num,\n      expireDays: num,\n    });\n  };\n\n  setLimitDays = (type) => {\n    if (type === 'allHistory') {\n      this.setState({\n        keepDays: -1,\n      });\n    } else if (type === 'noHistory') {\n      this.setState({\n        keepDays: 0,\n      });\n    } else {\n      this.setState({\n        disabled: false\n      });\n    }\n\n    this.setState({\n      allHistory: type === 'allHistory' ? true : false,\n      noHistory: type === 'noHistory' ? true : false,\n      autoHistory: type === 'autoHistory' ? true : false,\n    });\n  };\n\n  render() {\n    const itemName = this.props.itemName;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span className=\"op-target\" title={itemName}>{itemName}</span>{' '}\n          {gettext('History Setting')}\n        </ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.allHistory} onChange={() => {this.setLimitDays('allHistory');}}/>{' '}\n              <Label>{gettext('Keep full history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.noHistory} onChange={() =>{this.setLimitDays('noHistory');}}/>{' '}\n              <Label>{gettext('Don\\'t keep history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.autoHistory} onChange={() =>{this.setLimitDays('autoHistory');}}/>{' '}\n              <Label>{gettext('Only keep a period of history:')}</Label>\n              <Input\n                type=\"text\"\n                className=\"expire-input\"\n                value={this.state.expireDays}\n                onChange={this.onChange}\n                disabled={this.state.disabled}\n                onKeyDown={this.handleKeyPress}\n              />{' '}\n              <Label><span>{gettext('days')}</span></Label>\n            </FormGroup>\n            {this.state.errorInfo && <Alert color=\"danger\">{this.state.errorInfo}</Alert>}\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminLibHistorySettingDialog.propTypes = propTypes;\n\nexport default SysAdminLibHistorySettingDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport DeleteRepoDialog from '../../../components/dialog/delete-repo-dialog';\nimport SysAdminShareDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-share-dialog';\nimport SysAdminLibHistorySettingDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog';\nimport UserLink from '../user-link';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  sortByFileCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('file_count');\n  };\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    this.props.sortItems('size');\n  };\n\n  render() {\n    // offer 'sort' only for 'all repos'\n    const { loading, errorMsg, items, pageInfo, curPerPage, sortBy } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className=\"fas fa-caret-down\"></span>;\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">\n                  {sortBy != undefined ?\n                    <Fragment>\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByFileCount}>{gettext('Files')} {sortBy == 'file_count' ? sortIcon : initialSortIcon}</a>{' / '}\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {sortBy == 'size' ? sortIcon : initialSortIcon}</a>\n                    </Fragment> :\n                    gettext('Files') / gettext('Size')\n                  }\n                </th>\n                <th width=\"32%\">ID</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onTransferRepo={this.props.onTransferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n  sortItems: PropTypes.func.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  onTransferRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isShareDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false,\n      isHistorySettingDialogOpen: false,\n      isRepoDeleted: false,\n    };\n  }\n\n  onDeleteRepo = (repo) => {\n    seafileAPI.sysAdminDeleteRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      this.setState({\n        isDeleteDialogOpen: false,\n        isRepoDeleted: true,\n      });\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n\n      this.setState({isRepoDeleted: false});\n    });\n  };\n\n  onTransferRepo = (owner) => {\n    seafileAPI.sysAdminTransferRepo(this.props.repo.id, owner.email).then((res) => {\n      this.props.onTransferRepo(res.data);\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.toggleTransferDialog();\n  };\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Share':\n        this.toggleShareDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      case 'History Setting':\n        this.toggleHistorySettingDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleShareDialog = () => {\n    this.setState({isShareDialogOpen: !this.state.isShareDialogOpen});\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  toggleHistorySettingDialog = () => {\n    this.setState({isHistorySettingDialogOpen: !this.state.isHistorySettingDialogOpen});\n  };\n\n  renderRepoName = () => {\n    const { repo } = this.props;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n      case 'History Setting':\n        translateResult = gettext('History Setting');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  getOperations = () => {\n    const { repo } = this.props;\n    let operations = ['Delete', 'Transfer'];\n    if (!repo.encrypted) {\n      operations.push('Share');\n    }\n    operations.push('History Setting');\n    return operations;\n  };\n\n  render () {\n    const { repo } = this.props;\n    const {\n      isOpIconShown,\n      isShareDialogOpen,\n      isDeleteDialogOpen,\n      isTransferDialogOpen,\n      isHistorySettingDialogOpen\n    } = this.state;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    let iconTitle = Utils.getLibIconTitle(repo);\n    const index = repo.owner_email.indexOf('@seafile_group');\n    let isGroupOwnedRepo = index != -1;\n    let departmentID;\n    if (isGroupOwnedRepo) {\n      departmentID = repo.owner_email.substring(0, index);\n    }\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{`${repo.file_count} / ${Utils.bytesToSize(repo.size)}`}</td>\n          <td>{repo.id}</td>\n          <td>\n            {isGroupOwnedRepo ?\n              <Link to={`${siteRoot}sys/departments/${departmentID}/`}>{repo.owner_name}</Link> :\n              <UserLink email={repo.owner_email} name={repo.owner_name} />\n            }\n          </td>\n          <td>\n            {(!isGroupOwnedRepo && isOpIconShown) &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isShareDialogOpen &&\n          <ModalPortal>\n            <SysAdminShareDialog\n              itemName={repo.name}\n              itemPath={'/'}\n              repoID={repo.id}\n              isGroupOwnedRepo={isGroupOwnedRepo}\n              repoEncrypted={repo.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={repo.permission}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPortal>\n        }\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <DeleteRepoDialog\n              repo={repo}\n              isRepoDeleted={this.state.isRepoDeleted}\n              onDeleteRepo={this.onDeleteRepo}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        }\n        {isTransferDialogOpen &&\n          <ModalPortal>\n            <TransferDialog\n              itemName={repo.name}\n              submit={this.onTransferRepo}\n              canTransferToDept={false}\n              toggleDialog={this.toggleTransferDialog}\n            />\n          </ModalPortal>\n        }\n        {isHistorySettingDialogOpen &&\n          <ModalPortal>\n            <SysAdminLibHistorySettingDialog\n              repoID={repo.id}\n              itemName={repo.name}\n              toggleDialog={this.toggleHistorySettingDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onTransferRepo: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport ReposNav from './repos-nav';\nimport Content from './repos';\n\nclass AllRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      sortBy: '',\n      isCreateRepoDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage, sortBy } = this.state;\n    this.setState({\n      sortBy: urlParams.get('order_by') || sortBy,\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateRepoDialog = () => {\n    this.setState({isCreateRepoDialogOpen: !this.state.isCreateRepoDialogOpen});\n  };\n\n  getReposByPage = (page) => {\n    const { perPage, sortBy } = this.state;\n    seafileAPI.sysAdminListAllRepos(page, perPage, sortBy).then((res) => {\n      this.setState({\n        loading: false,\n        repos: res.data.repos,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getReposByPage(currentPage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n  createRepo = (repoName, Owner) => {\n    seafileAPI.sysAdminCreateRepo(repoName, Owner).then(res => {\n      this.state.repos.unshift(res.data);\n      this.setState({\n        repos: this.state.repos\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by name or ID')}\n      submit={this.searchRepos}\n    />;\n  };\n\n  searchRepos = (repoNameOrID) => {\n    navigate(`${siteRoot}sys/search-libraries/?name_or_id=${encodeURIComponent(repoNameOrID)}`);\n  };\n\n  render() {\n    let { isCreateRepoDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleCreateRepoDialog}>\n            <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Library')}\n          </Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                sortBy={this.state.sortBy}\n                sortItems={this.sortItems}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                onDeleteRepo={this.onDeleteRepo}\n                onTransferRepo={this.onTransferRepo}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateRepoDialogOpen &&\n        <SysAdminCreateRepoDialog\n          createRepo={this.createRepo}\n          toggleDialog={this.toggleCreateRepoDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default AllRepos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ReposNav from './repos-nav';\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"33%\">{gettext('Name')}</th>\n                <th width=\"34%\">ID</th>\n                <th width=\"33%\">{gettext('Description')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item}/>);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return table;\n    }\n  }\n}\n\n\nContent.propTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n  render() {\n    const item = this.props.item;\n    return (\n      <tr>\n        <td><Link to={`${siteRoot}sys/libraries/${item.id}/`}>{item.name}</Link></td>\n        <td>{item.id}</td>\n        <td>{item.description}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass SystemRepo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSystemRepoInfo().then((res) => {\n      let items = [];\n      items.push(res.data);\n      this.setState({\n        items: items,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"system\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SystemRepo;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UserLink from '../user-link';\nimport ReposNav from './repos-nav';\n\nconst { trashReposExpireDays } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No deleted libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <p className=\"mt-4 small text-secondary\">{gettext('Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.').replace('{trashReposExpireDays}', trashReposExpireDays)}</p>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"43%\">{gettext('Name')}</th>\n                <th width=\"27%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Deleted Time')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onRestoreRepo={this.props.onRestoreRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isDeleteRepoDialogOpen: false,\n      isRestoreRepoDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onDeleteRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminDeleteTrashRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onRestoreRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminRestoreTrashRepo(repo.id).then((res) => {\n      this.props.onRestoreRepo(repo);\n      let message = gettext('Successfully restored the library.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleDeleteRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteRepoDialogOpen: !this.state.isDeleteRepoDialogOpen});\n  };\n\n  toggleRestoreRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRestoreRepoDialogOpen: !this.state.isRestoreRepoDialogOpen});\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Restore':\n        translateResult = gettext('Restore');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Restore':\n        this.toggleRestoreRepoDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteRepoDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render () {\n    const { repo } = this.props;\n    const { isOpIconShown, isDeleteRepoDialogOpen, isRestoreRepoDialogOpen } = this.state;\n    const iconUrl = Utils.getLibIconUrl(repo);\n    const iconTitle = Utils.getLibIconTitle(repo);\n    const repoName = '<span class=\"op-target\">' + Utils.HTMLescape(repo.name) + '</span>';\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{repo.name}</td>\n          <td>\n            {repo.owner.indexOf('@seafile_group') == -1 ?\n              <UserLink email={repo.owner} name={repo.owner_name} /> :\n              repo.group_name}\n          </td>\n          <td>{moment(repo.delete_time).fromNow()}</td>\n          <td>\n            {isOpIconShown && (\n              <OpMenu\n                operations={['Restore', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            )}\n          </td>\n        </tr>\n        {isDeleteRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete Library')}\n              message={gettext('Are you sure you want to delete {placeholder} completely?').replace('{placeholder}', repoName)}\n              executeOperation={this.onDeleteRepo}\n              confirmBtnText={gettext('Delete')}\n              toggleDialog={this.toggleDeleteRepoDialog}\n            />\n          </ModalPortal>\n        }\n        {isRestoreRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Restore Library')}\n              message={gettext('Are you sure you want to restore {placeholder}?').replace('{placeholder}', repoName)}\n              executeOperation={this.onRestoreRepo}\n              confirmBtnText={gettext('Restore')}\n              toggleDialog={this.toggleRestoreRepoDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n};\n\nclass TrashRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      isCleanTrashDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCleanTrashDialog = () => {\n    this.setState({isCleanTrashDialogOpen: !this.state.isCleanTrashDialogOpen});\n  };\n\n  getReposByPage = (page) => {\n    let perPage = this.state.perPage;\n    seafileAPI.sysAdminListTrashRepos(page, perPage).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onRestoreRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  cleanTrash = () => {\n    seafileAPI.sysAdminCleanTrashRepos().then(res => {\n      this.setState({repos: []});\n      toaster.success(gettext('Successfully cleared trash.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by owner')}\n      submit={this.searchRepos}\n    />;\n  };\n\n  searchRepos = (owner) => {\n    seafileAPI.sysAdminSearchTrashRepos(owner).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: null,\n        errorMsg: '', // necessary!\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  render() {\n    const { isCleanTrashDialogOpen } = this.state;\n\n    // enable 'search': <MainPanelTopbar search={this.getSearch()}>\n    return (\n      <Fragment>\n        {this.state.repos.length ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.toggleCleanTrashDialog}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"trash\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                pageInfo={this.state.pageInfo}\n                onDeleteRepo={this.onDeleteRepo}\n                onRestoreRepo={this.onRestoreRepo}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCleanTrashDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Clear Trash')}\n            message={gettext('Are you sure you want to clear trash?')}\n            executeOperation={this.cleanTrash}\n            confirmBtnText={gettext('Clear')}\n            toggleDialog={this.toggleCleanTrashDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TrashRepos;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './repos';\n\n\nclass SearchRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      repos: []\n    };\n  }\n\n  componentDidMount() {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      name: params.get('name_or_id') || ''\n    }, this.getRepos);\n  }\n\n  getRepos = () => {\n    const { name } = this.state;\n    seafileAPI.sysAdminSearchRepos(name).then((res) => {\n      this.setState({\n        loading: false,\n        errorMsg: '',\n        repos: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  searchRepos = () => {\n    this.getRepos();\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.searchRepos();\n      }\n    }\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Libraries')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Libraries')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name or ID.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name or ID')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.searchRepos}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.repos}\n                  onDeleteRepo={this.onDeleteRepo}\n                  onTransferRepo={this.onTransferRepo}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchRepos;\n","class Dirent {\n  constructor(obj) {\n    this.name = obj.obj_name;\n    this.mtime = obj.last_update;\n    this.size = obj.file_size;\n    this.is_file = obj.is_file;\n  }\n\n  isDir() {\n    return !this.is_file;\n  }\n}\n\nexport default Dirent;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  repoName: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  isSystemRepo: PropTypes.bool.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  onPathClick = (e) => {\n    let path = Utils.getEventData(e, 'path');\n    this.props.onPathClick(path);\n  };\n\n  turnPathToLink = (path) => {\n    path = path[path.length - 1] === '/' ? path.slice(0, path.length - 1) : path;\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (item === '') {\n        return null;\n      }\n      if (index === (pathList.length - 1)) {\n        return (\n          <Fragment key={index}>\n            <span className=\"path-split\">/</span>\n            <span className=\"path-file-name\">{item}</span>\n          </Fragment>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <Fragment key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </Fragment>\n        );\n      }\n    });\n    return pathElem;\n  };\n\n  render() {\n    let { isSystemRepo, currentPath, repoName } = this.props;\n    let pathElem = this.turnPathToLink(currentPath);\n\n    return (\n      <div className=\"path-container\">\n        {isSystemRepo ?\n          <a href={`${siteRoot}sys/system-library/`}>{gettext('System')}</a> :\n          <a href={`${siteRoot}sys/all-libraries/`}>{gettext('All')}</a>\n        }\n        <span className=\"path-split\">/</span>\n        {(currentPath === '/' || currentPath === '') ?\n          <span className=\"path-repo-name\">{repoName}</span>:\n          <a className=\"path-link\" data-path=\"/\" onClick={this.onPathClick}>{repoName}</a>\n        }\n        {pathElem}\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = propTypes;\n\nexport default DirPath;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport Loading from '../../../components/loading';\n\nclass DirentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  openFolder = () => {\n    this.props.openFolder(this.props.dirent);\n  };\n\n  deleteDirent = (e) => {\n    e.preventDefault();\n    this.props.deleteDirent(this.props.dirent);\n  };\n\n  downloadDirent = (e) => {\n    e.preventDefault();\n    this.props.downloadDirent(this.props.dirent);\n  };\n\n  render () {\n    let { isOpIconShown } = this.state;\n    let { dirent, fromSystemRepo } = this.props;\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td className=\"text-center\"><img src={iconUrl} width=\"24\" alt='' /></td>\n          <td>\n            {dirent.is_file ?\n              dirent.name :\n              <Link to=\"#\" onClick={this.openFolder}>{dirent.name}</Link>\n            }\n          </td>\n          <td>\n            {isOpIconShown && fromSystemRepo &&\n              <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.deleteDirent}></a>\n            }\n            {isOpIconShown && dirent.is_file &&\n            <a href=\"#\" className=\"op-icon sf2-icon-download\" title={gettext('Download')} onClick={this.downloadDirent}></a>\n            }\n          </td>\n          <td>{dirent.size}</td>\n          <td>{moment(dirent.mtime).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nDirentItem.propTypes = {\n  dirent: PropTypes.object.isRequired,\n  fromSystemRepo: PropTypes.bool.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nclass DirContent extends React.Component {\n\n  render() {\n    let { loading, errorMsg, direntList } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"5%\">{/*icon*/}</th>\n              <th width=\"55%\">{gettext('Name')}</th>\n              <th width=\"10%\">{/*operation*/}</th>\n              <th width=\"15%\">{gettext('Size')}</th>\n              <th width=\"15%\">{gettext('Last Update')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {direntList.map((dirent, index) => {\n              return <DirentItem\n                key={index}\n                dirent={dirent}\n                openFolder={this.props.openFolder}\n                deleteDirent={this.props.deleteDirent}\n                downloadDirent={this.props.downloadDirent}\n                fromSystemRepo={this.props.fromSystemRepo}\n              />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nDirContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  direntList: PropTypes.array.isRequired,\n  fromSystemRepo: PropTypes.bool.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nexport default DirContent;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport axios from 'axios';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport CreateFolderDialog from '../../../components/dialog/create-folder-dialog';\nimport Dirent from '../../../models/system-admin/dirent';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport DirPathBar from './dir-path-bar';\nimport DirContent from './dir-content';\n\nclass DirView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      isSystemRepo: false,\n      repoName: '',\n      path: '',\n      direntList: [],\n      isNewFolderDialogOpen: false\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    this.loadDirentList('/');\n  }\n\n  onPathClick = (path) => {\n    this.loadDirentList(path);\n  };\n\n  toggleNewFolderDialog = () => {\n    this.setState({isNewFolderDialogOpen: !this.state.isNewFolderDialogOpen});\n  };\n\n  createNewFolder = (path) => {\n    let folderName = Utils.getFileName(path);\n    seafileAPI.sysAdminCreateSysRepoFolder(this.props.repoID, this.state.path, folderName).then(res => {\n      let new_dirent = new Dirent(res.data);\n      let direntList = this.state.direntList;\n      direntList.unshift(new_dirent);\n      this.setState({\n        direntList: direntList\n      });\n      this.toggleNewFolderDialog();\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  openFolder = (dirent) => {\n    let direntPath = Utils.joinPath(this.state.path, dirent.name);\n    if (!dirent.is_file) {\n      this.loadDirentList(direntPath);\n    }\n  };\n\n  loadDirentList = (path) => {\n    const repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoDirents(repoID, path).then(res => {\n      const { is_system_library: isSystemRepo, repo_name: repoName, dirent_list } = res.data;\n      let direntList = [];\n      dirent_list.forEach(item => {\n        let dirent = new Dirent(item);\n        direntList.push(dirent);\n      });\n      this.setState({\n        loading: false,\n        repoName: repoName,\n        isSystemRepo: isSystemRepo,\n        direntList: direntList,\n        path: path,\n      }, () => {\n        let url = siteRoot + 'sys/libraries/' + repoID + '/' + encodeURIComponent(this.state.repoName) + Utils.encodePath(path);\n        window.history.replaceState({url: url, path: path}, path, url);\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminDeleteRepoDirent(this.props.repoID, path).then(res => {\n      toaster.success(gettext('Successfully deleted 1 item.'));\n      let direntList = this.state.direntList.filter(item => {\n        return item.name != dirent.name;\n      });\n      this.setState({\n        direntList: direntList\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  downloadDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminGetRepoFileDownloadURL(this.props.repoID, path).then(res => {\n      location.href = res.data.download_url;\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  onFileInputChange = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n\n    let { path } = this.state;\n    seafileAPI.sydAdminGetSysRepoItemUploadURL(path).then(res => {\n      let formData = new FormData();\n      formData.append('parent_dir', path);\n      formData.append('file', file);\n      axios.post(res.data.upload_link, formData).then(res => {\n        const fileObj = res.data[0];\n        let newDirent = new Dirent({\n          'is_file': true,\n          'obj_name': fileObj.name,\n          'file_size': Utils.bytesToSize(fileObj.size),\n          'last_update': (new Date()).getTime()\n        });\n        let direntList = this.state.direntList;\n        const dirs = direntList.filter(item => { return !item.is_file; });\n        direntList.splice(dirs.length, 0, newDirent);\n        this.setState({\n          direntList: direntList\n        });\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.state.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  };\n\n  render() {\n    const { loading, errorMsg,\n      repoName, direntList, isSystemRepo, path,\n      isNewFolderDialogOpen } = this.state;\n    const { repoID } = this.props;\n\n    return (\n      <Fragment>\n        {isSystemRepo ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <input className=\"d-none\" type=\"file\" onChange={this.onFileInputChange} ref={this.fileInput} />\n              <Button className=\"operation-item\" onClick={this.openFileInput}>{gettext('Upload')}</Button>\n              <Button className=\"operation-item\" onClick={this.toggleNewFolderDialog}>{gettext('New Folder')}</Button>\n            </Fragment>\n          </MainPanelTopbar> : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path align-items-center\">\n              <DirPathBar\n                isSystemRepo={isSystemRepo}\n                repoID={repoID}\n                repoName={repoName}\n                currentPath={path}\n                onPathClick={this.onPathClick}\n              />\n            </div>\n            <div className=\"cur-view-content\">\n              <DirContent\n                loading={loading}\n                errorMsg={errorMsg}\n                fromSystemRepo={isSystemRepo}\n                direntList={direntList}\n                openFolder={this.openFolder}\n                deleteDirent={this.deleteDirent}\n                downloadDirent={this.downloadDirent}\n              />\n            </div>\n          </div>\n        </div>\n        {isNewFolderDialogOpen &&\n          <CreateFolderDialog\n            parentPath={path}\n            checkDuplicatedName={this.checkDuplicatedName}\n            onAddFolder={this.createNewFolder}\n            addFolderCancel={this.toggleNewFolderDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirView.propTypes = {\n  repoID: PropTypes.string,\n};\n\nexport default DirView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminCreateGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({groupName: e.target.value});\n  };\n\n  handleSubmit = () => {\n    let groupName = this.state.groupName.trim();\n    this.props.createGroup(groupName, this.state.ownerEmail);\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Group')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"groupName\">{gettext('Name')}</Label>\n              <Input\n                id=\"groupName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.groupName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n              <Label className=\"mt-2\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateGroupDialog.propTypes = propTypes;\n\nexport default SysAdminCreateGroupDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  groupName: PropTypes.string.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminTransferGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      submitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      submitBtnDisabled: option == null\n    });\n  };\n\n  submit = () => {\n    const receiver = this.state.selectedOption.email;\n    this.props.transferGroup(receiver);\n    this.props.toggleDialog();\n  };\n\n  render() {\n    const { submitBtnDisabled } = this.state;\n    const groupName = '<span class=\"op-target\">' + Utils.HTMLescape(this.props.groupName) +'</span>';\n    const msg = gettext('Transfer Group {placeholder} to').replace('{placeholder}', groupName);\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span dangerouslySetInnerHTML={{__html: msg}}></span>\n        </ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Select a user')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit} disabled={submitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminTransferGroupDialog.propTypes = propTypes;\n\nexport default SysAdminTransferGroupDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport EmptyTip from '../../../components/empty-tip';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminTransferGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"40%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteGroup={this.props.deleteGroup}\n                  transferGroup={this.props.transferGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  getListByPage: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTransferDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  deleteGroup = () => {\n    this.props.deleteGroup(this.props.item.id);\n  };\n\n  transferGroup = (receiver) => {\n    this.props.transferGroup(this.props.item.id, receiver);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    let groupName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', groupName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={groupUrl}>{item.name}</Link></td>\n          <td>\n            {item.owner == 'system admin' ?\n              '--' :\n              <UserLink email={item.owner} name={item.owner_name} />\n            }\n          </td>\n          <td>\n            <span title={moment(item.created_at).format('llll')}>{moment(item.created_at).fromNow()}</span>\n          </td>\n          <td>\n            {(isOpIconShown && item.owner != 'system admin') &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n          <SysAdminTransferGroupDialog\n            groupName={item.name}\n            transferGroup={this.transferGroup}\n            toggleDialog={this.toggleTransferDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-group-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './groups-content';\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: {},\n      perPage: 25,\n      isCreateGroupDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getGroupListByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateGroupDialog = () => {\n    this.setState({isCreateGroupDialogOpen: !this.state.isCreateGroupDialogOpen});\n  };\n\n  getGroupListByPage = (page) => {\n    seafileAPI.sysAdminListAllGroups(page, this.state.perPage).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.groups,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getGroupListByPage(1);\n    });\n  };\n\n  createGroup = (groupName, OnwerEmail) => {\n    seafileAPI.sysAdminCreateNewGroup(groupName, OnwerEmail).then(res => {\n      let newGroupList = this.state.groupList;\n      newGroupList.unshift(res.data);\n      this.setState({\n        groupList: newGroupList\n      });\n      this.toggleCreateGroupDialog();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search groups by name')}\n      submit={this.searchGroups}\n    />;\n  };\n\n  searchGroups = (name) => {\n    navigate(`${siteRoot}sys/search-groups/?name=${encodeURIComponent(name)}`);\n  };\n\n  render() {\n    let { isCreateGroupDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Fragment>\n            <Button className=\"operation-item\" onClick={this.toggleCreateGroupDialog}>{gettext('New Group')}</Button>\n            <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/groupadmin/export-excel/`}>{gettext('Export Excel')}</a>\n          </Fragment>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                pageInfo={this.state.pageInfo}\n                deleteGroup={this.deleteGroup}\n                transferGroup={this.transferGroup}\n                getListByPage={this.getGroupListByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateGroupDialogOpen &&\n          <SysAdminCreateGroupDialog\n            createGroup={this.createGroup}\n            toggleDialog={this.toggleCreateGroupDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Groups;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './groups-content';\n\nclass SearchGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: null\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      name: params.get('name') || ''\n    }, this.getGroups);\n  }\n\n  getGroups = () => {\n    const { name } = this.state;\n    seafileAPI.sysAdminSearchGroups(name).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getGroups();\n      }\n    }\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Groups')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getGroups}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.groupList}\n                  deleteGroup={this.deleteGroup}\n                  transferGroup={this.transferGroup}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchGroups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired,\n  groupName: PropTypes.string.isRequired,\n  groupID: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'repos', urlPart: 'groups/' + this.props.groupID + '/libraries', text: gettext('Libraries')},\n      {name: 'members', urlPart: 'groups/' + this.props.groupID + '/members', text: gettext('Members')}\n    ];\n  }\n\n  render() {\n    const { groupName, currentItem } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/groups/`}>{gettext('Groups')}</Link> / {groupName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Shared By')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  unshareRepo={this.props.unshareRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  unshareRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isUnshareRepoDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleUnshareRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isUnshareRepoDialogOpen: !this.state.isUnshareRepoDialogOpen});\n  };\n\n  unshareRepo = () => {\n    const { item } = this.props;\n    this.props.unshareRepo(item.repo_id, item.name);\n    this.toggleUnshareRepoDialog();\n  };\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    repo.id = item.repo_id;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <a href={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</a>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  };\n\n  render() {\n    let { isOpIconShown, isUnshareRepoDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let iconUrl = Utils.getLibIconUrl(item);\n    let iconTitle = Utils.getLibIconTitle(item);\n\n    let repoName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to unshare {placeholder} ?').replace('{placeholder}', repoName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>\n            <UserLink email={item.shared_by} name={item.shared_by_name} />\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unshare')} onClick={this.toggleUnshareRepoDialog}></a>\n          </td>\n        </tr>\n        {isUnshareRepoDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Unshare Library')}\n            message={dialogMsg}\n            executeOperation={this.unshareRepo}\n            confirmBtnText={gettext('Unshare')}\n            toggleDialog={this.toggleUnshareRepoDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  unshareRepo: PropTypes.func.isRequired,\n};\n\nclass GroupRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListGroupRepos(this.props.groupID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.libraries,\n        groupName: res.data.group_name\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  unshareRepo = (repoID, repoName) => {\n    seafileAPI.sysAdminUnshareRepoFromGroup(this.props.groupID, repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({\n        repoList: newRepoList\n      });\n      const msg = gettext('Successfully unshared library {placeholder}')\n        .replace('{placeholder}', repoName);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n              currentItem=\"repos\"\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                unshareRepo={this.unshareRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nGroupRepos.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default GroupRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addMembers: PropTypes.func.isRequired\n};\n\nclass SysAdminGroupAddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOptions: null,\n      isSubmitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (options) => {\n    this.setState({\n      selectedOptions: options,\n      isSubmitBtnDisabled: !options.length\n    });\n  };\n\n  addMembers = () => {\n    let emails = this.state.selectedOptions.map(item => item.email);\n    this.props.addMembers(emails);\n    this.props.toggle();\n  };\n\n  render() {\n    const { isSubmitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.addMembers} disabled={isSubmitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminGroupAddMemberDialog.propTypes = propTypes;\n\nexport default SysAdminGroupAddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roleOptions: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminGroupRoleEditor extends React.Component {\n\n  translateRoles = (role) => {\n    switch (role) {\n      case 'Member':\n        return gettext('Member');\n      case 'Admin':\n        return gettext('Admin');\n      default:\n        return role;\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roleOptions}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRoles}\n      />\n    );\n  }\n}\n\nSysAdminGroupRoleEditor.propTypes = propTypes;\n\nexport default SysAdminGroupRoleEditor;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminGroupAddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog';\nimport SysAdminGroupRoleEditor from '../../../components/select-editor/sysadmin-group-role-editor';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"55%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  removeMember={this.props.removeMember}\n                  updateMemberRole={this.props.updateMemberRole}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  removeMember: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  updateMemberRole: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  getListByPage: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  removeMember = () => {\n    const { item } = this.props;\n    this.props.removeMember(item.email, item.name);\n    this.toggleDeleteDialog();\n  };\n\n  updateMemberRole = (role) => {\n    this.props.updateMemberRole(this.props.item.email, role);\n  };\n\n  render() {\n    let { isOpIconShown, isDeleteDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to remove {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={item.avatar_url} alt=\"\" className=\"rounded-circle\" width=\"24\" /></td>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            {item.role == 'Owner' ?\n              gettext('Owner') :\n              <SysAdminGroupRoleEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                roleOptions={['Member', 'Admin']}\n                currentRole={item.role}\n                onRoleChanged={this.updateMemberRole}\n              />\n            }\n          </td>\n          <td>\n            {item.role != 'Owner' &&\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Remove')} onClick={this.toggleDeleteDialog}></a>\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Remove Member')}\n            message={dialogMsg}\n            executeOperation={this.removeMember}\n            confirmBtnText={gettext('Remove')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  removeMember: PropTypes.func.isRequired,\n  updateMemberRole: PropTypes.func.isRequired,\n};\n\nclass GroupMembers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      memberList: [],\n      pageInfo: {},\n      currentPage: 1,\n      perPage: 25,\n      isAddMemberDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      perPage: parseInt(urlParams.get('per_page') || perPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListGroupMembers(this.props.groupID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        memberList: res.data.members,\n        groupName: res.data.group_name,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  toggleAddMemgerDialog = () => {\n    this.setState({isAddMemberDialogOpen: !this.state.isAddMemberDialogOpen});\n  };\n\n  addMembers = (emails) => {\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then(res => {\n      let newMemberList = res.data.success;\n      if (newMemberList.length) {\n        this.setState({\n          memberList: newMemberList.concat(this.state.memberList)\n        });\n        newMemberList.forEach(item => {\n          const msg = gettext('Successfully added {email_placeholder}')\n            .replace('{email_placeholder}', item.email);\n          toaster.success(msg);\n        });\n      }\n      res.data.failed.forEach(item => {\n        const msg = gettext('Failed to add {email_placeholder}: {error_msg_placeholder}')\n          .replace('{email_placeholder}', item.email)\n          .replace('{error_msg_placeholder}', item.error_msg);\n        toaster.danger(msg, {duration: 3});\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  removeMember = (email, name) => {\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, email).then(res => {\n      let newRepoList = this.state.memberList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n      toaster.success(gettext('Successfully removed {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMemberRole = (email, role) => {\n    let isAdmin = role == 'Admin';\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, email, isAdmin).then(res => {\n      let newRepoList = this.state.memberList.map(item => {\n        if (item.email == email) {\n          item.role = role;\n        }\n        return item;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { isAddMemberDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddMemgerDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              currentItem=\"members\"\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.memberList}\n                removeMember={this.removeMember}\n                updateMemberRole={this.updateMemberRole}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getListByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddMemberDialogOpen &&\n          <SysAdminGroupAddMemberDialog\n            addMembers={this.addMembers}\n            toggle={this.toggleAddMemgerDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nGroupMembers.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default GroupMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../../../css/org-department-item.css';\n\nclass Departments extends React.Component {\n  render() {\n    return (\n      <div className=\"h-100 org-departments\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nDepartments.propTypes = {\n  children: PropTypes.any.isRequired,\n};\n\nexport default Departments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\n\nconst propTypes = {\n  groupID: PropTypes.string,\n  parentGroupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onAddNewDepartment: PropTypes.func.isRequired\n};\n\nclass AddDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      let parentGroup = -1;\n      if (this.props.parentGroupID) {\n        parentGroup = this.props.parentGroupID;\n      }\n      seafileAPI.sysAdminAddNewDepartment(parentGroup, this.state.departName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewDepartment(res.data);\n      }).catch(error => {\n        let errorMsg = gettext(error.response.data.error_msg);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      departName: e.target.value,\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    let header = this.props.parentGroupID ? gettext('New Sub-department') : gettext('New Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.departName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddDepartDialog.propTypes = propTypes;\n\nexport default AddDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  groupID: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired\n};\n\nclass RenameDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departmentName: this.props.name,\n      errMessage: ''\n    };\n    this.newInput = React.createRef();\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminRenameDepartment(this.props.groupID, this.state.departmentName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onDepartmentNameChanged(res.data);\n        toaster.success(gettext('Success'));\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departmentName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      departmentName: e.target.value\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  onAfterModelOpened = () => {\n    if (!this.newInput.current) return;\n    this.newInput.current.focus();\n    this.newInput.current.select();\n  };\n\n  render() {\n    let header = gettext('Rename Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} onOpened={this.onAfterModelOpened}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departmentName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departmentName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.departmentName}\n                onChange={this.handleChange}\n                innerRef={this.newInput}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRenameDepartmentDialog.propTypes = propTypes;\n\nexport default RenameDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  group: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired\n};\n\nclass DeleteDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteDepart = () => {\n    this.props.toggle();\n    const { group } = this.props;\n    seafileAPI.sysAdminDeleteDepartment(group.id).then((res) => {\n      this.props.onDeleteDepartment(group.id);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { group } = this.props;\n\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(group.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Department')}</ModalHeader>\n        <ModalBody>\n          <p dangerouslySetInnerHTML={{__html: tipMessage}}></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteDepart}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteDepartmentDialog.propTypes = propTypes;\n\nexport default DeleteDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, InputGroupAddon, InputGroup } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.number.isRequired,\n  onSetQuota: PropTypes.func.isRequired,\n};\n\nclass SetGroupQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      errMessage: '',\n    };\n  }\n\n  setGroupQuota = () => {\n    const numberReg = /^[1-9]\\d*$/im;\n    let quota = this.state.quota;\n    if ((quota.length && numberReg.test(quota)) || quota == -2) {\n      this.setState({ errMessage: '' });\n      let newQuota = this.state.quota == -2 ? this.state.quota : this.state.quota * 1000000;\n      seafileAPI.sysAdminUpdateDepartmentQuota(this.props.groupID, newQuota).then((res) => {\n        this.props.toggle();\n        this.props.onSetQuota(res.data);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      const err = gettext('Quota is invalid.');\n      this.setState({ errMessage: err });\n    }\n  };\n\n  handleChange = (e) => {\n    const quota = e.target.value.trim();\n    this.setState({ quota: quota });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.setGroupQuota();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <InputGroup>\n            <Input\n              onKeyPress={this.handleKeyPress}\n              value={this.state.quota}\n              onChange={this.handleChange}\n              autoFocus={true}\n            />\n            <InputGroupAddon addonType=\"append\">{'MB'}</InputGroupAddon>\n          </InputGroup>\n          <p className=\"tip\">\n            <br/><span>{gettext('An integer that is greater than 0 or equal to -2.')}</span><br/>\n            <span>{gettext('Tip: -2 means no limit.')}</span>\n          </p>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.setGroupQuota}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetGroupQuotaDialog.propTypes = propTypes;\n\nexport default SetGroupQuotaDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport ModalPortal from '../../../components/modal-portal';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport DeleteDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog';\n\nconst GroupItemPropTypes = {\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  group: PropTypes.object.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired,\n  onSetDepartmentQuota: PropTypes.func.isRequired\n};\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isRenameDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Rename':\n        this.toggleRenameDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleRenameDialog = () => {\n    this.setState({\n      isRenameDialogOpen: !this.state.isRenameDialogOpen\n    });\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({\n      isDeleteDialogOpen: !this.state.isDeleteDialogOpen\n    });\n  };\n\n  toggleSetQuotaDialog = () => {\n    this.setState({\n      isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen\n    });\n  };\n\n  render() {\n    const { group } = this.props;\n    const { highlight, isOpIconShown, isRenameDialogOpen, isDeleteDialogOpen, isSetQuotaDialogOpen } = this.state;\n    const newHref = siteRoot+ 'sys/departments/' + group.id + '/';\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><Link to={newHref}>{group.name}</Link></td>\n          <td>{moment(group.created_at).fromNow()}</td>\n          <td>\n            {Utils.bytesToSize(group.quota)}{' '}\n            <span onClick={this.toggleSetQuotaDialog} title={gettext('Edit')} className={`fa fa-pencil-alt attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={['Rename', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen && (\n          <ModalPortal>\n            <DeleteDepartmentDialog\n              group={group}\n              onDeleteDepartment={this.props.onDeleteDepartment}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        )}\n        {isSetQuotaDialogOpen && (\n          <ModalPortal>\n            <SetGroupQuotaDialog\n              groupID={group.id}\n              onSetQuota={this.props.onSetDepartmentQuota}\n              toggle={this.toggleSetQuotaDialog}\n            />\n          </ModalPortal>\n        )}\n        {isRenameDialogOpen && (\n          <RenameDepartmentDialog\n            groupID={group.id}\n            name={group.name}\n            toggle={this.toggleRenameDialog}\n            onDepartmentNameChanged={this.props.onDepartmentNameChanged}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default GroupItem;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nclass DepartmentList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: null,\n      groupID: '',\n      isShowAddDepartDialog: false,\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    this.listDepartments();\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  listDepartments = () => {\n    seafileAPI.sysAdminListAllDepartments().then(res => {\n      this.setState({ groups: res.data.data });\n    });\n  };\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog });\n  };\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  };\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  };\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter((item) => item.id != id)\n    });\n  };\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  };\n\n  render() {\n    const groups = this.state.groups;\n    const topbarChildren = (\n      <Fragment>\n        <button className='btn btn-secondary operation-item' title={gettext('New Department')} onClick={this.toggleAddDepartDialog}>{gettext('New Department')}\n        </button>\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onAddNewDepartment={this.onAddNewDepartment}\n              groupID={this.state.groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">{gettext('Departments')}</h3>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {groups && groups.length > 0 ?\n                <table>\n                  <thead>\n                    <tr>\n                      <th width=\"40%\">{gettext('Name')}</th>\n                      <th width=\"25%\">{gettext('Created At')}</th>\n                      <th width=\"20%\">{gettext('Quota')}</th>\n                      <th width=\"15%\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groups.map((group, index) => {\n                      return(\n                        <Fragment key={group.id}>\n                          <GroupItem\n                            group={group}\n                            isItemFreezed={this.state.isItemFreezed}\n                            onFreezedItem={this.onFreezedItem}\n                            onUnfreezedItem={this.onUnfreezedItem}\n                            onDepartmentNameChanged={this.onDepartmentNameChanged}\n                            onDeleteDepartment={this.onDeleteDepartment}\n                            onSetDepartmentQuota={this.onSetDepartmentQuota}\n                          />\n                        </Fragment>\n                      );\n                    })}\n                  </tbody>\n                </table>\n                :\n                <p className=\"no-group\">{gettext('No departments')}</p>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DepartmentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID:  PropTypes.string.isRequired,\n  onAddNewMembers: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  };\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.refs.orgSelect.clearSelect();\n    this.setState({ errMessage: [] });\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then((res) => {\n      this.setState({ selectedOption: null });\n      if (res.data.failed.length > 0) {\n        this.setState({ errMessage: res.data.failed[0].error_msg });\n      }\n      if (res.data.success.length > 0) {\n        this.props.onAddNewMembers(res.data.success);\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n            ref=\"orgSelect\"\n            isMulti={true}\n            className='org-add-member-select'\n          />\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string,\n  onAddNewRepo: PropTypes.func.isRequired\n};\n\nclass AddRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminAddRepoInDepartment(this.props.groupID, this.state.repoName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewRepo(res.data);\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.repoName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      repoName: e.target.value,\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyPress={this.handleKeyPress}\n                value={this.state.repoName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddRepoDialog.propTypes = propTypes;\n\nexport default AddRepoDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-member-dialog';\nimport AddRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog';\nimport { siteRoot, gettext, lang } from '../../../utils/constants';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n  currentItem: PropTypes.string.isRequired,\n  onAddNewDepartment: PropTypes.func,\n  onAddNewMembers: PropTypes.func,\n  onAddNewRepo: PropTypes.func,\n  children: PropTypes.object\n};\n\nclass Department extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ancestorGroups: [],\n      isShowAddDepartmentDialog: false,\n      isShowAddMemberDialog: false,\n      isShowRenameDepartmentDialog: false,\n      isShowAddRepoDialog: false\n    };\n\n    this.navItems = [\n      {name: 'subDepartments', urlPart: '/', text: gettext('Sub-departments')},\n      {name: 'members', urlPart: '/members/', text: gettext('Members')},\n      {name: 'repos', urlPart: '/libraries/', text: gettext('Libraries')}\n    ];\n  }\n\n  componentDidMount() {\n    const groupID = this.props.groupID;\n    this.getDepartmentInfo(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.getDepartmentInfo(nextProps.groupID);\n    }\n  }\n\n  getDepartmentInfo = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({\n        ancestorGroups: res.data.ancestor_groups,\n        groupName: res.data.name,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groupName: dept.name\n    });\n  };\n\n  toggleRenameDepartmentDialog = () => {\n    this.setState({ isShowRenameDepartmentDialog: !this.state.isShowRenameDepartmentDialog });\n  };\n\n  toggleAddRepoDialog = () => {\n    this.setState({ isShowAddRepoDialog: !this.state.isShowAddRepoDialog });\n  };\n\n  toggleAddMemberDialog = () => {\n    this.setState({ isShowAddMemberDialog: !this.state.isShowAddMemberDialog });\n  };\n\n  toggleAddDepartmentDialog = () => {\n    this.setState({ isShowAddDepartmentDialog: !this.state.isShowAddDepartmentDialog});\n  };\n\n  render() {\n    const { groupID, currentItem } = this.props;\n    const { groupName } = this.state;\n\n    const topBtn = 'btn btn-secondary operation-item';\n    const topbarChildren = (\n      <Fragment>\n        {groupID &&\n          <Fragment>\n            <button className={topBtn} title={gettext('Rename Department')} onClick={this.toggleRenameDepartmentDialog}>{gettext('Rename Department')}</button>\n            {currentItem == 'subDepartments' && <button className={topBtn} title={gettext('New Sub-department')} onClick={this.toggleAddDepartmentDialog}>{gettext('New Sub-department')}</button>}\n            {currentItem == 'members' && <button className={topBtn} title={gettext('Add Member')} onClick={this.toggleAddMemberDialog}>{gettext('Add Member')}</button>}\n            {currentItem == 'repos' && <button className={topBtn} onClick={this.toggleAddRepoDialog} title={gettext('New Library')}>{gettext('New Library')}</button>}\n          </Fragment>\n        }\n        {this.state.isShowRenameDepartmentDialog && (\n          <ModalPortal>\n            <RenameDepartmentDialog\n              groupID={groupID}\n              name={groupName}\n              toggle={this.toggleRenameDepartmentDialog}\n              onDepartmentNameChanged={this.onDepartmentNameChanged}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddMemberDialog && (\n          <ModalPortal>\n            <AddMemberDialog\n              toggle={this.toggleAddMemberDialog}\n              onAddNewMembers={this.props.onAddNewMembers}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddRepoDialog && (\n          <ModalPortal>\n            <AddRepoDialog\n              toggle={this.toggleAddRepoDialog}\n              onAddNewRepo={this.props.onAddNewRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddDepartmentDialog && (\n          <ModalPortal>\n            <AddDepartmentDialog\n              onAddNewDepartment={this.props.onAddNewDepartment}\n              parentGroupID={groupID}\n              toggle={this.toggleAddDepartmentDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">\n                  {groupID ?\n                    <Link to={siteRoot + 'sys/departments/'}>{gettext('Departments')}</Link>\n                    : <span>{gettext('Departments')}</span>\n                  }\n                  {this.state.ancestorGroups.map(ancestor => {\n                    let newHref = siteRoot + 'sys/departments/' + ancestor.id + '/';\n                    return <span key={ancestor.id}>{' / '}<Link to={newHref}>{ancestor.name}</Link></span>;\n                  })}\n                  {groupID && <span>{' / '}{groupName}</span>}\n                </h3>\n              </div>\n            </div>\n\n            <ul className=\"nav border-bottom mx-4\">\n              {this.navItems.map((item, index) => {\n                return (\n                  <li className=\"nav-item mr-2\" key={index}>\n                    <Link to={`${siteRoot}sys/departments/${groupID}${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n                  </li>\n                );\n              })}\n            </ul>\n            {this.props.children}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nDepartment.propTypes = DepartmentDetailPropTypes;\n\nexport default Department;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport Department from './department';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst SubDepartmentsPropTypes = {\n  groupID: PropTypes.string\n};\n\nclass SubDepartments extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      groups: []\n    };\n  }\n\n  componentDidMount() {\n    this.listSubDepartments(this.props.groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listSubDepartments(nextProps.groupID);\n    }\n  }\n\n  listSubDepartments = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({groups: res.data.groups});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onSubDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  };\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  };\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter(item => item.id != id)\n    });\n  };\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  };\n\n  render() {\n    const { groups } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Department\n        groupID={groupID}\n        currentItem=\"subDepartments\"\n        onAddNewDepartment={this.onAddNewDepartment}\n      >\n        <div className=\"cur-view-content\">\n          {groups && groups.length > 0 ?\n            <table>\n              <thead>\n                <tr>\n                  <th width=\"40%\">{gettext('Name')}</th>\n                  <th width=\"25%\">{gettext('Created At')}</th>\n                  <th width=\"20%\">{gettext('Quota')}</th>\n                  <th width=\"15%\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {groups.map((group, index) => {\n                  return(\n                    <GroupItem\n                      key={group.id}\n                      isItemFreezed={this.state.isItemFreezed}\n                      onFreezedItem={this.onFreezedItem}\n                      onUnfreezedItem={this.onUnfreezedItem}\n                      onDepartmentNameChanged={this.onSubDepartmentNameChanged}\n                      group={group}\n                      onDeleteDepartment={this.onDeleteDepartment}\n                      onSetDepartmentQuota={this.onSetDepartmentQuota}\n                    />\n                  );\n                })}\n              </tbody>\n            </table>\n            : <p className=\"no-group\">{gettext('No sub-departments')}</p>\n          }\n        </div>\n      </Department>\n    );\n  }\n}\n\nSubDepartments.propTypes = SubDepartmentsPropTypes;\n\nexport default SubDepartments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  member: PropTypes.object.isRequired,\n  groupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass DeleteMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteMember = () => {\n    const userEmail = this.props.member.email;\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, userEmail).then((res) => {\n      if (res.data.success) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.member.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Member')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteMember}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteMemberDialog.propTypes = propTypes;\n\nexport default DeleteMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport RoleEditor from '../../../components/select-editor/role-editor';\nimport UserLink from '../user-link';\n\nconst MemberItemPropTypes = {\n  groupID: PropTypes.string,\n  member: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onMemberChanged: PropTypes.func.isRequired,\n  showDeleteMemberDialog: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n};\n\nclass MemberItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showRoleMenu: false,\n    };\n    this.roles = ['Admin', 'Member'];\n  }\n\n  onMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: false });\n  };\n\n  toggleMemberRoleMenu = () => {\n    this.setState({ showRoleMenu: !this.state.showRoleMenu });\n  };\n\n  onChangeUserRole = (role) => {\n    let isAdmin = role === 'Admin' ? true : false;\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, this.props.member.email, isAdmin).then((res) => {\n      this.props.onMemberChanged();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.setState({\n      highlight: false\n    });\n  };\n\n  render() {\n    const member = this.props.member;\n    const highlight = this.state.highlight;\n    if (member.role === 'Owner') return null;\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={member.avatar_url} alt=\"member-header\" width=\"24\" className=\"avatar\"/></td>\n        <td><UserLink email={member.email} name={member.name} /></td>\n        <td>\n          <RoleEditor\n            isTextMode={true}\n            isEditIconShow={highlight}\n            currentRole={member.role}\n            roles={this.roles}\n            onRoleChanged={this.onChangeUserRole}\n            toggleItemFreezed={this.props.toggleItemFreezed}\n          />\n        </td>\n        {!this.props.isItemFreezed ?\n          <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteMemberDialog.bind(this, member)}>\n            <span className={`sf2-icon-x3 action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n          </td> : <td></td>\n        }\n      </tr>\n    );\n  }\n}\n\nMemberItem.propTypes = MemberItemPropTypes;\n\nexport default MemberItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport MemberItem from './member-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentMembersPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentMembers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      members: [],\n      membersErrorMsg: '',\n      currentPageInfo: {\n      },\n      currentPage: 1,\n      perPage: 25,\n      deletedMember: {},\n      showDeleteMemberDialog: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      const { groupID } = this.props;\n      this.listMembers(groupID, this.state.currentPage, this.state.perPage);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listMembers(nextProps.groupID, this.state.currentPage, this.state.perPage);\n    }\n  }\n\n  listMembers = (groupID, page, perPage) => {\n    seafileAPI.sysAdminListGroupMembers(groupID, page, perPage).then((res) => {\n      this.setState({\n        members: res.data.members,\n        currentPageInfo: res.data.page_info\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      this.setState({membersErrorMsg: errMessage});\n    });\n  };\n\n  getPreviousPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page - 1, this.state.perPage);\n  };\n\n  getNextPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page + 1, this.state.perPage);\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.listMembers(this.props.groupID, 1, perPage);\n    });\n  };\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteMemberDialog: false,\n    });\n  };\n\n  onMemberChanged = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page, this.state.perPage);\n  };\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  showDeleteMemberDialog = (member) => {\n    this.setState({ showDeleteMemberDialog: true, deletedMember: member });\n  };\n\n  onAddNewMembers = (newMembers) => {\n    const { members } = this.state;\n    members.unshift(...newMembers);\n    this.setState({ members });\n  };\n\n  render() {\n    const { members, membersErrorMsg } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department\n          groupID={groupID}\n          currentItem=\"members\"\n          onAddNewMembers={this.onAddNewMembers}\n        >\n          <div className=\"cur-view-content\">\n            {membersErrorMsg ? <p className=\"error text-center\">{membersErrorMsg}</p> :\n              members.length == 0 ?\n                <p className=\"no-member\">{gettext('No members')}</p> :\n                <Fragment>\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"5%\"></th>\n                        <th width=\"50%\">{gettext('Name')}</th>\n                        <th width=\"15%\">{gettext('Role')}</th>\n                        <th width=\"30%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {members.map((member, index) => {\n                        return (\n                          <Fragment key={index}>\n                            <MemberItem\n                              member={member}\n                              showDeleteMemberDialog={this.showDeleteMemberDialog}\n                              isItemFreezed={this.state.isItemFreezed}\n                              onMemberChanged={this.onMemberChanged}\n                              toggleItemFreezed={this.toggleItemFreezed}\n                              groupID={groupID}\n                            />\n                          </Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                  {this.state.currentPageInfo &&\n                  <Paginator\n                    gotoPreviousPage={this.getPreviousPageList}\n                    gotoNextPage={this.getNextPageList}\n                    currentPage={this.state.currentPageInfo.current_page}\n                    hasNextPage={this.state.currentPageInfo.has_next_page}\n                    curPerPage={this.state.perPage}\n                    resetPerPage={this.resetPerPage}\n                  />\n                  }\n                </Fragment>\n            }\n          </div>\n        </Department>\n        {this.state.showDeleteMemberDialog && (\n          <ModalPortal>\n            <DeleteMemberDialog\n              toggle={this.toggleCancel}\n              onMemberChanged={this.onMemberChanged}\n              member={this.state.deletedMember}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentMembers.propTypes = DepartmentMembersPropTypes;\n\nexport default DepartmentMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nclass DeleteRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteRepo = () => {\n    seafileAPI.sysAdminDeleteRepoInDepartment(this.props.groupID, this.props.repo.repo_id).then((res) => {\n      if (res.data.success) {\n        this.props.onRepoChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { repo } = this.props;\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(repo.name || repo.repo_name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Library')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteRepo}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string,\n  onRepoChanged: PropTypes.func.isRequired\n};\n\nDeleteRepoDialog.propTypes = propTypes;\n\nexport default DeleteRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nconst RepoItemPropTypes = {\n  repo: PropTypes.object.isRequired,\n  showDeleteRepoDialog: PropTypes.func.isRequired\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  };\n\n  render() {\n    const { repo } = this.props;\n    const repoName = repo.name || repo.repo_name;\n    const highlight = this.state.highlight;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} width=\"24\" alt={gettext('icon')}/></td>\n        { enableSysAdminViewRepo ?\n          <td><a href={`${siteRoot}sys/libraries/${repo.repo_id}/${encodeURIComponent(repoName)}/`}>{repoName}</a></td>\n          :\n          <td>{repoName}</td>\n        }\n        <td>{Utils.bytesToSize(repo.size)}</td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteRepoDialog.bind(this, repo)}>\n          <span className={`sf2-icon-delete action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nRepoItem.propTypes = RepoItemPropTypes;\n\nexport default RepoItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport RepoItem from './repo-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repos: [],\n      deletedRepo: {},\n      showDeleteRepoDialog: false\n    };\n  }\n\n  componentDidMount() {\n    const { groupID } = this.props;\n    this.listGroupRepo(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listGroupRepo(nextProps.groupID);\n    }\n  }\n\n  listGroupRepo = (groupID) => {\n    seafileAPI.sysAdminListGroupRepos(groupID).then(res => {\n      this.setState({ repos: res.data.libraries });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteRepoDialog: false\n    });\n  };\n\n  onRepoChanged = () => {\n    this.listGroupRepo(this.props.groupID);\n  };\n\n  showDeleteRepoDialog = (repo) => {\n    this.setState({ showDeleteRepoDialog: true, deletedRepo: repo });\n  };\n\n  onAddNewRepo = (newRepo) => {\n    const { repos } = this.state;\n    repos.unshift(newRepo);\n    this.setState({ repos });\n  };\n\n  render() {\n    const { repos } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department groupID={groupID} currentItem=\"repos\" onAddNewRepo={this.onAddNewRepo}>\n          {repos.length > 0 ?\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"5%\"></th>\n                    <th width=\"50%\">{gettext('Name')}</th>\n                    <th width=\"30%\">{gettext('Size')}</th>\n                    <th width=\"15%\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {repos.map((repo, index) => {\n                    return (\n                      <RepoItem key={index} repo={repo} showDeleteRepoDialog={this.showDeleteRepoDialog} />\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n            : <p className=\"no-libraty\">{gettext('No libraries')}</p>\n          }\n        </Department>\n        {this.state.showDeleteRepoDialog && (\n          <ModalPortal>\n            <DeleteRepoDialog\n              toggle={this.toggleCancel}\n              onRepoChanged={this.onRepoChanged}\n              repo={this.state.deletedRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentDetail.propTypes = DepartmentDetailPropTypes;\n\nexport default DepartmentDetail;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'shareLinks', urlPart:'share-links', text: gettext('Share Links')},\n      {name: 'uploadLinks', urlPart:'upload-links', text: gettext('Upload Links')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage + 1);\n  };\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    this.props.sortItems('ctime');\n  };\n\n  sortByCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('view_cnt');\n  };\n\n  render() {\n    const {\n      loading, errorMsg, items,\n      perPage, currentPage, hasNextPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No share links')}</h2>\n        </EmptyTip>\n      );\n\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Created At')} {sortBy == 'ctime' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"10%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByCount}>{gettext('Count')} {sortBy == 'view_cnt' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteShareLink={this.props.deleteShareLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getShareLinksByPage: PropTypes.func.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  deleteShareLink: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  deleteShareLink = () => {\n    this.props.deleteShareLink(this.props.item.token);\n  };\n\n  renderExpiration = () => {\n    const item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td>{item.obj_name}</td>\n        <td>{item.token}</td>\n        <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n        <td>{moment(item.ctime).fromNow()}</td>\n        <td>{item.view_cnt}</td>\n        <td>{this.renderExpiration()}</td>\n        <td>\n          <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteShareLink}></a>\n        </td>\n      </tr>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteShareLink: PropTypes.func.isRequired,\n};\n\nclass ShareLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      shareLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      sortBy: '',\n      sortOrder: 'asc'\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage, sortBy, sortOrder } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      sortBy: urlParams.get('order_by') || sortBy,\n      sortOrder: urlParams.get('direction') || sortOrder\n    }, () => {\n      this.getShareLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getShareLinksByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    seafileAPI.sysAdminListShareLinks(page, perPage, sortBy, sortOrder).then((res) => {\n      this.setState({\n        shareLinkList: res.data.share_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getShareLinksByPage(currentPage);\n    });\n  };\n\n  deleteShareLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteShareLink(linkToken).then(res => {\n      let newShareLinkList = this.state.shareLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({shareLinkList: newShareLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getShareLinksByPage(this.initPage));\n  };\n\n  render() {\n    let { shareLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"shareLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={shareLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getShareLinksByPage={this.getShareLinksByPage}\n                resetPerPage={this.resetPerPage}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortItems={this.sortItems}\n                deleteShareLink={this.deleteShareLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default ShareLinks;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No upload links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{gettext('Count')}</th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteUploadLink={this.props.deleteUploadLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getUploadLinksByPage: PropTypes.func.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  deleteUploadLink = () => {\n    this.props.deleteUploadLink(this.props.item.token);\n  };\n\n  renderExpiration = () => {\n    let item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td>{item.path}</td>\n          <td>{item.token}</td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.view_cnt}</td>\n          <td>{this.renderExpiration()}</td>\n          <td>\n            <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteUploadLink}></a>\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass UploadLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      uploadLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUploadLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getUploadLinksByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAllUploadLinks(page, perPage).then((res) => {\n      this.setState({\n        uploadLinkList: res.data.upload_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteUploadLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteUploadLink(linkToken).then(res => {\n      let newUploadLinkList = this.state.uploadLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({uploadLinkList: newUploadLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getUploadLinksByPage(this.initPage));\n  };\n\n  render() {\n    let { uploadLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"uploadLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={uploadLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getUploadLinksByPage={this.getUploadLinksByPage}\n                resetPerPage={this.resetPerPage}\n                deleteUploadLink={this.deleteUploadLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UploadLinks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggleDialog: PropTypes.func.isRequired,\n  addOrg: PropTypes.func.isRequired\n};\n\nclass SysAdminAddOrgDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      passwordAgain: '',\n      errorMsg: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { name, email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (name.trim() !='' &&\n      email.trim() != '' &&\n      password.trim() != '' &&\n      passwordAgain.trim() != '') {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    }, this.checkSubmitBtnActive);\n  };\n\n  handleSubmit = () => {\n    let { name, email, password, passwordAgain } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    const data = {\n      orgName: name.trim(),\n      ownerEmail: email.trim(),\n      password: password.trim()\n    };\n    this.props.addOrg(data);\n    this.toggle();\n  };\n\n  render() {\n    const { errorMsg, password, passwordAgain, email, name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Organization')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Name')}</Label>\n              <Input value={name} onChange={this.inputName} />\n            </FormGroup>\n            <FormGroup>\n              <Label>\n                {gettext('Owner')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('Owner can use admin panel in an organization, must be a new account.')}></span>\n              </Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <Input type=\"password\" value={password} onChange={this.inputPassword} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type=\"password\" value={passwordAgain} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddOrgDialog.propTypes = propTypes;\n\nexport default SysAdminAddOrgDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport toaster from '../../../components/toast';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No organizations')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Creator')}</th>\n                <th width=\"20%\">{gettext('Role')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  updateRole={this.props.updateRole}\n                  deleteOrg={this.props.deleteOrg}\n                />);\n              })}\n            </tbody>\n          </table>\n          {this.props.currentPage &&\n          <Paginator\n            currentPage={this.props.currentPage}\n            hasNextPage={this.props.hasNextPage}\n            curPerPage={this.props.curPerPage}\n            resetPerPage={this.props.resetPerPage}\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  item: PropTypes.object.isRequired,\n  getListByPage: PropTypes.func.isRequired,\n  currentPage: PropTypes.number,\n  items: PropTypes.array.isRequired,\n  updateRole: PropTypes.func.isRequired,\n  deleteOrg: PropTypes.func.isRequired,\n  hasNextPage: PropTypes.bool,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false,\n      deleteDialogMsg: '',\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen}, () => {\n      if (this.state.isDeleteDialogOpen) {\n        seafileAPI.sysAdminGetOrg(this.props.item.org_id).then((res) => {\n          let orgName = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.org_name) + '</span>';\n          let userCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.users_count) + '</span>';\n          let repoCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.repos_count) + '</span>';\n          let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?')\n            .replace('{placeholder}', orgName) + '<br/>' +\n            gettext('{userCount} user(s) and {repoCount} libraries of this organization will also be deleted.')\n              .replace('{userCount}', userCount)\n              .replace('{repoCount}', repoCount);\n          this.setState({deleteDialogMsg: deleteDialogMsg});\n        }).catch(error => {\n          let errorMsg = Utils.getErrorMsg(error);\n          toaster.danger(errorMsg);\n        });\n      }\n    });\n  };\n\n  updateRole = (role) => {\n    this.props.updateRole(this.props.item.org_id, role);\n  };\n\n  deleteOrg = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteOrg(this.props.item.org_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, deleteDialogMsg } = this.state;\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>{item.org_name}</Link></td>\n          <td>\n            <UserLink email={item.creator_email} name={item.creator_name} />\n          </td>\n          <td>\n            <SysAdminUserRoleEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentRole={item.role}\n              roleOptions={availableRoles}\n              onRoleChanged={this.updateRole}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota > 0 ? Utils.bytesToSize(item.quota) : '--'}`}</td>\n          <td>{moment(item.ctime).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Organization')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteOrg}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  updateRole: PropTypes.func.isRequired,\n  deleteOrg: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminAddOrgDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-org-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './orgs-content';\n\n\nclass Orgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgList: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false,\n      isAddOrgDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListOrgs(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organizations,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  };\n\n  toggleAddOrgDialog = () => {\n    this.setState({isAddOrgDialogOpen: !this.state.isAddOrgDialogOpen});\n  };\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  addOrg = (data) => {\n    const { orgName, ownerEmail, password } = data;\n    seafileAPI.sysAdminAddOrg(orgName, ownerEmail, password).then(res => {\n      let orgList = this.state.orgList;\n      orgList.unshift(res.data);\n      this.setState({orgList: orgList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search organizations')}\n      submit={this.searchItems}\n    />;\n  };\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-organizations/?query=${encodeURIComponent(keyword)}`);\n  };\n\n  render() {\n    const { isAddOrgDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddOrgDialog}>{gettext('Add Organization')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.orgList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getItemsByPage}\n                updateRole={this.updateRole}\n                deleteOrg={this.deleteOrg}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddOrgDialogOpen &&\n          <SysAdminAddOrgDialog\n            addOrg={this.addOrg}\n            toggleDialog={this.toggleAddOrgDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Orgs;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './orgs-content';\n\n\nclass SearchOrgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      orgList: []\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      query: params.get('query') || ''\n    }, this.getItems);\n  }\n\n  getItems = () => {\n    seafileAPI.sysAdminSearchOrgs(this.state.query.trim()).then(res => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organization_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  }\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Organizations')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" id=\"name\" value={query} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.orgList}\n                  updateRole={this.updateRole}\n                  deleteOrg={this.deleteOrg}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchOrgs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgNameDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.name,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      name: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateName(this.state.name.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Name')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={name}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgNameDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgNameDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  value: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateValue: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgMaxUserNumberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { value, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set max number of members')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                className=\"form-control\"\n                value={value}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgMaxUserNumberDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgMaxUserNumberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  orgID: PropTypes.string,\n  orgName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'users', urlPart: 'users', text: gettext('Members')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')},\n      {name: 'repos', urlPart: 'libraries', text: gettext('Libraries')},\n      //{name: 'traffic', urlPart: 'traffic', text: gettext('traffic')},\n      //{name: 'settings', urlPart: 'settings', text: gettext('Settings')}\n    ];\n  }\n\n  render() {\n    const { currentItem, orgID, orgName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/organizations/`}>{gettext('Organizations')}</Link> / {orgName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/organizations/${orgID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, serviceURL } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetOrgQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetOrgNameDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog';\nimport SysAdminSetOrgMaxUserNumberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n      isSetNameDialogOpen: false,\n      isSetMaxUserNumberDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleSetNameDialog = () => {\n    this.setState({isSetNameDialogOpen: !this.state.isSetNameDialogOpen});\n  };\n\n  toggleSetMaxUserNumberDialog = () => {\n    this.setState({isSetMaxUserNumberDialogOpen: !this.state.isSetMaxUserNumberDialogOpen});\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { org_name, users_count, max_user_number, groups_count, quota, quota_usage, enable_saml_login, url_prefix, metadata_url, domain } = this.props.orgInfo;\n      const { isSetQuotaDialogOpen, isSetNameDialogOpen, isSetMaxUserNumberDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {org_name}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{users_count}</dd>\n\n            {max_user_number &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Max number of members')}</dt>\n                <dd className=\"info-item-content\">\n                  {max_user_number}\n                  {this.showEditIcon(this.toggleSetMaxUserNumberDialog)}\n                </dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Number of groups')}</dt>\n            <dd className=\"info-item-content\">{groups_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_usage)} / ${quota > 0 ? Utils.bytesToSize(quota) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {enable_saml_login &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('SAML Config')}</dt>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Custom SAML Login URL')}</Col>\n                    <Col md=\"6\">{`${serviceURL}/org/custom/${url_prefix}`}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('App Federation Metadata URL')}</Col>\n                    <Col md=\"6\">{metadata_url}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Email Domain')}</Col>\n                    <Col md=\"6\">{domain}</Col>\n                  </Row>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetOrgQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {isSetNameDialogOpen &&\n          <SysAdminSetOrgNameDialog\n            name={org_name}\n            updateName={this.props.updateName}\n            toggle={this.toggleSetNameDialog}\n          />\n          }\n          {isSetMaxUserNumberDialogOpen &&\n          <SysAdminSetOrgMaxUserNumberDialog\n            value={max_user_number}\n            updateValue={this.props.updateMaxUserNumber}\n            toggle={this.toggleSetMaxUserNumberDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  orgInfo: PropTypes.object,\n  updateQuota: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired,\n  updateMaxUserNumber: PropTypes.func.isRequired,\n};\n\nclass OrgInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        orgInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    const data = {quota: quota};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        quota: res.data.quota\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateName = (orgName) => {\n    const data = {orgName: orgName};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        org_name: res.data.org_name\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set name.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMaxUserNumber = (newValue) => {\n    const data = {maxUserNumber: newValue};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        max_user_number: res.data.max_user_number\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set max number of members.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { orgInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav currentItem=\"info\" orgID={this.props.orgID} orgName={orgInfo.org_name} />\n            <div className=\"cur-view-content\">\n              <Content\n                orgID={this.props.orgID}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                orgInfo={this.state.orgInfo}\n                updateQuota={this.updateQuota}\n                updateName={this.updateName}\n                updateMaxUserNumber={this.updateMaxUserNumber}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgInfo.propTypes = {\n  orgID: PropTypes.string,\n  orgInfo: PropTypes.object,\n};\n\nexport default OrgInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusOptions: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserMembershipEditor extends React.Component {\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'is_org_staff':\n        return gettext('Admin');\n      case 'not_is_org_staff':\n        return gettext('Member');\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusOptions}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n}\n\nSysAdminUserMembershipEditor.propTypes = propTypes;\n\nexport default SysAdminUserMembershipEditor;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, username } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport SysAdminUserStatusEditor from '../../../components/select-editor/sysadmin-user-status-editor';\nimport SysAdminUserMembershipEditor from '../../../components/select-editor/sysadmin-user-membership-editor';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"15%\">{gettext('Membership')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"25%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  updateStatus={this.props.updateStatus}\n                  updateMembership={this.props.updateMembership}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  updateStatus: PropTypes.func.isRequired,\n  updateMembership: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isResetPasswordDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetPasswordDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleResetPasswordDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isResetPasswordDialogOpen: !this.state.isResetPasswordDialogOpen});\n  };\n\n  updateStatus= (statusValue) => {\n    this.props.updateStatus(this.props.item.email, statusValue);\n  };\n\n  updateMembership= (membershipValue) => {\n    this.props.updateMembership(this.props.item.email, membershipValue);\n  };\n\n  deleteUser = () => {\n    const { item } = this.props;\n    this.props.deleteUser(item.org_id, item.email);\n  };\n\n  resetPassword = () => {\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isResetPasswordDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    let resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            <SysAdminUserStatusEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.active ? 'active' : 'inactive'}\n              statusOptions={['active', 'inactive']}\n              onStatusChanged={this.updateStatus}\n            />\n          </td>\n          <td>\n            <SysAdminUserMembershipEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.is_org_staff ? 'is_org_staff' : 'not_is_org_staff'}\n              statusOptions={['is_org_staff', 'not_is_org_staff']}\n              onStatusChanged={this.updateMembership}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {(isOpIconShown && item.email != username) &&\n            <OpMenu\n              operations={['Delete', 'Reset Password']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Member')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isResetPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetPasswordDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  updateStatus: PropTypes.func.isRequired,\n  updateMembership: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass OrgUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgUsers(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.users\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  addUser = (newUserInfo) => {\n    const { email, name, password } = newUserInfo;\n    seafileAPI.sysAdminAddOrgUser(this.props.orgID, email, name, password).then(res => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (orgID, email) => {\n    seafileAPI.sysAdminDeleteOrgUser(orgID, email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateStatus = (email, statusValue) => {\n    const isActive = statusValue == 'active';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'active', isActive).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.active = res.data.active;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMembership = (email, membershipValue) => {\n    const isOrgStaff = membershipValue == 'is_org_staff';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'is_org_staff', isOrgStaff).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.is_org_staff = res.data.is_org_staff;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddUserDialogOpen, orgName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"users\"\n              orgID={this.props.orgID}\n              orgName={orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                updateStatus={this.updateStatus}\n                updateMembership={this.updateMembership}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nOrgUsers.propTypes = {\n  orgID: PropTypes.string,\n};\n\nexport default OrgUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Creator')}</th>\n                <th width=\"30%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteGroup={this.props.deleteGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  deleteGroup: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteGroup = () => {\n    this.toggleDeleteDialog();\n    this.props.deleteGroup(this.props.item.group_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.group_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.group_id}/libraries/` :\n      `${siteRoot}sys/departments/${item.group_id}/`;\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><a href={groupUrl}>{item.group_name}</a></td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nclass OrgGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      groupList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgGroups(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.group_id != groupID;\n      });\n      this.setState({groupList: newGroupList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"groups\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                deleteGroup={this.deleteGroup}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgGroups.propTypes = {\n  orgID: PropTypes.string,\n};\n\n\n\nexport default OrgGroups;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"35%\">{gettext('ID')}</th>\n                <th width=\"20%\">{gettext('Owner')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteRepo={this.props.deleteRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.repo_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.repo_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{item.repo_name}</td>\n          <td>{item.repo_id}</td>\n          <td>\n            {!item.owner_email ?\n              '--' :\n              item.owner_email.indexOf('@seafile_group') == -1 ?\n                <UserLink email={item.owner_email} name={item.owner_name} /> :\n                item.owner_name\n            }\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n};\n\nclass OrgRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgRepos(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"repos\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgRepos.propTypes = {\n  orgID: PropTypes.string,\n};\n\nexport default OrgRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addInstitution: PropTypes.func.isRequired\n};\n\nclass SysAdminAddInstitutionDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addInstitution(this.state.value.trim());\n  };\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add institution')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <p>{gettext('Name')}</p>\n            <FormGroup>\n              <Input\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddInstitutionDialog.propTypes = propTypes;\n\nexport default SysAdminAddInstitutionDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport SysAdminAddInstitutionDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No institutions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"75%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteInstitution={this.props.deleteInstitution}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getInstitutionsByPage: PropTypes.func.isRequired,\n  deleteInstitution: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteInstitution = () => {\n    this.props.deleteInstitution(this.props.item.id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const institutionName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', institutionName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/institutions/${item.id}/info/`}>{item.name}</Link></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Institution')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteInstitution}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteInstitution: PropTypes.func.isRequired,\n};\n\nclass Institutions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddInstitutionDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionsByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutions(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        institutionList: res.data.institution_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionsByPage(this.initPage));\n  };\n\n  toggleAddInstitutionDialog = () => {\n    this.setState({isAddInstitutionDialogOpen: !this.state.isAddInstitutionDialogOpen});\n  };\n\n  addInstitution = (name) => {\n    seafileAPI.sysAdminAddInstitution(name).then(res => {\n      let institutionList = this.state.institutionList;\n      institutionList.push(res.data);\n      this.setState({institutionList: institutionList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteInstitution = (institutionID) => {\n    seafileAPI.sysAdminDeleteInstitution(institutionID).then(res => {\n      let institutionList = this.state.institutionList.filter(inst => {\n        return inst.id != institutionID;\n      });\n      this.setState({institutionList: institutionList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddInstitutionDialogOpen, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddInstitutionDialog}>{gettext('Add Institution')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Institutions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.institutionList}\n                deleteInstitution={this.deleteInstitution}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionsByPage={this.getInstitutionsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddInstitutionDialogOpen &&\n          <SysAdminAddInstitutionDialog\n            addInstitution={this.addInstitution}\n            toggle={this.toggleAddInstitutionDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Institutions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  institutionID: PropTypes.string,\n  institutionName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'members', urlPart: 'members', text: gettext('Members')},\n      {name: 'admins', urlPart: 'admins', text: gettext('Admins')},\n    ];\n  }\n\n  render() {\n    const { currentItem, institutionID, institutionName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/institutions/`}>{gettext('Institutions')}</Link> / {institutionName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/institutions/${institutionID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetInstitutionQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg, institutionInfo } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { name, user_count, quota_total, quota_used } = institutionInfo;\n      const { isSetQuotaDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {name}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{user_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_used)} / ${quota_total > 0 ? Utils.bytesToSize(quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetInstitutionQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  institutionInfo: PropTypes.object.isRequired,\n  updateQuota: PropTypes.func.isRequired,\n};\n\n\nclass InstitutionInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        institutionInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    seafileAPI.sysAdminUpdateInstitution(this.props.institutionID, quota).then(res => {\n      const newInstitutionInfo = Object.assign(this.state.institutionInfo, {\n        quota_total: res.data.quota_total,\n      });\n      this.setState({institutionInfo: newInstitutionInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n\n  render() {\n    const { institutionInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav currentItem=\"info\" institutionID={this.props.institutionID} institutionName={institutionInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                institutionInfo={this.state.institutionInfo}\n                updateQuota={this.updateQuota}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nInstitutionInfo.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: [],\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  };\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.props.addUser(emails);\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n            isMulti={true}\n            className='org-add-member-select'\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  setAdmin={this.props.setAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getInstitutionUsersByPage: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleSetAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isSetAdminDialogOpen: !this.state.isSetAdminDialogOpen});\n  };\n\n  setAdmin = () => {\n    this.props.setAdmin(this.props.item.email);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Delete':\n        this.props.deleteUser(this.props.item.email);\n        break;\n      case 'Set Admin':\n        this.toggleSetAdminDialog();\n        break;\n    }\n  };\n\n  getOperations = () => {\n    let operations = [];\n    if (!this.props.item.is_institution_admin) {\n      operations.push('Set Admin');\n    }\n    operations.push('Delete');\n    return operations;\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Set Admin':\n        translateResult = gettext('Set Admin');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isSetAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const dialogMsg = gettext('Are you sure you want to set {placeholder} as Admin?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={this.getOperations()}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isSetAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Set Admin')}\n            message={dialogMsg}\n            executeOperation={this.setAdmin}\n            toggleDialog={this.toggleSetAdminDialog}\n            confirmBtnText={gettext('Set Admin')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.string.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass InstitutionUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddUserDialogOpen: false\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionUsersByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionUsersByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutionUsers(this.props.institutionID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  setAdmin = (email) => {\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, true).then(res => {\n      let userList = this.state.userList.map(user => {\n        if (user.email == email) {\n          user.is_institution_admin = true;\n        }\n        return user;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionUsersByPage(this.initPage));\n  };\n\n  addUser = (emails) => {\n    seafileAPI.sysAdminAddInstitutionUserBatch(this.props.institutionID, emails).then(res => {\n      this.toggleAddUserDialog();\n      let successArray = res.data.success;\n      let failedArray = res.data.failed;\n      if (successArray.length) {\n        let newUserList = this.state.userList.concat(successArray);\n        this.setState({userList: newUserList});\n      }\n      failedArray.forEach((item) => {\n        toaster.danger(item.error_msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddUserDialogOpen, institutionName, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"members\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                setAdmin={this.setAdmin}\n                deleteUser={this.deleteUser}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionUsersByPage={this.getInstitutionUsersByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <AddMemberDialog\n            addUser={this.addUser}\n            toggle={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nInstitutionUsers.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No admins')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  revokeAdmin={this.props.revokeAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  revokeAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isRevokeAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleRevokeAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  };\n\n  revokeAdmin = () => {\n    this.props.revokeAdmin(this.props.item);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isRevokeAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Revoke Admin']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  revokeAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n};\n\nclass InstitutionAdmins extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n    seafileAPI.sysAdminListInstitutionAdmins(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  revokeAdmin = (item) => {\n    const email = item.email;\n    const name = item.name;\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, false).then(res => {\n      let userList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { institutionName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"admins\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                revokeAdmin={this.revokeAdmin}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nInstitutionAdmins.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionAdmins;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'loginLogs', urlPart:'logs/login', text: gettext('Login')},\n      {name: 'fileAccessLogs', urlPart:'logs/file-access', text: gettext('File Access')},\n      {name: 'fileUpdateLogs', urlPart:'logs/file-update', text: gettext('File Update')},\n      {name: 'sharePermissionLogs', urlPart:'logs/share-permission', text: gettext('Permission')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport moment from 'moment';\n\nclass LogsExportExcelDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startDateStr: '',\n      endDateStr: '',\n      errMsg: '',\n    };\n  }\n\n  downloadExcel = () => {\n    if (!this.isValidDateStr()) {\n      return;\n    }\n    let { startDateStr, endDateStr } = this.state;\n    let url = siteRoot;\n\n    switch (this.props.logType) {\n      case 'login':\n        url += 'sys/loginadmin/export-excel/';\n        break;\n      case 'fileAccess':\n        url += 'sys/log/fileaudit/export-excel/';\n        break;\n      case 'fileUpdate':\n        url += 'sys/log/fileupdate/export-excel/';\n        break;\n      case 'sharePermission':\n        url += 'sys/log/permaudit/export-excel/';\n        break;\n    }\n    location.href = url + '?start=' + startDateStr + '&end=' + endDateStr;\n    this.props.toggle();\n  };\n\n  isValidDateStr = () => {\n    let { startDateStr, endDateStr } = this.state;\n    if (moment(startDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(endDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(startDateStr).isBefore(endDateStr)\n    ) {\n      return true;\n    } else {\n      this.setState({\n        errMsg: gettext('Date Invalid.')\n      });\n      return false;\n    }\n  };\n\n  handleStartChange = (e) => {\n    const startDateStr = e.target.value.trim();\n    this.setState({\n      startDateStr: startDateStr,\n      errMsg: ''\n    });\n  };\n\n  handleEndChange = (e) => {\n    const endDateStr = e.target.value.trim();\n    this.setState({\n      endDateStr: endDateStr,\n      errMsg: '',\n    });\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Choose date')}</ModalHeader>\n        <ModalBody>\n          <FormGroup>\n            <Label>{gettext('Start date')}</Label>\n            <Input\n              value={this.state.startDateStr}\n              onChange={this.handleStartChange}\n              placeholder='yyyy-mm-dd'\n              autoFocus={true}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>{gettext('End date')}</Label>\n            <Input\n              value={this.state.endDateStr}\n              onChange={this.handleEndChange}\n              placeholder='yyyy-mm-dd'\n            />\n          </FormGroup>\n          {this.state.errMsg &&\n            <Alert className=\"mt-2\" color=\"danger\">\n              {gettext(this.state.errMsg)}\n            </Alert>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.downloadExcel}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  logType: PropTypes.string.isRequired,\n};\n\nLogsExportExcelDialog.propTypes = propTypes;\n\nexport default LogsExportExcelDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport { Button } from 'reactstrap';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\n\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.log_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass LoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.login_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"loginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'login'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default LoginLogs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\n\nclass FilterMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMenuShown: false\n    };\n  }\n\n  toggleMenu = () => {\n    this.setState({\n      isMenuShown: !this.state.isMenuShown\n    }, () => {\n      this.props.toggleFreezeItem(this.state.isMenuShown);\n    });\n  };\n\n  onItemClick = () => {\n    this.props.filterItems();\n    this.props.toggleFreezeItem(false);\n  };\n\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isMenuShown} toggle={this.toggleMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"sf-dropdown-toggle sf2-icon-caret-down\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isMenuShown}\n        />\n        <DropdownMenu>\n          <DropdownItem onClick={this.onItemClick}>{gettext('only show {placeholder}').replace('{placeholder}', filterBy)}</DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nFilterMenu.propTypes = {\n  toggleFreezeItem: PropTypes.func.isRequired,\n  filterItems: PropTypes.array.isRequired,\n  filterBy: PropTypes.string.isRequired,\n};\n\nexport default FilterMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\n\nclass ToggleFilter extends React.Component {\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Button\n        color='secondary'\n        className=\"my-2 mr-2\"\n        onClick={this.props.toggleFilter}\n      >\n        <span className=\"text-primary\">{filterBy}</span>\n        <span className=\"ml-2 close\" style={{fontSize: '1.2rem'}}>x</span>\n      </Button>\n    );\n  }\n}\n\nToggleFilter.propTypes = {\n  filterBy: PropTypes.string.isRequired,\n  toggleFilter: PropTypes.func.isRequired,\n};\n\nexport default ToggleFilter;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport { Button } from 'reactstrap';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport LogsNav from './logs-nav';\nimport FilterMenu from './file-access-item-menu';\nimport ToggleFilter from './file-access-toggle-filter';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  toggleFilterByUser = () => {\n    this.props.filterByUser(null);\n  };\n\n  toggleFilterByRepo = () => {\n    this.props.filterByRepo(null);\n  };\n\n  toggleFreezeItem = (freezed) => {\n    this.setState({\n      isItemFreezed: freezed\n    });\n  };\n\n  render() {\n    const {\n      loading, errorMsg, items,\n      userFilteredBy, repoFilteredBy,\n      perPage, currentPage, hasNextPage\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file access logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <div>\n            {userFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].name}\n                toggleFilter={this.toggleFilterByUser}\n              />\n            )}\n            {repoFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].repo_name}\n                toggleFilter={this.toggleFilterByRepo}\n              />\n            )}\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('IP')}{' / '}{gettext('Device')}</th>\n                <th width=\"20%\">{gettext('Date')}</th>\n                <th width=\"15%\">{gettext('Library')}</th>\n                <th width=\"15%\">{gettext('File')}{' / '}{gettext('Folder')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isFreezed={this.state.isItemFreezed}\n                    toggleFreezeItem={this.toggleFreezeItem}\n                    userFilteredBy={userFilteredBy}\n                    repoFilteredBy={repoFilteredBy}\n                    filterByUser={this.props.filterByUser}\n                    filterByRepo={this.props.filterByRepo}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  toggleFreezeItem: PropTypes.func.isRequired,\n  userFilteredBy: PropTypes.string.isRequired,\n  repoFilteredBy: PropTypes.string.isRequired,\n  filterByUser: PropTypes.func.isRequired,\n  filterByRepo: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHighlighted: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: true,\n        isOpIconShown: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  };\n\n  filterByUser = () => {\n    const { item } = this.props;\n    this.props.filterByUser(item.email);\n  };\n\n  filterByRepo = () => {\n    const { item } = this.props;\n    this.props.filterByRepo(item.repo_id);\n  };\n\n  toggleFreezeItem = (freezed) => {\n    this.props.toggleFreezeItem(freezed);\n    if (!freezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  };\n\n  render() {\n    const { isHighlighted, isOpIconShown } = this.state;\n    const { item, userFilteredBy, repoFilteredBy } = this.props;\n    return (\n      <tr className={isHighlighted ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>\n          <UserLink email={item.email} name={item.name} />\n          {isOpIconShown && !userFilteredBy && (\n            <FilterMenu\n              filterBy={item.name}\n              filterItems={this.filterByUser}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.event_type}</td>\n        <td>{item.ip}{' / '}{item.device || '--'}</td>\n        <td>{moment(item.time).fromNow()}</td>\n        <td>\n          {item.repo_name ? item.repo_name : gettext('Deleted')}\n          {isOpIconShown && item.repo_name && !repoFilteredBy && (\n            <FilterMenu\n              filterBy={item.repo_name}\n              filterItems={this.filterByRepo}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.file_or_dir_name}</td>\n      </tr>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isFreezed: PropTypes.bool.isRequired,\n  toggleFreezeItem: PropTypes.func.isRequired,\n  userFilteredBy: PropTypes.string.isRequired,\n  repoFilteredBy: PropTypes.string.isRequired,\n  filterByUser: PropTypes.func.isRequired,\n  filterByRepo: PropTypes.func.isRequired,\n};\n\nclass FileAccessLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      userFilteredBy: urlParams.get('email'),\n      repoFilteredBy: urlParams.get('repo_id')\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    const { perPage, userFilteredBy, repoFilteredBy } = this.state;\n    seafileAPI.sysAdminListFileAccessLogs(page, perPage, userFilteredBy, repoFilteredBy).then((res) => {\n      this.setState({\n        logList: res.data.file_access_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  updateURL = (obj) => {\n    let url = new URL(location.href);\n    let searchParams = new URLSearchParams(url.search);\n    for (let key in obj) {\n      obj[key] == null ?\n        searchParams.delete(key) :\n        searchParams.set(key, obj[key]);\n    }\n    url.search = searchParams.toString();\n    navigate(url.toString());\n  };\n\n  filterByUser = (email) => {\n    this.setState({\n      userFilteredBy: email\n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'email': email});\n    });\n  };\n\n  filterByRepo = (repoID) => {\n    this.setState({\n      repoFilteredBy: repoID\n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'repo_id': repoID});\n    });\n  };\n\n  render() {\n    const {\n      logList,\n      userFilteredBy, repoFilteredBy,\n      currentPage, perPage, hasNextPage,\n      isExportExcelDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileAccessLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                userFilteredBy={userFilteredBy}\n                repoFilteredBy={repoFilteredBy}\n                filterByUser={this.filterByUser}\n                filterByRepo={this.filterByRepo}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileAccess'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileAccessLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport { Button } from 'reactstrap';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport ModalPortal from '../../../components/modal-portal';\nimport CommitDetails from '../../../components/dialog/commit-details';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file update logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('Date')}</th>\n                <th width=\"25%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Action')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isCommitDetailsDialogOpen: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n\n  toggleCommitDetailsDialog = () => {\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  };\n\n  showCommitDetails = (e) => {\n    e.preventDefault();\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>{moment(item.time).fromNow()}</td>\n          <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n          <td>\n            {item.file_operation}\n            {item.repo_name && !item.repo_encrypted &&\n              <a className=\"ml-1\" href=\"#\" onClick={this.showCommitDetails}>{gettext('Details')}</a>\n            }\n          </td>\n        </tr>\n        {this.state.isCommitDetailsDialogOpen &&\n          <ModalPortal>\n            <CommitDetails\n              repoID={item.repo_id}\n              commitID={item.commit_id}\n              commitTime={item.time}\n              toggleDialog={this.toggleCommitDetailsDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\n\nclass FileUpdateLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListFileUpdateLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.file_update_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileUpdateLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileUpdate'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileUpdateLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsNav from './logs-nav';\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No permission logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"15%\">{gettext('Share From')}</th>\n                <th width=\"15%\">{gettext('Share To')}</th>\n                <th width=\"10%\">{gettext('Actions')}</th>\n                <th width=\"13%\">{gettext('Permission')}</th>\n                <th width=\"20%\">{gettext('Library')}</th>\n                <th width=\"12%\">{gettext('Folder')}</th>\n                <th width=\"15%\">{gettext('Date')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  getActionTextByEType = (etype) => {\n    if (etype.indexOf('add') != -1) {\n      return gettext('Add');\n    } else if (etype.indexOf('modify') != -1) {\n      return gettext('Modify');\n    } else if (etype.indexOf('delete') != -1) {\n      return gettext('Delete');\n    } else {\n      return '';\n    }\n  };\n\n  getShareTo = (item) => {\n    switch(item.share_type) {\n      case 'user':\n        return <UserLink email={item.to_user_email} name={item.to_user_name} />;\n      case 'group':\n        return <Link to={`${siteRoot}sys/groups/${item.to_group_id}/libraries/`}>{item.to_group_name}</Link>;\n      case 'department':\n        return <Link to={`${siteRoot}sys/departments/${item.to_group_id}/`}>{item.to_group_name}</Link>;\n      case 'all':\n        return <Link to={`${siteRoot}org/`}>{gettext('All')}</Link>;\n      default:\n        return gettext('Deleted');\n    }\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.from_user_email} name={item.from_user_name} /></td>\n        <td>{this.getShareTo(item)}</td>\n        <td>{this.getActionTextByEType(item.etype)}</td>\n        <td>{Utils.sharePerms(item.permission)}</td>\n        <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n        <td>{item.folder}</td>\n        <td>{moment(item.date).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass SharePermissionLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListSharePermissionLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.share_permission_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"sharePermissionLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'sharePermission'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SharePermissionLogs;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  headingText: PropTypes.string.isRequired,\n  children: PropTypes.object.isRequired\n};\n\nclass Section extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { headingText, children} = this.props;\n    return (\n      <div className=\"mb-4\">\n        <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{headingText}</h4>\n        {children}\n      </div>\n    );\n  }\n}\n\nSection.propTypes = propTypes;\n\nexport default Section;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, Label } from 'reactstrap';\n\nconst propTypes = {\n  displayName: PropTypes.string.isRequired,\n  helpTip: PropTypes.string,\n  mainContent: PropTypes.object.isRequired,\n  extraContent: PropTypes.object\n};\n\nclass SettingItemBase extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { helpTip, displayName, mainContent, extraContent } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"my-4\">\n          <Col md=\"3\">\n            <Label className=\"web-setting-label\">{displayName}</Label>\n          </Col>\n          <Col md=\"5\">\n            {mainContent}\n            {helpTip && <p className=\"small text-secondary mt-1\">{helpTip}</p>}\n          </Col>\n          <Col md=\"4\">\n            {extraContent}\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nSettingItemBase.propTypes = propTypes;\n\nexport default SettingItemBase;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  inputType: PropTypes.string,\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string,PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isBtnsShown: false,\n      value: this.props.value\n    };\n  }\n\n  toggleBtns = () => {\n    this.setState({isBtnsShown: !this.state.isBtnsShown});\n  };\n\n  hideBtns = (e) => {\n    if (!this.state.isBtnsShown) {\n      return;\n    }\n    if (this.props.value != this.state.value) {\n      this.setState({value: this.props.value});\n    }\n    this.toggleBtns();\n  };\n\n  onInputChange = (e) => {\n    this.setState({ value: e.target.value });\n  };\n\n  onSubmit = (e) => {\n    const value = this.state.value.trim();\n    if (value != this.props.value) {\n      this.props.saveSetting(this.props.keyText, value);\n    }\n    this.toggleBtns();\n  };\n\n  render() {\n    const { isBtnsShown, value } = this.state;\n    const { helpTip, displayName, inputType } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <Input type={inputType || 'text'} className={inputType == 'textarea' ? 'web-setting-textarea' : ''} onChange={this.onInputChange} onFocus={this.toggleBtns} onBlur={this.hideBtns} value={value} />\n        }\n        extraContent={\n          isBtnsShown ?\n            <Fragment>\n              <Button className=\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\" onMouseDown={this.onSubmit} title={gettext('Submit')}></Button>\n              <Button className=\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\" title={gettext('Cancel')}></Button>\n            </Fragment> : null\n        }\n      />\n    );\n  }\n}\n\nWebSettingInput.propTypes = propTypes;\n\nexport default WebSettingInput;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  postFile: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  helpTip: PropTypes.string.isRequired,\n  fileWidth: PropTypes.number.isRequired,\n  fileHeight: PropTypes.number.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingFile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n  }\n\n  uploadFile = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    this.props.postFile(file, this.props.keyText);\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  render() {\n    const { helpTip, filePath, fileWidth, fileHeight, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <img src={filePath + '?t=' + new Date().getTime()} alt={displayName} width={fileWidth} height={fileHeight} className=\"mb-1\" />\n        }\n        extraContent={\n          <Fragment>\n            <Button color=\"secondary\" onClick={this.openFileInput}>{gettext('Change')}</Button>\n            <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInput} />\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingFile.propTypes = propTypes;\n\nexport default WebSettingFile;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingCheckbox extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: this.props.value\n    };\n  }\n\n  onInputChange = (e) => {\n    const checked = e.target.checked;\n    const valueToNum = checked ? 1 : 0;\n    this.setState({\n      inputChecked: checked\n    });\n    this.props.saveSetting(this.props.keyText, valueToNum);\n  };\n\n  render() {\n    const { inputChecked } = this.state;\n    const { helpTip, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        mainContent={\n          <Fragment>\n            <Input className=\"ml-0\" checked={inputChecked} type='checkbox' onChange={this.onInputChange} />\n            <p className=\"ml-4\">{helpTip}</p>\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingCheckbox.propTypes = propTypes;\n\nexport default WebSettingCheckbox;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro, mediaUrl, logoPath, faviconPath, loginBGPath } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Section from './section';\nimport InputItem from './input-item';\nimport FileItem from './file-item';\nimport CheckboxItem from './checkbox-item';\n\nimport '../../../css/system-admin-web-settings.css';\n\nclass WebSettings extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      config_dict: null,\n      logoPath: mediaUrl + logoPath,\n      faviconPath: mediaUrl + faviconPath,\n      loginBGPath: mediaUrl + loginBGPath\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysSettingInfo().then((res) => {\n      this.setState({\n        loading: false,\n        config_dict: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  saveSetting = (key, value) => {\n    seafileAPI.sysAdminSetSysSettingInfo(key, value).then((res) => {\n      this.setState({\n        config_dict: res.data\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  postFile = (file, fileType) => {\n    let postFile;\n    if (fileType == 'Logo') {\n      postFile = seafileAPI.sysAdminUpdateLogo(file);\n    } else if (fileType == 'Favicon') {\n      postFile = seafileAPI.sysAdminUpdateFavicon(file);\n    } else if (fileType == 'loginBGImage') {\n      postFile = seafileAPI.sysAdminUpdateLoginBG(file);\n    }\n    postFile.then((res) => {\n      if (fileType == 'Logo') {\n        this.setState({\n          logoPath: res.data.logo_path\n        });\n      } else if (fileType == 'Favicon') {\n        this.setState({\n          faviconPath: res.data.favicon_path\n        });\n      } else if (fileType == 'loginBGImage') {\n        this.setState({\n          loginBGPath: res.data.login_bg_image_path\n        });\n      }\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { loading, errorMsg, config_dict, logoPath, faviconPath, loginBGPath } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Settings')}</h3>\n            </div>\n            <div className=\"cur-view-content container mw-100\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) && config_dict &&\n              <Fragment>\n                <p className=\"small text-secondary my-4\">{gettext('Note: Settings via web interface are saved in database table (seahub-db/constance_config). They have a higher priority over the settings in config files.')}</p>\n\n                <Section headingText='URL'>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SERVICE_URL'\n                      keyText='SERVICE_URL'\n                      value={config_dict['SERVICE_URL']}\n                      helpTip={gettext('The URL of the server, like https://seafile.example.com or http://192.168.1.2:8000')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='FILE_SERVER_ROOT'\n                      keyText='FILE_SERVER_ROOT'\n                      value={config_dict['FILE_SERVER_ROOT']}\n                      helpTip={gettext('The internal URL for downloading/uploading files. Users will not be able to download/upload files if this is not set correctly. If you config Seafile behind Nginx/Apache, it should be SERVICE_URL/seafhttp, like https://seafile.example.com/seafhttp .')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Branding')}>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_TITLE'\n                      keyText='SITE_TITLE'\n                      value={config_dict['SITE_TITLE']}\n                      helpTip={gettext('Site title shown in a browser tab')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_NAME'\n                      keyText='SITE_NAME'\n                      value={config_dict['SITE_NAME']}\n                      helpTip={gettext('Site name used in email sending')}\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Logo'\n                      keyText='Logo'\n                      filePath={logoPath}\n                      fileWidth={256}\n                      fileHeight={64}\n                      helpTip='logo.png, 256px * 64px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Favicon'\n                      keyText='Favicon'\n                      filePath={faviconPath}\n                      fileWidth={32}\n                      fileHeight={32}\n                      helpTip='favicon.ico, 32px * 32px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName={gettext('Login Background Image')}\n                      keyText='loginBGImage'\n                      filePath={loginBGPath}\n                      fileWidth={240}\n                      fileHeight={160}\n                      helpTip='login-bg.jpg, 2400px * 1600px'\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_BRANDING_CSS'\n                      keyText='ENABLE_BRANDING_CSS'\n                      value={config_dict['ENABLE_BRANDING_CSS']}\n                      helpTip={gettext('Use custom CSS')}\n                    />\n                    <InputItem\n                      inputType=\"textarea\"\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('Custom CSS')}\n                      keyText='CUSTOM_CSS'\n                      value={config_dict['CUSTOM_CSS']}\n                      helpTip=''\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('User')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('allow new registrations')}\n                      keyText='ENABLE_SIGNUP'\n                      value={config_dict['ENABLE_SIGNUP']}\n                      helpTip={gettext('Allow new user registrations. Uncheck this to prevent anyone from creating a new account.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('activate after registration')}\n                      keyText='ACTIVATE_AFTER_REGISTRATION'\n                      value={config_dict['ACTIVATE_AFTER_REGISTRATION']}\n                      helpTip={gettext('Activate user immediately after registration. If unchecked, a user need to be activated by administrator or via activation email')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('send activation email')}\n                      keyText='REGISTRATION_SEND_MAIL'\n                      value={config_dict['REGISTRATION_SEND_MAIL']}\n                      helpTip={gettext('Send activation Email after user registration.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('keep sign in')}\n                      keyText='LOGIN_REMEMBER_DAYS'\n                      value={config_dict['LOGIN_REMEMBER_DAYS']}\n                      helpTip={gettext('Number of days that keep user sign in.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='LOGIN_ATTEMPT_LIMIT'\n                      keyText='LOGIN_ATTEMPT_LIMIT'\n                      value={config_dict['LOGIN_ATTEMPT_LIMIT']}\n                      helpTip={gettext('The maximum number of failed login attempts before showing CAPTCHA.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='FREEZE_USER_ON_LOGIN_FAILED'\n                      keyText='FREEZE_USER_ON_LOGIN_FAILED'\n                      value={config_dict['FREEZE_USER_ON_LOGIN_FAILED']}\n                      helpTip={gettext('Freeze user account when failed login attempts exceed limit.')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Groups')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_SHARE_TO_ALL_GROUPS'\n                    keyText='ENABLE_SHARE_TO_ALL_GROUPS'\n                    value={config_dict['ENABLE_SHARE_TO_ALL_GROUPS']}\n                    helpTip={gettext('Enable users to share libraries to any groups in the system.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Password')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='strong password'\n                      keyText='USER_STRONG_PASSWORD_REQUIRED'\n                      value={config_dict['USER_STRONG_PASSWORD_REQUIRED']}\n                      helpTip={gettext('Force user to use a strong password when sign up or change password.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='force password change'\n                      keyText='FORCE_PASSWORD_CHANGE'\n                      value={config_dict['FORCE_PASSWORD_CHANGE']}\n                      helpTip={gettext('Force user to change password when account is newly added or reset by admin')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password minimum length')}\n                      keyText='USER_PASSWORD_MIN_LENGTH'\n                      value={config_dict['USER_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an account password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password strength level')}\n                      keyText='USER_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['USER_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of an account password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='enable two factor authentication'\n                      keyText='ENABLE_TWO_FACTOR_AUTH'\n                      value={config_dict['ENABLE_TWO_FACTOR_AUTH']}\n                      helpTip={gettext('Enable two factor authentication')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Library')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='library history'\n                      keyText='ENABLE_REPO_HISTORY_SETTING'\n                      value={config_dict['ENABLE_REPO_HISTORY_SETTING']}\n                      helpTip={gettext('Allow user to change library history settings')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='encrypted library'\n                      keyText='ENABLE_ENCRYPTED_LIBRARY'\n                      value={config_dict['ENABLE_ENCRYPTED_LIBRARY']}\n                      helpTip={gettext('Allow user to create encrypted libraries')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('library password minimum length')}\n                      keyText='REPO_PASSWORD_MIN_LENGTH'\n                      value={config_dict['REPO_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an encrypted library password should include.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link force password')}\n                      keyText='SHARE_LINK_FORCE_USE_PASSWORD'\n                      value={config_dict['SHARE_LINK_FORCE_USE_PASSWORD']}\n                      helpTip={gettext('Force user use password when generating share/upload link.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password minimum length')}\n                      keyText='SHARE_LINK_PASSWORD_MIN_LENGTH'\n                      value={config_dict['SHARE_LINK_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters a share/upload link password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password strength level')}\n                      keyText='SHARE_LINK_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['SHARE_LINK_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of a share/upload link password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_USER_CLEAN_TRASH'\n                      keyText='ENABLE_USER_CLEAN_TRASH'\n                      value={config_dict['ENABLE_USER_CLEAN_TRASH']}\n                      helpTip={gettext('Allow user to clean library trash')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Online Preview')}>\n                  <InputItem\n                    inputType=\"textarea\"\n                    saveSetting={this.saveSetting}\n                    displayName={gettext('text file extensions')}\n                    keyText='TEXT_PREVIEW_EXT'\n                    value={config_dict['TEXT_PREVIEW_EXT']}\n                    helpTip={gettext('Extensions of text files that can be online previewed, each suffix is separated by a comma.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Sync')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    keyText='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    value={config_dict['DISABLE_SYNC_WITH_ANY_FOLDER']}\n                    helpTip={gettext('If turn on, the desktop clients will not be able to sync a folder outside the default Seafile folder.')}\n                  />\n                </Section>\n\n                {isPro && <Section headingText={gettext('Terms')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_TERMS_AND_CONDITIONS'\n                    keyText='ENABLE_TERMS_AND_CONDITIONS'\n                    value={config_dict['ENABLE_TERMS_AND_CONDITIONS']}\n                    helpTip={gettext('Enable system admin to add Terms and Conditions, and all users will have to accept the terms.')}\n                  />\n                </Section>}\n              </Fragment>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default WebSettings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addNotification: PropTypes.func.isRequired\n};\n\nclass SysAdminAddSysNotificationDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addNotification(this.state.value.trim());\n  };\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add new notification')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"textarea\"\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddSysNotificationDialog.propTypes = propTypes;\n\nexport default SysAdminAddSysNotificationDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminAddSysNotificationDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No notifications')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <table>\n          <thead>\n            <tr>\n              <th width=\"95%\">{gettext('Notification Detail')}</th>\n              <th width=\"5%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item\n                key={index}\n                item={item}\n                isItemFreezed={this.state.isItemFreezed}\n                onFreezedItem={this.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n                deleteNotification={this.props.deleteNotification}\n                setToCurrent={this.props.setToCurrent}\n              />);\n            })}\n          </tbody>\n        </table>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getItemsByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  deleteItem: PropTypes.func,\n  setToCurrent: PropTypes.func.isRequired,\n  deleteNotification: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteNotification = () => {\n    this.props.deleteNotification(this.props.item.id);\n    this.toggleDeleteDialog();\n  };\n\n  setToCurrent = () => {\n    this.props.setToCurrent(this.props.item.id);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Set to current':\n        this.setToCurrent();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Set to current':\n        translateResult = gettext('Set to current');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  };\n\n  getOperations = () => {\n    const { item } = this.props;\n    let operations = [];\n    if (!item.is_current) {\n      operations.push('Set to current');\n    }\n    operations.push('Delete');\n    return operations;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            {item.msg}\n            {item.is_current &&\n              <span className=\"small text-orange\">{gettext('(current notification)')}</span>\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Notification')}\n            message={gettext('Are you sure you want to delete the notification ?')}\n            toggleDialog={this.toggleDeleteDialog}\n            executeOperation={this.deleteNotification}\n            confirmBtnText={gettext('Delete')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  onFreezedItem: PropTypes.func.isRequired,\n  setToCurrent: PropTypes.func.isRequired,\n  deleteNotification: PropTypes.func.isRequired,\n};\n\nclass Notifications extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      notificationList: [],\n      isAddNotificationDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListAllSysNotifications().then((res) => {\n      this.setState({\n        loading: false,\n        notificationList: res.data.notifications\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddNotificationDialog = () => {\n    this.setState({isAddNotificationDialogOpen: !this.state.isAddNotificationDialogOpen});\n  };\n\n  addNotification = (msg) => {\n    seafileAPI.sysAdminAddSysNotification(msg).then(res => {\n      let notificationList = this.state.notificationList;\n      notificationList.unshift(res.data.notification);\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteNotification = (id) => {\n    seafileAPI.sysAdminDeleteSysNotification(id).then(res => {\n      let notificationList = this.state.notificationList.filter(item => {\n        return item.id != id;\n      });\n      this.setState({notificationList: notificationList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setToCurrent = (id) => {\n    seafileAPI.sysAdminSetSysNotificationToCurrent(id).then(res => {\n      let notificationList = this.state.notificationList.map(item => {\n        if (item.id == id) {\n          item.is_current = true;\n        } else {\n          item.is_current = false;\n        }\n        return item;\n      });\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddNotificationDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddNotificationDialog}>{gettext('Add new notification')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Notifications')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.notificationList}\n                deleteNotification={this.deleteNotification}\n                setToCurrent={this.setToCurrent}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddNotificationDialogOpen &&\n          <SysAdminAddSysNotificationDialog\n            addNotification={this.addNotification}\n            toggle={this.toggleAddNotificationDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Notifications;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\n\n\nconst tablePropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  records: PropTypes.array.isRequired,\n};\n\nclass Table extends Component {\n\n  render() {\n    let { loading, errorMsg, records } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      return (\n        <table width=\"100%\" className=\"table table-hover table-vcenter\">\n          <thead>\n            <tr>\n              <th width=\"16%\">{gettext('Library')}</th>\n              <th width=\"30%\">ID</th>\n              <th width=\"30%\">{gettext('Path')}</th>\n              <th width=\"12%\">{gettext('Label')}</th>\n              <th width=\"12%\">{gettext('Suggestion')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {records.map((record, index) => {\n              return (\n                <Item key={index} record={record} />\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    }\n  }\n}\n\nTable.propTypes = tablePropTypes;\n\n\nconst itemPropTypes = {\n  record: PropTypes.object.isRequired,\n};\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let record = this.props.record;\n\n    return (\n      <tr>\n        <td>{record.repo_name}</td>\n        <td>{record.repo_id}</td>\n        <td>{record.path}</td>\n        <td>{record.detail.label}</td>\n        <td>{record.detail.suggestion}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = itemPropTypes;\n\n\nclass FileScanRecords extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      records: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listFileScanRecords().then((res) => {\n      this.setState({\n        loading: false,\n        records: res.data.record_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\" id=\"content-scan-records\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Content Scan Records')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Table\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                records={this.state.records}\n              />\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default FileScanRecords;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst WorkWeixinDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass WorkWeixinDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar.substring(0, member.avatar.length - 1) + '100';// get smaller avatar\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{'名称'}</th>\n                <th width=\"20%\">{'手机号'}</th>\n                <th width=\"30%\">{'邮箱'}</th>\n                <th width=\"15%\">{'已添加'}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{'成员列表为空'}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentMembersList.propTypes = WorkWeixinDepartmentMembersListPropTypes;\n\nexport default WorkWeixinDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst WorkWeixinDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  };\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <WorkWeixinDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  };\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{'导入部门'}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreeNode.propTypes = WorkWeixinDepartmentsTreeNodePropTypes;\n\nexport default WorkWeixinDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport WorkWeixinDepartmentsTreeNode from './work-weixin-departments-tree-node';\n\nconst WorkWeixinDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <WorkWeixinDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreePanel.propTypes = WorkWeixinDepartmentsTreePanelPropTypes;\n\nexport default WorkWeixinDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportWorkWeixinDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{'导入部门 '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{'将要导入 '}<strong>{departmentsCount}</strong>{' 个部门，其中包括 '}<strong>{membersCount}</strong>{' 个成员'}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{'取消'}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{'导入'}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportWorkWeixinDepartmentDialog.propTypes = propTypes;\n\nexport default ImportWorkWeixinDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport MainPanelTopbar from './main-panel-topbar';\nimport { WorkWeixinDepartmentMembersList, WorkWeixinDepartmentsTreePanel } from './work-weixin';\nimport ImportWorkWeixinDepartmentDialog from '../../components/dialog/import-work-weixin-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\n\nclass WorkWeixinDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getWorkWeixinDepartmentsList = (departmentID) => {\n    seafileAPI.adminListWorkWeixinDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getWorkWeixinDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListWorkWeixinDepartmentMembers(department_id, {fetch_child: true}).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  };\n\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getWorkWeixinDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('未选择成员', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddWorkWeixinUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' 成功导入', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  };\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getWorkWeixinDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportWorkWeixinDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getWorkWeixinDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? '部门 ' + success.department_name + ' 导入成功' : success.api_user_name + ' 导入成功' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  };\n\n  componentDidMount() {\n    this.getWorkWeixinDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{'导入用户'}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{'企业微信集成'}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <WorkWeixinDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <WorkWeixinDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportWorkWeixinDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default WorkWeixinDepartments;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst DingtalkDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass DingtalkDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar;\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{'名称'}</th>\n                <th width=\"20%\">{'手机号'}</th>\n                <th width=\"30%\">{'邮箱'}</th>\n                <th width=\"15%\">{'已添加'}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{'成员列表为空'}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentMembersList.propTypes = DingtalkDepartmentMembersListPropTypes;\n\nexport default DingtalkDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst DingtalkDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  };\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <DingtalkDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  };\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{'导入部门'}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDingtalkDepartmentsTreeNode.propTypes = DingtalkDepartmentsTreeNodePropTypes;\n\nexport default DingtalkDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport DingtalkDepartmentsTreeNode from './dingtalk-departments-tree-node';\n\nconst DingtalkDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <DingtalkDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentsTreePanel.propTypes = DingtalkDepartmentsTreePanelPropTypes;\n\nexport default DingtalkDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportDingtalkDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{'导入部门 '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{'将要导入 '}<strong>{departmentsCount}</strong>{' 个部门，其中包括 '}<strong>{membersCount}</strong>{' 个成员'}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{'取消'}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{'导入'}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportDingtalkDepartmentDialog.propTypes = propTypes;\n\nexport default ImportDingtalkDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\nimport toaster from '../../components/toast';\nimport { DingtalkDepartmentMembersList, DingtalkDepartmentsTreePanel } from './dingtalk';\nimport ImportDingtalkDepartmentDialog from '../../components/dialog/import-dingtalk-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\nimport '../../css/dingtalk-departments.css';\n\nclass DingtalkDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getDingtalkDepartmentsList = (departmentID) => {\n    seafileAPI.adminListDingtalkDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getDingtalkDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListDingtalkDepartmentMembers(department_id).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  };\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getDingtalkDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('未选择成员', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddDingtalkUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' 成功导入', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  };\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getDingtalkDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportDingtalkDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getDingtalkDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? '部门 ' + success.department_name + ' 导入成功' : success.api_user_name + ' 导入成功' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  };\n\n  componentDidMount() {\n    this.getDingtalkDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{'导入用户'}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{'钉钉集成'}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <DingtalkDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <DingtalkDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportDingtalkDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default DingtalkDepartments;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getItemsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getItemsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No invitations')}</h2>\n        </EmptyTip>\n      );\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Inviter')}</th>\n                <th width=\"20%\">{gettext('Accepter')}</th>\n                <th width=\"9%\">{gettext('Type')}</th>\n                <th width=\"14%\">{gettext('Invited at')}</th>\n                <th width=\"14%\">{gettext('Accepted at')}</th>\n                <th width=\"18%\">{gettext('Expired at')}</th>\n                <th width=\"5%\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getItemsByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  deleteItem: PropTypes.func,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.deleteItem();\n        break;\n      default:\n        break;\n    }\n  };\n\n  getInviteTypeText = () => {\n    let translateResult = '';\n    switch (this.props.item.invite_type) {\n      case 'Guest':\n        translateResult = gettext('Guest');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const {\n      isOpIconShown\n    } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.inviter_email} name={item.inviter_name} />\n          </td>\n          <td>\n            {item.accept_time ?\n              <UserLink email={item.accepter_email} name={item.accepter_name} /> :\n              item.accepter_email\n            }\n          </td>\n          <td>{this.getInviteTypeText()}</td>\n          <td>\n            <span title={moment(item.invite_time).format('llll')}>{moment(item.invite_time).fromNow()}</span>\n          </td>\n          <td>\n            {item.accept_time ?\n              <span title={moment(item.accept_time).format('llll')}>{moment(item.accept_time).fromNow()}</span> :\n              '--'\n            }\n          </td>\n          <td>\n            {item.is_expired ?\n              <span className=\"text-red\">{moment(item.expire_time).format('YYYY-MM-DD HH:mm')}</span> :\n              moment(item.expire_time).format('YYYY-MM-DD HH:mm')\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  onFreezedItem: PropTypes.func.isRequired,\n};\n\nclass Invitations extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      totalItemCount: 0,\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInvitations(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.invitation_list,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteItem = (targetItem) => {\n    const token = targetItem.token;\n    seafileAPI.sysAdminDeleteInvitation(token).then(res => {\n      let items = this.state.items.filter(item => {\n        return item.token != token;\n      });\n      this.setState({items: items});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteItemInBatch = () => {\n    seafileAPI.sysAdminDeleteExpiredInvitations().then(res => {\n      const prevItems = this.state.items;\n      const items = this.state.items.filter(item => !item.is_expired || item.accept_time);\n      if (items.length < prevItems.length) {\n        this.setState({\n          items: items\n        });\n        toaster.success(gettext('Operation succeeded.'));\n      }\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.deleteItemInBatch}>{gettext('Delete Expired Invitations')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Invitations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getItemsByPage={this.getItemsByPage}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Invitations;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { SimpleEditor } from '@seafile/seafile-editor';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onCommit: PropTypes.func.isRequired,\n  onCloseEditorDialog: PropTypes.func.isRequired,\n};\n\nclass TermsEditorDialog extends React.Component {\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  };\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  };\n\n  toggle = () => {\n    if (this.isContentChanged()) {\n      let currentContent = this.getCurrentContent();\n      this.props.onCommit(currentContent);\n    }\n    this.props.onCloseEditorDialog();\n  };\n\n  isContentChanged = () => {\n    return this.simpleEditor.hasContentChange();\n  };\n\n  getCurrentContent = () => {\n    let markdownContent = this.simpleEditor.getMarkdown();\n    return markdownContent;\n  };\n\n  setSimpleEditorRef = (editor) => {\n    this.simpleEditor = editor;\n  };\n\n  render() {\n    let { content, title } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        toggle={this.toggle}\n        onKeyDown={this.onKeyDown}\n        wrapClassName={'conditions-editor-dialog-wrapper'}\n        className={'conditions-editor-dialog'}\n        contentClassName={'conditions-editor-dialog-content'}\n        size={'lg'}\n        style={{width: 770}}\n      >\n        <ModalHeader className=\"conditions-editor-dialog-title\" toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody className={'conditions-editor-dialog-main'}>\n          <SimpleEditor\n            onRef={this.setSimpleEditorRef.bind(this)}\n            value={content || ''}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsEditorDialog.propTypes = propTypes;\n\nexport default TermsEditorDialog;\n","import React, {Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Alert, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport TermsPreviewWidget from '../../terms-preview-widget';\nimport TermsEditorDialog from '../terms-editor-dialog';\n\nimport '../../../css/terms-conditions-editor.css';\n\nconst propTypes = {\n  isUpdate: PropTypes.bool,\n  oldTermObj: PropTypes.object,\n  addTerm: PropTypes.func,\n  updateTerm: PropTypes.func,\n  toggle: PropTypes.func.isRequired,\n};\n\nclass AddOrUpdateTermDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      versionNumber: '',\n      text: '',\n      isActive: true,\n      errorMsg: '',\n      isConditionsEditorDialogShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let oldTermObj = this.props.oldTermObj;\n    if (oldTermObj) {\n      this.setState({\n        name: oldTermObj.name,\n        versionNumber: oldTermObj.version_number,\n        text: oldTermObj.text,\n        isActive: !(oldTermObj.activate_time === ''),\n      });\n    }\n  }\n\n  handleNameChange = (e) => {\n    this.setState({name: e.target.value.trim()});\n  };\n\n  handleVersionNumberChange = (e) => {\n    this.setState({versionNumber: e.target.value.trim()});\n  };\n\n  handleTextChange = (e) => {\n    this.setState({text: e.target.value.trim()});\n  };\n\n  setActive = () => {\n    this.setState({isActive: true});\n  };\n\n  setInActive = () => {\n    this.setState({isActive: false});\n  };\n\n  addTerm = () => {\n    let { name, versionNumber, text, isActive } = this.state;\n    if (name === '') {\n      this.setState({errMsg: gettext('Name is required.')});\n      return;\n    }\n    if (versionNumber === '') {\n      this.setState({errMsg: gettext('Version Number is required.')});\n      return;\n    }\n    if (isNaN(versionNumber)) {\n      this.setState({errMsg: gettext('Version Number must be a number.')});\n      return;\n    }\n    if (text === '') {\n      this.setState({errMsg: gettext('Text is required.')});\n      return;\n    }\n    if (this.props.isUpdate) {\n      this.props.updateTerm(name, versionNumber, text, isActive);\n    } else {\n      this.props.addTerm(name, versionNumber, text, isActive);\n    }\n  };\n\n  onContentClick = () => {\n    this.setState({isConditionsEditorDialogShow: !this.state.isConditionsEditorDialogShow});\n  };\n\n  onCloseEditorDialog = () => {\n    this.setState({isConditionsEditorDialogShow: false});\n  };\n\n  onUpdateContent = (content) => {\n    this.setState({ text: content });\n  };\n\n  render() {\n    let title = this.props.isUpdate ? gettext('Update Terms and Conditions') : gettext('Add Terms and Conditions');\n    return (\n      <Fragment>\n        <Modal isOpen={true} toggle={this.props.toggle}>\n          <ModalHeader toggle={this.props.toggle}>{title}</ModalHeader>\n          <ModalBody>\n            <FormGroup>\n              <Label for=\"name\">{gettext('Name')}</Label>\n              <Input id=\"name\" value={this.state.name} onChange={this.handleNameChange}/>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Version Number')}</Label>\n              <Input value={this.state.versionNumber} onChange={this.handleVersionNumberChange}/>\n            </FormGroup>\n            <FormGroup className=\"form-content\">\n              <Label>{gettext('Text')}</Label>\n              <TermsPreviewWidget content={this.state.text} onContentClick={this.onContentClick}/>\n            </FormGroup>\n            <FormGroup tag=\"fieldset\">\n              <Label>{gettext('Activated')}</Label>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={this.state.isActive} onChange={this.setActive} />\n                  {' '}{gettext('On')}\n                </Label>\n              </FormGroup>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={!this.state.isActive} onChange={this.setInActive} />\n                  {' '}{gettext('Off')}\n                </Label>\n              </FormGroup>\n            </FormGroup>\n            {this.state.errMsg && <Alert color=\"danger\">{this.state.errMsg}</Alert>}\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.addTerm}>{gettext('Submit')}</Button>\n          </ModalFooter>\n        </Modal>\n        {this.state.isConditionsEditorDialogShow && (\n          <TermsEditorDialog\n            content={this.state.text}\n            onCommit={this.onUpdateContent}\n            onCloseEditorDialog={this.onCloseEditorDialog}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nAddOrUpdateTermDialog.propTypes = propTypes;\n\nexport default AddOrUpdateTermDialog;\n","const hrefReg = /\\[.+\\]\\(\\S+\\)|<img src=(\\S+).+\\/>|!\\[\\]\\(\\S+\\)|<\\S+>/g,\n  imageReg1 = /^<img src=\"(\\S+)\" .+\\/>/,\n  imageReg2 = /^!\\[\\]\\((\\S+)\\)/,\n  linkReg1 = /^\\[.+\\]\\(\\S+\\)/,\n  linkReg2 = /^<\\S+>$/;\n\nconst getLinks = (hrefs) => {\n  const hrefObj = {\n    links: [],\n    images: []\n  };\n  hrefs.forEach((href) => {\n    if (href.search(linkReg1) >= 0 || href.search(linkReg2) >= 0) {\n      hrefObj.links.push(href);\n    } else {\n      let imageSrcs = href.match(imageReg1);\n      let imageSrcs1 = href.match(imageReg2);\n      if (imageSrcs) {\n        hrefObj.images.push(imageSrcs[1]);\n      } else if (imageSrcs1) {\n        hrefObj.images.push(imageSrcs1[1]);\n      }\n    }\n  });\n  return hrefObj;\n};\n\n\nconst getPreviewContent = (markdownContent) => {\n  let previewText = '';\n  let newMarkdownContent = markdownContent.replace(hrefReg, '');\n  for (let index = 0; index < newMarkdownContent.length; index++) {\n    if (newMarkdownContent[index] === '#') {\n      continue;\n    } else if (newMarkdownContent[index] === '\\n') {\n      previewText += ' ';\n    } else {\n      previewText += newMarkdownContent[index];\n    }\n    if (previewText.length === 30) {\n      break;\n    }\n  }\n\n  const hrefs = markdownContent.match(hrefReg);\n  if (hrefs) {\n    const { images, links } = getLinks(hrefs);\n    return { previewText, images, links };\n  }\n  return { previewText, images: [], links: [] };\n};\n\n\nexport default getPreviewContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport TermsPreviewWidget from '../terms-preview-widget';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onClosePreviewDialog: PropTypes.func.isRequired,\n};\n\nclass TermsPreviewDialog extends React.Component {\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  };\n\n\n  toggle = () => {\n    this.props.onClosePreviewDialog();\n  };\n\n  render() {\n    let { title, content } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        size={'lg'}\n        style={{width: 600}}\n        wrapClassName={'conditions-perview-wrapper'}\n        toggle={this.toggle}\n      >\n        <ModalHeader toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody>\n          <TermsPreviewWidget content={content} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsPreviewDialog.propTypes = propTypes;\n\nexport default TermsPreviewDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { processor } from '@seafile/seafile-editor';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport getPreviewContent from '../../../utils/markdown-utils';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TermsPerviewDialog from '../../../components/dialog/terms-preview-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemContent: '...',\n      isOpIconShown: false,\n      isUpdateDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTermsPerviewDialogOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    let mdFile = this.props.item.text;\n    processor.process(mdFile).then((result) => {\n      let innerHtml = String(result);\n      this.setState({itemContent: innerHtml});\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.item.text !== this.props.item.text) {\n      let mdFile = nextProps.item.text;\n      processor.process(mdFile).then((result) => {\n        let innerHtml = String(result);\n        this.setState({itemContent: innerHtml});\n      });\n    }\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  toggleUpdateDialog = (e) => {\n    this.setState({isUpdateDialogOpen: !this.state.isUpdateDialogOpen});\n  };\n\n  toggleDeleteDialog = (e) => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTermsContentDialog = (e) => {\n    this.setState({isTermsPerviewDialogOpen: !this.state.isTermsPerviewDialogOpen});\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Update':\n        this.toggleUpdateDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  deleteTerm = () => {\n    this.props.deleteTerm(this.props.item.id);\n    this.toggleDeleteDialog();\n  };\n\n  updateTerm = (name, versionNumber, text, isActive) => {\n    this.props.updateTerm(this.props.item.id, name, versionNumber, text, isActive);\n    this.toggleUpdateDialog();\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Update':\n        translateResult = gettext('Update');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    let { item } = this.props;\n    let { isDeleteDialogOpen, isUpdateDialogOpen, isTermsPerviewDialogOpen } = this.state;\n    let previewContent = getPreviewContent(item.text);\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>{item.name}</td>\n          <td>{item.version_number}</td>\n          <td className=\"ellipsis\">\n            <a href='#' onClick={this.toggleTermsContentDialog}>{previewContent.previewText}</a>\n          </td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.activate_time ? moment(item.activate_time).fromNow() : '--'}</td>\n          <td>\n            {this.state.isOpIconShown &&\n              <OpMenu\n                operations={['Update', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete T&C')}\n              message={deleteDialogMsg}\n              toggleDialog={this.toggleDeleteDialog}\n              executeOperation={this.deleteTerm}\n              confirmBtnText={gettext('Delete')}\n            />\n          </ModalPortal>\n        }\n        {isUpdateDialogOpen &&\n          <ModalPortal>\n            <AddOrUpdateTermDialog\n              updateTerm={this.updateTerm}\n              toggle={this.toggleUpdateDialog}\n              isUpdate={true}\n              oldTermObj={item}\n            />\n          </ModalPortal>\n        }\n        {isTermsPerviewDialogOpen &&\n          <ModalPortal>\n            <TermsPerviewDialog\n              content={item.text}\n              onClosePreviewDialog={this.toggleTermsContentDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nexport default Item;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Item from './item';\n\nconst propTypes = {\n  loading: PropTypes.bool.isRequired,\n  items: PropTypes.array.isRequired,\n  errorMsg: PropTypes.string,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No terms and conditions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Version')}</th>\n                <th width=\"25%\">{gettext('Text')}</th>\n                <th width=\"20%\">{gettext('Created')}</th>\n                <th width=\"20%\">{gettext('Activated')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    deleteTerm={this.props.deleteTerm}\n                    updateTerm={this.props.updateTerm}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = propTypes;\n\nexport default Content;\n\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './content';\n\nclass TermsAndConditions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      termList: [],\n      isAddTermDialogOpen: false,\n    };\n  }\n\n  toggleAddTermDialog = () => {\n    this.setState({isAddTermDialogOpen: !this.state.isAddTermDialogOpen});\n  };\n\n  componentDidMount () {\n    seafileAPI.sysAdminListTermsAndConditions().then((res) => {\n      this.setState({\n        termList: res.data.term_and_condition_list,\n        loading: false,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  addTerm = (name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminAddTermAndCondition(name, versionNumber, text, isActive).then(res => {\n      // After adding the terms, you need to refresh the page.\n      location.reload();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateTerm = (termID, name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminUpdateTermAndCondition(termID, name, versionNumber, text, isActive).then(res => {\n      let termList = this.state.termList.map(item => {\n        if (item.id == termID) {\n          return res.data;\n        } else {\n          return item;\n        }\n      });\n      this.setState({termList: termList});\n      toaster.success(gettext('Update succeeded.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteTerm = (termID) => {\n    seafileAPI.sysAdminDeleteTermAndCondition(termID).then(res => {\n      let termList = this.state.termList.filter(item => item.id != termID);\n      this.setState({termList: termList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { termList, isAddTermDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddTermDialog}>{gettext('Add')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Terms and Conditions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={termList}\n                deleteTerm={this.deleteTerm}\n                updateTerm={this.updateTerm}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddTermDialogOpen &&\n        <ModalPortal>\n          <AddOrUpdateTermDialog\n            isUpdate={false}\n            addTerm={this.addTerm}\n            toggle={this.toggleAddTermDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TermsAndConditions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all', text: gettext('All')},\n      {name: 'unhandled', urlPart: 'unhandled', text: gettext('Unhandled')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/virus-files/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  curPerPage: PropTypes.number,\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"27%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass AllVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.listVirusFiles(page, perPage).then((res) => {\n      const data = res.data;\n      this.setState({\n        loading: false,\n        virusFiles: data.virus_file_list,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AllVirusFiles;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleItemSelected: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  };\n\n  toggleItemSelected = (e) => {\n    this.props.toggleItemSelected(this.props.virusFile, e.target.checked);\n  };\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td className=\"text-center\">\n          <input type=\"checkbox\" checked={virusFile.isSelected} onChange={this.toggleItemSelected} />\n        </td>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  currentPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  curPerPage: PropTypes.number,\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  isAllItemsSelected: PropTypes.bool.isRequired,\n  toggleAllSelected: PropTypes.func.isRequired,\n  toggleItemSelected: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage,\n      isAllItemsSelected\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"text-center\">\n                  <input type=\"checkbox\" checked={isAllItemsSelected} onChange={this.props.toggleAllSelected} />\n                </th>\n                <th width=\"24%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                    toggleItemSelected={this.props.toggleItemSelected}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass UnhandledVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n\n      isAllItemsSelected: false,\n      selectedItems: [],\n\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    const hasHandled = false;\n    seafileAPI.listVirusFiles(page, perPage, hasHandled).then((res) => {\n      const data = res.data;\n      const items = data.virus_file_list.map(item => {\n        item.isSelected = false;\n        return item;\n      });\n      this.setState({\n        loading: false,\n        virusFiles: items,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  toggleAllSelected = () => {\n    this.setState((prevState) => ({\n      isAllItemsSelected: !prevState.isAllItemsSelected,\n      virusFiles: this.state.virusFiles.map((item) => {\n        item.isSelected = !prevState.isAllItemsSelected;\n        return item;\n      })\n    }));\n  };\n\n  toggleItemSelected = (targetItem, isSelected) => {\n    this.setState({\n      virusFiles: this.state.virusFiles.map((item) => {\n        if (item === targetItem) {\n          item.isSelected = isSelected;\n        }\n        return item;\n      })\n    }, () => {\n      this.setState({\n        isAllItemsSelected: !this.state.virusFiles.some(item => !item.isSelected)\n      });\n    });\n  };\n\n  handleSelectedItems = (op) => {\n    // op: 'delete-virus', 'ignore-virus'\n    const virusIDs = this.state.virusFiles\n      .filter(item => {\n        if (op == 'delete-virus') {\n          return item.isSelected && !item.has_deleted;\n        } else {\n          return item.isSelected && !item.has_ignored;\n        }\n      })\n      .map(item => item.virus_id);\n    seafileAPI.batchProcessVirusFiles(virusIDs, op).then((res) => {\n      let fileList = this.state.virusFiles;\n      res.data.success.forEach(item => {\n        let file = fileList.find(file => file.virus_id == item.virus_id);\n        if (op == 'delete-virus') {\n          file.has_deleted = true;\n        } else {\n          file.has_ignored = true;\n        }\n      });\n      this.setState({\n        virusFiles: fileList\n      });\n\n      res.data.failed.forEach(item => {\n        const file = fileList.find(file => file.virus_id == item.virus_id);\n        let errMsg = op == 'delete-virus' ?\n          gettext('Failed to delete %(virus_file) from library %(library): %(error_msg)') :\n          gettext('Failed to ignore %(virus_file) from library %(library): %(error_msg)');\n        errMsg = errMsg.replace('%(virus_file)', file.file_path)\n          .replace('%(library)', file.repo_name)\n          .replace('%(error_msg)', item.error_msg);\n        toaster.danger(errMsg);\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  deleteSelectedItems = () => {\n    const op = 'delete-virus';\n    this.handleSelectedItems(op);\n  };\n\n  ignoreSelectedItems = () => {\n    const op = 'ignore-virus';\n    this.handleSelectedItems(op);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        {this.state.virusFiles.some(item => item.isSelected) ? (\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button onClick={this.deleteSelectedItems} className=\"operation-item\">{gettext('Delete')}</Button>\n              <Button onClick={this.ignoreSelectedItems} className=\"operation-item\">{gettext('Ignore')}</Button>\n            </Fragment>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"unhandled\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n                isAllItemsSelected={this.state.isAllItemsSelected}\n                toggleAllSelected={this.toggleAllSelected}\n                toggleItemSelected={this.toggleItemSelected}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UnhandledVirusFiles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass LogsNav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'adminOperationLogs', urlPart:'admin-logs/operation', text: gettext('Admin Operation Logs')},\n      {name: 'adminLoginLogs', urlPart:'admin-logs/login', text: gettext('Admin Login Logs')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nLogsNav.propTypes = propTypes;\n\nexport default LogsNav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, enableSysAdminViewRepo, isPro } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin operation logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Operation')}</th>\n                <th width=\"50%\">{gettext('Detail')}</th>\n                <th width=\"15%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  getOperationText = (operationType) => {\n    switch (operationType) {\n      case 'repo_create': return gettext('Create Library');\n      case 'repo_delete': return gettext('Delete Library');\n      case 'repo_transfer': return gettext('Transfer Library');\n      case 'group_create': return gettext('Create Group');\n      case 'group_transfer': return gettext('Transfer Group');\n      case 'group_delete': return gettext('Delete Group');\n      case 'user_add': return gettext('Add User');\n      case 'user_delete': return gettext('Delete User');\n      default: return '';\n    }\n  };\n\n  getOperationDetail = (item) => {\n    let detail = item.detail;\n\n    let ownerPageUrl = '';\n    if (detail.owner) {\n      ownerPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.owner) + '/';\n    }\n    let userPageUrl = '';\n    if (detail.email) {\n      userPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.email) + '/';\n    }\n    let detailText = '';\n    let repoPageUrl = '';\n    let groupPageUrl = '';\n    if (item.operation == 'repo_create' || item.operation == 'repo_delete' || item.operation == 'repo_transfer') {\n      repoPageUrl = siteRoot + 'sys/libraries/' + detail.id + '/' + encodeURIComponent(detail.name) + '/';\n    }\n    if (item.operation == 'group_create' || item.operation == 'group_delete' || item.operation == 'group_transfer') {\n      groupPageUrl = siteRoot + 'sys/groups/' + detail.id + '/libraries/';\n    }\n\n    switch (item.operation) {\n      case 'repo_create':\n        detailText = gettext('Created library {library_name} with {owner} as its owner')\n          .replace('{owner}', '<a href=\"' + ownerPageUrl + '\">' + detail.owner + '</a>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'repo_delete':\n        detailText = gettext('Deleted library {library_name}')\n          .replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'repo_transfer':\n        detailText = gettext('Transferred library {library_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'group_create':\n        detailText = gettext('Created group {group_name}')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_transfer':\n        detailText = gettext('Transferred group {group_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_delete':\n        detailText = gettext('Deleted group {group_name}')\n          .replace('{group_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'user_add':\n        detailText = gettext('Added user {user}')\n          .replace('{user}', '<a href=\"' + userPageUrl + '\">' + detail.email+ '</a>');\n        return detailText;\n\n      case 'user_delete':\n        detailText = gettext('Deleted user {user}')\n          .replace('{user}', '<span class=\"font-weight-bold\">' + detail.email+ '</span>');\n        return detailText;\n\n      default: return '';\n    }\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{this.getOperationText(item.operation)}</td>\n        <td>\n          <span dangerouslySetInnerHTML={{__html: this.getOperationDetail(item)}}></span>\n        </td>\n        <td>{moment(item.datetime).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass AdminOperationLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminOperationLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminOperationLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.login_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass AdminLoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminLoginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminLoginLogs;\n","import React, { Component, Fragment } from 'react';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport toaster from '../../components/toast';\nimport moment from 'moment';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass AbuseReports extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      abuseReportList: [],\n    };\n  }\n\n  listAbuseReports = () => {\n    seafileAPI.sysAdminListAbuseReports().then((res) => {\n      this.setState({\n        abuseReportList: res.data.abuse_report_list,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  updateAbuseReport = (handled, abuseReportId) => {\n    seafileAPI.sysAdminUpdateAbuseReport(handled, abuseReportId).then((res) => {\n      const abuseReportList = this.state.abuseReportList.map((item, index) => {\n        if (item.id === abuseReportId) {\n          item.handled = res.data.handled;\n        }\n        return item;\n      });\n      this.setState({\n        abuseReportList: abuseReportList,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleError = (e) => {\n    if (e.response) {\n      toaster.danger(e.response.data.error_msg || e.response.data.detail || gettext('Error'), {duration: 3});\n    } else {\n      toaster.danger(gettext('Please check the network.'), {duration: 3});\n    }\n  };\n\n  componentDidMount() {\n    this.listAbuseReports();\n  }\n\n  render() {\n    const AbuseReportList = this.state.abuseReportList.map((item, index) => {\n      const handled = (!item.handled).toString();\n      const abuseReportId = item.id;\n      const fileUrl = siteRoot + 'lib/' + item.repo_id + '/file' + item.file_path;\n      return (\n        <tr key={index}>\n          <td>{item.repo_name}</td>\n          <td><a href={fileUrl} target=\"_blank\" rel=\"noreferrer\">{item.file_path}</a></td>\n          <td>{item.reporter}</td>\n          <td>{item.abuse_type}</td>\n          <td>{item.description}</td>\n          <td>{moment(item.time).format('YYYY-MM-DD')}</td>\n          <td><p onClick={this.updateAbuseReport.bind(this, handled, abuseReportId)}\n            className=\"op-target ellipsis ellipsis-op-target cursor-pointer\"\n          >{gettext(item.handled.toString())}</p></td>\n        </tr>\n      );\n    });\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Abuse Reports')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table className={'table-hover'}>\n                <thead>\n                  <tr>\n                    <th width=\"20%\">{gettext('Library')}</th>\n                    <th width=\"20%\">{gettext('File')}</th>\n                    <th width=\"10%\">{gettext('Reporter')}</th>\n                    <th width=\"15%\">{gettext('Abuse Type')}</th>\n                    <th width=\"20%\">{gettext('Description')}</th>\n                    <th width=\"10%\">{gettext('Time')}</th>\n                    <th width=\"5%\">{gettext('Handled')}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {AbuseReportList}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AbuseReports;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport MediaQuery from 'react-responsive';\nimport { Modal } from 'reactstrap';\nimport { Router } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nimport SidePanel from './side-panel';\nimport MainPanel from './main-panel';\n\nimport Info from './info';\n\nimport StatisticFile from './statistic/statistic-file';\nimport StatisticStorage from './statistic/statistic-storage';\nimport StatisticTraffic from './statistic/statistic-traffic';\nimport StatisticUsers from './statistic/statistic-users';\nimport StatisticReport from './statistic/statistic-reports';\n\nimport DesktopDevices from './devices/desktop-devices';\nimport MobileDevices from './devices/mobile-devices';\nimport DeviceErrors from './devices/devices-errors';\n\nimport Users from './users/users';\nimport AdminUsers from './users/admin-users';\nimport LDAPImportedUsers from './users/ldap-imported-users';\nimport LDAPUsers from './users/ldap-users';\nimport SearchUsers from './users/search-users';\nimport User from './users/user-info';\nimport UserOwnedRepos from './users/user-repos';\nimport UserSharedRepos from './users/user-shared-repos';\nimport UserLinks from './users/user-links';\nimport UserGroups from './users/user-groups';\n\nimport AllRepos from './repos/all-repos';\nimport SystemRepo from './repos/system-repo';\nimport TrashRepos from './repos/trash-repos';\nimport SearchRepos from './repos/search-repos';\nimport DirView from './repos/dir-view';\n\nimport Groups from './groups/groups';\nimport SearchGroups from './groups/search-groups';\nimport GroupRepos from './groups/group-repos';\nimport GroupMembers from './groups/group-members';\n\nimport Departments from './departments/departments';\nimport DepartmentList from './departments/department-list';\nimport SubDepartments from './departments/sub-departments';\nimport DepartmentMembers from './departments/department-members';\nimport DepartmentLibraries from './departments/department-libraries';\n\nimport ShareLinks from './links/share-links';\nimport UploadLinks from './links/upload-links';\n\nimport Orgs from './orgs/orgs';\nimport SearchOrgs from './orgs/search-orgs';\nimport OrgInfo from './orgs/org-info';\nimport OrgUsers from './orgs/org-users';\nimport OrgGroups from './orgs/org-groups';\nimport OrgRepos from './orgs/org-repos';\n\nimport Institutions from './institutions/institutions';\nimport InstitutionInfo from './institutions/institution-info';\nimport InstitutionUsers from './institutions/institution-users';\nimport InstitutionAdmins from './institutions/institution-admins';\n\nimport LoginLogs from './logs-page/login-logs';\nimport FileAccessLogs from './logs-page/file-access-logs';\nimport FileUpdateLogs from './logs-page/file-update-logs';\nimport SharePermissionLogs from './logs-page/share-permission-logs';\n\nimport WebSettings from './web-settings/web-settings';\nimport Notifications from './notifications/notifications';\nimport FileScanRecords from './file-scan-records';\nimport WorkWeixinDepartments from './work-weixin-departments';\nimport DingtalkDepartments from './dingtalk-departments';\nimport Invitations from './invitations/invitations';\nimport TermsAndConditions from './terms-and-conditions/terms-and-conditions';\n\nimport AllVirusFiles from './virus-scan/all-virus-files';\nimport UnhandledVirusFiles from './virus-scan/unhandled-virus-files';\n\nimport AdminOperationLogs from './admin-logs/operation-logs';\nimport AdminLoginLogs from './admin-logs/login-logs';\n\nimport AbuseReports from './abuse-reports';\n\nimport '../../css/layout.css';\nimport '../../css/toolbar.css';\n\nclass SysAdmin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSidePanelClosed: false,\n      currentTab: 'file-scan'\n    };\n  }\n\n  componentDidMount() {\n    let href = window.location.href.split('/');\n    let currentTab = href[href.length - 2];\n\n    const pageList = [\n      {\n        tab: 'devices',\n        urlPartList: ['desktop-devices', 'mobile-devices', 'device-errors']\n      },\n      {\n        tab: 'libraries',\n        urlPartList: ['all-libraries', 'search-libraries', 'system-library', 'trash-libraries', 'libraries/']\n      },\n      {\n        tab: 'statistic',\n        urlPartList: ['statistics/file', 'statistics/storage', 'statistics/user', 'statistics/traffic', 'statistics/reports']\n      },\n      {\n        tab: 'users',\n        urlPartList: ['users/', 'search-users/']\n      },\n      {\n        tab: 'groups',\n        urlPartList: ['groups/', 'search-groups/']\n      },\n      {\n        tab: 'organizations',\n        urlPartList: ['organizations/', 'search-organizations/']\n      },\n      {\n        tab: 'links',\n        urlPartList: ['share-links/', 'upload-links/']\n      },\n      {\n        tab: 'institutions',\n        urlPartList: ['institutions/']\n      },\n      {\n        tab: 'termsandconditions',\n        urlPartList: ['terms-and-conditions/']\n      },\n      {\n        tab: 'departments',\n        urlPartList: ['departments/']\n      },\n      {\n        tab: 'logs',\n        urlPartList: ['logs/']\n      },\n      {\n        tab: 'virus-files',\n        urlPartList: ['virus-files/']\n      },\n      {\n        tab: 'adminLogs',\n        urlPartList: ['admin-logs/']\n      }\n    ];\n    const tmpTab = this.getCurrentTabForPageList(pageList);\n    currentTab = tmpTab ? tmpTab : currentTab;\n\n    this.setState({currentTab: currentTab});\n  }\n\n  componentWillMount() {\n    if (!Utils.isDesktop()) {\n      this.setState({\n        isSidePanelClosed: true\n      });\n    }\n  }\n\n  getCurrentTabForPageList = (pageList) => {\n    let urlPartList, tab;\n    const urlBase = `${siteRoot}sys/`;\n    for (let i = 0, len = pageList.length; i < len; i++) {\n      urlPartList = pageList[i].urlPartList;\n      tab = pageList[i].tab;\n      for (let j = 0, jlen = urlPartList.length; j < jlen; j++) {\n        if (location.href.indexOf(`${urlBase}${urlPartList[j]}`) != -1) {\n          return tab;\n        }\n      }\n    }\n  };\n\n  onCloseSidePanel = () => {\n    this.setState({isSidePanelClosed: !this.state.isSidePanelClosed});\n  };\n\n  tabItemClick = (param) => {\n    this.setState({currentTab: param});\n    if (!Utils.isDesktop() && !this.state.isSidePanelClosed) {\n      this.setState({ isSidePanelClosed: true });\n    }\n  };\n\n  toggleSidePanel = () => {\n    this.setState({\n      isSidePanelClosed: !this.state.isSidePanelClosed\n    });\n  };\n\n  render() {\n    const { currentTab, isSidePanelClosed } = this.state;\n    const commonProps = {\n      toggleSidePanel: this.toggleSidePanel\n    };\n\n    return (\n      <div id=\"main\">\n        <SidePanel\n          isSidePanelClosed={isSidePanelClosed}\n          onCloseSidePanel={this.onCloseSidePanel}\n          currentTab={currentTab}\n          tabItemClick={this.tabItemClick}\n        />\n        <MainPanel>\n          <Router className=\"reach-router\">\n            <Info path={siteRoot + 'sys/info'} {...commonProps} />\n            <StatisticFile path={siteRoot + 'sys/statistics/file'} {...commonProps} />\n            <StatisticStorage path={siteRoot + 'sys/statistics/storage'} {...commonProps} />\n            <StatisticUsers path={siteRoot + 'sys/statistics/user'} {...commonProps} />\n            <StatisticTraffic path={siteRoot + 'sys/statistics/traffic'} {...commonProps} />\n            <StatisticReport path={siteRoot + 'sys/statistics/reports'} {...commonProps} />\n            <DesktopDevices path={siteRoot + 'sys/desktop-devices'} {...commonProps} />\n            <MobileDevices path={siteRoot + 'sys/mobile-devices'} {...commonProps} />\n            <DeviceErrors path={siteRoot + 'sys/device-errors'} {...commonProps} />\n            <AllRepos path={siteRoot + 'sys/all-libraries'} {...commonProps} />\n            <SystemRepo path={siteRoot + 'sys/system-library'} {...commonProps} />\n            <TrashRepos path={siteRoot + 'sys/trash-libraries'} {...commonProps} />\n            <SearchRepos path={siteRoot + 'sys/search-libraries'} {...commonProps} />\n            <DirView path={siteRoot + 'sys/libraries/:repoID/*'} {...commonProps} />\n            <WebSettings path={siteRoot + 'sys/web-settings'} {...commonProps} />\n            <Notifications path={siteRoot + 'sys/notifications'} {...commonProps} />\n            <Groups path={siteRoot + 'sys/groups'} {...commonProps} />\n            <SearchGroups path={siteRoot + 'sys/search-groups'} {...commonProps} />\n            <GroupRepos path={siteRoot + 'sys/groups/:groupID/libraries'} {...commonProps} />\n            <GroupMembers path={siteRoot + 'sys/groups/:groupID/members'} {...commonProps} />\n            <Departments path={siteRoot + 'sys/departments'}>\n              <DepartmentList path='/' {...commonProps} />\n              <SubDepartments path='/:groupID' {...commonProps} />\n              <DepartmentMembers path='/:groupID/members' {...commonProps} />\n              <DepartmentLibraries path='/:groupID/libraries' {...commonProps} />\n            </Departments>\n            <ShareLinks path={siteRoot + 'sys/share-links'} {...commonProps} />\n            <UploadLinks path={siteRoot + 'sys/upload-links'} {...commonProps} />\n            <Orgs path={siteRoot + 'sys/organizations'} {...commonProps} />\n            <SearchOrgs path={siteRoot + 'sys/search-organizations'} {...commonProps} />\n            <OrgInfo path={siteRoot + 'sys/organizations/:orgID/info'} {...commonProps} />\n            <OrgUsers path={siteRoot + 'sys/organizations/:orgID/users'} {...commonProps} />\n            <OrgGroups path={siteRoot + 'sys/organizations/:orgID/groups'} {...commonProps} />\n            <OrgRepos path={siteRoot + 'sys/organizations/:orgID/libraries'} {...commonProps} />\n            <Institutions path={siteRoot + 'sys/institutions'} {...commonProps} />\n            <InstitutionInfo path={siteRoot + 'sys/institutions/:institutionID/info'} {...commonProps} />\n            <InstitutionUsers path={siteRoot + 'sys/institutions/:institutionID/members'} {...commonProps} />\n            <InstitutionAdmins path={siteRoot + 'sys/institutions/:institutionID/admins'} {...commonProps} />\n            <LoginLogs path={siteRoot + 'sys/logs/login'} {...commonProps} />\n            <FileAccessLogs path={siteRoot + 'sys/logs/file-access'} {...commonProps} />\n            <FileUpdateLogs path={siteRoot + 'sys/logs/file-update'} {...commonProps} />\n            <SharePermissionLogs path={siteRoot + 'sys/logs/share-permission'} {...commonProps} />\n            <AdminOperationLogs path={siteRoot + 'sys/admin-logs/operation'} {...commonProps} />\n            <AdminLoginLogs path={siteRoot + 'sys/admin-logs/login'} {...commonProps} />\n\n            <Users path={siteRoot + 'sys/users'} {...commonProps} />\n            <AdminUsers path={siteRoot + 'sys/users/admins'} {...commonProps} />\n            <LDAPImportedUsers path={siteRoot + 'sys/users/ldap-imported'} {...commonProps} />\n            <LDAPUsers path={siteRoot + 'sys/users/ldap'} {...commonProps} />\n            <SearchUsers path={siteRoot + 'sys/search-users'} {...commonProps} />\n            <User path={siteRoot + 'sys/users/:email'} {...commonProps} />\n            <UserOwnedRepos path={siteRoot + 'sys/users/:email/owned-libraries'} {...commonProps} />\n            <UserSharedRepos path={siteRoot + 'sys/users/:email/shared-libraries'} {...commonProps} />\n            <UserLinks path={siteRoot + 'sys/users/:email/shared-links'} {...commonProps} />\n            <UserGroups path={siteRoot + 'sys/users/:email/groups'} {...commonProps} />\n\n            <Invitations path={siteRoot + 'sys/invitations'} {...commonProps} />\n            <TermsAndConditions path={siteRoot + 'sys/terms-and-conditions/'} {...commonProps} />\n\n            <AllVirusFiles path={siteRoot + 'sys/virus-files/all'} {...commonProps} />\n            <UnhandledVirusFiles path={siteRoot + 'sys/virus-files/unhandled'} {...commonProps} />\n\n            <FileScanRecords path={siteRoot + 'sys/file-scan-records'} {...commonProps} />\n            <WorkWeixinDepartments path={siteRoot + 'sys/work-weixin'} {...commonProps} />\n            <DingtalkDepartments path={siteRoot + 'sys/dingtalk'} {...commonProps} />\n            <AbuseReports path={siteRoot + 'sys/abuse-reports'} {...commonProps} />\n          </Router>\n        </MainPanel>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          <Modal zIndex=\"1030\" isOpen={!isSidePanelClosed} toggle={this.toggleSidePanel} contentClassName=\"d-none\"></Modal>\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<SysAdmin />, document.getElementById('wrapper'));\n","/*!\n * Chart.js v2.9.4\n * https://www.chartjs.org\n * (c) 2020 Chart.js Contributors\n * Released under the MIT License\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(function() { try { return require('moment'); } catch(e) { } }()) :\ntypeof define === 'function' && define.amd ? define(['require'], function(require) { return factory(function() { try { return require('moment'); } catch(e) { } }()); }) :\n(global = global || self, global.Chart = factory(global.moment));\n}(this, (function (moment) { 'use strict';\n\nmoment = moment && moment.hasOwnProperty('default') ? moment['default'] : moment;\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\nvar colorName = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\nvar conversions = createCommonjsModule(function (module) {\n/* MIT license */\n\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in colorName) {\n\tif (colorName.hasOwnProperty(key)) {\n\t\treverseKeywords[colorName[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in colorName) {\n\t\tif (colorName.hasOwnProperty(keyword)) {\n\t\t\tvar value = colorName[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn colorName[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n});\nvar conversions_1 = conversions.rgb;\nvar conversions_2 = conversions.hsl;\nvar conversions_3 = conversions.hsv;\nvar conversions_4 = conversions.hwb;\nvar conversions_5 = conversions.cmyk;\nvar conversions_6 = conversions.xyz;\nvar conversions_7 = conversions.lab;\nvar conversions_8 = conversions.lch;\nvar conversions_9 = conversions.hex;\nvar conversions_10 = conversions.keyword;\nvar conversions_11 = conversions.ansi16;\nvar conversions_12 = conversions.ansi256;\nvar conversions_13 = conversions.hcg;\nvar conversions_14 = conversions.apple;\nvar conversions_15 = conversions.gray;\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nvar route = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nvar colorConvert = convert;\n\nvar colorName$1 = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\n/* MIT license */\n\n\nvar colorString = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n};\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3,4})$/i,\n       hex =  /^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr),\n       hexAlpha = \"\";\n   if (match) {\n      match = match[1];\n      hexAlpha = match[3];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(hex)) {\n      hexAlpha = match[2];\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorName$1[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgba, a) {\n   var a = (a !== undefined && rgba.length === 3) ? a : rgba[3];\n   return \"#\" + hexDouble(rgba[0]) \n              + hexDouble(rgba[1])\n              + hexDouble(rgba[2])\n              + (\n                 (a >= 0 && a < 1)\n                 ? hexDouble(Math.round(a * 255))\n                 : \"\"\n              );\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorName$1) {\n   reverseNames[colorName$1[name]] = name;\n}\n\n/* MIT license */\n\n\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.valid = false;\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = colorString.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = colorString.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = colorString.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\tisValid: function () {\n\t\treturn this.valid;\n\t},\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn colorString.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn colorString.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn colorString.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn colorString.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn colorString.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn colorString.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn colorString.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn colorString.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tthis.valid = true;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = colorConvert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nvar chartjsColor = Color;\n\nfunction isValidKey(key) {\r\n\treturn ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\r\n}\r\n\r\n/**\r\n * @namespace Chart.helpers\r\n */\r\nvar helpers = {\r\n\t/**\r\n\t * An empty function that can be used, for example, for optional callback.\r\n\t */\r\n\tnoop: function() {},\r\n\r\n\t/**\r\n\t * Returns a unique id, sequentially generated from a global variable.\r\n\t * @returns {number}\r\n\t * @function\r\n\t */\r\n\tuid: (function() {\r\n\t\tvar id = 0;\r\n\t\treturn function() {\r\n\t\t\treturn id++;\r\n\t\t};\r\n\t}()),\r\n\r\n\t/**\r\n\t * Returns true if `value` is neither null nor undefined, else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisNullOrUndef: function(value) {\r\n\t\treturn value === null || typeof value === 'undefined';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an array (including typed arrays), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @function\r\n\t */\r\n\tisArray: function(value) {\r\n\t\tif (Array.isArray && Array.isArray(value)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an object (excluding null), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisObject: function(value) {\r\n\t\treturn value !== null && Object.prototype.toString.call(value) === '[object Object]';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is a finite number, else returns false\r\n\t * @param {*} value  - The value to test.\r\n\t * @returns {boolean}\r\n\t */\r\n\tisFinite: function(value) {\r\n\t\treturn (typeof value === 'number' || value instanceof Number) && isFinite(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns `value` if defined, else returns `defaultValue`.\r\n\t * @param {*} value - The value to return if defined.\r\n\t * @param {*} defaultValue - The value to return if `value` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueOrDefault: function(value, defaultValue) {\r\n\t\treturn typeof value === 'undefined' ? defaultValue : value;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns value at the given `index` in array if defined, else returns `defaultValue`.\r\n\t * @param {Array} value - The array to lookup for value at `index`.\r\n\t * @param {number} index - The index in `value` to lookup for value.\r\n\t * @param {*} defaultValue - The value to return if `value[index]` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueAtIndexOrDefault: function(value, index, defaultValue) {\r\n\t\treturn helpers.valueOrDefault(helpers.isArray(value) ? value[index] : value, defaultValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\r\n\t * value returned by `fn`. If `fn` is not a function, this method returns undefined.\r\n\t * @param {function} fn - The function to call.\r\n\t * @param {Array|undefined|null} args - The arguments with which `fn` should be called.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @returns {*}\r\n\t */\r\n\tcallback: function(fn, args, thisArg) {\r\n\t\tif (fn && typeof fn.call === 'function') {\r\n\t\t\treturn fn.apply(thisArg, args);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Note(SB) for performance sake, this method should only be used when loopable type\r\n\t * is unknown or in none intensive code (not called often and small loopable). Else\r\n\t * it's preferable to use a regular for() loop and save extra function calls.\r\n\t * @param {object|Array} loopable - The object or array to be iterated.\r\n\t * @param {function} fn - The function to call for each item.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @param {boolean} [reverse] - If true, iterates backward on the loopable.\r\n\t */\r\n\teach: function(loopable, fn, thisArg, reverse) {\r\n\t\tvar i, len, keys;\r\n\t\tif (helpers.isArray(loopable)) {\r\n\t\t\tlen = loopable.length;\r\n\t\t\tif (reverse) {\r\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (helpers.isObject(loopable)) {\r\n\t\t\tkeys = Object.keys(loopable);\r\n\t\t\tlen = keys.length;\r\n\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\tfn.call(thisArg, loopable[keys[i]], keys[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\r\n\t * @see https://stackoverflow.com/a/14853974\r\n\t * @param {Array} a0 - The array to compare\r\n\t * @param {Array} a1 - The array to compare\r\n\t * @returns {boolean}\r\n\t */\r\n\tarrayEquals: function(a0, a1) {\r\n\t\tvar i, ilen, v0, v1;\r\n\r\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = a0.length; i < ilen; ++i) {\r\n\t\t\tv0 = a0[i];\r\n\t\t\tv1 = a1[i];\r\n\r\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\r\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if (v0 !== v1) {\r\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a deep copy of `source` without keeping references on objects and arrays.\r\n\t * @param {*} source - The value to clone.\r\n\t * @returns {*}\r\n\t */\r\n\tclone: function(source) {\r\n\t\tif (helpers.isArray(source)) {\r\n\t\t\treturn source.map(helpers.clone);\r\n\t\t}\r\n\r\n\t\tif (helpers.isObject(source)) {\r\n\t\t\tvar target = Object.create(source);\r\n\t\t\tvar keys = Object.keys(source);\r\n\t\t\tvar klen = keys.length;\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor (; k < klen; ++k) {\r\n\t\t\t\ttarget[keys[k]] = helpers.clone(source[keys[k]]);\r\n\t\t\t}\r\n\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\treturn source;\r\n\t},\r\n\r\n\t/**\r\n\t * The default merger when Chart.helpers.merge is called without merger option.\r\n\t * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\r\n\t * @private\r\n\t */\r\n\t_merger: function(key, target, source, options) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.merge(tval, sval, options);\r\n\t\t} else {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Merges source[key] in target[key] only if target[key] is undefined.\r\n\t * @private\r\n\t */\r\n\t_mergerIf: function(key, target, source) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.mergeIf(tval, sval);\r\n\t\t} else if (!target.hasOwnProperty(key)) {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` with the given `options`.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @param {object} [options] - Merging options:\r\n\t * @param {function} [options.merger] - The merge method (key, target, source, options)\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmerge: function(target, source, options) {\r\n\t\tvar sources = helpers.isArray(source) ? source : [source];\r\n\t\tvar ilen = sources.length;\r\n\t\tvar merge, i, keys, klen, k;\r\n\r\n\t\tif (!helpers.isObject(target)) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\tmerge = options.merger || helpers._merger;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!helpers.isObject(source)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tkeys = Object.keys(source);\r\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\r\n\t\t\t\tmerge(keys[k], target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` *only* if not defined in target.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmergeIf: function(target, source) {\r\n\t\treturn helpers.merge(target, source, {merger: helpers._mergerIf});\r\n\t},\r\n\r\n\t/**\r\n\t * Applies the contents of two or more objects together into the first object.\r\n\t * @param {object} target - The target object in which all objects are merged into.\r\n\t * @param {object} arg1 - Object containing additional properties to merge in target.\r\n\t * @param {object} argN - Additional objects containing properties to merge in target.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\textend: Object.assign || function(target) {\r\n\t\treturn helpers.merge(target, [].slice.call(arguments, 1), {\r\n\t\t\tmerger: function(key, dst, src) {\r\n\t\t\t\tdst[key] = src[key];\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Basic javascript inheritance based on the model created in Backbone.js\r\n\t */\r\n\tinherits: function(extensions) {\r\n\t\tvar me = this;\r\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\r\n\t\t\treturn me.apply(this, arguments);\r\n\t\t};\r\n\r\n\t\tvar Surrogate = function() {\r\n\t\t\tthis.constructor = ChartElement;\r\n\t\t};\r\n\r\n\t\tSurrogate.prototype = me.prototype;\r\n\t\tChartElement.prototype = new Surrogate();\r\n\t\tChartElement.extend = helpers.inherits;\r\n\r\n\t\tif (extensions) {\r\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\r\n\t\t}\r\n\r\n\t\tChartElement.__super__ = me.prototype;\r\n\t\treturn ChartElement;\r\n\t},\r\n\r\n\t_deprecated: function(scope, value, previous, current) {\r\n\t\tif (value !== undefined) {\r\n\t\t\tconsole.warn(scope + ': \"' + previous +\r\n\t\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar helpers_core = helpers;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.callback instead.\r\n * @function Chart.helpers.callCallback\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.callCallback = helpers.callback;\r\n\r\n/**\r\n * Provided for backward compatibility, use Array.prototype.indexOf instead.\r\n * Array.prototype.indexOf compatibility: Chrome, Opera, Safari, FF1.5+, IE9+\r\n * @function Chart.helpers.indexOf\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.indexOf = function(array, item, fromIndex) {\r\n\treturn Array.prototype.indexOf.call(array, item, fromIndex);\r\n};\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueOrDefault instead.\r\n * @function Chart.helpers.getValueOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueOrDefault = helpers.valueOrDefault;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueAtIndexOrDefault instead.\r\n * @function Chart.helpers.getValueAtIndexOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueAtIndexOrDefault = helpers.valueAtIndexOrDefault;\n\n/**\r\n * Easing functions adapted from Robert Penner's easing equations.\r\n * @namespace Chart.helpers.easingEffects\r\n * @see http://www.robertpenner.com/easing/\r\n */\r\nvar effects = {\r\n\tlinear: function(t) {\r\n\t\treturn t;\r\n\t},\r\n\r\n\teaseInQuad: function(t) {\r\n\t\treturn t * t;\r\n\t},\r\n\r\n\teaseOutQuad: function(t) {\r\n\t\treturn -t * (t - 2);\r\n\t},\r\n\r\n\teaseInOutQuad: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((--t) * (t - 2) - 1);\r\n\t},\r\n\r\n\teaseInCubic: function(t) {\r\n\t\treturn t * t * t;\r\n\t},\r\n\r\n\teaseOutCubic: function(t) {\r\n\t\treturn (t = t - 1) * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutCubic: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t + 2);\r\n\t},\r\n\r\n\teaseInQuart: function(t) {\r\n\t\treturn t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuart: function(t) {\r\n\t\treturn -((t = t - 1) * t * t * t - 1);\r\n\t},\r\n\r\n\teaseInOutQuart: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((t -= 2) * t * t * t - 2);\r\n\t},\r\n\r\n\teaseInQuint: function(t) {\r\n\t\treturn t * t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuint: function(t) {\r\n\t\treturn (t = t - 1) * t * t * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutQuint: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t},\r\n\r\n\teaseInSine: function(t) {\r\n\t\treturn -Math.cos(t * (Math.PI / 2)) + 1;\r\n\t},\r\n\r\n\teaseOutSine: function(t) {\r\n\t\treturn Math.sin(t * (Math.PI / 2));\r\n\t},\r\n\r\n\teaseInOutSine: function(t) {\r\n\t\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\r\n\t},\r\n\r\n\teaseInExpo: function(t) {\r\n\t\treturn (t === 0) ? 0 : Math.pow(2, 10 * (t - 1));\r\n\t},\r\n\r\n\teaseOutExpo: function(t) {\r\n\t\treturn (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1;\r\n\t},\r\n\r\n\teaseInOutExpo: function(t) {\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * Math.pow(2, 10 * (t - 1));\r\n\t\t}\r\n\t\treturn 0.5 * (-Math.pow(2, -10 * --t) + 2);\r\n\t},\r\n\r\n\teaseInCirc: function(t) {\r\n\t\tif (t >= 1) {\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\treturn -(Math.sqrt(1 - t * t) - 1);\r\n\t},\r\n\r\n\teaseOutCirc: function(t) {\r\n\t\treturn Math.sqrt(1 - (t = t - 1) * t);\r\n\t},\r\n\r\n\teaseInOutCirc: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn -0.5 * (Math.sqrt(1 - t * t) - 1);\r\n\t\t}\r\n\t\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\r\n\t},\r\n\r\n\teaseInElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t},\r\n\r\n\teaseOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1;\r\n\t},\r\n\r\n\teaseInOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif ((t /= 0.5) === 2) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.45;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\tif (t < 1) {\r\n\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\t},\r\n\teaseInBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn t * t * ((s + 1) * t - s);\r\n\t},\r\n\r\n\teaseOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn (t = t - 1) * t * ((s + 1) * t + s) + 1;\r\n\t},\r\n\r\n\teaseInOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\r\n\t},\r\n\r\n\teaseInBounce: function(t) {\r\n\t\treturn 1 - effects.easeOutBounce(1 - t);\r\n\t},\r\n\r\n\teaseOutBounce: function(t) {\r\n\t\tif (t < (1 / 2.75)) {\r\n\t\t\treturn 7.5625 * t * t;\r\n\t\t}\r\n\t\tif (t < (2 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t\t}\r\n\t\tif (t < (2.5 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t\t}\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t},\r\n\r\n\teaseInOutBounce: function(t) {\r\n\t\tif (t < 0.5) {\r\n\t\t\treturn effects.easeInBounce(t * 2) * 0.5;\r\n\t\t}\r\n\t\treturn effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\r\n\t}\r\n};\r\n\r\nvar helpers_easing = {\r\n\teffects: effects\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.easing.effects instead.\r\n * @function Chart.helpers.easingEffects\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.easingEffects = effects;\n\nvar PI = Math.PI;\r\nvar RAD_PER_DEG = PI / 180;\r\nvar DOUBLE_PI = PI * 2;\r\nvar HALF_PI = PI / 2;\r\nvar QUARTER_PI = PI / 4;\r\nvar TWO_THIRDS_PI = PI * 2 / 3;\r\n\r\n/**\r\n * @namespace Chart.helpers.canvas\r\n */\r\nvar exports$1 = {\r\n\t/**\r\n\t * Clears the entire canvas associated to the given `chart`.\r\n\t * @param {Chart} chart - The chart for which to clear the canvas.\r\n\t */\r\n\tclear: function(chart) {\r\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\r\n\t},\r\n\r\n\t/**\r\n\t * Creates a \"path\" for a rectangle with rounded corners at position (x, y) with a\r\n\t * given size (width, height) and the same `radius` for all corners.\r\n\t * @param {CanvasRenderingContext2D} ctx - The canvas 2D Context.\r\n\t * @param {number} x - The x axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} y - The y axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} width - The rectangle's width.\r\n\t * @param {number} height - The rectangle's height.\r\n\t * @param {number} radius - The rounded amount (in pixels) for the four corners.\r\n\t * @todo handle `radius` as top-left, top-right, bottom-right, bottom-left array/object?\r\n\t */\r\n\troundedRect: function(ctx, x, y, width, height, radius) {\r\n\t\tif (radius) {\r\n\t\t\tvar r = Math.min(radius, height / 2, width / 2);\r\n\t\t\tvar left = x + r;\r\n\t\t\tvar top = y + r;\r\n\t\t\tvar right = x + width - r;\r\n\t\t\tvar bottom = y + height - r;\r\n\r\n\t\t\tctx.moveTo(x, top);\r\n\t\t\tif (left < right && top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, -HALF_PI);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, 0);\r\n\t\t\t\tctx.arc(right, bottom, r, 0, HALF_PI);\r\n\t\t\t\tctx.arc(left, bottom, r, HALF_PI, PI);\r\n\t\t\t} else if (left < right) {\r\n\t\t\t\tctx.moveTo(left, y);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, HALF_PI);\r\n\t\t\t\tctx.arc(left, top, r, HALF_PI, PI + HALF_PI);\r\n\t\t\t} else if (top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, 0);\r\n\t\t\t\tctx.arc(left, bottom, r, 0, PI);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(left, top, r, -PI, PI);\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t} else {\r\n\t\t\tctx.rect(x, y, width, height);\r\n\t\t}\r\n\t},\r\n\r\n\tdrawPoint: function(ctx, style, radius, x, y, rotation) {\r\n\t\tvar type, xOffset, yOffset, size, cornerRadius;\r\n\t\tvar rad = (rotation || 0) * RAD_PER_DEG;\r\n\r\n\t\tif (style && typeof style === 'object') {\r\n\t\t\ttype = style.toString();\r\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.translate(x, y);\r\n\t\t\t\tctx.rotate(rad);\r\n\t\t\t\tctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\r\n\t\t\t\tctx.restore();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isNaN(radius) || radius <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\r\n\t\tswitch (style) {\r\n\t\t// Default includes circle\r\n\t\tdefault:\r\n\t\t\tctx.arc(x, y, radius, 0, DOUBLE_PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'triangle':\r\n\t\t\tctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rectRounded':\r\n\t\t\t// NOTE: the rounded rect implementation changed to use `arc` instead of\r\n\t\t\t// `quadraticCurveTo` since it generates better results when rect is\r\n\t\t\t// almost a circle. 0.516 (instead of 0.5) produces results with visually\r\n\t\t\t// closer proportion to the previous impl and it is inscribed in the\r\n\t\t\t// circle with `radius`. For more details, see the following PRs:\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5597\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5858\r\n\t\t\tcornerRadius = radius * 0.516;\r\n\t\t\tsize = radius - cornerRadius;\r\n\t\t\txOffset = Math.cos(rad + QUARTER_PI) * size;\r\n\t\t\tyOffset = Math.sin(rad + QUARTER_PI) * size;\r\n\t\t\tctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\r\n\t\t\tctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\r\n\t\t\tctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\r\n\t\t\tctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rect':\r\n\t\t\tif (!rotation) {\r\n\t\t\t\tsize = Math.SQRT1_2 * radius;\r\n\t\t\t\tctx.rect(x - size, y - size, 2 * size, 2 * size);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'rectRot':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'crossRot':\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'cross':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'star':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'line':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'dash':\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t\tctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the point is inside the rectangle\r\n\t * @param {object} point - The point to test\r\n\t * @param {object} area - The rectangle\r\n\t * @returns {boolean}\r\n\t * @private\r\n\t */\r\n\t_isPointInArea: function(point, area) {\r\n\t\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\r\n\t\treturn point.x > area.left - epsilon && point.x < area.right + epsilon &&\r\n\t\t\tpoint.y > area.top - epsilon && point.y < area.bottom + epsilon;\r\n\t},\r\n\r\n\tclipArea: function(ctx, area) {\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\r\n\t\tctx.clip();\r\n\t},\r\n\r\n\tunclipArea: function(ctx) {\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tlineTo: function(ctx, previous, target, flip) {\r\n\t\tvar stepped = target.steppedLine;\r\n\t\tif (stepped) {\r\n\t\t\tif (stepped === 'middle') {\r\n\t\t\t\tvar midpoint = (previous.x + target.x) / 2.0;\r\n\t\t\t\tctx.lineTo(midpoint, flip ? target.y : previous.y);\r\n\t\t\t\tctx.lineTo(midpoint, flip ? previous.y : target.y);\r\n\t\t\t} else if ((stepped === 'after' && !flip) || (stepped !== 'after' && flip)) {\r\n\t\t\t\tctx.lineTo(previous.x, target.y);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(target.x, previous.y);\r\n\t\t\t}\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!target.tension) {\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.bezierCurveTo(\r\n\t\t\tflip ? previous.controlPointPreviousX : previous.controlPointNextX,\r\n\t\t\tflip ? previous.controlPointPreviousY : previous.controlPointNextY,\r\n\t\t\tflip ? target.controlPointNextX : target.controlPointPreviousX,\r\n\t\t\tflip ? target.controlPointNextY : target.controlPointPreviousY,\r\n\t\t\ttarget.x,\r\n\t\t\ttarget.y);\r\n\t}\r\n};\r\n\r\nvar helpers_canvas = exports$1;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.clear instead.\r\n * @namespace Chart.helpers.clear\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.clear = exports$1.clear;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.roundedRect instead.\r\n * @namespace Chart.helpers.drawRoundedRectangle\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.drawRoundedRectangle = function(ctx) {\r\n\tctx.beginPath();\r\n\texports$1.roundedRect.apply(exports$1, arguments);\r\n};\n\nvar defaults = {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_set: function(scope, values) {\r\n\t\treturn helpers_core.merge(this[scope] || (this[scope] = {}), values);\r\n\t}\r\n};\r\n\r\n// TODO(v3): remove 'global' from namespace.  all default are global and\r\n// there's inconsistency around which options are under 'global'\r\ndefaults._set('global', {\r\n\tdefaultColor: 'rgba(0,0,0,0.1)',\r\n\tdefaultFontColor: '#666',\r\n\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\tdefaultFontSize: 12,\r\n\tdefaultFontStyle: 'normal',\r\n\tdefaultLineHeight: 1.2,\r\n\tshowLines: true\r\n});\r\n\r\nvar core_defaults = defaults;\n\nvar valueOrDefault = helpers_core.valueOrDefault;\r\n\r\n/**\r\n * Converts the given font object into a CSS font string.\r\n * @param {object} font - A font object.\r\n * @return {string} The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\r\n * @private\r\n */\r\nfunction toFontString(font) {\r\n\tif (!font || helpers_core.isNullOrUndef(font.size) || helpers_core.isNullOrUndef(font.family)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (font.style ? font.style + ' ' : '')\r\n\t\t+ (font.weight ? font.weight + ' ' : '')\r\n\t\t+ font.size + 'px '\r\n\t\t+ font.family;\r\n}\r\n\r\n/**\r\n * @alias Chart.helpers.options\r\n * @namespace\r\n */\r\nvar helpers_options = {\r\n\t/**\r\n\t * Converts the given line height `value` in pixels for a specific font `size`.\r\n\t * @param {number|string} value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\r\n\t * @param {number} size - The font size (in pixels) used to resolve relative `value`.\r\n\t * @returns {number} The effective line height in pixels (size * 1.2 if value is invalid).\r\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoLineHeight: function(value, size) {\r\n\t\tvar matches = ('' + value).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\r\n\t\tif (!matches || matches[1] === 'normal') {\r\n\t\t\treturn size * 1.2;\r\n\t\t}\r\n\r\n\t\tvalue = +matches[2];\r\n\r\n\t\tswitch (matches[3]) {\r\n\t\tcase 'px':\r\n\t\t\treturn value;\r\n\t\tcase '%':\r\n\t\t\tvalue /= 100;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn size * value;\r\n\t},\r\n\r\n\t/**\r\n\t * Converts the given value into a padding object with pre-computed width/height.\r\n\t * @param {number|object} value - If a number, set the value to all TRBL component,\r\n\t *  else, if and object, use defined properties and sets undefined ones to 0.\r\n\t * @returns {object} The padding values (top, right, bottom, left, width, height)\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoPadding: function(value) {\r\n\t\tvar t, r, b, l;\r\n\r\n\t\tif (helpers_core.isObject(value)) {\r\n\t\t\tt = +value.top || 0;\r\n\t\t\tr = +value.right || 0;\r\n\t\t\tb = +value.bottom || 0;\r\n\t\t\tl = +value.left || 0;\r\n\t\t} else {\r\n\t\t\tt = r = b = l = +value || 0;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop: t,\r\n\t\t\tright: r,\r\n\t\t\tbottom: b,\r\n\t\t\tleft: l,\r\n\t\t\theight: t + b,\r\n\t\t\twidth: l + r\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Parses font options and returns the font object.\r\n\t * @param {object} options - A object that contains font options to be parsed.\r\n\t * @return {object} The font object.\r\n\t * @todo Support font.* options and renamed to toFont().\r\n\t * @private\r\n\t */\r\n\t_parseFont: function(options) {\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar size = valueOrDefault(options.fontSize, globalDefaults.defaultFontSize);\r\n\t\tvar font = {\r\n\t\t\tfamily: valueOrDefault(options.fontFamily, globalDefaults.defaultFontFamily),\r\n\t\t\tlineHeight: helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight, globalDefaults.defaultLineHeight), size),\r\n\t\t\tsize: size,\r\n\t\t\tstyle: valueOrDefault(options.fontStyle, globalDefaults.defaultFontStyle),\r\n\t\t\tweight: null,\r\n\t\t\tstring: ''\r\n\t\t};\r\n\r\n\t\tfont.string = toFontString(font);\r\n\t\treturn font;\r\n\t},\r\n\r\n\t/**\r\n\t * Evaluates the given `inputs` sequentially and returns the first defined value.\r\n\t * @param {Array} inputs - An array of values, falling back to the last value.\r\n\t * @param {object} [context] - If defined and the current value is a function, the value\r\n\t * is called with `context` as first argument and the result becomes the new input.\r\n\t * @param {number} [index] - If defined and the current value is an array, the value\r\n\t * at `index` become the new input.\r\n\t * @param {object} [info] - object to return information about resolution in\r\n\t * @param {boolean} [info.cacheable] - Will be set to `false` if option is not cacheable.\r\n\t * @since 2.7.0\r\n\t */\r\n\tresolve: function(inputs, context, index, info) {\r\n\t\tvar cacheable = true;\r\n\t\tvar i, ilen, value;\r\n\r\n\t\tfor (i = 0, ilen = inputs.length; i < ilen; ++i) {\r\n\t\t\tvalue = inputs[i];\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (context !== undefined && typeof value === 'function') {\r\n\t\t\t\tvalue = value(context);\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (index !== undefined && helpers_core.isArray(value)) {\r\n\t\t\t\tvalue = value[index];\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tif (info && !cacheable) {\r\n\t\t\t\t\tinfo.cacheable = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\n/**\r\n * @alias Chart.helpers.math\r\n * @namespace\r\n */\r\nvar exports$2 = {\r\n\t/**\r\n\t * Returns an array of factors sorted from 1 to sqrt(value)\r\n\t * @private\r\n\t */\r\n\t_factorize: function(value) {\r\n\t\tvar result = [];\r\n\t\tvar sqrt = Math.sqrt(value);\r\n\t\tvar i;\r\n\r\n\t\tfor (i = 1; i < sqrt; i++) {\r\n\t\t\tif (value % i === 0) {\r\n\t\t\t\tresult.push(i);\r\n\t\t\t\tresult.push(value / i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (sqrt === (sqrt | 0)) { // if value is a square number\r\n\t\t\tresult.push(sqrt);\r\n\t\t}\r\n\r\n\t\tresult.sort(function(a, b) {\r\n\t\t\treturn a - b;\r\n\t\t}).pop();\r\n\t\treturn result;\r\n\t},\r\n\r\n\tlog10: Math.log10 || function(x) {\r\n\t\tvar exponent = Math.log(x) * Math.LOG10E; // Math.LOG10E = 1 / Math.LN10.\r\n\t\t// Check for whole powers of 10,\r\n\t\t// which due to floating point rounding error should be corrected.\r\n\t\tvar powerOf10 = Math.round(exponent);\r\n\t\tvar isPowerOf10 = x === Math.pow(10, powerOf10);\r\n\r\n\t\treturn isPowerOf10 ? powerOf10 : exponent;\r\n\t}\r\n};\r\n\r\nvar helpers_math = exports$2;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.math.log10 instead.\r\n * @namespace Chart.helpers.log10\r\n * @deprecated since version 2.9.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.log10 = exports$2.log10;\n\nvar getRtlAdapter = function(rectX, width) {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn rectX + rectX + width - x;\r\n\t\t},\r\n\t\tsetWidth: function(w) {\r\n\t\t\twidth = w;\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\tif (align === 'center') {\r\n\t\t\t\treturn align;\r\n\t\t\t}\r\n\t\t\treturn align === 'right' ? 'left' : 'right';\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x - value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, itemWidth) {\r\n\t\t\treturn x - itemWidth;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getLtrAdapter = function() {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\tsetWidth: function(w) { // eslint-disable-line no-unused-vars\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\treturn align;\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x + value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, _itemWidth) { // eslint-disable-line no-unused-vars\r\n\t\t\treturn x;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getAdapter = function(rtl, rectX, width) {\r\n\treturn rtl ? getRtlAdapter(rectX, width) : getLtrAdapter();\r\n};\r\n\r\nvar overrideTextDirection = function(ctx, direction) {\r\n\tvar style, original;\r\n\tif (direction === 'ltr' || direction === 'rtl') {\r\n\t\tstyle = ctx.canvas.style;\r\n\t\toriginal = [\r\n\t\t\tstyle.getPropertyValue('direction'),\r\n\t\t\tstyle.getPropertyPriority('direction'),\r\n\t\t];\r\n\r\n\t\tstyle.setProperty('direction', direction, 'important');\r\n\t\tctx.prevTextDirection = original;\r\n\t}\r\n};\r\n\r\nvar restoreTextDirection = function(ctx) {\r\n\tvar original = ctx.prevTextDirection;\r\n\tif (original !== undefined) {\r\n\t\tdelete ctx.prevTextDirection;\r\n\t\tctx.canvas.style.setProperty('direction', original[0], original[1]);\r\n\t}\r\n};\r\n\r\nvar helpers_rtl = {\r\n\tgetRtlAdapter: getAdapter,\r\n\toverrideTextDirection: overrideTextDirection,\r\n\trestoreTextDirection: restoreTextDirection,\r\n};\n\nvar helpers$1 = helpers_core;\r\nvar easing = helpers_easing;\r\nvar canvas = helpers_canvas;\r\nvar options = helpers_options;\r\nvar math = helpers_math;\r\nvar rtl = helpers_rtl;\nhelpers$1.easing = easing;\nhelpers$1.canvas = canvas;\nhelpers$1.options = options;\nhelpers$1.math = math;\nhelpers$1.rtl = rtl;\n\nfunction interpolate(start, view, model, ease) {\r\n\tvar keys = Object.keys(model);\r\n\tvar i, ilen, key, actual, origin, target, type, c0, c1;\r\n\r\n\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\tkey = keys[i];\r\n\r\n\t\ttarget = model[key];\r\n\r\n\t\t// if a value is added to the model after pivot() has been called, the view\r\n\t\t// doesn't contain it, so let's initialize the view to the target value.\r\n\t\tif (!view.hasOwnProperty(key)) {\r\n\t\t\tview[key] = target;\r\n\t\t}\r\n\r\n\t\tactual = view[key];\r\n\r\n\t\tif (actual === target || key[0] === '_') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!start.hasOwnProperty(key)) {\r\n\t\t\tstart[key] = actual;\r\n\t\t}\r\n\r\n\t\torigin = start[key];\r\n\r\n\t\ttype = typeof target;\r\n\r\n\t\tif (type === typeof origin) {\r\n\t\t\tif (type === 'string') {\r\n\t\t\t\tc0 = chartjsColor(origin);\r\n\t\t\t\tif (c0.valid) {\r\n\t\t\t\t\tc1 = chartjsColor(target);\r\n\t\t\t\t\tif (c1.valid) {\r\n\t\t\t\t\t\tview[key] = c1.mix(c0, ease).rgbString();\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (helpers$1.isFinite(origin) && helpers$1.isFinite(target)) {\r\n\t\t\t\tview[key] = origin + (target - origin) * ease;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tview[key] = target;\r\n\t}\r\n}\r\n\r\nvar Element = function(configuration) {\r\n\thelpers$1.extend(this, configuration);\r\n\tthis.initialize.apply(this, arguments);\r\n};\r\n\r\nhelpers$1.extend(Element.prototype, {\r\n\t_type: undefined,\r\n\r\n\tinitialize: function() {\r\n\t\tthis.hidden = false;\r\n\t},\r\n\r\n\tpivot: function() {\r\n\t\tvar me = this;\r\n\t\tif (!me._view) {\r\n\t\t\tme._view = helpers$1.extend({}, me._model);\r\n\t\t}\r\n\t\tme._start = {};\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttransition: function(ease) {\r\n\t\tvar me = this;\r\n\t\tvar model = me._model;\r\n\t\tvar start = me._start;\r\n\t\tvar view = me._view;\r\n\r\n\t\t// No animation -> No Transition\r\n\t\tif (!model || ease === 1) {\r\n\t\t\tme._view = helpers$1.extend({}, model);\r\n\t\t\tme._start = null;\r\n\t\t\treturn me;\r\n\t\t}\r\n\r\n\t\tif (!view) {\r\n\t\t\tview = me._view = {};\r\n\t\t}\r\n\r\n\t\tif (!start) {\r\n\t\t\tstart = me._start = {};\r\n\t\t}\r\n\r\n\t\tinterpolate(start, view, model, ease);\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\treturn {\r\n\t\t\tx: this._model.x,\r\n\t\t\ty: this._model.y\r\n\t\t};\r\n\t},\r\n\r\n\thasValue: function() {\r\n\t\treturn helpers$1.isNumber(this._model.x) && helpers$1.isNumber(this._model.y);\r\n\t}\r\n});\r\n\r\nElement.extend = helpers$1.inherits;\r\n\r\nvar core_element = Element;\n\nvar exports$3 = core_element.extend({\r\n\tchart: null, // the animation associated chart instance\r\n\tcurrentStep: 0, // the current animation step\r\n\tnumSteps: 60, // default number of steps\r\n\teasing: '', // the easing to use for this animation\r\n\trender: null, // render function used by the animation service\r\n\r\n\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\r\n\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\r\n});\r\n\r\nvar core_animation = exports$3;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation instead\r\n * @prop Chart.Animation#animationObject\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'animationObject', {\r\n\tget: function() {\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation#chart instead\r\n * @prop Chart.Animation#chartInstance\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'chartInstance', {\r\n\tget: function() {\r\n\t\treturn this.chart;\r\n\t},\r\n\tset: function(value) {\r\n\t\tthis.chart = value;\r\n\t}\r\n});\n\ncore_defaults._set('global', {\r\n\tanimation: {\r\n\t\tduration: 1000,\r\n\t\teasing: 'easeOutQuart',\r\n\t\tonProgress: helpers$1.noop,\r\n\t\tonComplete: helpers$1.noop\r\n\t}\r\n});\r\n\r\nvar core_animations = {\r\n\tanimations: [],\r\n\trequest: null,\r\n\r\n\t/**\r\n\t * @param {Chart} chart - The chart to animate.\r\n\t * @param {Chart.Animation} animation - The animation that we will animate.\r\n\t * @param {number} duration - The animation duration in ms.\r\n\t * @param {boolean} lazy - if true, the chart is not marked as animating to enable more responsive interactions\r\n\t */\r\n\taddAnimation: function(chart, animation, duration, lazy) {\r\n\t\tvar animations = this.animations;\r\n\t\tvar i, ilen;\r\n\r\n\t\tanimation.chart = chart;\r\n\t\tanimation.startTime = Date.now();\r\n\t\tanimation.duration = duration;\r\n\r\n\t\tif (!lazy) {\r\n\t\t\tchart.animating = true;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = animations.length; i < ilen; ++i) {\r\n\t\t\tif (animations[i].chart === chart) {\r\n\t\t\t\tanimations[i] = animation;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimations.push(animation);\r\n\r\n\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\r\n\t\tif (animations.length === 1) {\r\n\t\t\tthis.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\tcancelAnimation: function(chart) {\r\n\t\tvar index = helpers$1.findIndex(this.animations, function(animation) {\r\n\t\t\treturn animation.chart === chart;\r\n\t\t});\r\n\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.animations.splice(index, 1);\r\n\t\t\tchart.animating = false;\r\n\t\t}\r\n\t},\r\n\r\n\trequestAnimationFrame: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.request === null) {\r\n\t\t\t// Skip animation frame requests until the active one is executed.\r\n\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\r\n\t\t\t// and 'mouseout' events will trigger multiple renders.\r\n\t\t\tme.request = helpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tme.request = null;\r\n\t\t\t\tme.startDigest();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tstartDigest: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tme.advance();\r\n\r\n\t\t// Do we have more stuff to animate?\r\n\t\tif (me.animations.length > 0) {\r\n\t\t\tme.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tadvance: function() {\r\n\t\tvar animations = this.animations;\r\n\t\tvar animation, chart, numSteps, nextStep;\r\n\t\tvar i = 0;\r\n\r\n\t\t// 1 animation per chart, so we are looping charts here\r\n\t\twhile (i < animations.length) {\r\n\t\t\tanimation = animations[i];\r\n\t\t\tchart = animation.chart;\r\n\t\t\tnumSteps = animation.numSteps;\r\n\r\n\t\t\t// Make sure that currentStep starts at 1\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/6104\r\n\t\t\tnextStep = Math.floor((Date.now() - animation.startTime) / animation.duration * numSteps) + 1;\r\n\t\t\tanimation.currentStep = Math.min(nextStep, numSteps);\r\n\r\n\t\t\thelpers$1.callback(animation.render, [chart, animation], chart);\r\n\t\t\thelpers$1.callback(animation.onAnimationProgress, [animation], chart);\r\n\r\n\t\t\tif (animation.currentStep >= numSteps) {\r\n\t\t\t\thelpers$1.callback(animation.onAnimationComplete, [animation], chart);\r\n\t\t\t\tchart.animating = false;\r\n\t\t\t\tanimations.splice(i, 1);\r\n\t\t\t} else {\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar resolve = helpers$1.options.resolve;\r\n\r\nvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\r\n\r\n/**\r\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\r\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\r\n * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\r\n */\r\nfunction listenArrayEvents(array, listener) {\r\n\tif (array._chartjs) {\r\n\t\tarray._chartjs.listeners.push(listener);\r\n\t\treturn;\r\n\t}\r\n\r\n\tObject.defineProperty(array, '_chartjs', {\r\n\t\tconfigurable: true,\r\n\t\tenumerable: false,\r\n\t\tvalue: {\r\n\t\t\tlisteners: [listener]\r\n\t\t}\r\n\t});\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\r\n\t\tvar base = array[key];\r\n\r\n\t\tObject.defineProperty(array, key, {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: false,\r\n\t\t\tvalue: function() {\r\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\t\t\tvar res = base.apply(this, args);\r\n\r\n\t\t\t\thelpers$1.each(array._chartjs.listeners, function(object) {\r\n\t\t\t\t\tif (typeof object[method] === 'function') {\r\n\t\t\t\t\t\tobject[method].apply(object, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * Removes the given array event listener and cleanup extra attached properties (such as\r\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\r\n */\r\nfunction unlistenArrayEvents(array, listener) {\r\n\tvar stub = array._chartjs;\r\n\tif (!stub) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar listeners = stub.listeners;\r\n\tvar index = listeners.indexOf(listener);\r\n\tif (index !== -1) {\r\n\t\tlisteners.splice(index, 1);\r\n\t}\r\n\r\n\tif (listeners.length > 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tdelete array[key];\r\n\t});\r\n\r\n\tdelete array._chartjs;\r\n}\r\n\r\n// Base class for all dataset controllers (line, bar, etc)\r\nvar DatasetController = function(chart, datasetIndex) {\r\n\tthis.initialize(chart, datasetIndex);\r\n};\r\n\r\nhelpers$1.extend(DatasetController.prototype, {\r\n\r\n\t/**\r\n\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdatasetElementType: null,\r\n\r\n\t/**\r\n\t * Element type used to generate a meta data (e.g. Chart.element.Point).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdataElementType: null,\r\n\r\n\t/**\r\n\t * Dataset element option keys to be resolved in _resolveDatasetElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth'\r\n\t],\r\n\r\n\t/**\r\n\t * Data element option keys to be resolved in _resolveDataElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'pointStyle'\r\n\t],\r\n\r\n\tinitialize: function(chart, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tme.chart = chart;\r\n\t\tme.index = datasetIndex;\r\n\t\tme.linkScales();\r\n\t\tme.addElements();\r\n\t\tme._type = me.getMeta().type;\r\n\t},\r\n\r\n\tupdateIndex: function(datasetIndex) {\r\n\t\tthis.index = datasetIndex;\r\n\t},\r\n\r\n\tlinkScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar chart = me.chart;\r\n\t\tvar scales = chart.scales;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scalesOpts = chart.options.scales;\r\n\r\n\t\tif (meta.xAxisID === null || !(meta.xAxisID in scales) || dataset.xAxisID) {\r\n\t\t\tmeta.xAxisID = dataset.xAxisID || scalesOpts.xAxes[0].id;\r\n\t\t}\r\n\t\tif (meta.yAxisID === null || !(meta.yAxisID in scales) || dataset.yAxisID) {\r\n\t\t\tmeta.yAxisID = dataset.yAxisID || scalesOpts.yAxes[0].id;\r\n\t\t}\r\n\t},\r\n\r\n\tgetDataset: function() {\r\n\t\treturn this.chart.data.datasets[this.index];\r\n\t},\r\n\r\n\tgetMeta: function() {\r\n\t\treturn this.chart.getDatasetMeta(this.index);\r\n\t},\r\n\r\n\tgetScaleForId: function(scaleID) {\r\n\t\treturn this.chart.scales[scaleID];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScale: function() {\r\n\t\treturn this.getScaleForId(this._getValueScaleId());\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScale: function() {\r\n\t\treturn this.getScaleForId(this._getIndexScaleId());\r\n\t},\r\n\r\n\treset: function() {\r\n\t\tthis._update(true);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroy: function() {\r\n\t\tif (this._data) {\r\n\t\t\tunlistenArrayEvents(this._data, this);\r\n\t\t}\r\n\t},\r\n\r\n\tcreateMetaDataset: function() {\r\n\t\tvar me = this;\r\n\t\tvar type = me.datasetElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index\r\n\t\t});\r\n\t},\r\n\r\n\tcreateMetaData: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar type = me.dataElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index\r\n\t\t});\r\n\t},\r\n\r\n\taddElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data || [];\r\n\t\tvar metaData = meta.data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = data.length; i < ilen; ++i) {\r\n\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\r\n\t\t}\r\n\r\n\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\r\n\t},\r\n\r\n\taddElementAndReset: function(index) {\r\n\t\tvar element = this.createMetaData(index);\r\n\t\tthis.getMeta().data.splice(index, 0, element);\r\n\t\tthis.updateElement(element, index, true);\r\n\t},\r\n\r\n\tbuildOrUpdateElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar data = dataset.data || (dataset.data = []);\r\n\r\n\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\r\n\t\t// real-time charts), we need to monitor these data modifications and synchronize\r\n\t\t// the internal meta data accordingly.\r\n\t\tif (me._data !== data) {\r\n\t\t\tif (me._data) {\r\n\t\t\t\t// This case happens when the user replaced the data array instance.\r\n\t\t\t\tunlistenArrayEvents(me._data, me);\r\n\t\t\t}\r\n\r\n\t\t\tif (data && Object.isExtensible(data)) {\r\n\t\t\t\tlistenArrayEvents(data, me);\r\n\t\t\t}\r\n\t\t\tme._data = data;\r\n\t\t}\r\n\r\n\t\t// Re-sync meta data in case the user replaced the data array or if we missed\r\n\t\t// any updates and so make sure that we handle number of datapoints changing.\r\n\t\tme.resyncElements();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the merged user-supplied and default dataset-level options\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tme._config = helpers$1.merge(Object.create(null), [\r\n\t\t\tme.chart.options.datasets[me._type],\r\n\t\t\tme.getDataset(),\r\n\t\t], {\r\n\t\t\tmerger: function(key, target, source) {\r\n\t\t\t\tif (key !== '_meta' && key !== 'data') {\r\n\t\t\t\t\thelpers$1._merger(key, target, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t_update: function(reset) {\r\n\t\tvar me = this;\r\n\t\tme._configure();\r\n\t\tme._cachedDataOpts = null;\r\n\t\tme.update(reset);\r\n\t},\r\n\r\n\tupdate: helpers$1.noop,\r\n\r\n\ttransition: function(easingValue) {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].transition(easingValue);\r\n\t\t}\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.transition(easingValue);\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.draw();\r\n\t\t}\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].draw();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a set of predefined style properties that should be used to represent the dataset\r\n\t * or the data if the index is specified\r\n\t * @param {number} index - data index\r\n\t * @return {IStyleInterface} style object\r\n\t */\r\n\tgetStyle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = meta.dataset;\r\n\t\tvar style;\r\n\r\n\t\tme._configure();\r\n\t\tif (dataset && index === undefined) {\r\n\t\t\tstyle = me._resolveDatasetElementOptions(dataset || {});\r\n\t\t} else {\r\n\t\t\tindex = index || 0;\r\n\t\t\tstyle = me._resolveDataElementOptions(meta.data[index] || {}, index);\r\n\t\t}\r\n\r\n\t\tif (style.fill === false || style.fill === null) {\r\n\t\t\tstyle.backgroundColor = style.borderColor;\r\n\t\t}\r\n\r\n\t\treturn style;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element, hover) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = chart.options.elements[me.datasetElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._datasetElementOptions;\r\n\t\tvar values = {};\r\n\t\tvar i, ilen, key, readKey;\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index,\r\n\t\t\thover: hover\r\n\t\t};\r\n\r\n\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\tkey = elementOptions[i];\r\n\t\t\treadKey = hover ? 'hover' + key.charAt(0).toUpperCase() + key.slice(1) : key;\r\n\t\t\tvalues[key] = resolve([\r\n\t\t\t\tcustom[readKey],\r\n\t\t\t\tdatasetOpts[readKey],\r\n\t\t\t\toptions[readKey]\r\n\t\t\t], context);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(element, index) {\r\n\t\tvar me = this;\r\n\t\tvar custom = element && element.custom;\r\n\t\tvar cached = me._cachedDataOpts;\r\n\t\tif (cached && !custom) {\r\n\t\t\treturn cached;\r\n\t\t}\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar options = chart.options.elements[me.dataElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._dataElementOptions;\r\n\t\tvar values = {};\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// `resolve` sets cacheable to `false` if any option is indexed or scripted\r\n\t\tvar info = {cacheable: !custom};\r\n\r\n\t\tvar keys, i, ilen, key;\r\n\r\n\t\tcustom = custom || {};\r\n\r\n\t\tif (helpers$1.isArray(elementOptions)) {\r\n\t\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\t\tkey = elementOptions[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tkeys = Object.keys(elementOptions);\r\n\t\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\t\tkey = keys[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[elementOptions[key]],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (info.cacheable) {\r\n\t\t\tme._cachedDataOpts = Object.freeze(values);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tremoveHoverStyle: function(element) {\r\n\t\thelpers$1.merge(element._model, element.$previousStyle || {});\r\n\t\tdelete element.$previousStyle;\r\n\t},\r\n\r\n\tsetHoverStyle: function(element) {\r\n\t\tvar dataset = this.chart.data.datasets[element._datasetIndex];\r\n\t\tvar index = element._index;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar model = element._model;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\telement.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = resolve([custom.hoverBackgroundColor, dataset.hoverBackgroundColor, getHoverColor(model.backgroundColor)], undefined, index);\r\n\t\tmodel.borderColor = resolve([custom.hoverBorderColor, dataset.hoverBorderColor, getHoverColor(model.borderColor)], undefined, index);\r\n\t\tmodel.borderWidth = resolve([custom.hoverBorderWidth, dataset.hoverBorderWidth, model.borderWidth], undefined, index);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_removeDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\r\n\t\tif (element) {\r\n\t\t\tthis.removeHoverStyle(element);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_setDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\t\tvar prev = {};\r\n\t\tvar i, ilen, key, keys, hoverOptions, model;\r\n\r\n\t\tif (!element) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmodel = element._model;\r\n\t\thoverOptions = this._resolveDatasetElementOptions(element, true);\r\n\r\n\t\tkeys = Object.keys(hoverOptions);\r\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\tkey = keys[i];\r\n\t\t\tprev[key] = model[key];\r\n\t\t\tmodel[key] = hoverOptions[key];\r\n\t\t}\r\n\r\n\t\telement.$previousStyle = prev;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tresyncElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data;\r\n\t\tvar numMeta = meta.data.length;\r\n\t\tvar numData = data.length;\r\n\r\n\t\tif (numData < numMeta) {\r\n\t\t\tmeta.data.splice(numData, numMeta - numData);\r\n\t\t} else if (numData > numMeta) {\r\n\t\t\tme.insertElements(numMeta, numData - numMeta);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinsertElements: function(start, count) {\r\n\t\tfor (var i = 0; i < count; ++i) {\r\n\t\t\tthis.addElementAndReset(start + i);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPush: function() {\r\n\t\tvar count = arguments.length;\r\n\t\tthis.insertElements(this.getDataset().data.length - count, count);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPop: function() {\r\n\t\tthis.getMeta().data.pop();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataShift: function() {\r\n\t\tthis.getMeta().data.shift();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataSplice: function(start, count) {\r\n\t\tthis.getMeta().data.splice(start, count);\r\n\t\tthis.insertElements(start, arguments.length - 2);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataUnshift: function() {\r\n\t\tthis.insertElements(0, arguments.length);\r\n\t}\r\n});\r\n\r\nDatasetController.extend = helpers$1.inherits;\r\n\r\nvar core_datasetController = DatasetController;\n\nvar TAU = Math.PI * 2;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tarc: {\r\n\t\t\tbackgroundColor: core_defaults.global.defaultColor,\r\n\t\t\tborderColor: '#fff',\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderAlign: 'center'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction clipArc(ctx, arc) {\r\n\tvar startAngle = arc.startAngle;\r\n\tvar endAngle = arc.endAngle;\r\n\tvar pixelMargin = arc.pixelMargin;\r\n\tvar angleMargin = pixelMargin / arc.outerRadius;\r\n\tvar x = arc.x;\r\n\tvar y = arc.y;\r\n\r\n\t// Draw an inner border by cliping the arc and drawing a double-width border\r\n\t// Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, arc.outerRadius, startAngle - angleMargin, endAngle + angleMargin);\r\n\tif (arc.innerRadius > pixelMargin) {\r\n\t\tangleMargin = pixelMargin / arc.innerRadius;\r\n\t\tctx.arc(x, y, arc.innerRadius - pixelMargin, endAngle + angleMargin, startAngle - angleMargin, true);\r\n\t} else {\r\n\t\tctx.arc(x, y, pixelMargin, endAngle + Math.PI / 2, startAngle - Math.PI / 2);\r\n\t}\r\n\tctx.closePath();\r\n\tctx.clip();\r\n}\r\n\r\nfunction drawFullCircleBorders(ctx, vm, arc, inner) {\r\n\tvar endAngle = arc.endAngle;\r\n\tvar i;\r\n\r\n\tif (inner) {\r\n\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\tclipArc(ctx, arc);\r\n\t\tarc.endAngle = endAngle;\r\n\t\tif (arc.endAngle === arc.startAngle && arc.fullCircles) {\r\n\t\t\tarc.endAngle += TAU;\r\n\t\t\tarc.fullCircles--;\r\n\t\t}\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.startAngle + TAU, arc.startAngle, true);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.startAngle + TAU);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawBorder(ctx, vm, arc) {\r\n\tvar inner = vm.borderAlign === 'inner';\r\n\r\n\tif (inner) {\r\n\t\tctx.lineWidth = vm.borderWidth * 2;\r\n\t\tctx.lineJoin = 'round';\r\n\t} else {\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tctx.lineJoin = 'bevel';\r\n\t}\r\n\r\n\tif (arc.fullCircles) {\r\n\t\tdrawFullCircleBorders(ctx, vm, arc, inner);\r\n\t}\r\n\r\n\tif (inner) {\r\n\t\tclipArc(ctx, arc);\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.endAngle);\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n}\r\n\r\nvar element_arc = core_element.extend({\r\n\t_type: 'arc',\r\n\r\n\tinLabelRange: function(mouseX) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tinRange: function(chartX, chartY) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\tvar pointRelativePosition = helpers$1.getAngleFromPoint(vm, {x: chartX, y: chartY});\r\n\t\t\tvar angle = pointRelativePosition.angle;\r\n\t\t\tvar distance = pointRelativePosition.distance;\r\n\r\n\t\t\t// Sanitise angle range\r\n\t\t\tvar startAngle = vm.startAngle;\r\n\t\t\tvar endAngle = vm.endAngle;\r\n\t\t\twhile (endAngle < startAngle) {\r\n\t\t\t\tendAngle += TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle > endAngle) {\r\n\t\t\t\tangle -= TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle < startAngle) {\r\n\t\t\t\tangle += TAU;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if within the range of the open/close angle\r\n\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle);\r\n\t\t\tvar withinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\r\n\r\n\t\t\treturn (betweenAngles && withinRadius);\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar halfAngle = (vm.startAngle + vm.endAngle) / 2;\r\n\t\tvar halfRadius = (vm.innerRadius + vm.outerRadius) / 2;\r\n\t\treturn {\r\n\t\t\tx: vm.x + Math.cos(halfAngle) * halfRadius,\r\n\t\t\ty: vm.y + Math.sin(halfAngle) * halfRadius\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn Math.PI * ((vm.endAngle - vm.startAngle) / (2 * Math.PI)) * (Math.pow(vm.outerRadius, 2) - Math.pow(vm.innerRadius, 2));\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2);\r\n\t\tvar rangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\r\n\r\n\t\treturn {\r\n\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\r\n\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar pixelMargin = (vm.borderAlign === 'inner') ? 0.33 : 0;\r\n\t\tvar arc = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tinnerRadius: vm.innerRadius,\r\n\t\t\touterRadius: Math.max(vm.outerRadius - pixelMargin, 0),\r\n\t\t\tpixelMargin: pixelMargin,\r\n\t\t\tstartAngle: vm.startAngle,\r\n\t\t\tendAngle: vm.endAngle,\r\n\t\t\tfullCircles: Math.floor(vm.circumference / TAU)\r\n\t\t};\r\n\t\tvar i;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\r\n\t\tif (arc.fullCircles) {\r\n\t\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\t\tctx.closePath();\r\n\t\t\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\tarc.endAngle = arc.startAngle + vm.circumference % TAU;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth) {\r\n\t\t\tdrawBorder(ctx, vm, arc);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$1 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tline: {\r\n\t\t\ttension: 0.4,\r\n\t\t\tbackgroundColor: defaultColor,\r\n\t\t\tborderWidth: 3,\r\n\t\t\tborderColor: defaultColor,\r\n\t\t\tborderCapStyle: 'butt',\r\n\t\t\tborderDash: [],\r\n\t\t\tborderDashOffset: 0.0,\r\n\t\t\tborderJoinStyle: 'miter',\r\n\t\t\tcapBezierPoints: true,\r\n\t\t\tfill: true, // do we fill in the area between the line and its base axis\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar element_line = core_element.extend({\r\n\t_type: 'line',\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar vm = me._view;\r\n\t\tvar ctx = me._chart.ctx;\r\n\t\tvar spanGaps = vm.spanGaps;\r\n\t\tvar points = me._children.slice(); // clone array\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar globalOptionLineElements = globalDefaults.elements.line;\r\n\t\tvar lastDrawnIndex = -1;\r\n\t\tvar closePath = me._loop;\r\n\t\tvar index, previous, currentVM;\r\n\r\n\t\tif (!points.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (me._loop) {\r\n\t\t\tfor (index = 0; index < points.length; ++index) {\r\n\t\t\t\tprevious = helpers$1.previousItem(points, index);\r\n\t\t\t\t// If the line has an open path, shift the point array\r\n\t\t\t\tif (!points[index]._view.skip && previous._view.skip) {\r\n\t\t\t\t\tpoints = points.slice(index).concat(points.slice(0, index));\r\n\t\t\t\t\tclosePath = spanGaps;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If the line has a close path, add the first point again\r\n\t\t\tif (closePath) {\r\n\t\t\t\tpoints.push(points[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\r\n\t\t// Stroke Line Options\r\n\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\r\n\r\n\t\t// IE 9 and 10 do not support line dash\r\n\t\tif (ctx.setLineDash) {\r\n\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\r\n\t\t}\r\n\r\n\t\tctx.lineDashOffset = valueOrDefault$1(vm.borderDashOffset, globalOptionLineElements.borderDashOffset);\r\n\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\r\n\t\tctx.lineWidth = valueOrDefault$1(vm.borderWidth, globalOptionLineElements.borderWidth);\r\n\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\r\n\r\n\t\t// Stroke Line\r\n\t\tctx.beginPath();\r\n\r\n\t\t// First point moves to it's starting position no matter what\r\n\t\tcurrentVM = points[0]._view;\r\n\t\tif (!currentVM.skip) {\r\n\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\tlastDrawnIndex = 0;\r\n\t\t}\r\n\r\n\t\tfor (index = 1; index < points.length; ++index) {\r\n\t\t\tcurrentVM = points[index]._view;\r\n\t\t\tprevious = lastDrawnIndex === -1 ? helpers$1.previousItem(points, index) : points[lastDrawnIndex];\r\n\r\n\t\t\tif (!currentVM.skip) {\r\n\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\r\n\t\t\t\t\t// There was a gap and this is the first point after the gap\r\n\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Line to next point\r\n\t\t\t\t\thelpers$1.canvas.lineTo(ctx, previous._view, currentVM);\r\n\t\t\t\t}\r\n\t\t\t\tlastDrawnIndex = index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (closePath) {\r\n\t\t\tctx.closePath();\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$2 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor$1 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tpoint: {\r\n\t\t\tradius: 3,\r\n\t\t\tpointStyle: 'circle',\r\n\t\t\tbackgroundColor: defaultColor$1,\r\n\t\t\tborderColor: defaultColor$1,\r\n\t\t\tborderWidth: 1,\r\n\t\t\t// Hover\r\n\t\t\thitRadius: 1,\r\n\t\t\thoverRadius: 4,\r\n\t\t\thoverBorderWidth: 1\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction xRange(mouseX) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseX - vm.x) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nfunction yRange(mouseY) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseY - vm.y) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nvar element_point = core_element.extend({\r\n\t_type: 'point',\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\r\n\t},\r\n\r\n\tinLabelRange: xRange,\r\n\tinXRange: xRange,\r\n\tinYRange: yRange,\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\treturn Math.PI * Math.pow(this._view.radius, 2);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tpadding: vm.radius + vm.borderWidth\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar vm = this._view;\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar pointStyle = vm.pointStyle;\r\n\t\tvar rotation = vm.rotation;\r\n\t\tvar radius = vm.radius;\r\n\t\tvar x = vm.x;\r\n\t\tvar y = vm.y;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor; // eslint-disable-line no-shadow\r\n\r\n\t\tif (vm.skip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clipping for Points.\r\n\t\tif (chartArea === undefined || helpers$1.canvas._isPointInArea(vm, chartArea)) {\r\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\r\n\t\t\tctx.lineWidth = valueOrDefault$2(vm.borderWidth, globalDefaults.elements.point.borderWidth);\r\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\r\n\t\t\thelpers$1.canvas.drawPoint(ctx, pointStyle, radius, x, y, rotation);\r\n\t\t}\r\n\t}\r\n});\n\nvar defaultColor$2 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tbackgroundColor: defaultColor$2,\r\n\t\t\tborderColor: defaultColor$2,\r\n\t\t\tborderSkipped: 'bottom',\r\n\t\t\tborderWidth: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction isVertical(vm) {\r\n\treturn vm && vm.width !== undefined;\r\n}\r\n\r\n/**\r\n * Helper function to get the bounds of the bar regardless of the orientation\r\n * @param bar {Chart.Element.Rectangle} the bar\r\n * @return {Bounds} bounds of the bar\r\n * @private\r\n */\r\nfunction getBarBounds(vm) {\r\n\tvar x1, x2, y1, y2, half;\r\n\r\n\tif (isVertical(vm)) {\r\n\t\thalf = vm.width / 2;\r\n\t\tx1 = vm.x - half;\r\n\t\tx2 = vm.x + half;\r\n\t\ty1 = Math.min(vm.y, vm.base);\r\n\t\ty2 = Math.max(vm.y, vm.base);\r\n\t} else {\r\n\t\thalf = vm.height / 2;\r\n\t\tx1 = Math.min(vm.x, vm.base);\r\n\t\tx2 = Math.max(vm.x, vm.base);\r\n\t\ty1 = vm.y - half;\r\n\t\ty2 = vm.y + half;\r\n\t}\r\n\r\n\treturn {\r\n\t\tleft: x1,\r\n\t\ttop: y1,\r\n\t\tright: x2,\r\n\t\tbottom: y2\r\n\t};\r\n}\r\n\r\nfunction swap(orig, v1, v2) {\r\n\treturn orig === v1 ? v2 : orig === v2 ? v1 : orig;\r\n}\r\n\r\nfunction parseBorderSkipped(vm) {\r\n\tvar edge = vm.borderSkipped;\r\n\tvar res = {};\r\n\r\n\tif (!edge) {\r\n\t\treturn res;\r\n\t}\r\n\r\n\tif (vm.horizontal) {\r\n\t\tif (vm.base > vm.x) {\r\n\t\t\tedge = swap(edge, 'left', 'right');\r\n\t\t}\r\n\t} else if (vm.base < vm.y) {\r\n\t\tedge = swap(edge, 'bottom', 'top');\r\n\t}\r\n\r\n\tres[edge] = true;\r\n\treturn res;\r\n}\r\n\r\nfunction parseBorderWidth(vm, maxW, maxH) {\r\n\tvar value = vm.borderWidth;\r\n\tvar skip = parseBorderSkipped(vm);\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = +value.top || 0;\r\n\t\tr = +value.right || 0;\r\n\t\tb = +value.bottom || 0;\r\n\t\tl = +value.left || 0;\r\n\t} else {\r\n\t\tt = r = b = l = +value || 0;\r\n\t}\r\n\r\n\treturn {\r\n\t\tt: skip.top || (t < 0) ? 0 : t > maxH ? maxH : t,\r\n\t\tr: skip.right || (r < 0) ? 0 : r > maxW ? maxW : r,\r\n\t\tb: skip.bottom || (b < 0) ? 0 : b > maxH ? maxH : b,\r\n\t\tl: skip.left || (l < 0) ? 0 : l > maxW ? maxW : l\r\n\t};\r\n}\r\n\r\nfunction boundingRects(vm) {\r\n\tvar bounds = getBarBounds(vm);\r\n\tvar width = bounds.right - bounds.left;\r\n\tvar height = bounds.bottom - bounds.top;\r\n\tvar border = parseBorderWidth(vm, width / 2, height / 2);\r\n\r\n\treturn {\r\n\t\touter: {\r\n\t\t\tx: bounds.left,\r\n\t\t\ty: bounds.top,\r\n\t\t\tw: width,\r\n\t\t\th: height\r\n\t\t},\r\n\t\tinner: {\r\n\t\t\tx: bounds.left + border.l,\r\n\t\t\ty: bounds.top + border.t,\r\n\t\t\tw: width - border.l - border.r,\r\n\t\t\th: height - border.t - border.b\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction inRange(vm, x, y) {\r\n\tvar skipX = x === null;\r\n\tvar skipY = y === null;\r\n\tvar bounds = !vm || (skipX && skipY) ? false : getBarBounds(vm);\r\n\r\n\treturn bounds\r\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\r\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\r\n}\r\n\r\nvar element_rectangle = core_element.extend({\r\n\t_type: 'rectangle',\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar rects = boundingRects(vm);\r\n\t\tvar outer = rects.outer;\r\n\t\tvar inner = rects.inner;\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.fillRect(outer.x, outer.y, outer.w, outer.h);\r\n\r\n\t\tif (outer.w === inner.w && outer.h === inner.h) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(outer.x, outer.y, outer.w, outer.h);\r\n\t\tctx.clip();\r\n\t\tctx.fillStyle = vm.borderColor;\r\n\t\tctx.rect(inner.x, inner.y, inner.w, inner.h);\r\n\t\tctx.fill('evenodd');\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\theight: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm.base - vm.y;\r\n\t},\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\treturn inRange(this._view, mouseX, mouseY);\r\n\t},\r\n\r\n\tinLabelRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn isVertical(vm)\r\n\t\t\t? inRange(vm, mouseX, null)\r\n\t\t\t: inRange(vm, null, mouseY);\r\n\t},\r\n\r\n\tinXRange: function(mouseX) {\r\n\t\treturn inRange(this._view, mouseX, null);\r\n\t},\r\n\r\n\tinYRange: function(mouseY) {\r\n\t\treturn inRange(this._view, null, mouseY);\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar x, y;\r\n\t\tif (isVertical(vm)) {\r\n\t\t\tx = vm.x;\r\n\t\t\ty = (vm.y + vm.base) / 2;\r\n\t\t} else {\r\n\t\t\tx = (vm.x + vm.base) / 2;\r\n\t\t\ty = vm.y;\r\n\t\t}\r\n\r\n\t\treturn {x: x, y: y};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\r\n\t\treturn isVertical(vm)\r\n\t\t\t? vm.width * Math.abs(vm.y - vm.base)\r\n\t\t\t: vm.height * Math.abs(vm.x - vm.base);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t}\r\n});\n\nvar elements = {};\r\nvar Arc = element_arc;\r\nvar Line = element_line;\r\nvar Point = element_point;\r\nvar Rectangle = element_rectangle;\nelements.Arc = Arc;\nelements.Line = Line;\nelements.Point = Point;\nelements.Rectangle = Rectangle;\n\nvar deprecated = helpers$1._deprecated;\r\nvar valueOrDefault$3 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('bar', {\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tbar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\r\n * @private\r\n */\r\nfunction computeMinSampleSize(scale, pixels) {\r\n\tvar min = scale._length;\r\n\tvar prev, curr, i, ilen;\r\n\r\n\tfor (i = 1, ilen = pixels.length; i < ilen; ++i) {\r\n\t\tmin = Math.min(min, Math.abs(pixels[i] - pixels[i - 1]));\r\n\t}\r\n\r\n\tfor (i = 0, ilen = scale.getTicks().length; i < ilen; ++i) {\r\n\t\tcurr = scale.getPixelForTick(i);\r\n\t\tmin = i > 0 ? Math.min(min, Math.abs(curr - prev)) : min;\r\n\t\tprev = curr;\r\n\t}\r\n\r\n\treturn min;\r\n}\r\n\r\n/**\r\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\r\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\r\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\r\n * @private\r\n */\r\nfunction computeFitCategoryTraits(index, ruler, options) {\r\n\tvar thickness = options.barThickness;\r\n\tvar count = ruler.stackCount;\r\n\tvar curr = ruler.pixels[index];\r\n\tvar min = helpers$1.isNullOrUndef(thickness)\r\n\t\t? computeMinSampleSize(ruler.scale, ruler.pixels)\r\n\t\t: -1;\r\n\tvar size, ratio;\r\n\r\n\tif (helpers$1.isNullOrUndef(thickness)) {\r\n\t\tsize = min * options.categoryPercentage;\r\n\t\tratio = options.barPercentage;\r\n\t} else {\r\n\t\t// When bar thickness is enforced, category and bar percentages are ignored.\r\n\t\t// Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\r\n\t\t// and deprecate barPercentage since this value is ignored when thickness is absolute.\r\n\t\tsize = thickness * count;\r\n\t\tratio = 1;\r\n\t}\r\n\r\n\treturn {\r\n\t\tchunk: size / count,\r\n\t\tratio: ratio,\r\n\t\tstart: curr - (size / 2)\r\n\t};\r\n}\r\n\r\n/**\r\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\r\n * percentage options are 1), based on the previous and following categories. This mode\r\n * generates bars with different widths when data are not evenly spaced.\r\n * @private\r\n */\r\nfunction computeFlexCategoryTraits(index, ruler, options) {\r\n\tvar pixels = ruler.pixels;\r\n\tvar curr = pixels[index];\r\n\tvar prev = index > 0 ? pixels[index - 1] : null;\r\n\tvar next = index < pixels.length - 1 ? pixels[index + 1] : null;\r\n\tvar percent = options.categoryPercentage;\r\n\tvar start, size;\r\n\r\n\tif (prev === null) {\r\n\t\t// first data: its size is double based on the next point or,\r\n\t\t// if it's also the last data, we use the scale size.\r\n\t\tprev = curr - (next === null ? ruler.end - ruler.start : next - curr);\r\n\t}\r\n\r\n\tif (next === null) {\r\n\t\t// last data: its size is also double based on the previous point.\r\n\t\tnext = curr + curr - prev;\r\n\t}\r\n\r\n\tstart = curr - (curr - Math.min(prev, next)) / 2 * percent;\r\n\tsize = Math.abs(next - prev) / 2 * percent;\r\n\r\n\treturn {\r\n\t\tchunk: size / ruler.stackCount,\r\n\t\tratio: options.barPercentage,\r\n\t\tstart: start\r\n\t};\r\n}\r\n\r\nvar controller_bar = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Rectangle,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderSkipped',\r\n\t\t'borderWidth',\r\n\t\t'barPercentage',\r\n\t\t'barThickness',\r\n\t\t'categoryPercentage',\r\n\t\t'maxBarThickness',\r\n\t\t'minBarLength'\r\n\t],\r\n\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta, scaleOpts;\r\n\r\n\t\tcore_datasetController.prototype.initialize.apply(me, arguments);\r\n\r\n\t\tmeta = me.getMeta();\r\n\t\tmeta.stack = me.getDataset().stack;\r\n\t\tmeta.bar = true;\r\n\r\n\t\tscaleOpts = me._getIndexScale().options;\r\n\t\tdeprecated('bar chart', scaleOpts.barPercentage, 'scales.[x/y]Axes.barPercentage', 'dataset.barPercentage');\r\n\t\tdeprecated('bar chart', scaleOpts.barThickness, 'scales.[x/y]Axes.barThickness', 'dataset.barThickness');\r\n\t\tdeprecated('bar chart', scaleOpts.categoryPercentage, 'scales.[x/y]Axes.categoryPercentage', 'dataset.categoryPercentage');\r\n\t\tdeprecated('bar chart', me._getValueScale().options.minBarLength, 'scales.[x/y]Axes.minBarLength', 'dataset.minBarLength');\r\n\t\tdeprecated('bar chart', scaleOpts.maxBarThickness, 'scales.[x/y]Axes.maxBarThickness', 'dataset.maxBarThickness');\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._ruler = me.getRuler();\r\n\r\n\t\tfor (i = 0, ilen = rects.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(rects[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(rectangle, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar options = me._resolveDataElementOptions(rectangle, index);\r\n\r\n\t\trectangle._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\trectangle._yScale = me.getScaleForId(meta.yAxisID);\r\n\t\trectangle._datasetIndex = me.index;\r\n\t\trectangle._index = index;\r\n\t\trectangle._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderSkipped: options.borderSkipped,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\tdatasetLabel: dataset.label,\r\n\t\t\tlabel: me.chart.data.labels[index]\r\n\t\t};\r\n\r\n\t\tif (helpers$1.isArray(dataset.data[index])) {\r\n\t\t\trectangle._model.borderSkipped = null;\r\n\t\t}\r\n\r\n\t\tme._updateElementGeometry(rectangle, index, reset, options);\r\n\r\n\t\trectangle.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateElementGeometry: function(rectangle, index, reset, options) {\r\n\t\tvar me = this;\r\n\t\tvar model = rectangle._model;\r\n\t\tvar vscale = me._getValueScale();\r\n\t\tvar base = vscale.getBasePixel();\r\n\t\tvar horizontal = vscale.isHorizontal();\r\n\t\tvar ruler = me._ruler || me.getRuler();\r\n\t\tvar vpixels = me.calculateBarValuePixels(me.index, index, options);\r\n\t\tvar ipixels = me.calculateBarIndexPixels(me.index, index, ruler, options);\r\n\r\n\t\tmodel.horizontal = horizontal;\r\n\t\tmodel.base = reset ? base : vpixels.base;\r\n\t\tmodel.x = horizontal ? reset ? base : vpixels.head : ipixels.center;\r\n\t\tmodel.y = horizontal ? ipixels.center : reset ? base : vpixels.head;\r\n\t\tmodel.height = horizontal ? ipixels.size : undefined;\r\n\t\tmodel.width = horizontal ? undefined : ipixels.size;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stacks based on groups and bar visibility.\r\n\t * @param {number} [last] - The dataset index\r\n\t * @returns {string[]} The list of stack IDs\r\n\t * @private\r\n\t */\r\n\t_getStacks: function(last) {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar stacks = [];\r\n\t\tvar i, meta;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\t// stacked   | meta.stack\r\n\t\t\t//           | found | not found | undefined\r\n\t\t\t// false     |   x   |     x     |     x\r\n\t\t\t// true      |       |     x     |\r\n\t\t\t// undefined |       |     x     |     x\r\n\t\t\tif (stacked === false || stacks.indexOf(meta.stack) === -1 ||\r\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\r\n\t\t\t\tstacks.push(meta.stack);\r\n\t\t\t}\r\n\t\t\tif (meta.index === last) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn stacks;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the effective number of stacks based on groups and bar visibility.\r\n\t * @private\r\n\t */\r\n\tgetStackCount: function() {\r\n\t\treturn this._getStacks().length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\r\n\t * @param {number} [datasetIndex] - The dataset index\r\n\t * @param {string} [name] - The stack name to find\r\n\t * @returns {number} The stack index\r\n\t * @private\r\n\t */\r\n\tgetStackIndex: function(datasetIndex, name) {\r\n\t\tvar stacks = this._getStacks(datasetIndex);\r\n\t\tvar index = (name !== undefined)\r\n\t\t\t? stacks.indexOf(name)\r\n\t\t\t: -1; // indexOf returns -1 if element is not present\r\n\r\n\t\treturn (index === -1)\r\n\t\t\t? stacks.length - 1\r\n\t\t\t: index;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetRuler: function() {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar pixels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = me.getMeta().data.length; i < ilen; ++i) {\r\n\t\t\tpixels.push(scale.getPixelForValue(null, i, me.index));\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tpixels: pixels,\r\n\t\t\tstart: scale._startPixel,\r\n\t\t\tend: scale._endPixel,\r\n\t\t\tstackCount: me.getStackCount(),\r\n\t\t\tscale: scale\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Note: pixel values are not clamped to the scale area.\r\n\t * @private\r\n\t */\r\n\tcalculateBarValuePixels: function(datasetIndex, index, options) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar isHorizontal = scale.isHorizontal();\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar value = scale._parseValue(datasets[datasetIndex].data[index]);\r\n\t\tvar minBarLength = options.minBarLength;\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar stack = me.getMeta().stack;\r\n\t\tvar start = value.start === undefined ? 0 : value.max >= 0 && value.min >= 0 ? value.min : value.max;\r\n\t\tvar length = value.start === undefined ? value.end : value.max >= 0 && value.min >= 0 ? value.max - value.min : value.min - value.max;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, imeta, ivalue, base, head, size, stackLength;\r\n\r\n\t\tif (stacked || (stacked === undefined && stack !== undefined)) {\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\timeta = metasets[i];\r\n\r\n\t\t\t\tif (imeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (imeta.stack === stack) {\r\n\t\t\t\t\tstackLength = scale._parseValue(datasets[imeta.index].data[index]);\r\n\t\t\t\t\tivalue = stackLength.start === undefined ? stackLength.end : stackLength.min >= 0 && stackLength.max >= 0 ? stackLength.max : stackLength.min;\r\n\r\n\t\t\t\t\tif ((value.min < 0 && ivalue < 0) || (value.max >= 0 && ivalue > 0)) {\r\n\t\t\t\t\t\tstart += ivalue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbase = scale.getPixelForValue(start);\r\n\t\thead = scale.getPixelForValue(start + length);\r\n\t\tsize = head - base;\r\n\r\n\t\tif (minBarLength !== undefined && Math.abs(size) < minBarLength) {\r\n\t\t\tsize = minBarLength;\r\n\t\t\tif (length >= 0 && !isHorizontal || length < 0 && isHorizontal) {\r\n\t\t\t\thead = base - minBarLength;\r\n\t\t\t} else {\r\n\t\t\t\thead = base + minBarLength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tsize: size,\r\n\t\t\tbase: base,\r\n\t\t\thead: head,\r\n\t\t\tcenter: head + size / 2\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tcalculateBarIndexPixels: function(datasetIndex, index, ruler, options) {\r\n\t\tvar me = this;\r\n\t\tvar range = options.barThickness === 'flex'\r\n\t\t\t? computeFlexCategoryTraits(index, ruler, options)\r\n\t\t\t: computeFitCategoryTraits(index, ruler, options);\r\n\r\n\t\tvar stackIndex = me.getStackIndex(datasetIndex, me.getMeta().stack);\r\n\t\tvar center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\r\n\t\tvar size = Math.min(\r\n\t\t\tvalueOrDefault$3(options.maxBarThickness, Infinity),\r\n\t\t\trange.chunk * range.ratio);\r\n\r\n\t\treturn {\r\n\t\t\tbase: center - size / 2,\r\n\t\t\thead: center + size / 2,\r\n\t\t\tcenter: center,\r\n\t\t\tsize: size\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar ilen = rects.length;\r\n\t\tvar i = 0;\r\n\r\n\t\thelpers$1.canvas.clipArea(chart.ctx, chart.chartArea);\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tvar val = scale._parseValue(dataset.data[i]);\r\n\t\t\tif (!isNaN(val.min) && !isNaN(val.max)) {\r\n\t\t\t\trects[i].draw();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar values = helpers$1.extend({}, core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments));\r\n\t\tvar indexOpts = me._getIndexScale().options;\r\n\t\tvar valueOpts = me._getValueScale().options;\r\n\r\n\t\tvalues.barPercentage = valueOrDefault$3(indexOpts.barPercentage, values.barPercentage);\r\n\t\tvalues.barThickness = valueOrDefault$3(indexOpts.barThickness, values.barThickness);\r\n\t\tvalues.categoryPercentage = valueOrDefault$3(indexOpts.categoryPercentage, values.categoryPercentage);\r\n\t\tvalues.maxBarThickness = valueOrDefault$3(indexOpts.maxBarThickness, values.maxBarThickness);\r\n\t\tvalues.minBarLength = valueOrDefault$3(valueOpts.minBarLength, values.minBarLength);\r\n\r\n\t\treturn values;\r\n\t}\r\n\r\n});\n\nvar valueOrDefault$4 = helpers$1.valueOrDefault;\r\nvar resolve$1 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('bubble', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\r\n\t\t\tposition: 'bottom',\r\n\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\tvar datasetLabel = data.datasets[item.datasetIndex].label || '';\r\n\t\t\t\tvar dataPoint = data.datasets[item.datasetIndex].data[item.index];\r\n\t\t\t\treturn datasetLabel + ': (' + item.xLabel + ', ' + item.yLabel + ', ' + dataPoint.r + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_bubble = core_datasetController.extend({\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t\t'hoverRadius',\r\n\t\t'hitRadius',\r\n\t\t'pointStyle',\r\n\t\t'rotation'\r\n\t],\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data;\r\n\r\n\t\t// Update Points\r\n\t\thelpers$1.each(points, function(point, index) {\r\n\t\t\tme.updateElement(point, index, reset);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tvar yScale = me.getScaleForId(meta.yAxisID);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar data = me.getDataset().data[index];\r\n\t\tvar dsIndex = me.index;\r\n\r\n\t\tvar x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex);\r\n\t\tvar y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex);\r\n\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = dsIndex;\r\n\t\tpoint._index = index;\r\n\t\tpoint._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\thitRadius: options.hitRadius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tradius: reset ? 0 : options.radius,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t};\r\n\r\n\t\tpoint.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$4(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$4(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$4(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = options.radius + options.hoverRadius;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(point, index) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar data = dataset.data[index] || {};\r\n\t\tvar values = core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments);\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// In case values were cached (and thus frozen), we need to clone the values\r\n\t\tif (me._cachedDataOpts === values) {\r\n\t\t\tvalues = helpers$1.extend({}, values);\r\n\t\t}\r\n\r\n\t\t// Custom radius resolution\r\n\t\tvalues.radius = resolve$1([\r\n\t\t\tcustom.radius,\r\n\t\t\tdata.r,\r\n\t\t\tme._config.radius,\r\n\t\t\tchart.options.elements.point.radius\r\n\t\t], context, index);\r\n\r\n\t\treturn values;\r\n\t}\r\n});\n\nvar valueOrDefault$5 = helpers$1.valueOrDefault;\r\n\r\nvar PI$1 = Math.PI;\r\nvar DOUBLE_PI$1 = PI$1 * 2;\r\nvar HALF_PI$1 = PI$1 / 2;\r\n\r\ncore_defaults._set('doughnut', {\r\n\tanimation: {\r\n\t\t// Boolean - Whether we animate the rotation of the Doughnut\r\n\t\tanimateRotate: true,\r\n\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\r\n\t\tanimateScale: false\r\n\t},\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t// toggle visibility of index if exists\r\n\t\t\t\tif (meta.data[index]) {\r\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// The percentage of the chart that we cut out of the middle.\r\n\tcutoutPercentage: 50,\r\n\r\n\t// The rotation of the chart, where the first data arc begins.\r\n\trotation: -HALF_PI$1,\r\n\r\n\t// The total circumference of the chart.\r\n\tcircumference: DOUBLE_PI$1,\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar dataLabel = data.labels[tooltipItem.index];\r\n\t\t\t\tvar value = ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n\r\n\t\t\t\tif (helpers$1.isArray(dataLabel)) {\r\n\t\t\t\t\t// show value on first line of multiline label\r\n\t\t\t\t\t// need to clone because we are changing the value\r\n\t\t\t\t\tdataLabel = dataLabel.slice();\r\n\t\t\t\t\tdataLabel[0] += value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdataLabel += value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn dataLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_doughnut = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\r\n\tgetRingIndex: function(datasetIndex) {\r\n\t\tvar ringIndex = 0;\r\n\r\n\t\tfor (var j = 0; j < datasetIndex; ++j) {\r\n\t\t\tif (this.chart.isDatasetVisible(j)) {\r\n\t\t\t\t++ringIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringIndex;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar ratioX = 1;\r\n\t\tvar ratioY = 1;\r\n\t\tvar offsetX = 0;\r\n\t\tvar offsetY = 0;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar arcs = meta.data;\r\n\t\tvar cutout = opts.cutoutPercentage / 100 || 0;\r\n\t\tvar circumference = opts.circumference;\r\n\t\tvar chartWeight = me._getRingWeight(me.index);\r\n\t\tvar maxWidth, maxHeight, i, ilen;\r\n\r\n\t\t// If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\r\n\t\tif (circumference < DOUBLE_PI$1) {\r\n\t\t\tvar startAngle = opts.rotation % DOUBLE_PI$1;\r\n\t\t\tstartAngle += startAngle >= PI$1 ? -DOUBLE_PI$1 : startAngle < -PI$1 ? DOUBLE_PI$1 : 0;\r\n\t\t\tvar endAngle = startAngle + circumference;\r\n\t\t\tvar startX = Math.cos(startAngle);\r\n\t\t\tvar startY = Math.sin(startAngle);\r\n\t\t\tvar endX = Math.cos(endAngle);\r\n\t\t\tvar endY = Math.sin(endAngle);\r\n\t\t\tvar contains0 = (startAngle <= 0 && endAngle >= 0) || endAngle >= DOUBLE_PI$1;\r\n\t\t\tvar contains90 = (startAngle <= HALF_PI$1 && endAngle >= HALF_PI$1) || endAngle >= DOUBLE_PI$1 + HALF_PI$1;\r\n\t\t\tvar contains180 = startAngle === -PI$1 || endAngle >= PI$1;\r\n\t\t\tvar contains270 = (startAngle <= -HALF_PI$1 && endAngle >= -HALF_PI$1) || endAngle >= PI$1 + HALF_PI$1;\r\n\t\t\tvar minX = contains180 ? -1 : Math.min(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar minY = contains270 ? -1 : Math.min(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tvar maxX = contains0 ? 1 : Math.max(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar maxY = contains90 ? 1 : Math.max(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tratioX = (maxX - minX) / 2;\r\n\t\t\tratioY = (maxY - minY) / 2;\r\n\t\t\toffsetX = -(maxX + minX) / 2;\r\n\t\t\toffsetY = -(maxY + minY) / 2;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t}\r\n\r\n\t\tchart.borderWidth = me.getMaxBorderWidth();\r\n\t\tmaxWidth = (chartArea.right - chartArea.left - chart.borderWidth) / ratioX;\r\n\t\tmaxHeight = (chartArea.bottom - chartArea.top - chart.borderWidth) / ratioY;\r\n\t\tchart.outerRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\r\n\t\tchart.innerRadius = Math.max(chart.outerRadius * cutout, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / (me._getVisibleDatasetWeightTotal() || 1);\r\n\t\tchart.offsetX = offsetX * chart.outerRadius;\r\n\t\tchart.offsetY = offsetY * chart.outerRadius;\r\n\r\n\t\tmeta.total = me.calculateTotal();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - chart.radiusLength * me._getRingWeightOffset(me.index);\r\n\t\tme.innerRadius = Math.max(me.outerRadius - chart.radiusLength * chartWeight, 0);\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar centerX = (chartArea.left + chartArea.right) / 2;\r\n\t\tvar centerY = (chartArea.top + chartArea.bottom) / 2;\r\n\t\tvar startAngle = opts.rotation; // non reset case handled later\r\n\t\tvar endAngle = opts.rotation; // non reset case handled later\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar circumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / DOUBLE_PI$1);\r\n\t\tvar innerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius;\r\n\t\tvar outerRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius;\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX + chart.offsetX,\r\n\t\t\t\ty: centerY + chart.offsetY,\r\n\t\t\t\tstartAngle: startAngle,\r\n\t\t\t\tendAngle: endAngle,\r\n\t\t\t\tcircumference: circumference,\r\n\t\t\t\touterRadius: outerRadius,\r\n\t\t\t\tinnerRadius: innerRadius,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar model = arc._model;\r\n\r\n\t\t// Set correct angles if not resetting\r\n\t\tif (!reset || !animationOpts.animateRotate) {\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tmodel.startAngle = opts.rotation;\r\n\t\t\t} else {\r\n\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\r\n\t\t\t}\r\n\r\n\t\t\tmodel.endAngle = model.startAngle + model.circumference;\r\n\t\t}\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcalculateTotal: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar total = 0;\r\n\t\tvar value;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tvalue = dataset.data[index];\r\n\t\t\tif (!isNaN(value) && !element.hidden) {\r\n\t\t\t\ttotal += Math.abs(value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/* if (total === 0) {\r\n\t\t\ttotal = NaN;\r\n\t\t}*/\r\n\r\n\t\treturn total;\r\n\t},\r\n\r\n\tcalculateCircumference: function(value) {\r\n\t\tvar total = this.getMeta().total;\r\n\t\tif (total > 0 && !isNaN(value)) {\r\n\t\t\treturn DOUBLE_PI$1 * (Math.abs(value) / total);\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t// gets the max border or hover width to properly scale pie charts\r\n\tgetMaxBorderWidth: function(arcs) {\r\n\t\tvar me = this;\r\n\t\tvar max = 0;\r\n\t\tvar chart = me.chart;\r\n\t\tvar i, ilen, meta, arc, controller, options, borderWidth, hoverWidth;\r\n\r\n\t\tif (!arcs) {\r\n\t\t\t// Find the outmost visible dataset\r\n\t\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t\tarcs = meta.data;\r\n\t\t\t\t\tif (i !== me.index) {\r\n\t\t\t\t\t\tcontroller = meta.controller;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!arcs) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarc = arcs[i];\r\n\t\t\tif (controller) {\r\n\t\t\t\tcontroller._configure();\r\n\t\t\t\toptions = controller._resolveDataElementOptions(arc, i);\r\n\t\t\t} else {\r\n\t\t\t\toptions = arc._options;\r\n\t\t\t}\r\n\t\t\tif (options.borderAlign !== 'inner') {\r\n\t\t\t\tborderWidth = options.borderWidth;\r\n\t\t\t\thoverWidth = options.hoverBorderWidth;\r\n\r\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\r\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$5(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$5(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$5(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\r\n\t * @private\r\n\t */\r\n\t_getRingWeightOffset: function(datasetIndex) {\r\n\t\tvar ringWeightOffset = 0;\r\n\r\n\t\tfor (var i = 0; i < datasetIndex; ++i) {\r\n\t\t\tif (this.chart.isDatasetVisible(i)) {\r\n\t\t\t\tringWeightOffset += this._getRingWeight(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringWeightOffset;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getRingWeight: function(dataSetIndex) {\r\n\t\treturn Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight, 1), 0);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the sum of all visibile data set weights.  This value can be 0.\r\n\t * @private\r\n\t */\r\n\t_getVisibleDatasetWeightTotal: function() {\r\n\t\treturn this._getRingWeightOffset(this.chart.data.datasets.length);\r\n\t}\r\n});\n\ncore_defaults._set('horizontalBar', {\r\n\thover: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tposition: 'left',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}]\r\n\t},\r\n\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tborderSkipped: 'left'\r\n\t\t}\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\thorizontalBar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_horizontalBar = controller_bar.extend({\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t}\r\n});\n\nvar valueOrDefault$6 = helpers$1.valueOrDefault;\r\nvar resolve$2 = helpers$1.options.resolve;\r\nvar isPointInArea = helpers$1.canvas._isPointInArea;\r\n\r\ncore_defaults._set('line', {\r\n\tshowLines: true,\r\n\tspanGaps: false,\r\n\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tid: 'x-axis-0'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\nfunction scaleClip(scale, halfBorderWidth) {\r\n\tvar tickOpts = scale && scale.options.ticks || {};\r\n\tvar reverse = tickOpts.reverse;\r\n\tvar min = tickOpts.min === undefined ? halfBorderWidth : 0;\r\n\tvar max = tickOpts.max === undefined ? halfBorderWidth : 0;\r\n\treturn {\r\n\t\tstart: reverse ? max : min,\r\n\t\tend: reverse ? min : max\r\n\t};\r\n}\r\n\r\nfunction defaultClip(xScale, yScale, borderWidth) {\r\n\tvar halfBorderWidth = borderWidth / 2;\r\n\tvar x = scaleClip(xScale, halfBorderWidth);\r\n\tvar y = scaleClip(yScale, halfBorderWidth);\r\n\r\n\treturn {\r\n\t\ttop: y.end,\r\n\t\tright: x.end,\r\n\t\tbottom: y.start,\r\n\t\tleft: x.start\r\n\t};\r\n}\r\n\r\nfunction toClip(value) {\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = value.top;\r\n\t\tr = value.right;\r\n\t\tb = value.bottom;\r\n\t\tl = value.left;\r\n\t} else {\r\n\t\tt = r = b = l = value;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttop: t,\r\n\t\tright: r,\r\n\t\tbottom: b,\r\n\t\tleft: l\r\n\t};\r\n}\r\n\r\n\r\nvar controller_line = core_datasetController.extend({\r\n\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth',\r\n\t\t'cubicInterpolationMode',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar options = me.chart.options;\r\n\t\tvar config = me._config;\r\n\t\tvar showLine = me._showLine = valueOrDefault$6(config.showLine, options.showLines);\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tme._yScale = me.getScaleForId(meta.yAxisID);\r\n\r\n\t\t// Update Line\r\n\t\tif (showLine) {\r\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\t\tconfig.lineTension = config.tension;\r\n\t\t\t}\r\n\r\n\t\t\t// Utility\r\n\t\t\tline._scale = me._yScale;\r\n\t\t\tline._datasetIndex = me.index;\r\n\t\t\t// Data\r\n\t\t\tline._children = points;\r\n\t\t\t// Model\r\n\t\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\t\tline.pivot();\r\n\t\t}\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\tif (showLine && line._model.tension !== 0) {\r\n\t\t\tme.updateBezierControlPoints();\r\n\t\t}\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar datasetIndex = me.index;\r\n\t\tvar value = dataset.data[index];\r\n\t\tvar xScale = me._xScale;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar x, y;\r\n\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\r\n\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex);\r\n\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\r\n\r\n\t\t// Utility\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = datasetIndex;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$6(custom.tension, lineModel ? lineModel.tension : 0),\r\n\t\t\tsteppedLine: lineModel ? lineModel.steppedLine : false,\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element) {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = me.chart.options;\r\n\t\tvar lineOptions = options.elements.line;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\t// The default behavior of lines is to break at null values, according\r\n\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\r\n\t\t// This option gives lines the ability to span gaps\r\n\t\tvalues.spanGaps = valueOrDefault$6(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$6(config.lineTension, lineOptions.tension);\r\n\t\tvalues.steppedLine = resolve$2([custom.steppedLine, config.steppedLine, lineOptions.stepped]);\r\n\t\tvalues.clip = toClip(valueOrDefault$6(config.clip, defaultClip(me._xScale, me._yScale, values.borderWidth)));\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tcalculatePointY: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar sumPos = 0;\r\n\t\tvar sumNeg = 0;\r\n\t\tvar i, ds, dsMeta, stackedRightValue, rightValue, metasets, ilen;\r\n\r\n\t\tif (yScale.options.stacked) {\r\n\t\t\trightValue = +yScale.getRightValue(value);\r\n\t\t\tmetasets = chart._getSortedVisibleDatasetMetas();\r\n\t\t\tilen = metasets.length;\r\n\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\tdsMeta = metasets[i];\r\n\t\t\t\tif (dsMeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tds = chart.data.datasets[dsMeta.index];\r\n\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id) {\r\n\t\t\t\t\tstackedRightValue = +yScale.getRightValue(ds.data[index]);\r\n\t\t\t\t\tif (stackedRightValue < 0) {\r\n\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsumPos += stackedRightValue || 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (rightValue < 0) {\r\n\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\r\n\t\t\t}\r\n\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\r\n\t\t}\r\n\t\treturn yScale.getPixelForValue(value);\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (lineModel.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tif (lineModel.cubicInterpolationMode === 'monotone') {\r\n\t\t\thelpers$1.splineCurveMonotone(points);\r\n\t\t} else {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\t\thelpers$1.previousItem(points, i)._model,\r\n\t\t\t\t\tmodel,\r\n\t\t\t\t\thelpers$1.nextItem(points, i)._model,\r\n\t\t\t\t\tlineModel.tension\r\n\t\t\t\t);\r\n\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\r\n\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\r\n\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\r\n\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (chart.options.elements.line.capBezierPoints) {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tif (isPointInArea(model, area)) {\r\n\t\t\t\t\tif (i > 0 && isPointInArea(points[i - 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i < points.length - 1 && isPointInArea(points[i + 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data || [];\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar i = 0;\r\n\t\tvar ilen = points.length;\r\n\t\tvar clip;\r\n\r\n\t\tif (me._showLine) {\r\n\t\t\tclip = meta.dataset._model.clip;\r\n\r\n\t\t\thelpers$1.canvas.clipArea(chart.ctx, {\r\n\t\t\t\tleft: clip.left === false ? 0 : area.left - clip.left,\r\n\t\t\t\tright: clip.right === false ? canvas.width : area.right + clip.right,\r\n\t\t\t\ttop: clip.top === false ? 0 : area.top - clip.top,\r\n\t\t\t\tbottom: clip.bottom === false ? canvas.height : area.bottom + clip.bottom\r\n\t\t\t});\r\n\r\n\t\t\tmeta.dataset.draw();\r\n\r\n\t\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t\t}\r\n\r\n\t\t// Draw the points\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tpoints[i].draw(area);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$6(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$6(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$6(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$6(options.hoverRadius, options.radius);\r\n\t},\r\n});\n\nvar resolve$3 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('polarArea', {\r\n\tscale: {\r\n\t\ttype: 'radialLinear',\r\n\t\tangleLines: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tgridLines: {\r\n\t\t\tcircular: true\r\n\t\t},\r\n\t\tpointLabels: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tticks: {\r\n\t\t\tbeginAtZero: true\r\n\t\t}\r\n\t},\r\n\r\n\t// Boolean - Whether to animate the rotation of the chart\r\n\tanimation: {\r\n\t\tanimateRotate: true,\r\n\t\tanimateScale: true\r\n\t},\r\n\r\n\tstartAngle: -0.5 * Math.PI,\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\treturn data.labels[item.index] + ': ' + item.yLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_polarArea = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar start = me.chart.options.startAngle || 0;\r\n\t\tvar starts = me._starts = [];\r\n\t\tvar angles = me._angles = [];\r\n\t\tvar arcs = meta.data;\r\n\t\tvar i, ilen, angle;\r\n\r\n\t\tme._updateRadius();\r\n\r\n\t\tmeta.count = me.countVisibleElements();\r\n\r\n\t\tfor (i = 0, ilen = dataset.data.length; i < ilen; i++) {\r\n\t\t\tstarts[i] = start;\r\n\t\t\tangle = me._computeAngle(i);\r\n\t\t\tangles[i] = angle;\r\n\t\t\tstart += angle;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateRadius: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\r\n\r\n\t\tchart.outerRadius = Math.max(minSize / 2, 0);\r\n\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\r\n\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar scale = chart.scale;\r\n\t\tvar labels = chart.data.labels;\r\n\r\n\t\tvar centerX = scale.xCenter;\r\n\t\tvar centerY = scale.yCenter;\r\n\r\n\t\t// var negHalfPI = -0.5 * Math.PI;\r\n\t\tvar datasetStartAngle = opts.startAngle;\r\n\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar startAngle = me._starts[index];\r\n\t\tvar endAngle = startAngle + (arc.hidden ? 0 : me._angles[index]);\r\n\r\n\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\t\t\t_scale: scale,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX,\r\n\t\t\t\ty: centerY,\r\n\t\t\t\tinnerRadius: 0,\r\n\t\t\t\touterRadius: reset ? resetRadius : distance,\r\n\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\r\n\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(labels, index, labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcountVisibleElements: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar count = 0;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn count;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\t\tvar valueOrDefault = helpers$1.valueOrDefault;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeAngle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar count = this.getMeta().count;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\r\n\t\tif (isNaN(dataset.data[index]) || meta.data[index].hidden) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: me.chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\treturn resolve$3([\r\n\t\t\tme.chart.options.elements.arc.angle,\r\n\t\t\t(2 * Math.PI) / count\r\n\t\t], context, index);\r\n\t}\r\n});\n\ncore_defaults._set('pie', helpers$1.clone(core_defaults.doughnut));\r\ncore_defaults._set('pie', {\r\n\tcutoutPercentage: 0\r\n});\r\n\r\n// Pie charts are Doughnut chart with different defaults\r\nvar controller_pie = controller_doughnut;\n\nvar valueOrDefault$7 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('radar', {\r\n\tspanGaps: false,\r\n\tscale: {\r\n\t\ttype: 'radialLinear'\r\n\t},\r\n\telements: {\r\n\t\tline: {\r\n\t\t\tfill: 'start',\r\n\t\t\ttension: 0 // no bezier in radar\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_radar = core_datasetController.extend({\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderWidth',\r\n\t\t'borderColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar config = me._config;\r\n\t\tvar i, ilen;\r\n\r\n\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\tconfig.lineTension = config.tension;\r\n\t\t}\r\n\r\n\t\t// Utility\r\n\t\tline._scale = scale;\r\n\t\tline._datasetIndex = me.index;\r\n\t\t// Data\r\n\t\tline._children = points;\r\n\t\tline._loop = true;\r\n\t\t// Model\r\n\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\tline.pivot();\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\t// Update bezier control points\r\n\t\tme.updateBezierControlPoints();\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar lineModel = me.getMeta().dataset._model;\r\n\t\tvar x = reset ? scale.xCenter : pointPosition.x;\r\n\t\tvar y = reset ? scale.yCenter : pointPosition.y;\r\n\r\n\t\t// Utility\r\n\t\tpoint._scale = scale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = me.index;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x, // value not used in dataset scale, but we want a consistent API between scales\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$7(custom.tension, lineModel ? lineModel.tension : 0),\r\n\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar options = me.chart.options;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\tvalues.spanGaps = valueOrDefault$7(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$7(config.lineTension, options.elements.line.tension);\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar area = me.chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (meta.dataset._model.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tmodel = points[i]._model;\r\n\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\thelpers$1.previousItem(points, i, true)._model,\r\n\t\t\t\tmodel,\r\n\t\t\t\thelpers$1.nextItem(points, i, true)._model,\r\n\t\t\t\tmodel.tension\r\n\t\t\t);\r\n\r\n\t\t\t// Prevent the bezier going outside of the bounds of the graph\r\n\t\t\tmodel.controlPointPreviousX = capControlPoint(controlPoints.previous.x, area.left, area.right);\r\n\t\t\tmodel.controlPointPreviousY = capControlPoint(controlPoints.previous.y, area.top, area.bottom);\r\n\t\t\tmodel.controlPointNextX = capControlPoint(controlPoints.next.x, area.left, area.right);\r\n\t\t\tmodel.controlPointNextY = capControlPoint(controlPoints.next.y, area.top, area.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$7(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$7(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$7(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$7(options.hoverRadius, options.radius);\r\n\t}\r\n});\n\ncore_defaults._set('scatter', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\tid: 'x-axis-1',    // need an ID so datasets can reference the scale\r\n\t\t\ttype: 'linear',    // scatter should not use a category axis\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\tid: 'y-axis-1',\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';     // doesn't make sense for scatter since data are formatted as a point\r\n\t\t\t},\r\n\t\t\tlabel: function(item) {\r\n\t\t\t\treturn '(' + item.xLabel + ', ' + item.yLabel + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tscatter: {\r\n\t\t\tshowLine: false\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Scatter charts use line controllers\r\nvar controller_scatter = controller_line;\n\n// NOTE export a map in which the key represents the controller type, not\r\n// the class, and so must be CamelCase in order to be correctly retrieved\r\n// by the controller in core.controller.js (`controllers[meta.type]`).\r\n\r\nvar controllers = {\r\n\tbar: controller_bar,\r\n\tbubble: controller_bubble,\r\n\tdoughnut: controller_doughnut,\r\n\thorizontalBar: controller_horizontalBar,\r\n\tline: controller_line,\r\n\tpolarArea: controller_polarArea,\r\n\tpie: controller_pie,\r\n\tradar: controller_radar,\r\n\tscatter: controller_scatter\r\n};\n\n/**\r\n * Helper function to get relative position for an event\r\n * @param {Event|IEvent} event - The event to get the position for\r\n * @param {Chart} chart - The chart\r\n * @returns {object} the event position\r\n */\r\nfunction getRelativePosition(e, chart) {\r\n\tif (e.native) {\r\n\t\treturn {\r\n\t\t\tx: e.x,\r\n\t\t\ty: e.y\r\n\t\t};\r\n\t}\r\n\r\n\treturn helpers$1.getRelativePosition(e, chart);\r\n}\r\n\r\n/**\r\n * Helper function to traverse all of the visible elements in the chart\r\n * @param {Chart} chart - the chart\r\n * @param {function} handler - the callback to execute for each visible item\r\n */\r\nfunction parseVisibleItems(chart, handler) {\r\n\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\tvar metadata, i, j, ilen, jlen, element;\r\n\r\n\tfor (i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n\t\tmetadata = metasets[i].data;\r\n\t\tfor (j = 0, jlen = metadata.length; j < jlen; ++j) {\r\n\t\t\telement = metadata[j];\r\n\t\t\tif (!element._view.skip) {\r\n\t\t\t\thandler(element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Helper function to get the items that intersect the event position\r\n * @param {ChartElement[]} items - elements to filter\r\n * @param {object} position - the point to be nearest to\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getIntersectItems(chart, position) {\r\n\tvar elements = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * Helper function to get the items nearest to the event position considering all visible items in teh chart\r\n * @param {Chart} chart - the chart to look at elements from\r\n * @param {object} position - the point to be nearest to\r\n * @param {boolean} intersect - if true, only consider items that intersect the position\r\n * @param {function} distanceMetric - function to provide the distance between points\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getNearestItems(chart, position, intersect, distanceMetric) {\r\n\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\tvar nearestItems = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (intersect && !element.inRange(position.x, position.y)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar center = element.getCenterPoint();\r\n\t\tvar distance = distanceMetric(position, center);\r\n\t\tif (distance < minDistance) {\r\n\t\t\tnearestItems = [element];\r\n\t\t\tminDistance = distance;\r\n\t\t} else if (distance === minDistance) {\r\n\t\t\t// Can have multiple items at the same distance in which case we sort by size\r\n\t\t\tnearestItems.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn nearestItems;\r\n}\r\n\r\n/**\r\n * Get a distance metric function for two points based on the\r\n * axis mode setting\r\n * @param {string} axis - the axis mode. x|y|xy\r\n */\r\nfunction getDistanceMetricForAxis(axis) {\r\n\tvar useX = axis.indexOf('x') !== -1;\r\n\tvar useY = axis.indexOf('y') !== -1;\r\n\r\n\treturn function(pt1, pt2) {\r\n\t\tvar deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\r\n\t\tvar deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\r\n\t\treturn Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n\t};\r\n}\r\n\r\nfunction indexMode(chart, e, options) {\r\n\tvar position = getRelativePosition(e, chart);\r\n\t// Default axis for index mode is 'x' to match old behaviour\r\n\toptions.axis = options.axis || 'x';\r\n\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\tvar elements = [];\r\n\r\n\tif (!items.length) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tchart._getSortedVisibleDatasetMetas().forEach(function(meta) {\r\n\t\tvar element = meta.data[items[0]._index];\r\n\r\n\t\t// don't count items that are skipped (null data)\r\n\t\tif (element && !element._view.skip) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * @interface IInteractionOptions\r\n */\r\n/**\r\n * If true, only consider items that intersect the point\r\n * @name IInterfaceOptions#boolean\r\n * @type Boolean\r\n */\r\n\r\n/**\r\n * Contains interaction related functions\r\n * @namespace Chart.Interaction\r\n */\r\nvar core_interaction = {\r\n\t// Helper function for different modes\r\n\tmodes: {\r\n\t\tsingle: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar elements = [];\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\telements.push(element);\r\n\t\t\t\t\treturn elements;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn elements.slice(0, 1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.label\r\n\t\t * @deprecated since version 2.4.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tlabel: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\r\n\t\t * @function Chart.Interaction.modes.index\r\n\t\t * @since v2.4.0\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tindex: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\r\n\t\t * @function Chart.Interaction.modes.dataset\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tdataset: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\r\n\t\t\tif (items.length > 0) {\r\n\t\t\t\titems = chart.getDatasetMeta(items[0]._datasetIndex).data;\r\n\t\t\t}\r\n\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.x-axis\r\n\t\t * @deprecated since version 2.4.0. Use index mode and intersect == true\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\t'x-axis': function(chart, e) {\r\n\t\t\treturn indexMode(chart, e, {intersect: false});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Point mode returns all elements that hit test based on the event position\r\n\t\t * of the event\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tpoint: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\treturn getIntersectItems(chart, position);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * nearest mode returns the element closest to the point\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tnearest: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\treturn getNearestItems(chart, position, options.intersect, distanceMetric);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * x mode returns the elements that hit-test at the current x coordinate\r\n\t\t * @function Chart.Interaction.modes.x\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tx: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inXRange(position.x)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * y mode returns the elements that hit-test at the current y coordinate\r\n\t\t * @function Chart.Interaction.modes.y\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\ty: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inYRange(position.y)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t}\r\n\t}\r\n};\n\nvar extend = helpers$1.extend;\r\n\r\nfunction filterByPosition(array, position) {\r\n\treturn helpers$1.where(array, function(v) {\r\n\t\treturn v.pos === position;\r\n\t});\r\n}\r\n\r\nfunction sortByWeight(array, reverse) {\r\n\treturn array.sort(function(a, b) {\r\n\t\tvar v0 = reverse ? b : a;\r\n\t\tvar v1 = reverse ? a : b;\r\n\t\treturn v0.weight === v1.weight ?\r\n\t\t\tv0.index - v1.index :\r\n\t\t\tv0.weight - v1.weight;\r\n\t});\r\n}\r\n\r\nfunction wrapBoxes(boxes) {\r\n\tvar layoutBoxes = [];\r\n\tvar i, ilen, box;\r\n\r\n\tfor (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\r\n\t\tbox = boxes[i];\r\n\t\tlayoutBoxes.push({\r\n\t\t\tindex: i,\r\n\t\t\tbox: box,\r\n\t\t\tpos: box.position,\r\n\t\t\thorizontal: box.isHorizontal(),\r\n\t\t\tweight: box.weight\r\n\t\t});\r\n\t}\r\n\treturn layoutBoxes;\r\n}\r\n\r\nfunction setLayoutDims(layouts, params) {\r\n\tvar i, ilen, layout;\r\n\tfor (i = 0, ilen = layouts.length; i < ilen; ++i) {\r\n\t\tlayout = layouts[i];\r\n\t\t// store width used instead of chartArea.w in fitBoxes\r\n\t\tlayout.width = layout.horizontal\r\n\t\t\t? layout.box.fullWidth && params.availableWidth\r\n\t\t\t: params.vBoxMaxWidth;\r\n\t\t// store height used instead of chartArea.h in fitBoxes\r\n\t\tlayout.height = layout.horizontal && params.hBoxMaxHeight;\r\n\t}\r\n}\r\n\r\nfunction buildLayoutBoxes(boxes) {\r\n\tvar layoutBoxes = wrapBoxes(boxes);\r\n\tvar left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\r\n\tvar right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\r\n\tvar top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\r\n\tvar bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\r\n\r\n\treturn {\r\n\t\tleftAndTop: left.concat(top),\r\n\t\trightAndBottom: right.concat(bottom),\r\n\t\tchartArea: filterByPosition(layoutBoxes, 'chartArea'),\r\n\t\tvertical: left.concat(right),\r\n\t\thorizontal: top.concat(bottom)\r\n\t};\r\n}\r\n\r\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\r\n\treturn Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\r\n}\r\n\r\nfunction updateDims(chartArea, params, layout) {\r\n\tvar box = layout.box;\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\tvar newWidth, newHeight;\r\n\r\n\tif (layout.size) {\r\n\t\t// this layout was already counted for, lets first reduce old size\r\n\t\tchartArea[layout.pos] -= layout.size;\r\n\t}\r\n\tlayout.size = layout.horizontal ? box.height : box.width;\r\n\tchartArea[layout.pos] += layout.size;\r\n\r\n\tif (box.getPadding) {\r\n\t\tvar boxPadding = box.getPadding();\r\n\t\tmaxPadding.top = Math.max(maxPadding.top, boxPadding.top);\r\n\t\tmaxPadding.left = Math.max(maxPadding.left, boxPadding.left);\r\n\t\tmaxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\r\n\t\tmaxPadding.right = Math.max(maxPadding.right, boxPadding.right);\r\n\t}\r\n\r\n\tnewWidth = params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right');\r\n\tnewHeight = params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom');\r\n\r\n\tif (newWidth !== chartArea.w || newHeight !== chartArea.h) {\r\n\t\tchartArea.w = newWidth;\r\n\t\tchartArea.h = newHeight;\r\n\r\n\t\t// return true if chart area changed in layout's direction\r\n\t\tvar sizes = layout.horizontal ? [newWidth, chartArea.w] : [newHeight, chartArea.h];\r\n\t\treturn sizes[0] !== sizes[1] && (!isNaN(sizes[0]) || !isNaN(sizes[1]));\r\n\t}\r\n}\r\n\r\nfunction handleMaxPadding(chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction updatePos(pos) {\r\n\t\tvar change = Math.max(maxPadding[pos] - chartArea[pos], 0);\r\n\t\tchartArea[pos] += change;\r\n\t\treturn change;\r\n\t}\r\n\tchartArea.y += updatePos('top');\r\n\tchartArea.x += updatePos('left');\r\n\tupdatePos('right');\r\n\tupdatePos('bottom');\r\n}\r\n\r\nfunction getMargins(horizontal, chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction marginForPositions(positions) {\r\n\t\tvar margin = {left: 0, top: 0, right: 0, bottom: 0};\r\n\t\tpositions.forEach(function(pos) {\r\n\t\t\tmargin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\r\n\t\t});\r\n\t\treturn margin;\r\n\t}\r\n\r\n\treturn horizontal\r\n\t\t? marginForPositions(['left', 'right'])\r\n\t\t: marginForPositions(['top', 'bottom']);\r\n}\r\n\r\nfunction fitBoxes(boxes, chartArea, params) {\r\n\tvar refitBoxes = [];\r\n\tvar i, ilen, layout, box, refit, changed;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\r\n\t\tbox.update(\r\n\t\t\tlayout.width || chartArea.w,\r\n\t\t\tlayout.height || chartArea.h,\r\n\t\t\tgetMargins(layout.horizontal, chartArea)\r\n\t\t);\r\n\t\tif (updateDims(chartArea, params, layout)) {\r\n\t\t\tchanged = true;\r\n\t\t\tif (refitBoxes.length) {\r\n\t\t\t\t// Dimensions changed and there were non full width boxes before this\r\n\t\t\t\t// -> we have to refit those\r\n\t\t\t\trefit = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!box.fullWidth) { // fullWidth boxes don't need to be re-fitted in any case\r\n\t\t\trefitBoxes.push(layout);\r\n\t\t}\r\n\t}\r\n\r\n\treturn refit ? fitBoxes(refitBoxes, chartArea, params) || changed : changed;\r\n}\r\n\r\nfunction placeBoxes(boxes, chartArea, params) {\r\n\tvar userPadding = params.padding;\r\n\tvar x = chartArea.x;\r\n\tvar y = chartArea.y;\r\n\tvar i, ilen, layout, box;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\t\tif (layout.horizontal) {\r\n\t\t\tbox.left = box.fullWidth ? userPadding.left : chartArea.left;\r\n\t\t\tbox.right = box.fullWidth ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\r\n\t\t\tbox.top = y;\r\n\t\t\tbox.bottom = y + box.height;\r\n\t\t\tbox.width = box.right - box.left;\r\n\t\t\ty = box.bottom;\r\n\t\t} else {\r\n\t\t\tbox.left = x;\r\n\t\t\tbox.right = x + box.width;\r\n\t\t\tbox.top = chartArea.top;\r\n\t\t\tbox.bottom = chartArea.top + chartArea.h;\r\n\t\t\tbox.height = box.bottom - box.top;\r\n\t\t\tx = box.right;\r\n\t\t}\r\n\t}\r\n\r\n\tchartArea.x = x;\r\n\tchartArea.y = y;\r\n}\r\n\r\ncore_defaults._set('global', {\r\n\tlayout: {\r\n\t\tpadding: {\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * @interface ILayoutItem\r\n * @prop {string} position - The position of the item in the chart layout. Possible values are\r\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\r\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\r\n * @prop {boolean} fullWidth - if true, and the item is horizontal, then push vertical boxes down\r\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\r\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\r\n * @prop {function} getPadding -  Returns an object with padding on the edges\r\n * @prop {number} width - Width of item. Must be valid after update()\r\n * @prop {number} height - Height of item. Must be valid after update()\r\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\r\n */\r\n\r\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\r\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\r\n// It is this service's responsibility of carrying out that layout.\r\nvar core_layouts = {\r\n\tdefaults: {},\r\n\r\n\t/**\r\n\t * Register a box to a chart.\r\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\r\n\t * @param {Chart} chart - the chart to use\r\n\t * @param {ILayoutItem} item - the item to add to be layed out\r\n\t */\r\n\taddBox: function(chart, item) {\r\n\t\tif (!chart.boxes) {\r\n\t\t\tchart.boxes = [];\r\n\t\t}\r\n\r\n\t\t// initialize item with default values\r\n\t\titem.fullWidth = item.fullWidth || false;\r\n\t\titem.position = item.position || 'top';\r\n\t\titem.weight = item.weight || 0;\r\n\t\titem._layers = item._layers || function() {\r\n\t\t\treturn [{\r\n\t\t\t\tz: 0,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\titem.draw.apply(item, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t};\r\n\r\n\t\tchart.boxes.push(item);\r\n\t},\r\n\r\n\t/**\r\n\t * Remove a layoutItem from a chart\r\n\t * @param {Chart} chart - the chart to remove the box from\r\n\t * @param {ILayoutItem} layoutItem - the item to remove from the layout\r\n\t */\r\n\tremoveBox: function(chart, layoutItem) {\r\n\t\tvar index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\r\n\t\tif (index !== -1) {\r\n\t\t\tchart.boxes.splice(index, 1);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Sets (or updates) options on the given `item`.\r\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\r\n\t * @param {ILayoutItem} item - the item to configure with the given options\r\n\t * @param {object} options - the new item options.\r\n\t */\r\n\tconfigure: function(chart, item, options) {\r\n\t\tvar props = ['fullWidth', 'position', 'weight'];\r\n\t\tvar ilen = props.length;\r\n\t\tvar i = 0;\r\n\t\tvar prop;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tprop = props[i];\r\n\t\t\tif (options.hasOwnProperty(prop)) {\r\n\t\t\t\titem[prop] = options[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Fits boxes of the given chart into the given size by having each box measure itself\r\n\t * then running a fitting algorithm\r\n\t * @param {Chart} chart - the chart\r\n\t * @param {number} width - the width to fit into\r\n\t * @param {number} height - the height to fit into\r\n\t */\r\n\tupdate: function(chart, width, height) {\r\n\t\tif (!chart) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar layoutOptions = chart.options.layout || {};\r\n\t\tvar padding = helpers$1.options.toPadding(layoutOptions.padding);\r\n\r\n\t\tvar availableWidth = width - padding.width;\r\n\t\tvar availableHeight = height - padding.height;\r\n\t\tvar boxes = buildLayoutBoxes(chart.boxes);\r\n\t\tvar verticalBoxes = boxes.vertical;\r\n\t\tvar horizontalBoxes = boxes.horizontal;\r\n\r\n\t\t// Essentially we now have any number of boxes on each of the 4 sides.\r\n\t\t// Our canvas looks like the following.\r\n\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\r\n\t\t// B1 is the bottom axis\r\n\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\r\n\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\r\n\t\t// an error will be thrown.\r\n\t\t//\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  T1 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |    |    |                 T2                  |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    | C1 |                           | C2 |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    | C3 |                           | C4 |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    |                 B1                  |    |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  B2 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t//\r\n\r\n\t\tvar params = Object.freeze({\r\n\t\t\touterWidth: width,\r\n\t\t\touterHeight: height,\r\n\t\t\tpadding: padding,\r\n\t\t\tavailableWidth: availableWidth,\r\n\t\t\tvBoxMaxWidth: availableWidth / 2 / verticalBoxes.length,\r\n\t\t\thBoxMaxHeight: availableHeight / 2\r\n\t\t});\r\n\t\tvar chartArea = extend({\r\n\t\t\tmaxPadding: extend({}, padding),\r\n\t\t\tw: availableWidth,\r\n\t\t\th: availableHeight,\r\n\t\t\tx: padding.left,\r\n\t\t\ty: padding.top\r\n\t\t}, padding);\r\n\r\n\t\tsetLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\r\n\r\n\t\t// First fit vertical boxes\r\n\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\r\n\t\t// Then fit horizontal boxes\r\n\t\tif (fitBoxes(horizontalBoxes, chartArea, params)) {\r\n\t\t\t// if the area changed, re-fit vertical boxes\r\n\t\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\t\t}\r\n\r\n\t\thandleMaxPadding(chartArea);\r\n\r\n\t\t// Finally place the boxes to correct coordinates\r\n\t\tplaceBoxes(boxes.leftAndTop, chartArea, params);\r\n\r\n\t\t// Move to opposite side of chart\r\n\t\tchartArea.x += chartArea.w;\r\n\t\tchartArea.y += chartArea.h;\r\n\r\n\t\tplaceBoxes(boxes.rightAndBottom, chartArea, params);\r\n\r\n\t\tchart.chartArea = {\r\n\t\t\tleft: chartArea.left,\r\n\t\t\ttop: chartArea.top,\r\n\t\t\tright: chartArea.left + chartArea.w,\r\n\t\t\tbottom: chartArea.top + chartArea.h\r\n\t\t};\r\n\r\n\t\t// Finally update boxes in chartArea (radial scale for example)\r\n\t\thelpers$1.each(boxes.chartArea, function(layout) {\r\n\t\t\tvar box = layout.box;\r\n\t\t\textend(box, chart.chartArea);\r\n\t\t\tbox.update(chartArea.w, chartArea.h);\r\n\t\t});\r\n\t}\r\n};\n\n/**\r\n * Platform fallback implementation (minimal).\r\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\r\n */\r\n\r\nvar platform_basic = {\r\n\tacquireContext: function(item) {\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\treturn item && item.getContext('2d') || null;\r\n\t}\r\n};\n\nvar platform_dom = \"/*\\r\\n * DOM element rendering detection\\r\\n * https://davidwalsh.name/detect-node-insertion\\r\\n */\\r\\n@keyframes chartjs-render-animation {\\r\\n\\tfrom { opacity: 0.99; }\\r\\n\\tto { opacity: 1; }\\r\\n}\\r\\n\\r\\n.chartjs-render-monitor {\\r\\n\\tanimation: chartjs-render-animation 0.001s;\\r\\n}\\r\\n\\r\\n/*\\r\\n * DOM element resizing detection\\r\\n * https://github.com/marcj/css-element-queries\\r\\n */\\r\\n.chartjs-size-monitor,\\r\\n.chartjs-size-monitor-expand,\\r\\n.chartjs-size-monitor-shrink {\\r\\n\\tposition: absolute;\\r\\n\\tdirection: ltr;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n\\tright: 0;\\r\\n\\tbottom: 0;\\r\\n\\toverflow: hidden;\\r\\n\\tpointer-events: none;\\r\\n\\tvisibility: hidden;\\r\\n\\tz-index: -1;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-expand > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 1000000px;\\r\\n\\theight: 1000000px;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-shrink > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 200%;\\r\\n\\theight: 200%;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\";\n\nvar platform_dom$1 = /*#__PURE__*/Object.freeze({\n__proto__: null,\n'default': platform_dom\n});\n\nvar stylesheet = getCjsExportFromNamespace(platform_dom$1);\n\nvar EXPANDO_KEY = '$chartjs';\r\nvar CSS_PREFIX = 'chartjs-';\r\nvar CSS_SIZE_MONITOR = CSS_PREFIX + 'size-monitor';\r\nvar CSS_RENDER_MONITOR = CSS_PREFIX + 'render-monitor';\r\nvar CSS_RENDER_ANIMATION = CSS_PREFIX + 'render-animation';\r\nvar ANIMATION_START_EVENTS = ['animationstart', 'webkitAnimationStart'];\r\n\r\n/**\r\n * DOM event types -> Chart.js event types.\r\n * Note: only events with different types are mapped.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\r\n */\r\nvar EVENT_TYPES = {\r\n\ttouchstart: 'mousedown',\r\n\ttouchmove: 'mousemove',\r\n\ttouchend: 'mouseup',\r\n\tpointerenter: 'mouseenter',\r\n\tpointerdown: 'mousedown',\r\n\tpointermove: 'mousemove',\r\n\tpointerup: 'mouseup',\r\n\tpointerleave: 'mouseout',\r\n\tpointerout: 'mouseout'\r\n};\r\n\r\n/**\r\n * The \"used\" size is the final value of a dimension property after all calculations have\r\n * been performed. This method uses the computed style of `element` but returns undefined\r\n * if the computed style is not expressed in pixels. That can happen in some cases where\r\n * `element` has a size relative to its parent and this last one is not yet displayed,\r\n * for example because of `display: none` on a parent node.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\r\n * @returns {number} Size in pixels or undefined if unknown.\r\n */\r\nfunction readUsedSize(element, property) {\r\n\tvar value = helpers$1.getStyle(element, property);\r\n\tvar matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\r\n\treturn matches ? Number(matches[1]) : undefined;\r\n}\r\n\r\n/**\r\n * Initializes the canvas style and render size without modifying the canvas display size,\r\n * since responsiveness is handled by the controller.resize() method. The config is used\r\n * to determine the aspect ratio to apply in case no explicit height has been specified.\r\n */\r\nfunction initCanvas(canvas, config) {\r\n\tvar style = canvas.style;\r\n\r\n\t// NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\r\n\t// returns null or '' if no explicit value has been set to the canvas attribute.\r\n\tvar renderHeight = canvas.getAttribute('height');\r\n\tvar renderWidth = canvas.getAttribute('width');\r\n\r\n\t// Chart.js modifies some canvas values that we want to restore on destroy\r\n\tcanvas[EXPANDO_KEY] = {\r\n\t\tinitial: {\r\n\t\t\theight: renderHeight,\r\n\t\t\twidth: renderWidth,\r\n\t\t\tstyle: {\r\n\t\t\t\tdisplay: style.display,\r\n\t\t\t\theight: style.height,\r\n\t\t\t\twidth: style.width\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// Force canvas to display as block to avoid extra space caused by inline\r\n\t// elements, which would interfere with the responsive resize process.\r\n\t// https://github.com/chartjs/Chart.js/issues/2538\r\n\tstyle.display = style.display || 'block';\r\n\r\n\tif (renderWidth === null || renderWidth === '') {\r\n\t\tvar displayWidth = readUsedSize(canvas, 'width');\r\n\t\tif (displayWidth !== undefined) {\r\n\t\t\tcanvas.width = displayWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tif (renderHeight === null || renderHeight === '') {\r\n\t\tif (canvas.style.height === '') {\r\n\t\t\t// If no explicit render height and style height, let's apply the aspect ratio,\r\n\t\t\t// which one can be specified by the user but also by charts as default option\r\n\t\t\t// (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\r\n\t\t\tcanvas.height = canvas.width / (config.options.aspectRatio || 2);\r\n\t\t} else {\r\n\t\t\tvar displayHeight = readUsedSize(canvas, 'height');\r\n\t\t\tif (displayWidth !== undefined) {\r\n\t\t\t\tcanvas.height = displayHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn canvas;\r\n}\r\n\r\n/**\r\n * Detects support for options object argument in addEventListener.\r\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\r\n * @private\r\n */\r\nvar supportsEventListenerOptions = (function() {\r\n\tvar supports = false;\r\n\ttry {\r\n\t\tvar options = Object.defineProperty({}, 'passive', {\r\n\t\t\t// eslint-disable-next-line getter-return\r\n\t\t\tget: function() {\r\n\t\t\t\tsupports = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\twindow.addEventListener('e', null, options);\r\n\t} catch (e) {\r\n\t\t// continue regardless of error\r\n\t}\r\n\treturn supports;\r\n}());\r\n\r\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\r\n// https://github.com/chartjs/Chart.js/issues/4287\r\nvar eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\r\n\r\nfunction addListener(node, type, listener) {\r\n\tnode.addEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction removeListener(node, type, listener) {\r\n\tnode.removeEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction createEvent(type, chart, x, y, nativeEvent) {\r\n\treturn {\r\n\t\ttype: type,\r\n\t\tchart: chart,\r\n\t\tnative: nativeEvent || null,\r\n\t\tx: x !== undefined ? x : null,\r\n\t\ty: y !== undefined ? y : null,\r\n\t};\r\n}\r\n\r\nfunction fromNativeEvent(event, chart) {\r\n\tvar type = EVENT_TYPES[event.type] || event.type;\r\n\tvar pos = helpers$1.getRelativePosition(event, chart);\r\n\treturn createEvent(type, chart, pos.x, pos.y, event);\r\n}\r\n\r\nfunction throttled(fn, thisArg) {\r\n\tvar ticking = false;\r\n\tvar args = [];\r\n\r\n\treturn function() {\r\n\t\targs = Array.prototype.slice.call(arguments);\r\n\t\tthisArg = thisArg || this;\r\n\r\n\t\tif (!ticking) {\r\n\t\t\tticking = true;\r\n\t\t\thelpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tticking = false;\r\n\t\t\t\tfn.apply(thisArg, args);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction createDiv(cls) {\r\n\tvar el = document.createElement('div');\r\n\tel.className = cls || '';\r\n\treturn el;\r\n}\r\n\r\n// Implementation based on https://github.com/marcj/css-element-queries\r\nfunction createResizer(handler) {\r\n\tvar maxSize = 1000000;\r\n\r\n\t// NOTE(SB) Don't use innerHTML because it could be considered unsafe.\r\n\t// https://github.com/chartjs/Chart.js/issues/5902\r\n\tvar resizer = createDiv(CSS_SIZE_MONITOR);\r\n\tvar expand = createDiv(CSS_SIZE_MONITOR + '-expand');\r\n\tvar shrink = createDiv(CSS_SIZE_MONITOR + '-shrink');\r\n\r\n\texpand.appendChild(createDiv());\r\n\tshrink.appendChild(createDiv());\r\n\r\n\tresizer.appendChild(expand);\r\n\tresizer.appendChild(shrink);\r\n\tresizer._reset = function() {\r\n\t\texpand.scrollLeft = maxSize;\r\n\t\texpand.scrollTop = maxSize;\r\n\t\tshrink.scrollLeft = maxSize;\r\n\t\tshrink.scrollTop = maxSize;\r\n\t};\r\n\r\n\tvar onScroll = function() {\r\n\t\tresizer._reset();\r\n\t\thandler();\r\n\t};\r\n\r\n\taddListener(expand, 'scroll', onScroll.bind(expand, 'expand'));\r\n\taddListener(shrink, 'scroll', onScroll.bind(shrink, 'shrink'));\r\n\r\n\treturn resizer;\r\n}\r\n\r\n// https://davidwalsh.name/detect-node-insertion\r\nfunction watchForRender(node, handler) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\tvar proxy = expando.renderProxy = function(e) {\r\n\t\tif (e.animationName === CSS_RENDER_ANIMATION) {\r\n\t\t\thandler();\r\n\t\t}\r\n\t};\r\n\r\n\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\taddListener(node, type, proxy);\r\n\t});\r\n\r\n\t// #4737: Chrome might skip the CSS animation when the CSS_RENDER_MONITOR class\r\n\t// is removed then added back immediately (same animation frame?). Accessing the\r\n\t// `offsetParent` property will force a reflow and re-evaluate the CSS animation.\r\n\t// https://gist.github.com/paulirish/5d52fb081b3570c81e3a#box-metrics\r\n\t// https://github.com/chartjs/Chart.js/issues/4737\r\n\texpando.reflow = !!node.offsetParent;\r\n\r\n\tnode.classList.add(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction unwatchForRender(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar proxy = expando.renderProxy;\r\n\r\n\tif (proxy) {\r\n\t\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\t\tremoveListener(node, type, proxy);\r\n\t\t});\r\n\r\n\t\tdelete expando.renderProxy;\r\n\t}\r\n\r\n\tnode.classList.remove(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction addResizeListener(node, listener, chart) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\r\n\t// Let's keep track of this added resizer and thus avoid DOM query when removing it.\r\n\tvar resizer = expando.resizer = createResizer(throttled(function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = chart.options.maintainAspectRatio && node.parentNode;\r\n\t\t\tvar w = container ? container.clientWidth : 0;\r\n\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\tif (container && container.clientWidth < w && chart.canvas) {\r\n\t\t\t\t// If the container size shrank during chart resize, let's assume\r\n\t\t\t\t// scrollbar appeared. So we resize again with the scrollbar visible -\r\n\t\t\t\t// effectively making chart smaller and the scrollbar hidden again.\r\n\t\t\t\t// Because we are inside `throttled`, and currently `ticking`, scroll\r\n\t\t\t\t// events are ignored during this whole 2 resize process.\r\n\t\t\t\t// If we assumed wrong and something else happened, we are resizing\r\n\t\t\t\t// twice in a frame (potential performance issue)\r\n\t\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\t}\r\n\t\t}\r\n\t}));\r\n\r\n\t// The resizer needs to be attached to the node parent, so we first need to be\r\n\t// sure that `node` is attached to the DOM before injecting the resizer element.\r\n\twatchForRender(node, function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = node.parentNode;\r\n\t\t\tif (container && container !== resizer.parentNode) {\r\n\t\t\t\tcontainer.insertBefore(resizer, container.firstChild);\r\n\t\t\t}\r\n\r\n\t\t\t// The container size might have changed, let's reset the resizer state.\r\n\t\t\tresizer._reset();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction removeResizeListener(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar resizer = expando.resizer;\r\n\r\n\tdelete expando.resizer;\r\n\tunwatchForRender(node);\r\n\r\n\tif (resizer && resizer.parentNode) {\r\n\t\tresizer.parentNode.removeChild(resizer);\r\n\t}\r\n}\r\n\r\n/**\r\n * Injects CSS styles inline if the styles are not already present.\r\n * @param {HTMLDocument|ShadowRoot} rootNode - the node to contain the <style>.\r\n * @param {string} css - the CSS to be injected.\r\n */\r\nfunction injectCSS(rootNode, css) {\r\n\t// https://stackoverflow.com/q/3922139\r\n\tvar expando = rootNode[EXPANDO_KEY] || (rootNode[EXPANDO_KEY] = {});\r\n\tif (!expando.containsStyles) {\r\n\t\texpando.containsStyles = true;\r\n\t\tcss = '/* Chart.js */\\n' + css;\r\n\t\tvar style = document.createElement('style');\r\n\t\tstyle.setAttribute('type', 'text/css');\r\n\t\tstyle.appendChild(document.createTextNode(css));\r\n\t\trootNode.appendChild(style);\r\n\t}\r\n}\r\n\r\nvar platform_dom$2 = {\r\n\t/**\r\n\t * When `true`, prevents the automatic injection of the stylesheet required to\r\n\t * correctly detect when the chart is added to the DOM and then resized. This\r\n\t * switch has been added to allow external stylesheet (`dist/Chart(.min)?.js`)\r\n\t * to be manually imported to make this library compatible with any CSP.\r\n\t * See https://github.com/chartjs/Chart.js/issues/5208\r\n\t */\r\n\tdisableCSSInjection: false,\r\n\r\n\t/**\r\n\t * This property holds whether this platform is enabled for the current environment.\r\n\t * Currently used by platform.js to select the proper implementation.\r\n\t * @private\r\n\t */\r\n\t_enabled: typeof window !== 'undefined' && typeof document !== 'undefined',\r\n\r\n\t/**\r\n\t * Initializes resources that depend on platform options.\r\n\t * @param {HTMLCanvasElement} canvas - The Canvas element.\r\n\t * @private\r\n\t */\r\n\t_ensureLoaded: function(canvas) {\r\n\t\tif (!this.disableCSSInjection) {\r\n\t\t\t// If the canvas is in a shadow DOM, then the styles must also be inserted\r\n\t\t\t// into the same shadow DOM.\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5763\r\n\t\t\tvar root = canvas.getRootNode ? canvas.getRootNode() : document;\r\n\t\t\tvar targetNode = root.host ? root : document.head;\r\n\t\t\tinjectCSS(targetNode, stylesheet);\r\n\t\t}\r\n\t},\r\n\r\n\tacquireContext: function(item, config) {\r\n\t\tif (typeof item === 'string') {\r\n\t\t\titem = document.getElementById(item);\r\n\t\t} else if (item.length) {\r\n\t\t\t// Support for array based queries (such as jQuery)\r\n\t\t\titem = item[0];\r\n\t\t}\r\n\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\t// To prevent canvas fingerprinting, some add-ons undefine the getContext\r\n\t\t// method, for example: https://github.com/kkapsner/CanvasBlocker\r\n\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\tvar context = item && item.getContext && item.getContext('2d');\r\n\r\n\t\t// `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the item is\r\n\t\t// inside an iframe or when running in a protected environment. We could guess the\r\n\t\t// types from their toString() value but let's keep things flexible and assume it's\r\n\t\t// a sufficient condition if the item has a context2D which has item as `canvas`.\r\n\t\t// https://github.com/chartjs/Chart.js/issues/3887\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4102\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4152\r\n\t\tif (context && context.canvas === item) {\r\n\t\t\t// Load platform resources on first chart creation, to make it possible to\r\n\t\t\t// import the library before setting platform options.\r\n\t\t\tthis._ensureLoaded(item);\r\n\t\t\tinitCanvas(item, config);\r\n\t\t\treturn context;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\treleaseContext: function(context) {\r\n\t\tvar canvas = context.canvas;\r\n\t\tif (!canvas[EXPANDO_KEY]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar initial = canvas[EXPANDO_KEY].initial;\r\n\t\t['height', 'width'].forEach(function(prop) {\r\n\t\t\tvar value = initial[prop];\r\n\t\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\t\tcanvas.removeAttribute(prop);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.setAttribute(prop, value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(initial.style || {}, function(value, key) {\r\n\t\t\tcanvas.style[key] = value;\r\n\t\t});\r\n\r\n\t\t// The canvas render size might have been changed (and thus the state stack discarded),\r\n\t\t// we can't use save() and restore() to restore the initial state. So make sure that at\r\n\t\t// least the canvas context is reset to the default state by setting the canvas width.\r\n\t\t// https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\r\n\t\t// eslint-disable-next-line no-self-assign\r\n\t\tcanvas.width = canvas.width;\r\n\r\n\t\tdelete canvas[EXPANDO_KEY];\r\n\t},\r\n\r\n\taddEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\taddResizeListener(canvas, listener, chart);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || (listener[EXPANDO_KEY] = {});\r\n\t\tvar proxies = expando.proxies || (expando.proxies = {});\r\n\t\tvar proxy = proxies[chart.id + '_' + type] = function(event) {\r\n\t\t\tlistener(fromNativeEvent(event, chart));\r\n\t\t};\r\n\r\n\t\taddListener(canvas, type, proxy);\r\n\t},\r\n\r\n\tremoveEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\tremoveResizeListener(canvas);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || {};\r\n\t\tvar proxies = expando.proxies || {};\r\n\t\tvar proxy = proxies[chart.id + '_' + type];\r\n\t\tif (!proxy) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tremoveListener(canvas, type, proxy);\r\n\t}\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.addEventListener instead.\r\n * EventTarget.addEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\r\n * @function Chart.helpers.addEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.addEvent = addListener;\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.removeEventListener instead.\r\n * EventTarget.removeEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener\r\n * @function Chart.helpers.removeEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.removeEvent = removeListener;\n\n// @TODO Make possible to select another platform at build time.\r\nvar implementation = platform_dom$2._enabled ? platform_dom$2 : platform_basic;\r\n\r\n/**\r\n * @namespace Chart.platform\r\n * @see https://chartjs.gitbooks.io/proposals/content/Platform.html\r\n * @since 2.4.0\r\n */\r\nvar platform = helpers$1.extend({\r\n\t/**\r\n\t * @since 2.7.0\r\n\t */\r\n\tinitialize: function() {},\r\n\r\n\t/**\r\n\t * Called at chart construction time, returns a context2d instance implementing\r\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\r\n\t * @param {*} item - The native item from which to acquire context (platform specific)\r\n\t * @param {object} options - The chart options\r\n\t * @returns {CanvasRenderingContext2D} context2d instance\r\n\t */\r\n\tacquireContext: function() {},\r\n\r\n\t/**\r\n\t * Called at chart destruction time, releases any resources associated to the context\r\n\t * previously returned by the acquireContext() method.\r\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\r\n\t * @returns {boolean} true if the method succeeded, else false\r\n\t */\r\n\treleaseContext: function() {},\r\n\r\n\t/**\r\n\t * Registers the specified listener on the given chart.\r\n\t * @param {Chart} chart - Chart from which to listen for event\r\n\t * @param {string} type - The ({@link IEvent}) type to listen for\r\n\t * @param {function} listener - Receives a notification (an object that implements\r\n\t * the {@link IEvent} interface) when an event of the specified type occurs.\r\n\t */\r\n\taddEventListener: function() {},\r\n\r\n\t/**\r\n\t * Removes the specified listener previously registered with addEventListener.\r\n\t * @param {Chart} chart - Chart from which to remove the listener\r\n\t * @param {string} type - The ({@link IEvent}) type to remove\r\n\t * @param {function} listener - The listener function to remove from the event target.\r\n\t */\r\n\tremoveEventListener: function() {}\r\n\r\n}, implementation);\n\ncore_defaults._set('global', {\r\n\tplugins: {}\r\n});\r\n\r\n/**\r\n * The plugin service singleton\r\n * @namespace Chart.plugins\r\n * @since 2.1.0\r\n */\r\nvar core_plugins = {\r\n\t/**\r\n\t * Globally registered plugins.\r\n\t * @private\r\n\t */\r\n\t_plugins: [],\r\n\r\n\t/**\r\n\t * This identifier is used to invalidate the descriptors cache attached to each chart\r\n\t * when a global plugin is registered or unregistered. In this case, the cache ID is\r\n\t * incremented and descriptors are regenerated during following API calls.\r\n\t * @private\r\n\t */\r\n\t_cacheId: 0,\r\n\r\n\t/**\r\n\t * Registers the given plugin(s) if not already registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tif (p.indexOf(plugin) === -1) {\r\n\t\t\t\tp.push(plugin);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Unregisters the given plugin(s) only if registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tunregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tvar idx = p.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\tp.splice(idx, 1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Remove all registered plugins.\r\n\t * @since 2.1.5\r\n\t */\r\n\tclear: function() {\r\n\t\tthis._plugins = [];\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the number of registered plugins?\r\n\t * @returns {number}\r\n\t * @since 2.1.5\r\n\t */\r\n\tcount: function() {\r\n\t\treturn this._plugins.length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns all registered plugin instances.\r\n\t * @returns {IPlugin[]} array of plugin objects.\r\n\t * @since 2.1.5\r\n\t */\r\n\tgetAll: function() {\r\n\t\treturn this._plugins;\r\n\t},\r\n\r\n\t/**\r\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\r\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\r\n\t * returned value can be used, for instance, to interrupt the current action.\r\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\r\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\r\n\t * @param {Array} [args] - Extra arguments to apply to the hook call.\r\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\r\n\t */\r\n\tnotify: function(chart, hook, args) {\r\n\t\tvar descriptors = this.descriptors(chart);\r\n\t\tvar ilen = descriptors.length;\r\n\t\tvar i, descriptor, plugin, params, method;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tdescriptor = descriptors[i];\r\n\t\t\tplugin = descriptor.plugin;\r\n\t\t\tmethod = plugin[hook];\r\n\t\t\tif (typeof method === 'function') {\r\n\t\t\t\tparams = [chart].concat(args || []);\r\n\t\t\t\tparams.push(descriptor.options);\r\n\t\t\t\tif (method.apply(plugin, params) === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns descriptors of enabled plugins for the given chart.\r\n\t * @returns {object[]} [{ plugin, options }]\r\n\t * @private\r\n\t */\r\n\tdescriptors: function(chart) {\r\n\t\tvar cache = chart.$plugins || (chart.$plugins = {});\r\n\t\tif (cache.id === this._cacheId) {\r\n\t\t\treturn cache.descriptors;\r\n\t\t}\r\n\r\n\t\tvar plugins = [];\r\n\t\tvar descriptors = [];\r\n\t\tvar config = (chart && chart.config) || {};\r\n\t\tvar options = (config.options && config.options.plugins) || {};\r\n\r\n\t\tthis._plugins.concat(config.plugins || []).forEach(function(plugin) {\r\n\t\t\tvar idx = plugins.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar id = plugin.id;\r\n\t\t\tvar opts = options[id];\r\n\t\t\tif (opts === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts === true) {\r\n\t\t\t\topts = helpers$1.clone(core_defaults.global.plugins[id]);\r\n\t\t\t}\r\n\r\n\t\t\tplugins.push(plugin);\r\n\t\t\tdescriptors.push({\r\n\t\t\t\tplugin: plugin,\r\n\t\t\t\toptions: opts || {}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tcache.descriptors = descriptors;\r\n\t\tcache.id = this._cacheId;\r\n\t\treturn descriptors;\r\n\t},\r\n\r\n\t/**\r\n\t * Invalidates cache for the given chart: descriptors hold a reference on plugin option,\r\n\t * but in some cases, this reference can be changed by the user when updating options.\r\n\t * https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t * @private\r\n\t */\r\n\t_invalidate: function(chart) {\r\n\t\tdelete chart.$plugins;\r\n\t}\r\n};\n\nvar core_scaleService = {\r\n\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\r\n\t// use the new chart options to grab the correct scale\r\n\tconstructors: {},\r\n\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\r\n\t// old browsers\r\n\r\n\t// Scale config defaults\r\n\tdefaults: {},\r\n\tregisterScaleType: function(type, scaleConstructor, scaleDefaults) {\r\n\t\tthis.constructors[type] = scaleConstructor;\r\n\t\tthis.defaults[type] = helpers$1.clone(scaleDefaults);\r\n\t},\r\n\tgetScaleConstructor: function(type) {\r\n\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\r\n\t},\r\n\tgetScaleDefaults: function(type) {\r\n\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\r\n\t\treturn this.defaults.hasOwnProperty(type) ? helpers$1.merge(Object.create(null), [core_defaults.scale, this.defaults[type]]) : {};\r\n\t},\r\n\tupdateScaleDefaults: function(type, additions) {\r\n\t\tvar me = this;\r\n\t\tif (me.defaults.hasOwnProperty(type)) {\r\n\t\t\tme.defaults[type] = helpers$1.extend(me.defaults[type], additions);\r\n\t\t}\r\n\t},\r\n\taddScalesToLayout: function(chart) {\r\n\t\t// Adds each scale to the chart.boxes array to be sized accordingly\r\n\t\thelpers$1.each(chart.scales, function(scale) {\r\n\t\t\t// Set ILayoutItem parameters for backwards compatibility\r\n\t\t\tscale.fullWidth = scale.options.fullWidth;\r\n\t\t\tscale.position = scale.options.position;\r\n\t\t\tscale.weight = scale.options.weight;\r\n\t\t\tcore_layouts.addBox(chart, scale);\r\n\t\t});\r\n\t}\r\n};\n\nvar valueOrDefault$8 = helpers$1.valueOrDefault;\r\nvar getRtlHelper = helpers$1.rtl.getRtlAdapter;\r\n\r\ncore_defaults._set('global', {\r\n\ttooltips: {\r\n\t\tenabled: true,\r\n\t\tcustom: null,\r\n\t\tmode: 'nearest',\r\n\t\tposition: 'average',\r\n\t\tintersect: true,\r\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\ttitleFontStyle: 'bold',\r\n\t\ttitleSpacing: 2,\r\n\t\ttitleMarginBottom: 6,\r\n\t\ttitleFontColor: '#fff',\r\n\t\ttitleAlign: 'left',\r\n\t\tbodySpacing: 2,\r\n\t\tbodyFontColor: '#fff',\r\n\t\tbodyAlign: 'left',\r\n\t\tfooterFontStyle: 'bold',\r\n\t\tfooterSpacing: 2,\r\n\t\tfooterMarginTop: 6,\r\n\t\tfooterFontColor: '#fff',\r\n\t\tfooterAlign: 'left',\r\n\t\tyPadding: 6,\r\n\t\txPadding: 6,\r\n\t\tcaretPadding: 2,\r\n\t\tcaretSize: 5,\r\n\t\tcornerRadius: 6,\r\n\t\tmultiKeyBackground: '#fff',\r\n\t\tdisplayColors: true,\r\n\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\tborderWidth: 0,\r\n\t\tcallbacks: {\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeTitle: helpers$1.noop,\r\n\t\t\ttitle: function(tooltipItems, data) {\r\n\t\t\t\tvar title = '';\r\n\t\t\t\tvar labels = data.labels;\r\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\r\n\r\n\t\t\t\tif (tooltipItems.length > 0) {\r\n\t\t\t\t\tvar item = tooltipItems[0];\r\n\t\t\t\t\tif (item.label) {\r\n\t\t\t\t\t\ttitle = item.label;\r\n\t\t\t\t\t} else if (item.xLabel) {\r\n\t\t\t\t\t\ttitle = item.xLabel;\r\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\r\n\t\t\t\t\t\ttitle = labels[item.index];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn title;\r\n\t\t\t},\r\n\t\t\tafterTitle: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItem, data)\r\n\t\t\tbeforeLabel: helpers$1.noop,\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\r\n\r\n\t\t\t\tif (label) {\r\n\t\t\t\t\tlabel += ': ';\r\n\t\t\t\t}\r\n\t\t\t\tif (!helpers$1.isNullOrUndef(tooltipItem.value)) {\r\n\t\t\t\t\tlabel += tooltipItem.value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlabel += tooltipItem.yLabel;\r\n\t\t\t\t}\r\n\t\t\t\treturn label;\r\n\t\t\t},\r\n\t\t\tlabelColor: function(tooltipItem, chart) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(tooltipItem.datasetIndex);\r\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\r\n\t\t\t\tvar view = activeElement._view;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tborderColor: view.borderColor,\r\n\t\t\t\t\tbackgroundColor: view.backgroundColor\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tlabelTextColor: function() {\r\n\t\t\t\treturn this._options.bodyFontColor;\r\n\t\t\t},\r\n\t\t\tafterLabel: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tafterBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeFooter: helpers$1.noop,\r\n\t\t\tfooter: helpers$1.noop,\r\n\t\t\tafterFooter: helpers$1.noop\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar positioners = {\r\n\t/**\r\n\t * Average mode places the tooltip at the average position of the elements shown\r\n\t * @function Chart.Tooltip.positioners.average\r\n\t * @param elements {ChartElement[]} the elements being displayed in the tooltip\r\n\t * @returns {object} tooltip position\r\n\t */\r\n\taverage: function(elements) {\r\n\t\tif (!elements.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar i, len;\r\n\t\tvar x = 0;\r\n\t\tvar y = 0;\r\n\t\tvar count = 0;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar pos = el.tooltipPosition();\r\n\t\t\t\tx += pos.x;\r\n\t\t\t\ty += pos.y;\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x / count,\r\n\t\t\ty: y / count\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Gets the tooltip position nearest of the item nearest to the event position\r\n\t * @function Chart.Tooltip.positioners.nearest\r\n\t * @param elements {Chart.Element[]} the tooltip elements\r\n\t * @param eventPosition {object} the position of the event in canvas coordinates\r\n\t * @returns {object} the tooltip position\r\n\t */\r\n\tnearest: function(elements, eventPosition) {\r\n\t\tvar x = eventPosition.x;\r\n\t\tvar y = eventPosition.y;\r\n\t\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\t\tvar i, len, nearestElement;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar center = el.getCenterPoint();\r\n\t\t\t\tvar d = helpers$1.distanceBetweenPoints(eventPosition, center);\r\n\r\n\t\t\t\tif (d < minDistance) {\r\n\t\t\t\t\tminDistance = d;\r\n\t\t\t\t\tnearestElement = el;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (nearestElement) {\r\n\t\t\tvar tp = nearestElement.tooltipPosition();\r\n\t\t\tx = tp.x;\r\n\t\t\ty = tp.y;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// Helper to push or concat based on if the 2nd parameter is an array or not\r\nfunction pushOrConcat(base, toPush) {\r\n\tif (toPush) {\r\n\t\tif (helpers$1.isArray(toPush)) {\r\n\t\t\t// base = base.concat(toPush);\r\n\t\t\tArray.prototype.push.apply(base, toPush);\r\n\t\t} else {\r\n\t\t\tbase.push(toPush);\r\n\t\t}\r\n\t}\r\n\r\n\treturn base;\r\n}\r\n\r\n/**\r\n * Returns array of strings split by newline\r\n * @param {string} value - The value to split by newline.\r\n * @returns {string[]} value if newline present - Returned from String split() method\r\n * @function\r\n */\r\nfunction splitNewlines(str) {\r\n\tif ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\r\n\t\treturn str.split('\\n');\r\n\t}\r\n\treturn str;\r\n}\r\n\r\n\r\n/**\r\n * Private helper to create a tooltip item model\r\n * @param element - the chart element (point, arc, bar) to create the tooltip item for\r\n * @return new tooltip item\r\n */\r\nfunction createTooltipItem(element) {\r\n\tvar xScale = element._xScale;\r\n\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\r\n\tvar index = element._index;\r\n\tvar datasetIndex = element._datasetIndex;\r\n\tvar controller = element._chart.getDatasetMeta(datasetIndex).controller;\r\n\tvar indexScale = controller._getIndexScale();\r\n\tvar valueScale = controller._getValueScale();\r\n\r\n\treturn {\r\n\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tlabel: indexScale ? '' + indexScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tvalue: valueScale ? '' + valueScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tindex: index,\r\n\t\tdatasetIndex: datasetIndex,\r\n\t\tx: element._model.x,\r\n\t\ty: element._model.y\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the reset model for the tooltip\r\n * @param tooltipOpts {object} the tooltip options\r\n */\r\nfunction getBaseModel(tooltipOpts) {\r\n\tvar globalDefaults = core_defaults.global;\r\n\r\n\treturn {\r\n\t\t// Positioning\r\n\t\txPadding: tooltipOpts.xPadding,\r\n\t\tyPadding: tooltipOpts.yPadding,\r\n\t\txAlign: tooltipOpts.xAlign,\r\n\t\tyAlign: tooltipOpts.yAlign,\r\n\r\n\t\t// Drawing direction and text direction\r\n\t\trtl: tooltipOpts.rtl,\r\n\t\ttextDirection: tooltipOpts.textDirection,\r\n\r\n\t\t// Body\r\n\t\tbodyFontColor: tooltipOpts.bodyFontColor,\r\n\t\t_bodyFontFamily: valueOrDefault$8(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_bodyFontStyle: valueOrDefault$8(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\r\n\t\t_bodyAlign: tooltipOpts.bodyAlign,\r\n\t\tbodyFontSize: valueOrDefault$8(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\r\n\t\tbodySpacing: tooltipOpts.bodySpacing,\r\n\r\n\t\t// Title\r\n\t\ttitleFontColor: tooltipOpts.titleFontColor,\r\n\t\t_titleFontFamily: valueOrDefault$8(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_titleFontStyle: valueOrDefault$8(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\r\n\t\ttitleFontSize: valueOrDefault$8(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\r\n\t\t_titleAlign: tooltipOpts.titleAlign,\r\n\t\ttitleSpacing: tooltipOpts.titleSpacing,\r\n\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\r\n\r\n\t\t// Footer\r\n\t\tfooterFontColor: tooltipOpts.footerFontColor,\r\n\t\t_footerFontFamily: valueOrDefault$8(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_footerFontStyle: valueOrDefault$8(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\r\n\t\tfooterFontSize: valueOrDefault$8(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\r\n\t\t_footerAlign: tooltipOpts.footerAlign,\r\n\t\tfooterSpacing: tooltipOpts.footerSpacing,\r\n\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\r\n\r\n\t\t// Appearance\r\n\t\tcaretSize: tooltipOpts.caretSize,\r\n\t\tcornerRadius: tooltipOpts.cornerRadius,\r\n\t\tbackgroundColor: tooltipOpts.backgroundColor,\r\n\t\topacity: 0,\r\n\t\tlegendColorBackground: tooltipOpts.multiKeyBackground,\r\n\t\tdisplayColors: tooltipOpts.displayColors,\r\n\t\tborderColor: tooltipOpts.borderColor,\r\n\t\tborderWidth: tooltipOpts.borderWidth\r\n\t};\r\n}\r\n\r\n/**\r\n * Get the size of the tooltip\r\n */\r\nfunction getTooltipSize(tooltip, model) {\r\n\tvar ctx = tooltip._chart.ctx;\r\n\r\n\tvar height = model.yPadding * 2; // Tooltip Padding\r\n\tvar width = 0;\r\n\r\n\t// Count of all lines in the body\r\n\tvar body = model.body;\r\n\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\r\n\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\r\n\t}, 0);\r\n\tcombinedBodyLength += model.beforeBody.length + model.afterBody.length;\r\n\r\n\tvar titleLineCount = model.title.length;\r\n\tvar footerLineCount = model.footer.length;\r\n\tvar titleFontSize = model.titleFontSize;\r\n\tvar bodyFontSize = model.bodyFontSize;\r\n\tvar footerFontSize = model.footerFontSize;\r\n\r\n\theight += titleLineCount * titleFontSize; // Title Lines\r\n\theight += titleLineCount ? (titleLineCount - 1) * model.titleSpacing : 0; // Title Line Spacing\r\n\theight += titleLineCount ? model.titleMarginBottom : 0; // Title's bottom Margin\r\n\theight += combinedBodyLength * bodyFontSize; // Body Lines\r\n\theight += combinedBodyLength ? (combinedBodyLength - 1) * model.bodySpacing : 0; // Body Line Spacing\r\n\theight += footerLineCount ? model.footerMarginTop : 0; // Footer Margin\r\n\theight += footerLineCount * (footerFontSize); // Footer Lines\r\n\theight += footerLineCount ? (footerLineCount - 1) * model.footerSpacing : 0; // Footer Line Spacing\r\n\r\n\t// Title width\r\n\tvar widthPadding = 0;\r\n\tvar maxLineWidth = function(line) {\r\n\t\twidth = Math.max(width, ctx.measureText(line).width + widthPadding);\r\n\t};\r\n\r\n\tctx.font = helpers$1.fontString(titleFontSize, model._titleFontStyle, model._titleFontFamily);\r\n\thelpers$1.each(model.title, maxLineWidth);\r\n\r\n\t// Body width\r\n\tctx.font = helpers$1.fontString(bodyFontSize, model._bodyFontStyle, model._bodyFontFamily);\r\n\thelpers$1.each(model.beforeBody.concat(model.afterBody), maxLineWidth);\r\n\r\n\t// Body lines may include some extra width due to the color box\r\n\twidthPadding = model.displayColors ? (bodyFontSize + 2) : 0;\r\n\thelpers$1.each(body, function(bodyItem) {\r\n\t\thelpers$1.each(bodyItem.before, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.lines, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.after, maxLineWidth);\r\n\t});\r\n\r\n\t// Reset back to 0\r\n\twidthPadding = 0;\r\n\r\n\t// Footer width\r\n\tctx.font = helpers$1.fontString(footerFontSize, model._footerFontStyle, model._footerFontFamily);\r\n\thelpers$1.each(model.footer, maxLineWidth);\r\n\r\n\t// Add padding\r\n\twidth += 2 * model.xPadding;\r\n\r\n\treturn {\r\n\t\twidth: width,\r\n\t\theight: height\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the alignment of a tooltip given the size\r\n */\r\nfunction determineAlignment(tooltip, size) {\r\n\tvar model = tooltip._model;\r\n\tvar chart = tooltip._chart;\r\n\tvar chartArea = tooltip._chart.chartArea;\r\n\tvar xAlign = 'center';\r\n\tvar yAlign = 'center';\r\n\r\n\tif (model.y < size.height) {\r\n\t\tyAlign = 'top';\r\n\t} else if (model.y > (chart.height - size.height)) {\r\n\t\tyAlign = 'bottom';\r\n\t}\r\n\r\n\tvar lf, rf; // functions to determine left, right alignment\r\n\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\r\n\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\r\n\tvar midX = (chartArea.left + chartArea.right) / 2;\r\n\tvar midY = (chartArea.top + chartArea.bottom) / 2;\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= midX;\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x > midX;\r\n\t\t};\r\n\t} else {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= (size.width / 2);\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x >= (chart.width - (size.width / 2));\r\n\t\t};\r\n\t}\r\n\r\n\tolf = function(x) {\r\n\t\treturn x + size.width + model.caretSize + model.caretPadding > chart.width;\r\n\t};\r\n\torf = function(x) {\r\n\t\treturn x - size.width - model.caretSize - model.caretPadding < 0;\r\n\t};\r\n\tyf = function(y) {\r\n\t\treturn y <= midY ? 'top' : 'bottom';\r\n\t};\r\n\r\n\tif (lf(model.x)) {\r\n\t\txAlign = 'left';\r\n\r\n\t\t// Is tooltip too wide and goes over the right side of the chart.?\r\n\t\tif (olf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t} else if (rf(model.x)) {\r\n\t\txAlign = 'right';\r\n\r\n\t\t// Is tooltip too wide and goes outside left edge of canvas?\r\n\t\tif (orf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t}\r\n\r\n\tvar opts = tooltip._options;\r\n\treturn {\r\n\t\txAlign: opts.xAlign ? opts.xAlign : xAlign,\r\n\t\tyAlign: opts.yAlign ? opts.yAlign : yAlign\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\r\n */\r\nfunction getBackgroundPoint(vm, size, alignment, chart) {\r\n\t// Background Position\r\n\tvar x = vm.x;\r\n\tvar y = vm.y;\r\n\r\n\tvar caretSize = vm.caretSize;\r\n\tvar caretPadding = vm.caretPadding;\r\n\tvar cornerRadius = vm.cornerRadius;\r\n\tvar xAlign = alignment.xAlign;\r\n\tvar yAlign = alignment.yAlign;\r\n\tvar paddingAndSize = caretSize + caretPadding;\r\n\tvar radiusAndPadding = cornerRadius + caretPadding;\r\n\r\n\tif (xAlign === 'right') {\r\n\t\tx -= size.width;\r\n\t} else if (xAlign === 'center') {\r\n\t\tx -= (size.width / 2);\r\n\t\tif (x + size.width > chart.width) {\r\n\t\t\tx = chart.width - size.width;\r\n\t\t}\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tif (yAlign === 'top') {\r\n\t\ty += paddingAndSize;\r\n\t} else if (yAlign === 'bottom') {\r\n\t\ty -= size.height + paddingAndSize;\r\n\t} else {\r\n\t\ty -= (size.height / 2);\r\n\t}\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tif (xAlign === 'left') {\r\n\t\t\tx += paddingAndSize;\r\n\t\t} else if (xAlign === 'right') {\r\n\t\t\tx -= paddingAndSize;\r\n\t\t}\r\n\t} else if (xAlign === 'left') {\r\n\t\tx -= radiusAndPadding;\r\n\t} else if (xAlign === 'right') {\r\n\t\tx += radiusAndPadding;\r\n\t}\r\n\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\r\n\r\nfunction getAlignedX(vm, align) {\r\n\treturn align === 'center'\r\n\t\t? vm.x + vm.width / 2\r\n\t\t: align === 'right'\r\n\t\t\t? vm.x + vm.width - vm.xPadding\r\n\t\t\t: vm.x + vm.xPadding;\r\n}\r\n\r\n/**\r\n * Helper to build before and after body lines\r\n */\r\nfunction getBeforeAfterBodyLines(callback) {\r\n\treturn pushOrConcat([], splitNewlines(callback));\r\n}\r\n\r\nvar exports$4 = core_element.extend({\r\n\tinitialize: function() {\r\n\t\tthis._model = getBaseModel(this._options);\r\n\t\tthis._lastActive = [];\r\n\t},\r\n\r\n\t// Get the title\r\n\t// Args are: (tooltipItem, data)\r\n\tgetTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\t\tvar callbacks = opts.callbacks;\r\n\r\n\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments);\r\n\t\tvar title = callbacks.title.apply(me, arguments);\r\n\t\tvar afterTitle = callbacks.afterTitle.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeTitle));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(title));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterTitle));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBeforeBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBody: function(tooltipItems, data) {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\t\tvar bodyItems = [];\r\n\r\n\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\tvar bodyItem = {\r\n\t\t\t\tbefore: [],\r\n\t\t\t\tlines: [],\r\n\t\t\t\tafter: []\r\n\t\t\t};\r\n\t\t\tpushOrConcat(bodyItem.before, splitNewlines(callbacks.beforeLabel.call(me, tooltipItem, data)));\r\n\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\r\n\t\t\tpushOrConcat(bodyItem.after, splitNewlines(callbacks.afterLabel.call(me, tooltipItem, data)));\r\n\r\n\t\t\tbodyItems.push(bodyItem);\r\n\t\t});\r\n\r\n\t\treturn bodyItems;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetAfterBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Get the footer and beforeFooter and afterFooter lines\r\n\t// Args are: (tooltipItem, data)\r\n\tgetFooter: function() {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\r\n\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\r\n\t\tvar footer = callbacks.footer.apply(me, arguments);\r\n\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeFooter));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(footer));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterFooter));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\tupdate: function(changed) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\r\n\t\t// Need to regenerate the model because its faster than using extend and it is necessary due to the optimization in Chart.Element.transition\r\n\t\t// that does _view = _model if ease === 1. This causes the 2nd tooltip update to set properties in both the view and model at the same time\r\n\t\t// which breaks any animations.\r\n\t\tvar existingModel = me._model;\r\n\t\tvar model = me._model = getBaseModel(opts);\r\n\t\tvar active = me._active;\r\n\r\n\t\tvar data = me._data;\r\n\r\n\t\t// In the case where active.length === 0 we need to keep these at existing values for good animations\r\n\t\tvar alignment = {\r\n\t\t\txAlign: existingModel.xAlign,\r\n\t\t\tyAlign: existingModel.yAlign\r\n\t\t};\r\n\t\tvar backgroundPoint = {\r\n\t\t\tx: existingModel.x,\r\n\t\t\ty: existingModel.y\r\n\t\t};\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: existingModel.width,\r\n\t\t\theight: existingModel.height\r\n\t\t};\r\n\t\tvar tooltipPosition = {\r\n\t\t\tx: existingModel.caretX,\r\n\t\t\ty: existingModel.caretY\r\n\t\t};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (active.length) {\r\n\t\t\tmodel.opacity = 1;\r\n\r\n\t\t\tvar labelColors = [];\r\n\t\t\tvar labelTextColors = [];\r\n\t\t\ttooltipPosition = positioners[opts.position].call(me, active, me._eventPosition);\r\n\r\n\t\t\tvar tooltipItems = [];\r\n\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\r\n\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a filter function, use it to modify the tooltip items\r\n\t\t\tif (opts.filter) {\r\n\t\t\t\ttooltipItems = tooltipItems.filter(function(a) {\r\n\t\t\t\t\treturn opts.filter(a, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\r\n\t\t\tif (opts.itemSort) {\r\n\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\r\n\t\t\t\t\treturn opts.itemSort(a, b, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Determine colors for boxes\r\n\t\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, me._chart));\r\n\t\t\t\tlabelTextColors.push(opts.callbacks.labelTextColor.call(me, tooltipItem, me._chart));\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// Build the Text Lines\r\n\t\t\tmodel.title = me.getTitle(tooltipItems, data);\r\n\t\t\tmodel.beforeBody = me.getBeforeBody(tooltipItems, data);\r\n\t\t\tmodel.body = me.getBody(tooltipItems, data);\r\n\t\t\tmodel.afterBody = me.getAfterBody(tooltipItems, data);\r\n\t\t\tmodel.footer = me.getFooter(tooltipItems, data);\r\n\r\n\t\t\t// Initial positioning and colors\r\n\t\t\tmodel.x = tooltipPosition.x;\r\n\t\t\tmodel.y = tooltipPosition.y;\r\n\t\t\tmodel.caretPadding = opts.caretPadding;\r\n\t\t\tmodel.labelColors = labelColors;\r\n\t\t\tmodel.labelTextColors = labelTextColors;\r\n\r\n\t\t\t// data points\r\n\t\t\tmodel.dataPoints = tooltipItems;\r\n\r\n\t\t\t// We need to determine alignment of the tooltip\r\n\t\t\ttooltipSize = getTooltipSize(this, model);\r\n\t\t\talignment = determineAlignment(this, tooltipSize);\r\n\t\t\t// Final Size and Position\r\n\t\t\tbackgroundPoint = getBackgroundPoint(model, tooltipSize, alignment, me._chart);\r\n\t\t} else {\r\n\t\t\tmodel.opacity = 0;\r\n\t\t}\r\n\r\n\t\tmodel.xAlign = alignment.xAlign;\r\n\t\tmodel.yAlign = alignment.yAlign;\r\n\t\tmodel.x = backgroundPoint.x;\r\n\t\tmodel.y = backgroundPoint.y;\r\n\t\tmodel.width = tooltipSize.width;\r\n\t\tmodel.height = tooltipSize.height;\r\n\r\n\t\t// Point where the caret on the tooltip points to\r\n\t\tmodel.caretX = tooltipPosition.x;\r\n\t\tmodel.caretY = tooltipPosition.y;\r\n\r\n\t\tme._model = model;\r\n\r\n\t\tif (changed && opts.custom) {\r\n\t\t\topts.custom.call(me, model);\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdrawCaret: function(tooltipPoint, size) {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar caretPosition = this.getCaretPosition(tooltipPoint, size, vm);\r\n\r\n\t\tctx.lineTo(caretPosition.x1, caretPosition.y1);\r\n\t\tctx.lineTo(caretPosition.x2, caretPosition.y2);\r\n\t\tctx.lineTo(caretPosition.x3, caretPosition.y3);\r\n\t},\r\n\tgetCaretPosition: function(tooltipPoint, size, vm) {\r\n\t\tvar x1, x2, x3, y1, y2, y3;\r\n\t\tvar caretSize = vm.caretSize;\r\n\t\tvar cornerRadius = vm.cornerRadius;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar ptX = tooltipPoint.x;\r\n\t\tvar ptY = tooltipPoint.y;\r\n\t\tvar width = size.width;\r\n\t\tvar height = size.height;\r\n\r\n\t\tif (yAlign === 'center') {\r\n\t\t\ty2 = ptY + (height / 2);\r\n\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx1 = ptX;\r\n\t\t\t\tx2 = x1 - caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 + caretSize;\r\n\t\t\t\ty3 = y2 - caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx1 = ptX + width;\r\n\t\t\t\tx2 = x1 + caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 - caretSize;\r\n\t\t\t\ty3 = y2 + caretSize;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx2 = ptX + cornerRadius + (caretSize);\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else if (xAlign === 'right') {\r\n\t\t\t\tx2 = ptX + width - cornerRadius - caretSize;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx2 = vm.caretX;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t}\r\n\t\t\tif (yAlign === 'top') {\r\n\t\t\t\ty1 = ptY;\r\n\t\t\t\ty2 = y1 - caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = ptY + height;\r\n\t\t\t\ty2 = y1 + caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t\t// invert drawing order\r\n\t\t\t\tvar tmp = x3;\r\n\t\t\t\tx3 = x1;\r\n\t\t\t\tx1 = tmp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {x1: x1, x2: x2, x3: x3, y1: y1, y2: y2, y3: y3};\r\n\t},\r\n\r\n\tdrawTitle: function(pt, vm, ctx) {\r\n\t\tvar title = vm.title;\r\n\t\tvar length = title.length;\r\n\t\tvar titleFontSize, titleSpacing, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._titleAlign);\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._titleAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\ttitleFontSize = vm.titleFontSize;\r\n\t\t\ttitleSpacing = vm.titleSpacing;\r\n\r\n\t\t\tctx.fillStyle = vm.titleFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFontSize / 2);\r\n\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\r\n\r\n\t\t\t\tif (i + 1 === length) {\r\n\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBody: function(pt, vm, ctx) {\r\n\t\tvar bodyFontSize = vm.bodyFontSize;\r\n\t\tvar bodySpacing = vm.bodySpacing;\r\n\t\tvar bodyAlign = vm._bodyAlign;\r\n\t\tvar body = vm.body;\r\n\t\tvar drawColorBoxes = vm.displayColors;\r\n\t\tvar xLinePadding = 0;\r\n\t\tvar colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n\r\n\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\tvar fillLineOfText = function(line) {\r\n\t\t\tctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyFontSize / 2);\r\n\t\t\tpt.y += bodyFontSize + bodySpacing;\r\n\t\t};\r\n\r\n\t\tvar bodyItem, textColor, labelColors, lines, i, j, ilen, jlen;\r\n\t\tvar bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\r\n\r\n\t\tctx.textAlign = bodyAlign;\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.font = helpers$1.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n\t\tpt.x = getAlignedX(vm, bodyAlignForCalculation);\r\n\r\n\t\t// Before body lines\r\n\t\tctx.fillStyle = vm.bodyFontColor;\r\n\t\thelpers$1.each(vm.beforeBody, fillLineOfText);\r\n\r\n\t\txLinePadding = drawColorBoxes && bodyAlignForCalculation !== 'right'\r\n\t\t\t? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n\t\t\t: 0;\r\n\r\n\t\t// Draw body lines now\r\n\t\tfor (i = 0, ilen = body.length; i < ilen; ++i) {\r\n\t\t\tbodyItem = body[i];\r\n\t\t\ttextColor = vm.labelTextColors[i];\r\n\t\t\tlabelColors = vm.labelColors[i];\r\n\r\n\t\t\tctx.fillStyle = textColor;\r\n\t\t\thelpers$1.each(bodyItem.before, fillLineOfText);\r\n\r\n\t\t\tlines = bodyItem.lines;\r\n\t\t\tfor (j = 0, jlen = lines.length; j < jlen; ++j) {\r\n\t\t\t\t// Draw Legend-like boxes if needed\r\n\t\t\t\tif (drawColorBoxes) {\r\n\t\t\t\t\tvar rtlColorX = rtlHelper.x(colorX);\r\n\r\n\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\r\n\t\t\t\t\tctx.fillStyle = vm.legendColorBackground;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Border\r\n\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\tctx.strokeStyle = labelColors.borderColor;\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Inner square\r\n\t\t\t\t\tctx.fillStyle = labelColors.backgroundColor;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), bodyFontSize - 2), pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n\t\t\t\t\tctx.fillStyle = textColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfillLineOfText(lines[j]);\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(bodyItem.after, fillLineOfText);\r\n\t\t}\r\n\r\n\t\t// Reset back to 0 for after body\r\n\t\txLinePadding = 0;\r\n\r\n\t\t// After body lines\r\n\t\thelpers$1.each(vm.afterBody, fillLineOfText);\r\n\t\tpt.y -= bodySpacing; // Remove last body spacing\r\n\t},\r\n\r\n\tdrawFooter: function(pt, vm, ctx) {\r\n\t\tvar footer = vm.footer;\r\n\t\tvar length = footer.length;\r\n\t\tvar footerFontSize, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._footerAlign);\r\n\t\t\tpt.y += vm.footerMarginTop;\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._footerAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\tfooterFontSize = vm.footerFontSize;\r\n\r\n\t\t\tctx.fillStyle = vm.footerFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFontSize / 2);\r\n\t\t\t\tpt.y += footerFontSize + vm.footerSpacing;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBackground: function(pt, vm, ctx, tooltipSize) {\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar x = pt.x;\r\n\t\tvar y = pt.y;\r\n\t\tvar width = tooltipSize.width;\r\n\t\tvar height = tooltipSize.height;\r\n\t\tvar radius = vm.cornerRadius;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x + radius, y);\r\n\t\tif (yAlign === 'top') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width - radius, y);\r\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'right') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width, y + height - radius);\r\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n\t\tif (yAlign === 'bottom') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + radius, y + height);\r\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'left') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x, y + radius);\r\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\r\n\t\tctx.closePath();\r\n\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth > 0) {\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm.opacity === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: vm.width,\r\n\t\t\theight: vm.height\r\n\t\t};\r\n\t\tvar pt = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\r\n\t\t// IE11/Edge does not like very small opacities, so snap to 0\r\n\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\r\n\r\n\t\t// Truthy/falsey value for empty tooltip\r\n\t\tvar hasTooltipContent = vm.title.length || vm.beforeBody.length || vm.body.length || vm.afterBody.length || vm.footer.length;\r\n\r\n\t\tif (this._options.enabled && hasTooltipContent) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.globalAlpha = opacity;\r\n\r\n\t\t\t// Draw Background\r\n\t\t\tthis.drawBackground(pt, vm, ctx, tooltipSize);\r\n\r\n\t\t\t// Draw Title, Body, and Footer\r\n\t\t\tpt.y += vm.yPadding;\r\n\r\n\t\t\thelpers$1.rtl.overrideTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\t// Titles\r\n\t\t\tthis.drawTitle(pt, vm, ctx);\r\n\r\n\t\t\t// Body\r\n\t\t\tthis.drawBody(pt, vm, ctx);\r\n\r\n\t\t\t// Footer\r\n\t\t\tthis.drawFooter(pt, vm, ctx);\r\n\r\n\t\t\thelpers$1.rtl.restoreTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t * @returns {boolean} true if the tooltip changed\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me._options;\r\n\t\tvar changed = false;\r\n\r\n\t\tme._lastActive = me._lastActive || [];\r\n\r\n\t\t// Find Active Elements for tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme._active = [];\r\n\t\t} else {\r\n\t\t\tme._active = me._chart.getElementsAtEventForMode(e, options.mode, options);\r\n\t\t\tif (options.reverse) {\r\n\t\t\t\tme._active.reverse();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remember Last Actives\r\n\t\tchanged = !helpers$1.arrayEquals(me._active, me._lastActive);\r\n\r\n\t\t// Only handle target event on tooltip change\r\n\t\tif (changed) {\r\n\t\t\tme._lastActive = me._active;\r\n\r\n\t\t\tif (options.enabled || options.custom) {\r\n\t\t\t\tme._eventPosition = {\r\n\t\t\t\t\tx: e.x,\r\n\t\t\t\t\ty: e.y\r\n\t\t\t\t};\r\n\r\n\t\t\t\tme.update(true);\r\n\t\t\t\tme.pivot();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * @namespace Chart.Tooltip.positioners\r\n */\r\nvar positioners_1 = positioners;\r\n\r\nvar core_tooltip = exports$4;\ncore_tooltip.positioners = positioners_1;\n\nvar valueOrDefault$9 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {},\r\n\tevents: [\r\n\t\t'mousemove',\r\n\t\t'mouseout',\r\n\t\t'click',\r\n\t\t'touchstart',\r\n\t\t'touchmove'\r\n\t],\r\n\thover: {\r\n\t\tonHover: null,\r\n\t\tmode: 'nearest',\r\n\t\tintersect: true,\r\n\t\tanimationDuration: 400\r\n\t},\r\n\tonClick: null,\r\n\tmaintainAspectRatio: true,\r\n\tresponsive: true,\r\n\tresponsiveAnimationDuration: 0\r\n});\r\n\r\n/**\r\n * Recursively merge the given config objects representing the `scales` option\r\n * by incorporating scale defaults in `xAxes` and `yAxes` array items, then\r\n * returns a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeScaleConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\r\n\t\t\t\tvar slen = source[key].length;\r\n\t\t\t\tvar i, type, scale;\r\n\r\n\t\t\t\tif (!target[key]) {\r\n\t\t\t\t\ttarget[key] = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i = 0; i < slen; ++i) {\r\n\t\t\t\t\tscale = source[key][i];\r\n\t\t\t\t\ttype = valueOrDefault$9(scale.type, key === 'xAxes' ? 'category' : 'linear');\r\n\r\n\t\t\t\t\tif (i >= target[key].length) {\r\n\t\t\t\t\t\ttarget[key].push({});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!target[key][i].type || (scale.type && scale.type !== target[key][i].type)) {\r\n\t\t\t\t\t\t// new/untyped scale or type changed: let's apply the new defaults\r\n\t\t\t\t\t\t// then merge source scale to correctly overwrite the defaults.\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], [core_scaleService.getScaleDefaults(type), scale]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// scales type are the same\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], scale);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Recursively merge the given config objects as the root options by handling\r\n * default scale options for the `scales` and `scale` properties, then returns\r\n * a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tvar tval = target[key] || Object.create(null);\r\n\t\t\tvar sval = source[key];\r\n\r\n\t\t\tif (key === 'scales') {\r\n\t\t\t\t// scale config merging is complex. Add our own function here for that\r\n\t\t\t\ttarget[key] = mergeScaleConfig(tval, sval);\r\n\t\t\t} else if (key === 'scale') {\r\n\t\t\t\t// used in polar area & radar charts since there is only one scale\r\n\t\t\t\ttarget[key] = helpers$1.merge(tval, [core_scaleService.getScaleDefaults(sval.type), sval]);\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction initConfig(config) {\r\n\tconfig = config || Object.create(null);\r\n\r\n\t// Do NOT use mergeConfig for the data object because this method merges arrays\r\n\t// and so would change references to labels and datasets, preventing data updates.\r\n\tvar data = config.data = config.data || {};\r\n\tdata.datasets = data.datasets || [];\r\n\tdata.labels = data.labels || [];\r\n\r\n\tconfig.options = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[config.type],\r\n\t\tconfig.options || {});\r\n\r\n\treturn config;\r\n}\r\n\r\nfunction updateConfig(chart) {\r\n\tvar newOptions = chart.options;\r\n\r\n\thelpers$1.each(chart.scales, function(scale) {\r\n\t\tcore_layouts.removeBox(chart, scale);\r\n\t});\r\n\r\n\tnewOptions = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[chart.config.type],\r\n\t\tnewOptions);\r\n\r\n\tchart.options = chart.config.options = newOptions;\r\n\tchart.ensureScalesHaveIDs();\r\n\tchart.buildOrUpdateScales();\r\n\r\n\t// Tooltip\r\n\tchart.tooltip._options = newOptions.tooltips;\r\n\tchart.tooltip.initialize();\r\n}\r\n\r\nfunction nextAvailableScaleId(axesOpts, prefix, index) {\r\n\tvar id;\r\n\tvar hasId = function(obj) {\r\n\t\treturn obj.id === id;\r\n\t};\r\n\r\n\tdo {\r\n\t\tid = prefix + index++;\r\n\t} while (helpers$1.findIndex(axesOpts, hasId) >= 0);\r\n\r\n\treturn id;\r\n}\r\n\r\nfunction positionIsHorizontal(position) {\r\n\treturn position === 'top' || position === 'bottom';\r\n}\r\n\r\nfunction compare2Level(l1, l2) {\r\n\treturn function(a, b) {\r\n\t\treturn a[l1] === b[l1]\r\n\t\t\t? a[l2] - b[l2]\r\n\t\t\t: a[l1] - b[l1];\r\n\t};\r\n}\r\n\r\nvar Chart = function(item, config) {\r\n\tthis.construct(item, config);\r\n\treturn this;\r\n};\r\n\r\nhelpers$1.extend(Chart.prototype, /** @lends Chart */ {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tconstruct: function(item, config) {\r\n\t\tvar me = this;\r\n\r\n\t\tconfig = initConfig(config);\r\n\r\n\t\tvar context = platform.acquireContext(item, config);\r\n\t\tvar canvas = context && context.canvas;\r\n\t\tvar height = canvas && canvas.height;\r\n\t\tvar width = canvas && canvas.width;\r\n\r\n\t\tme.id = helpers$1.uid();\r\n\t\tme.ctx = context;\r\n\t\tme.canvas = canvas;\r\n\t\tme.config = config;\r\n\t\tme.width = width;\r\n\t\tme.height = height;\r\n\t\tme.aspectRatio = height ? width / height : null;\r\n\t\tme.options = config.options;\r\n\t\tme._bufferedRender = false;\r\n\t\tme._layers = [];\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, Chart and Chart.Controller have been merged,\r\n\t\t * the \"instance\" still need to be defined since it might be called from plugins.\r\n\t\t * @prop Chart#chart\r\n\t\t * @deprecated since version 2.6.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tme.chart = me;\r\n\t\tme.controller = me; // chart.chart.controller #inception\r\n\r\n\t\t// Add the chart instance to the global namespace\r\n\t\tChart.instances[me.id] = me;\r\n\r\n\t\t// Define alias to the config data: `chart.data === chart.config.data`\r\n\t\tObject.defineProperty(me, 'data', {\r\n\t\t\tget: function() {\r\n\t\t\t\treturn me.config.data;\r\n\t\t\t},\r\n\t\t\tset: function(value) {\r\n\t\t\t\tme.config.data = value;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!context || !canvas) {\r\n\t\t\t// The given item is not a compatible context2d element, let's return before finalizing\r\n\t\t\t// the chart initialization but after setting basic chart / controller properties that\r\n\t\t\t// can help to figure out that the chart is not valid (e.g chart.canvas !== null);\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\t\tconsole.error(\"Failed to create chart: can't acquire context from the given item\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme.initialize();\r\n\t\tme.update();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Before init plugin notification\r\n\t\tcore_plugins.notify(me, 'beforeInit');\r\n\r\n\t\thelpers$1.retinaScale(me, me.options.devicePixelRatio);\r\n\r\n\t\tme.bindEvents();\r\n\r\n\t\tif (me.options.responsive) {\r\n\t\t\t// Initial resize before chart draws (must be silent to preserve initial animations).\r\n\t\t\tme.resize(true);\r\n\t\t}\r\n\r\n\t\tme.initToolTip();\r\n\r\n\t\t// After init plugin notification\r\n\t\tcore_plugins.notify(me, 'afterInit');\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tclear: function() {\r\n\t\thelpers$1.canvas.clear(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tstop: function() {\r\n\t\t// Stops any current animation loop occurring\r\n\t\tcore_animations.cancelAnimation(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tresize: function(silent) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar aspectRatio = (options.maintainAspectRatio && me.aspectRatio) || null;\r\n\r\n\t\t// the canvas render width and height will be casted to integers so make sure that\r\n\t\t// the canvas display style uses the same integer values to avoid blurring effect.\r\n\r\n\t\t// Set to 0 instead of canvas.size because the size defaults to 300x150 if the element is collapsed\r\n\t\tvar newWidth = Math.max(0, Math.floor(helpers$1.getMaximumWidth(canvas)));\r\n\t\tvar newHeight = Math.max(0, Math.floor(aspectRatio ? newWidth / aspectRatio : helpers$1.getMaximumHeight(canvas)));\r\n\r\n\t\tif (me.width === newWidth && me.height === newHeight) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvas.width = me.width = newWidth;\r\n\t\tcanvas.height = me.height = newHeight;\r\n\t\tcanvas.style.width = newWidth + 'px';\r\n\t\tcanvas.style.height = newHeight + 'px';\r\n\r\n\t\thelpers$1.retinaScale(me, options.devicePixelRatio);\r\n\r\n\t\tif (!silent) {\r\n\t\t\t// Notify any plugins about the resize\r\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\r\n\t\t\tcore_plugins.notify(me, 'resize', [newSize]);\r\n\r\n\t\t\t// Notify of resize\r\n\t\t\tif (options.onResize) {\r\n\t\t\t\toptions.onResize(me, newSize);\r\n\t\t\t}\r\n\r\n\t\t\tme.stop();\r\n\t\t\tme.update({\r\n\t\t\t\tduration: options.responsiveAnimationDuration\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tensureScalesHaveIDs: function() {\r\n\t\tvar options = this.options;\r\n\t\tvar scalesOptions = options.scales || {};\r\n\t\tvar scaleOptions = options.scale;\r\n\r\n\t\thelpers$1.each(scalesOptions.xAxes, function(xAxisOptions, index) {\r\n\t\t\tif (!xAxisOptions.id) {\r\n\t\t\t\txAxisOptions.id = nextAvailableScaleId(scalesOptions.xAxes, 'x-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(scalesOptions.yAxes, function(yAxisOptions, index) {\r\n\t\t\tif (!yAxisOptions.id) {\r\n\t\t\t\tyAxisOptions.id = nextAvailableScaleId(scalesOptions.yAxes, 'y-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (scaleOptions) {\r\n\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Builds a map of scale ID to scale object for future lookup.\r\n\t */\r\n\tbuildOrUpdateScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar scales = me.scales || {};\r\n\t\tvar items = [];\r\n\t\tvar updated = Object.keys(scales).reduce(function(obj, id) {\r\n\t\t\tobj[id] = false;\r\n\t\t\treturn obj;\r\n\t\t}, {});\r\n\r\n\t\tif (options.scales) {\r\n\t\t\titems = items.concat(\r\n\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\r\n\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category', dposition: 'bottom'};\r\n\t\t\t\t}),\r\n\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\r\n\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear', dposition: 'left'};\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (options.scale) {\r\n\t\t\titems.push({\r\n\t\t\t\toptions: options.scale,\r\n\t\t\t\tdtype: 'radialLinear',\r\n\t\t\t\tisDefault: true,\r\n\t\t\t\tdposition: 'chartArea'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\thelpers$1.each(items, function(item) {\r\n\t\t\tvar scaleOptions = item.options;\r\n\t\t\tvar id = scaleOptions.id;\r\n\t\t\tvar scaleType = valueOrDefault$9(scaleOptions.type, item.dtype);\r\n\r\n\t\t\tif (positionIsHorizontal(scaleOptions.position) !== positionIsHorizontal(item.dposition)) {\r\n\t\t\t\tscaleOptions.position = item.dposition;\r\n\t\t\t}\r\n\r\n\t\t\tupdated[id] = true;\r\n\t\t\tvar scale = null;\r\n\t\t\tif (id in scales && scales[id].type === scaleType) {\r\n\t\t\t\tscale = scales[id];\r\n\t\t\t\tscale.options = scaleOptions;\r\n\t\t\t\tscale.ctx = me.ctx;\r\n\t\t\t\tscale.chart = me;\r\n\t\t\t} else {\r\n\t\t\t\tvar scaleClass = core_scaleService.getScaleConstructor(scaleType);\r\n\t\t\t\tif (!scaleClass) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tscale = new scaleClass({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\ttype: scaleType,\r\n\t\t\t\t\toptions: scaleOptions,\r\n\t\t\t\t\tctx: me.ctx,\r\n\t\t\t\t\tchart: me\r\n\t\t\t\t});\r\n\t\t\t\tscales[scale.id] = scale;\r\n\t\t\t}\r\n\r\n\t\t\tscale.mergeTicksOptions();\r\n\r\n\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\r\n\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\r\n\t\t\t// make the logic easier and remove some useless? custom code.\r\n\t\t\tif (item.isDefault) {\r\n\t\t\t\tme.scale = scale;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// clear up discarded scales\r\n\t\thelpers$1.each(updated, function(hasUpdated, id) {\r\n\t\t\tif (!hasUpdated) {\r\n\t\t\t\tdelete scales[id];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.scales = scales;\r\n\r\n\t\tcore_scaleService.addScalesToLayout(this);\r\n\t},\r\n\r\n\tbuildOrUpdateControllers: function() {\r\n\t\tvar me = this;\r\n\t\tvar newControllers = [];\r\n\t\tvar datasets = me.data.datasets;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tvar dataset = datasets[i];\r\n\t\t\tvar meta = me.getDatasetMeta(i);\r\n\t\t\tvar type = dataset.type || me.config.type;\r\n\r\n\t\t\tif (meta.type && meta.type !== type) {\r\n\t\t\t\tme.destroyDatasetMeta(i);\r\n\t\t\t\tmeta = me.getDatasetMeta(i);\r\n\t\t\t}\r\n\t\t\tmeta.type = type;\r\n\t\t\tmeta.order = dataset.order || 0;\r\n\t\t\tmeta.index = i;\r\n\r\n\t\t\tif (meta.controller) {\r\n\t\t\t\tmeta.controller.updateIndex(i);\r\n\t\t\t\tmeta.controller.linkScales();\r\n\t\t\t} else {\r\n\t\t\t\tvar ControllerClass = controllers[meta.type];\r\n\t\t\t\tif (ControllerClass === undefined) {\r\n\t\t\t\t\tthrow new Error('\"' + meta.type + '\" is not a chart type.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmeta.controller = new ControllerClass(me, i);\r\n\t\t\t\tnewControllers.push(meta.controller);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newControllers;\r\n\t},\r\n\r\n\t/**\r\n\t * Reset the elements of all datasets\r\n\t * @private\r\n\t */\r\n\tresetElements: function() {\r\n\t\tvar me = this;\r\n\t\thelpers$1.each(me.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t* Resets the chart back to it's state before the initial animation\r\n\t*/\r\n\treset: function() {\r\n\t\tthis.resetElements();\r\n\t\tthis.tooltip.initialize();\r\n\t},\r\n\r\n\tupdate: function(config) {\r\n\t\tvar me = this;\r\n\t\tvar i, ilen;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tupdateConfig(me);\r\n\r\n\t\t// plugins options references might have change, let's invalidate the cache\r\n\t\t// https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t\tcore_plugins._invalidate(me);\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// In case the entire data object changed\r\n\t\tme.tooltip._data = me.data;\r\n\r\n\t\t// Make sure dataset controllers are updated and new controllers are reset\r\n\t\tvar newControllers = me.buildOrUpdateControllers();\r\n\r\n\t\t// Make sure all dataset controllers have correct meta data counts\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\r\n\t\t\tme.getDatasetMeta(i).controller.buildOrUpdateElements();\r\n\t\t}\r\n\r\n\t\tme.updateLayout();\r\n\r\n\t\t// Can only reset the new controllers after the scales have been updated\r\n\t\tif (me.options.animation && me.options.animation.duration) {\r\n\t\t\thelpers$1.each(newControllers, function(controller) {\r\n\t\t\t\tcontroller.reset();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme.updateDatasets();\r\n\r\n\t\t// Need to reset tooltip in case it is displayed with elements that are removed\r\n\t\t// after update.\r\n\t\tme.tooltip.initialize();\r\n\r\n\t\t// Last active contains items that were previously in the tooltip.\r\n\t\t// When we reset the tooltip, we need to clear it\r\n\t\tme.lastActive = [];\r\n\r\n\t\t// Do this before render so that any plugins that need final scale updates can use it\r\n\t\tcore_plugins.notify(me, 'afterUpdate');\r\n\r\n\t\tme._layers.sort(compare2Level('z', '_idx'));\r\n\r\n\t\tif (me._bufferedRender) {\r\n\t\t\tme._bufferedRequest = {\r\n\t\t\t\tduration: config.duration,\r\n\t\t\t\teasing: config.easing,\r\n\t\t\t\tlazy: config.lazy\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tme.render(config);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\r\n\t * hook, in which case, plugins will not be called on `afterLayout`.\r\n\t * @private\r\n\t */\r\n\tupdateLayout: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeLayout') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcore_layouts.update(this, this.width, this.height);\r\n\r\n\t\tme._layers = [];\r\n\t\thelpers$1.each(me.boxes, function(box) {\r\n\t\t\t// _configure is called twice, once in core.scale.update and once here.\r\n\t\t\t// Here the boxes are fully updated and at their final positions.\r\n\t\t\tif (box._configure) {\r\n\t\t\t\tbox._configure();\r\n\t\t\t}\r\n\t\t\tme._layers.push.apply(me._layers, box._layers());\r\n\t\t}, me);\r\n\r\n\t\tme._layers.forEach(function(item, index) {\r\n\t\t\titem._idx = index;\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, use `afterLayout` instead.\r\n\t\t * @method IPlugin#afterScaleUpdate\r\n\t\t * @deprecated since version 2.5.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tcore_plugins.notify(me, 'afterScaleUpdate');\r\n\t\tcore_plugins.notify(me, 'afterLayout');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDatasets: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.updateDataset(i);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsUpdate');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDataset: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getDatasetMeta(index);\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: index\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetUpdate', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller._update();\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetUpdate', [args]);\r\n\t},\r\n\r\n\trender: function(config) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar animationOptions = me.options.animation;\r\n\t\tvar duration = valueOrDefault$9(config.duration, animationOptions && animationOptions.duration);\r\n\t\tvar lazy = config.lazy;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeRender') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar onComplete = function(animation) {\r\n\t\t\tcore_plugins.notify(me, 'afterRender');\r\n\t\t\thelpers$1.callback(animationOptions && animationOptions.onComplete, [animation], me);\r\n\t\t};\r\n\r\n\t\tif (animationOptions && duration) {\r\n\t\t\tvar animation = new core_animation({\r\n\t\t\t\tnumSteps: duration / 16.66, // 60 fps\r\n\t\t\t\teasing: config.easing || animationOptions.easing,\r\n\r\n\t\t\t\trender: function(chart, animationObject) {\r\n\t\t\t\t\tvar easingFunction = helpers$1.easing.effects[animationObject.easing];\r\n\t\t\t\t\tvar currentStep = animationObject.currentStep;\r\n\t\t\t\t\tvar stepDecimal = currentStep / animationObject.numSteps;\r\n\r\n\t\t\t\t\tchart.draw(easingFunction(stepDecimal), stepDecimal, currentStep);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonAnimationProgress: animationOptions.onProgress,\r\n\t\t\t\tonAnimationComplete: onComplete\r\n\t\t\t});\r\n\r\n\t\t\tcore_animations.addAnimation(me, animation, duration, lazy);\r\n\t\t} else {\r\n\t\t\tme.draw();\r\n\r\n\t\t\t// See https://github.com/chartjs/Chart.js/issues/3781\r\n\t\t\tonComplete(new core_animation({numSteps: 0, chart: me}));\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdraw: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar i, layers;\r\n\r\n\t\tme.clear();\r\n\r\n\t\tif (helpers$1.isNullOrUndef(easingValue)) {\r\n\t\t\teasingValue = 1;\r\n\t\t}\r\n\r\n\t\tme.transition(easingValue);\r\n\r\n\t\tif (me.width <= 0 || me.height <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Because of plugin hooks (before/afterDatasetsDraw), datasets can't\r\n\t\t// currently be part of layers. Instead, we draw\r\n\t\t// layers <= 0 before(default, backward compat), and the rest after\r\n\t\tlayers = me._layers;\r\n\t\tfor (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme.drawDatasets(easingValue);\r\n\r\n\t\t// Rest of layers\r\n\t\tfor (; i < layers.length; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme._drawTooltip(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\ttransition: function(easingValue) {\r\n\t\tvar me = this;\r\n\r\n\t\tfor (var i = 0, ilen = (me.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (me.isDatasetVisible(i)) {\r\n\t\t\t\tme.getDatasetMeta(i).controller.transition(easingValue);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.tooltip.transition(easingValue);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedDatasetMetas: function(filterVisible) {\r\n\t\tvar me = this;\r\n\t\tvar datasets = me.data.datasets || [];\r\n\t\tvar result = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\r\n\t\t\tif (!filterVisible || me.isDatasetVisible(i)) {\r\n\t\t\t\tresult.push(me.getDatasetMeta(i));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tresult.sort(compare2Level('order', 'index'));\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedVisibleDatasetMetas: function() {\r\n\t\treturn this._getSortedDatasetMetas(true);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDatasets: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar metasets, i;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmetasets = me._getSortedVisibleDatasetMetas();\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tme.drawDataset(metasets[i], easingValue);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDataset: function(meta, easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: meta.index,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller.draw(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws tooltip unless a plugin returns `false` to the `beforeTooltipDraw`\r\n\t * hook, in which case, plugins will not be called on `afterTooltipDraw`.\r\n\t * @private\r\n\t */\r\n\t_drawTooltip: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\t\tvar args = {\r\n\t\t\ttooltip: tooltip,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeTooltipDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttooltip.draw();\r\n\r\n\t\tcore_plugins.notify(me, 'afterTooltipDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Get the single element that was clicked on\r\n\t * @return An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\r\n\t */\r\n\tgetElementAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.single(this, e);\r\n\t},\r\n\r\n\tgetElementsAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.label(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtXAxis: function(e) {\r\n\t\treturn core_interaction.modes['x-axis'](this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtEventForMode: function(e, mode, options) {\r\n\t\tvar method = core_interaction.modes[mode];\r\n\t\tif (typeof method === 'function') {\r\n\t\t\treturn method(this, e, options);\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t},\r\n\r\n\tgetDatasetAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.dataset(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetDatasetMeta: function(datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.data.datasets[datasetIndex];\r\n\t\tif (!dataset._meta) {\r\n\t\t\tdataset._meta = {};\r\n\t\t}\r\n\r\n\t\tvar meta = dataset._meta[me.id];\r\n\t\tif (!meta) {\r\n\t\t\tmeta = dataset._meta[me.id] = {\r\n\t\t\t\ttype: null,\r\n\t\t\t\tdata: [],\r\n\t\t\t\tdataset: null,\r\n\t\t\t\tcontroller: null,\r\n\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\r\n\t\t\t\txAxisID: null,\r\n\t\t\t\tyAxisID: null,\r\n\t\t\t\torder: dataset.order || 0,\r\n\t\t\t\tindex: datasetIndex\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn meta;\r\n\t},\r\n\r\n\tgetVisibleDatasetCount: function() {\r\n\t\tvar count = 0;\r\n\t\tfor (var i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (this.isDatasetVisible(i)) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t},\r\n\r\n\tisDatasetVisible: function(datasetIndex) {\r\n\t\tvar meta = this.getDatasetMeta(datasetIndex);\r\n\r\n\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\r\n\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\r\n\t\treturn typeof meta.hidden === 'boolean' ? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\r\n\t},\r\n\r\n\tgenerateLegend: function() {\r\n\t\treturn this.options.legendCallback(this);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroyDatasetMeta: function(datasetIndex) {\r\n\t\tvar id = this.id;\r\n\t\tvar dataset = this.data.datasets[datasetIndex];\r\n\t\tvar meta = dataset._meta && dataset._meta[id];\r\n\r\n\t\tif (meta) {\r\n\t\t\tmeta.controller.destroy();\r\n\t\t\tdelete dataset._meta[id];\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tvar me = this;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme.stop();\r\n\r\n\t\t// dataset controllers need to cleanup associated data\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.destroyDatasetMeta(i);\r\n\t\t}\r\n\r\n\t\tif (canvas) {\r\n\t\t\tme.unbindEvents();\r\n\t\t\thelpers$1.canvas.clear(me);\r\n\t\t\tplatform.releaseContext(me.ctx);\r\n\t\t\tme.canvas = null;\r\n\t\t\tme.ctx = null;\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'destroy');\r\n\r\n\t\tdelete Chart.instances[me.id];\r\n\t},\r\n\r\n\ttoBase64Image: function() {\r\n\t\treturn this.canvas.toDataURL.apply(this.canvas, arguments);\r\n\t},\r\n\r\n\tinitToolTip: function() {\r\n\t\tvar me = this;\r\n\t\tme.tooltip = new core_tooltip({\r\n\t\t\t_chart: me,\r\n\t\t\t_chartInstance: me, // deprecated, backward compatibility\r\n\t\t\t_data: me.data,\r\n\t\t\t_options: me.options.tooltips\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners = {};\r\n\t\tvar listener = function() {\r\n\t\t\tme.eventHandler.apply(me, arguments);\r\n\t\t};\r\n\r\n\t\thelpers$1.each(me.options.events, function(type) {\r\n\t\t\tplatform.addEventListener(me, type, listener);\r\n\t\t\tlisteners[type] = listener;\r\n\t\t});\r\n\r\n\t\t// Elements used to detect size change should not be injected for non responsive charts.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/2210\r\n\t\tif (me.options.responsive) {\r\n\t\t\tlistener = function() {\r\n\t\t\t\tme.resize();\r\n\t\t\t};\r\n\r\n\t\t\tplatform.addEventListener(me, 'resize', listener);\r\n\t\t\tlisteners.resize = listener;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tunbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners;\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdelete me._listeners;\r\n\t\thelpers$1.each(listeners, function(listener, type) {\r\n\t\t\tplatform.removeEventListener(me, type, listener);\r\n\t\t});\r\n\t},\r\n\r\n\tupdateHoverStyle: function(elements, mode, enabled) {\r\n\t\tvar prefix = enabled ? 'set' : 'remove';\r\n\t\tvar element, i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\r\n\t\t\telement = elements[i];\r\n\t\t\tif (element) {\r\n\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[prefix + 'HoverStyle'](element);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (mode === 'dataset') {\r\n\t\t\tthis.getDatasetMeta(elements[0]._datasetIndex).controller['_' + prefix + 'DatasetHoverStyle']();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\teventHandler: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeEvent', [e]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Buffer any update calls so that renders do not occur\r\n\t\tme._bufferedRender = true;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\tvar changed = me.handleEvent(e);\r\n\t\t// for smooth tooltip animations issue #4989\r\n\t\t// the tooltip should be the source of change\r\n\t\t// Animation check workaround:\r\n\t\t// tooltip._start will be null when tooltip isn't animating\r\n\t\tif (tooltip) {\r\n\t\t\tchanged = tooltip._start\r\n\t\t\t\t? tooltip.handleEvent(e)\r\n\t\t\t\t: changed | tooltip.handleEvent(e);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterEvent', [e]);\r\n\r\n\t\tvar bufferedRequest = me._bufferedRequest;\r\n\t\tif (bufferedRequest) {\r\n\t\t\t// If we have an update that was triggered, we need to do a normal render\r\n\t\t\tme.render(bufferedRequest);\r\n\t\t} else if (changed && !me.animating) {\r\n\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\r\n\t\t\tme.stop();\r\n\r\n\t\t\t// We only need to render at this point. Updating will cause scales to be\r\n\t\t\t// recomputed generating flicker & using more memory than necessary.\r\n\t\t\tme.render({\r\n\t\t\t\tduration: me.options.hover.animationDuration,\r\n\t\t\t\tlazy: true\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme._bufferedRender = false;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event the event to handle\r\n\t * @return {boolean} true if the chart needs to re-render\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options || {};\r\n\t\tvar hoverOptions = options.hover;\r\n\t\tvar changed = false;\r\n\r\n\t\tme.lastActive = me.lastActive || [];\r\n\r\n\t\t// Find Active Elements for hover and tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme.active = [];\r\n\t\t} else {\r\n\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions);\r\n\t\t}\r\n\r\n\t\t// Invoke onHover hook\r\n\t\t// Need to call with native event here to not break backwards compatibility\r\n\t\thelpers$1.callback(options.onHover || options.hover.onHover, [e.native, me.active], me);\r\n\r\n\t\tif (e.type === 'mouseup' || e.type === 'click') {\r\n\t\t\tif (options.onClick) {\r\n\t\t\t\t// Use e.native here for backwards compatibility\r\n\t\t\t\toptions.onClick.call(me, e.native, me.active);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove styling for last active (even if it may still be active)\r\n\t\tif (me.lastActive.length) {\r\n\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\r\n\t\t}\r\n\r\n\t\t// Built in hover styling\r\n\t\tif (me.active.length && hoverOptions.mode) {\r\n\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\r\n\t\t}\r\n\r\n\t\tchanged = !helpers$1.arrayEquals(me.active, me.lastActive);\r\n\r\n\t\t// Remember Last Actives\r\n\t\tme.lastActive = me.active;\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * NOTE(SB) We actually don't use this container anymore but we need to keep it\r\n * for backward compatibility. Though, it can still be useful for plugins that\r\n * would need to work on multiple charts?!\r\n */\r\nChart.instances = {};\r\n\r\nvar core_controller = Chart;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart instead.\r\n * @class Chart.Controller\r\n * @deprecated since version 2.6\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.Controller = Chart;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.types = {};\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.configMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.configMerge = mergeConfig;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.scaleMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.scaleMerge = mergeScaleConfig;\n\nvar core_helpers = function() {\r\n\r\n\t// -- Basic js utility methods\r\n\r\n\thelpers$1.where = function(collection, filterCallback) {\r\n\t\tif (helpers$1.isArray(collection) && Array.prototype.filter) {\r\n\t\t\treturn collection.filter(filterCallback);\r\n\t\t}\r\n\t\tvar filtered = [];\r\n\r\n\t\thelpers$1.each(collection, function(item) {\r\n\t\t\tif (filterCallback(item)) {\r\n\t\t\t\tfiltered.push(item);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\thelpers$1.findIndex = Array.prototype.findIndex ?\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\treturn array.findIndex(callback, scope);\r\n\t\t} :\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\tscope = scope === undefined ? array : scope;\r\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\r\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t};\r\n\thelpers$1.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to start of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = -1;\r\n\t\t}\r\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to end of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = arrayToSearch.length;\r\n\t\t}\r\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// -- Math methods\r\n\thelpers$1.isNumber = function(n) {\r\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t};\r\n\thelpers$1.almostEquals = function(x, y, epsilon) {\r\n\t\treturn Math.abs(x - y) < epsilon;\r\n\t};\r\n\thelpers$1.almostWhole = function(x, epsilon) {\r\n\t\tvar rounded = Math.round(x);\r\n\t\treturn ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\r\n\t};\r\n\thelpers$1.max = function(array) {\r\n\t\treturn array.reduce(function(max, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.max(max, value);\r\n\t\t\t}\r\n\t\t\treturn max;\r\n\t\t}, Number.NEGATIVE_INFINITY);\r\n\t};\r\n\thelpers$1.min = function(array) {\r\n\t\treturn array.reduce(function(min, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.min(min, value);\r\n\t\t\t}\r\n\t\t\treturn min;\r\n\t\t}, Number.POSITIVE_INFINITY);\r\n\t};\r\n\thelpers$1.sign = Math.sign ?\r\n\t\tfunction(x) {\r\n\t\t\treturn Math.sign(x);\r\n\t\t} :\r\n\t\tfunction(x) {\r\n\t\t\tx = +x; // convert to a number\r\n\t\t\tif (x === 0 || isNaN(x)) {\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\treturn x > 0 ? 1 : -1;\r\n\t\t};\r\n\thelpers$1.toRadians = function(degrees) {\r\n\t\treturn degrees * (Math.PI / 180);\r\n\t};\r\n\thelpers$1.toDegrees = function(radians) {\r\n\t\treturn radians * (180 / Math.PI);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the number of decimal places\r\n\t * i.e. the number of digits after the decimal point, of the value of this Number.\r\n\t * @param {number} x - A number.\r\n\t * @returns {number} The number of decimal places.\r\n\t * @private\r\n\t */\r\n\thelpers$1._decimalPlaces = function(x) {\r\n\t\tif (!helpers$1.isFinite(x)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar e = 1;\r\n\t\tvar p = 0;\r\n\t\twhile (Math.round(x * e) / e !== x) {\r\n\t\t\te *= 10;\r\n\t\t\tp++;\r\n\t\t}\r\n\t\treturn p;\r\n\t};\r\n\r\n\t// Gets the angle from vertical upright to the point about a centre.\r\n\thelpers$1.getAngleFromPoint = function(centrePoint, anglePoint) {\r\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x;\r\n\t\tvar distanceFromYCenter = anglePoint.y - centrePoint.y;\r\n\t\tvar radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\r\n\r\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\r\n\r\n\t\tif (angle < (-0.5 * Math.PI)) {\r\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tangle: angle,\r\n\t\t\tdistance: radialDistanceFromCenter\r\n\t\t};\r\n\t};\r\n\thelpers$1.distanceBetweenPoints = function(pt1, pt2) {\r\n\t\treturn Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\r\n\t};\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.helpers.aliasPixel\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\thelpers$1.aliasPixel = function(pixelWidth) {\r\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the aligned pixel value to avoid anti-aliasing blur\r\n\t * @param {Chart} chart - The chart instance.\r\n\t * @param {number} pixel - A pixel value.\r\n\t * @param {number} width - The width of the element.\r\n\t * @returns {number} The aligned pixel value.\r\n\t * @private\r\n\t */\r\n\thelpers$1._alignPixel = function(chart, pixel, width) {\r\n\t\tvar devicePixelRatio = chart.currentDevicePixelRatio;\r\n\t\tvar halfWidth = width / 2;\r\n\t\treturn Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\r\n\t};\r\n\r\n\thelpers$1.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\r\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\r\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\r\n\r\n\t\t// This function must also respect \"skipped\" points\r\n\r\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint;\r\n\t\tvar current = middlePoint;\r\n\t\tvar next = afterPoint.skip ? middlePoint : afterPoint;\r\n\r\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\r\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\r\n\r\n\t\tvar s01 = d01 / (d01 + d12);\r\n\t\tvar s12 = d12 / (d01 + d12);\r\n\r\n\t\t// If all points are the same, s01 & s02 will be inf\r\n\t\ts01 = isNaN(s01) ? 0 : s01;\r\n\t\ts12 = isNaN(s12) ? 0 : s12;\r\n\r\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\r\n\t\tvar fb = t * s12;\r\n\r\n\t\treturn {\r\n\t\t\tprevious: {\r\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\r\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\r\n\t\t\t},\r\n\t\t\tnext: {\r\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\r\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\thelpers$1.EPSILON = Number.EPSILON || 1e-14;\r\n\thelpers$1.splineCurveMonotone = function(points) {\r\n\t\t// This function calculates Bézier control points in a similar way than |splineCurve|,\r\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\r\n\t\t// between the dataset discrete points due to the interpolation.\r\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\r\n\r\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tmodel: point._model,\r\n\t\t\t\tdeltaK: 0,\r\n\t\t\t\tmK: 0\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\r\n\t\tvar pointsLen = pointsWithTangents.length;\r\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tvar slopeDeltaX = (pointAfter.model.x - pointCurrent.model.x);\r\n\r\n\t\t\t\t// In the case of two points that appear at the same x pixel, slopeDeltaX is 0\r\n\t\t\t\tpointCurrent.deltaK = slopeDeltaX !== 0 ? (pointAfter.model.y - pointCurrent.model.y) / slopeDeltaX : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\r\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\r\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\r\n\t\t\t\tpointCurrent.mK = 0;\r\n\t\t\t} else {\r\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Adjust tangents to ensure monotonic properties\r\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\r\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tpointAfter = pointsWithTangents[i + 1];\r\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (helpers$1.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\r\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\r\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\r\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\r\n\t\t\tif (squaredMagnitude <= 9) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\r\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\r\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\r\n\t\t}\r\n\r\n\t\t// Compute control points\r\n\t\tvar deltaX;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\r\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.nextItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\r\n\t\t}\r\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\r\n\t};\r\n\thelpers$1.previousItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\r\n\t\t}\r\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\r\n\t};\r\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\r\n\thelpers$1.niceNum = function(range, round) {\r\n\t\tvar exponent = Math.floor(helpers$1.log10(range));\r\n\t\tvar fraction = range / Math.pow(10, exponent);\r\n\t\tvar niceFraction;\r\n\r\n\t\tif (round) {\r\n\t\t\tif (fraction < 1.5) {\r\n\t\t\t\tniceFraction = 1;\r\n\t\t\t} else if (fraction < 3) {\r\n\t\t\t\tniceFraction = 2;\r\n\t\t\t} else if (fraction < 7) {\r\n\t\t\t\tniceFraction = 5;\r\n\t\t\t} else {\r\n\t\t\t\tniceFraction = 10;\r\n\t\t\t}\r\n\t\t} else if (fraction <= 1.0) {\r\n\t\t\tniceFraction = 1;\r\n\t\t} else if (fraction <= 2) {\r\n\t\t\tniceFraction = 2;\r\n\t\t} else if (fraction <= 5) {\r\n\t\t\tniceFraction = 5;\r\n\t\t} else {\r\n\t\t\tniceFraction = 10;\r\n\t\t}\r\n\r\n\t\treturn niceFraction * Math.pow(10, exponent);\r\n\t};\r\n\t// Request animation polyfill - https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\thelpers$1.requestAnimFrame = (function() {\r\n\t\tif (typeof window === 'undefined') {\r\n\t\t\treturn function(callback) {\r\n\t\t\t\tcallback();\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn window.requestAnimationFrame ||\r\n\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\tfunction(callback) {\r\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t}());\r\n\t// -- DOM methods\r\n\thelpers$1.getRelativePosition = function(evt, chart) {\r\n\t\tvar mouseX, mouseY;\r\n\t\tvar e = evt.originalEvent || evt;\r\n\t\tvar canvas = evt.target || evt.srcElement;\r\n\t\tvar boundingRect = canvas.getBoundingClientRect();\r\n\r\n\t\tvar touches = e.touches;\r\n\t\tif (touches && touches.length > 0) {\r\n\t\t\tmouseX = touches[0].clientX;\r\n\t\t\tmouseY = touches[0].clientY;\r\n\r\n\t\t} else {\r\n\t\t\tmouseX = e.clientX;\r\n\t\t\tmouseY = e.clientY;\r\n\t\t}\r\n\r\n\t\t// Scale mouse coordinates into canvas coordinates\r\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\r\n\t\t// https://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\r\n\t\tvar paddingLeft = parseFloat(helpers$1.getStyle(canvas, 'padding-left'));\r\n\t\tvar paddingTop = parseFloat(helpers$1.getStyle(canvas, 'padding-top'));\r\n\t\tvar paddingRight = parseFloat(helpers$1.getStyle(canvas, 'padding-right'));\r\n\t\tvar paddingBottom = parseFloat(helpers$1.getStyle(canvas, 'padding-bottom'));\r\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\r\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\r\n\r\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\r\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\r\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\r\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\r\n\r\n\t\treturn {\r\n\t\t\tx: mouseX,\r\n\t\t\ty: mouseY\r\n\t\t};\r\n\r\n\t};\r\n\r\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\r\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\r\n\t\tvar valueInPixels;\r\n\t\tif (typeof styleValue === 'string') {\r\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\r\n\r\n\t\t\tif (styleValue.indexOf('%') !== -1) {\r\n\t\t\t\t// percentage * size in dimension\r\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvalueInPixels = styleValue;\r\n\t\t}\r\n\r\n\t\treturn valueInPixels;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns if the given value contains an effective constraint.\r\n\t * @private\r\n\t */\r\n\tfunction isConstrainedValue(value) {\r\n\t\treturn value !== undefined && value !== null && value !== 'none';\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the max width or height of the given DOM node in a cross-browser compatible fashion\r\n\t * @param {HTMLElement} domNode - the node to check the constraint on\r\n\t * @param {string} maxStyle - the style that defines the maximum for the direction we are using ('max-width' / 'max-height')\r\n\t * @param {string} percentageProperty - property of parent to use when calculating width as a percentage\r\n\t * @see {@link https://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser}\r\n\t */\r\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\r\n\t\tvar view = document.defaultView;\r\n\t\tvar parentNode = helpers$1._getParentNode(domNode);\r\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\r\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\r\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\r\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\r\n\t\tvar infinity = Number.POSITIVE_INFINITY;\r\n\r\n\t\tif (hasCNode || hasCContainer) {\r\n\t\t\treturn Math.min(\r\n\t\t\t\thasCNode ? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\r\n\t\t\t\thasCContainer ? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\r\n\t\t}\r\n\r\n\t\treturn 'none';\r\n\t}\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintWidth = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\r\n\t};\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintHeight = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\r\n\t};\r\n\t/**\r\n\t * @private\r\n \t */\r\n\thelpers$1._calculatePadding = function(container, padding, parentDimension) {\r\n\t\tpadding = helpers$1.getStyle(container, padding);\r\n\r\n\t\treturn padding.indexOf('%') > -1 ? parentDimension * parseInt(padding, 10) / 100 : parseInt(padding, 10);\r\n\t};\r\n\t/**\r\n\t * @private\r\n\t */\r\n\thelpers$1._getParentNode = function(domNode) {\r\n\t\tvar parent = domNode.parentNode;\r\n\t\tif (parent && parent.toString() === '[object ShadowRoot]') {\r\n\t\t\tparent = parent.host;\r\n\t\t}\r\n\t\treturn parent;\r\n\t};\r\n\thelpers$1.getMaximumWidth = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientWidth;\r\n\t\t}\r\n\r\n\t\tvar clientWidth = container.clientWidth;\r\n\t\tvar paddingLeft = helpers$1._calculatePadding(container, 'padding-left', clientWidth);\r\n\t\tvar paddingRight = helpers$1._calculatePadding(container, 'padding-right', clientWidth);\r\n\r\n\t\tvar w = clientWidth - paddingLeft - paddingRight;\r\n\t\tvar cw = helpers$1.getConstraintWidth(domNode);\r\n\t\treturn isNaN(cw) ? w : Math.min(w, cw);\r\n\t};\r\n\thelpers$1.getMaximumHeight = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientHeight;\r\n\t\t}\r\n\r\n\t\tvar clientHeight = container.clientHeight;\r\n\t\tvar paddingTop = helpers$1._calculatePadding(container, 'padding-top', clientHeight);\r\n\t\tvar paddingBottom = helpers$1._calculatePadding(container, 'padding-bottom', clientHeight);\r\n\r\n\t\tvar h = clientHeight - paddingTop - paddingBottom;\r\n\t\tvar ch = helpers$1.getConstraintHeight(domNode);\r\n\t\treturn isNaN(ch) ? h : Math.min(h, ch);\r\n\t};\r\n\thelpers$1.getStyle = function(el, property) {\r\n\t\treturn el.currentStyle ?\r\n\t\t\tel.currentStyle[property] :\r\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\r\n\t};\r\n\thelpers$1.retinaScale = function(chart, forceRatio) {\r\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = forceRatio || (typeof window !== 'undefined' && window.devicePixelRatio) || 1;\r\n\t\tif (pixelRatio === 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar height = chart.height;\r\n\t\tvar width = chart.width;\r\n\r\n\t\tcanvas.height = height * pixelRatio;\r\n\t\tcanvas.width = width * pixelRatio;\r\n\t\tchart.ctx.scale(pixelRatio, pixelRatio);\r\n\r\n\t\t// If no style has been set on the canvas, the render size is used as display size,\r\n\t\t// making the chart visually bigger, so let's enforce it to the \"correct\" values.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/3575\r\n\t\tif (!canvas.style.height && !canvas.style.width) {\r\n\t\t\tcanvas.style.height = height + 'px';\r\n\t\t\tcanvas.style.width = width + 'px';\r\n\t\t}\r\n\t};\r\n\t// -- Canvas methods\r\n\thelpers$1.fontString = function(pixelSize, fontStyle, fontFamily) {\r\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\r\n\t};\r\n\thelpers$1.longestText = function(ctx, font, arrayOfThings, cache) {\r\n\t\tcache = cache || {};\r\n\t\tvar data = cache.data = cache.data || {};\r\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\r\n\r\n\t\tif (cache.font !== font) {\r\n\t\t\tdata = cache.data = {};\r\n\t\t\tgc = cache.garbageCollect = [];\r\n\t\t\tcache.font = font;\r\n\t\t}\r\n\r\n\t\tctx.font = font;\r\n\t\tvar longest = 0;\r\n\t\tvar ilen = arrayOfThings.length;\r\n\t\tvar i, j, jlen, thing, nestedThing;\r\n\t\tfor (i = 0; i < ilen; i++) {\r\n\t\t\tthing = arrayOfThings[i];\r\n\r\n\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\tif (thing !== undefined && thing !== null && helpers$1.isArray(thing) !== true) {\r\n\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, thing);\r\n\t\t\t} else if (helpers$1.isArray(thing)) {\r\n\t\t\t\t// if it is an array lets measure each element\r\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\r\n\t\t\t\tfor (j = 0, jlen = thing.length; j < jlen; j++) {\r\n\t\t\t\t\tnestedThing = thing[j];\r\n\t\t\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers$1.isArray(nestedThing)) {\r\n\t\t\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, nestedThing);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tif (gcLen > arrayOfThings.length) {\r\n\t\t\tfor (i = 0; i < gcLen; i++) {\r\n\t\t\t\tdelete data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\thelpers$1.measureText = function(ctx, data, gc, longest, string) {\r\n\t\tvar textWidth = data[string];\r\n\t\tif (!textWidth) {\r\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\r\n\t\t\tgc.push(string);\r\n\t\t}\r\n\t\tif (textWidth > longest) {\r\n\t\t\tlongest = textWidth;\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t */\r\n\thelpers$1.numberOfLabelLines = function(arrayOfThings) {\r\n\t\tvar numberOfLines = 1;\r\n\t\thelpers$1.each(arrayOfThings, function(thing) {\r\n\t\t\tif (helpers$1.isArray(thing)) {\r\n\t\t\t\tif (thing.length > numberOfLines) {\r\n\t\t\t\t\tnumberOfLines = thing.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn numberOfLines;\r\n\t};\r\n\r\n\thelpers$1.color = !chartjsColor ?\r\n\t\tfunction(value) {\r\n\t\t\tconsole.error('Color.js not found!');\r\n\t\t\treturn value;\r\n\t\t} :\r\n\t\tfunction(value) {\r\n\t\t\t/* global CanvasGradient */\r\n\t\t\tif (value instanceof CanvasGradient) {\r\n\t\t\t\tvalue = core_defaults.global.defaultColor;\r\n\t\t\t}\r\n\r\n\t\t\treturn chartjsColor(value);\r\n\t\t};\r\n\r\n\thelpers$1.getHoverColor = function(colorValue) {\r\n\t\t/* global CanvasPattern */\r\n\t\treturn (colorValue instanceof CanvasPattern || colorValue instanceof CanvasGradient) ?\r\n\t\t\tcolorValue :\r\n\t\t\thelpers$1.color(colorValue).saturate(0.5).darken(0.1).rgbString();\r\n\t};\r\n};\n\nfunction abstract() {\r\n\tthrow new Error(\r\n\t\t'This method is not implemented: either no adapter can ' +\r\n\t\t'be found or an incomplete integration was provided.'\r\n\t);\r\n}\r\n\r\n/**\r\n * Date adapter (current used by the time scale)\r\n * @namespace Chart._adapters._date\r\n * @memberof Chart._adapters\r\n * @private\r\n */\r\n\r\n/**\r\n * Currently supported unit string values.\r\n * @typedef {('millisecond'|'second'|'minute'|'hour'|'day'|'week'|'month'|'quarter'|'year')}\r\n * @memberof Chart._adapters._date\r\n * @name Unit\r\n */\r\n\r\n/**\r\n * @class\r\n */\r\nfunction DateAdapter(options) {\r\n\tthis.options = options || {};\r\n}\r\n\r\nhelpers$1.extend(DateAdapter.prototype, /** @lends DateAdapter */ {\r\n\t/**\r\n\t * Returns a map of time formats for the supported formatting units defined\r\n\t * in Unit as well as 'datetime' representing a detailed date/time string.\r\n\t * @returns {{string: string}}\r\n\t */\r\n\tformats: abstract,\r\n\r\n\t/**\r\n\t * Parses the given `value` and return the associated timestamp.\r\n\t * @param {any} value - the value to parse (usually comes from the data)\r\n\t * @param {string} [format] - the expected data format\r\n\t * @returns {(number|null)}\r\n\t * @function\r\n\t */\r\n\tparse: abstract,\r\n\r\n\t/**\r\n\t * Returns the formatted date in the specified `format` for a given `timestamp`.\r\n\t * @param {number} timestamp - the timestamp to format\r\n\t * @param {string} format - the date/time token\r\n\t * @return {string}\r\n\t * @function\r\n\t */\r\n\tformat: abstract,\r\n\r\n\t/**\r\n\t * Adds the specified `amount` of `unit` to the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {number} amount - the amount to add\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tadd: abstract,\r\n\r\n\t/**\r\n\t * Returns the number of `unit` between the given timestamps.\r\n\t * @param {number} max - the input timestamp (reference)\r\n\t * @param {number} min - the timestamp to substract\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tdiff: abstract,\r\n\r\n\t/**\r\n\t * Returns start of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @param {number} [weekday] - the ISO day of the week with 1 being Monday\r\n\t * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\r\n\t * @function\r\n\t */\r\n\tstartOf: abstract,\r\n\r\n\t/**\r\n\t * Returns end of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @function\r\n\t */\r\n\tendOf: abstract,\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility for scale.getValueForPixel(),\r\n\t * this method should be overridden only by the moment adapter.\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(value) {\r\n\t\treturn value;\r\n\t}\r\n});\r\n\r\nDateAdapter.override = function(members) {\r\n\thelpers$1.extend(DateAdapter.prototype, members);\r\n};\r\n\r\nvar _date = DateAdapter;\n\nvar core_adapters = {\n\t_date: _date\n};\n\n/**\r\n * Namespace to hold static tick generation functions\r\n * @namespace Chart.Ticks\r\n */\r\nvar core_ticks = {\r\n\t/**\r\n\t * Namespace to hold formatters for different types of ticks\r\n\t * @namespace Chart.Ticks.formatters\r\n\t */\r\n\tformatters: {\r\n\t\t/**\r\n\t\t * Formatter for value labels\r\n\t\t * @method Chart.Ticks.formatters.values\r\n\t\t * @param value the value to display\r\n\t\t * @return {string|string[]} the label to display\r\n\t\t */\r\n\t\tvalues: function(value) {\r\n\t\t\treturn helpers$1.isArray(value) ? value : '' + value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Formatter for linear numeric ticks\r\n\t\t * @method Chart.Ticks.formatters.linear\r\n\t\t * @param tickValue {number} the value to be formatted\r\n\t\t * @param index {number} the position of the tickValue parameter in the ticks array\r\n\t\t * @param ticks {number[]} the list of ticks being converted\r\n\t\t * @return {string} string representation of the tickValue parameter\r\n\t\t */\r\n\t\tlinear: function(tickValue, index, ticks) {\r\n\t\t\t// If we have lots of ticks, don't use the ones\r\n\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\r\n\r\n\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\r\n\t\t\tif (Math.abs(delta) > 1) {\r\n\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\r\n\t\t\t\t\t// not an integer\r\n\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar logDelta = helpers$1.log10(Math.abs(delta));\r\n\t\t\tvar tickString = '';\r\n\r\n\t\t\tif (tickValue !== 0) {\r\n\t\t\t\tvar maxTick = Math.max(Math.abs(ticks[0]), Math.abs(ticks[ticks.length - 1]));\r\n\t\t\t\tif (maxTick < 1e-4) { // all ticks are small numbers; use scientific notation\r\n\t\t\t\t\tvar logTick = helpers$1.log10(Math.abs(tickValue));\r\n\t\t\t\t\tvar numExponential = Math.floor(logTick) - Math.floor(logDelta);\r\n\t\t\t\t\tnumExponential = Math.max(Math.min(numExponential, 20), 0);\r\n\t\t\t\t\ttickString = tickValue.toExponential(numExponential);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\r\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\r\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttickString = '0'; // never show decimal places for 0\r\n\t\t\t}\r\n\r\n\t\t\treturn tickString;\r\n\t\t},\r\n\r\n\t\tlogarithmic: function(tickValue, index, ticks) {\r\n\t\t\tvar remain = tickValue / (Math.pow(10, Math.floor(helpers$1.log10(tickValue))));\r\n\r\n\t\t\tif (tickValue === 0) {\r\n\t\t\t\treturn '0';\r\n\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === ticks.length - 1) {\r\n\t\t\t\treturn tickValue.toExponential();\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n};\n\nvar isArray = helpers$1.isArray;\r\nvar isNullOrUndef = helpers$1.isNullOrUndef;\r\nvar valueOrDefault$a = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault = helpers$1.valueAtIndexOrDefault;\r\n\r\ncore_defaults._set('scale', {\r\n\tdisplay: true,\r\n\tposition: 'left',\r\n\toffset: false,\r\n\r\n\t// grid line settings\r\n\tgridLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tdrawBorder: true,\r\n\t\tdrawOnChartArea: true,\r\n\t\tdrawTicks: true,\r\n\t\ttickMarkLength: 10,\r\n\t\tzeroLineWidth: 1,\r\n\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\r\n\t\tzeroLineBorderDash: [],\r\n\t\tzeroLineBorderDashOffset: 0.0,\r\n\t\toffsetGridLines: false,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\t// scale label\r\n\tscaleLabel: {\r\n\t\t// display property\r\n\t\tdisplay: false,\r\n\r\n\t\t// actual label\r\n\t\tlabelString: '',\r\n\r\n\t\t// top/bottom padding\r\n\t\tpadding: {\r\n\t\t\ttop: 4,\r\n\t\t\tbottom: 4\r\n\t\t}\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tbeginAtZero: false,\r\n\t\tminRotation: 0,\r\n\t\tmaxRotation: 50,\r\n\t\tmirror: false,\r\n\t\tpadding: 0,\r\n\t\treverse: false,\r\n\t\tdisplay: true,\r\n\t\tautoSkip: true,\r\n\t\tautoSkipPadding: 0,\r\n\t\tlabelOffset: 0,\r\n\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\r\n\t\tcallback: core_ticks.formatters.values,\r\n\t\tminor: {},\r\n\t\tmajor: {}\r\n\t}\r\n});\r\n\r\n/** Returns a new array containing numItems from arr */\r\nfunction sample(arr, numItems) {\r\n\tvar result = [];\r\n\tvar increment = arr.length / numItems;\r\n\tvar i = 0;\r\n\tvar len = arr.length;\r\n\r\n\tfor (; i < len; i += increment) {\r\n\t\tresult.push(arr[Math.floor(i)]);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\r\n\tvar length = scale.getTicks().length;\r\n\tvar validIndex = Math.min(index, length - 1);\r\n\tvar lineValue = scale.getPixelForTick(validIndex);\r\n\tvar start = scale._startPixel;\r\n\tvar end = scale._endPixel;\r\n\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\tvar offset;\r\n\r\n\tif (offsetGridLines) {\r\n\t\tif (length === 1) {\r\n\t\t\toffset = Math.max(lineValue - start, end - lineValue);\r\n\t\t} else if (index === 0) {\r\n\t\t\toffset = (scale.getPixelForTick(1) - lineValue) / 2;\r\n\t\t} else {\r\n\t\t\toffset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\r\n\t\t}\r\n\t\tlineValue += validIndex < index ? offset : -offset;\r\n\r\n\t\t// Return undefined if the pixel is out of the range\r\n\t\tif (lineValue < start - epsilon || lineValue > end + epsilon) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\treturn lineValue;\r\n}\r\n\r\nfunction garbageCollect(caches, length) {\r\n\thelpers$1.each(caches, function(cache) {\r\n\t\tvar gc = cache.gc;\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tvar i;\r\n\t\tif (gcLen > length) {\r\n\t\t\tfor (i = 0; i < gcLen; ++i) {\r\n\t\t\t\tdelete cache.data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Returns {width, height, offset} objects for the first, last, widest, highest tick\r\n * labels where offset indicates the anchor point offset from the top in pixels.\r\n */\r\nfunction computeLabelSizes(ctx, tickFonts, ticks, caches) {\r\n\tvar length = ticks.length;\r\n\tvar widths = [];\r\n\tvar heights = [];\r\n\tvar offsets = [];\r\n\tvar widestLabelSize = 0;\r\n\tvar highestLabelSize = 0;\r\n\tvar i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel, widest, highest;\r\n\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tlabel = ticks[i].label;\r\n\t\ttickFont = ticks[i].major ? tickFonts.major : tickFonts.minor;\r\n\t\tctx.font = fontString = tickFont.string;\r\n\t\tcache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\r\n\t\tlineHeight = tickFont.lineHeight;\r\n\t\twidth = height = 0;\r\n\t\t// Undefined labels and arrays should not be measured\r\n\t\tif (!isNullOrUndef(label) && !isArray(label)) {\r\n\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, label);\r\n\t\t\theight = lineHeight;\r\n\t\t} else if (isArray(label)) {\r\n\t\t\t// if it is an array let's measure each element\r\n\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\tnestedLabel = label[j];\r\n\t\t\t\t// Undefined labels and arrays should not be measured\r\n\t\t\t\tif (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\r\n\t\t\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, nestedLabel);\r\n\t\t\t\t\theight += lineHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\twidths.push(width);\r\n\t\theights.push(height);\r\n\t\toffsets.push(lineHeight / 2);\r\n\t\twidestLabelSize = Math.max(width, widestLabelSize);\r\n\t\thighestLabelSize = Math.max(height, highestLabelSize);\r\n\t}\r\n\tgarbageCollect(caches, length);\r\n\r\n\twidest = widths.indexOf(widestLabelSize);\r\n\thighest = heights.indexOf(highestLabelSize);\r\n\r\n\tfunction valueAt(idx) {\r\n\t\treturn {\r\n\t\t\twidth: widths[idx] || 0,\r\n\t\t\theight: heights[idx] || 0,\r\n\t\t\toffset: offsets[idx] || 0\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tfirst: valueAt(0),\r\n\t\tlast: valueAt(length - 1),\r\n\t\twidest: valueAt(widest),\r\n\t\thighest: valueAt(highest)\r\n\t};\r\n}\r\n\r\nfunction getTickMarkLength(options) {\r\n\treturn options.drawTicks ? options.tickMarkLength : 0;\r\n}\r\n\r\nfunction getScaleLabelHeight(options) {\r\n\tvar font, padding;\r\n\r\n\tif (!options.display) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tfont = helpers$1.options._parseFont(options);\r\n\tpadding = helpers$1.options.toPadding(options.padding);\r\n\r\n\treturn font.lineHeight + padding.height;\r\n}\r\n\r\nfunction parseFontOptions(options, nestedOpts) {\r\n\treturn helpers$1.extend(helpers$1.options._parseFont({\r\n\t\tfontFamily: valueOrDefault$a(nestedOpts.fontFamily, options.fontFamily),\r\n\t\tfontSize: valueOrDefault$a(nestedOpts.fontSize, options.fontSize),\r\n\t\tfontStyle: valueOrDefault$a(nestedOpts.fontStyle, options.fontStyle),\r\n\t\tlineHeight: valueOrDefault$a(nestedOpts.lineHeight, options.lineHeight)\r\n\t}), {\r\n\t\tcolor: helpers$1.options.resolve([nestedOpts.fontColor, options.fontColor, core_defaults.global.defaultFontColor])\r\n\t});\r\n}\r\n\r\nfunction parseTickFontOptions(options) {\r\n\tvar minor = parseFontOptions(options, options.minor);\r\n\tvar major = options.major.enabled ? parseFontOptions(options, options.major) : minor;\r\n\r\n\treturn {minor: minor, major: major};\r\n}\r\n\r\nfunction nonSkipped(ticksToFilter) {\r\n\tvar filtered = [];\r\n\tvar item, index, len;\r\n\tfor (index = 0, len = ticksToFilter.length; index < len; ++index) {\r\n\t\titem = ticksToFilter[index];\r\n\t\tif (typeof item._index !== 'undefined') {\r\n\t\t\tfiltered.push(item);\r\n\t\t}\r\n\t}\r\n\treturn filtered;\r\n}\r\n\r\nfunction getEvenSpacing(arr) {\r\n\tvar len = arr.length;\r\n\tvar i, diff;\r\n\r\n\tif (len < 2) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor (diff = arr[0], i = 1; i < len; ++i) {\r\n\t\tif (arr[i] - arr[i - 1] !== diff) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn diff;\r\n}\r\n\r\nfunction calculateSpacing(majorIndices, ticks, axisLength, ticksLimit) {\r\n\tvar evenMajorSpacing = getEvenSpacing(majorIndices);\r\n\tvar spacing = (ticks.length - 1) / ticksLimit;\r\n\tvar factors, factor, i, ilen;\r\n\r\n\t// If the major ticks are evenly spaced apart, place the minor ticks\r\n\t// so that they divide the major ticks into even chunks\r\n\tif (!evenMajorSpacing) {\r\n\t\treturn Math.max(spacing, 1);\r\n\t}\r\n\r\n\tfactors = helpers$1.math._factorize(evenMajorSpacing);\r\n\tfor (i = 0, ilen = factors.length - 1; i < ilen; i++) {\r\n\t\tfactor = factors[i];\r\n\t\tif (factor > spacing) {\r\n\t\t\treturn factor;\r\n\t\t}\r\n\t}\r\n\treturn Math.max(spacing, 1);\r\n}\r\n\r\nfunction getMajorIndices(ticks) {\r\n\tvar result = [];\r\n\tvar i, ilen;\r\n\tfor (i = 0, ilen = ticks.length; i < ilen; i++) {\r\n\t\tif (ticks[i].major) {\r\n\t\t\tresult.push(i);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction skipMajors(ticks, majorIndices, spacing) {\r\n\tvar count = 0;\r\n\tvar next = majorIndices[0];\r\n\tvar i, tick;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tfor (i = 0; i < ticks.length; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = majorIndices[count * spacing];\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction skip(ticks, spacing, majorStart, majorEnd) {\r\n\tvar start = valueOrDefault$a(majorStart, 0);\r\n\tvar end = Math.min(valueOrDefault$a(majorEnd, ticks.length), ticks.length);\r\n\tvar count = 0;\r\n\tvar length, i, tick, next;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tif (majorEnd) {\r\n\t\tlength = majorEnd - majorStart;\r\n\t\tspacing = length / Math.floor(length / spacing);\r\n\t}\r\n\r\n\tnext = start;\r\n\r\n\twhile (next < 0) {\r\n\t\tcount++;\r\n\t\tnext = Math.round(start + count * spacing);\r\n\t}\r\n\r\n\tfor (i = Math.max(start, 0); i < end; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = Math.round(start + count * spacing);\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar Scale = core_element.extend({\r\n\r\n\tzeroLineIndex: 0,\r\n\r\n\t/**\r\n\t * Get the padding needed for the scale\r\n\t * @method getPadding\r\n\t * @private\r\n\t * @returns {Padding} the necessary padding\r\n\t */\r\n\tgetPadding: function() {\r\n\t\tvar me = this;\r\n\t\treturn {\r\n\t\t\tleft: me.paddingLeft || 0,\r\n\t\t\ttop: me.paddingTop || 0,\r\n\t\t\tright: me.paddingRight || 0,\r\n\t\t\tbottom: me.paddingBottom || 0\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the scale tick objects ({label, major})\r\n\t * @since 2.7\r\n\t */\r\n\tgetTicks: function() {\r\n\t\treturn this._ticks;\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getLabels: function() {\r\n\t\tvar data = this.chart.data;\r\n\t\treturn this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecyle. Utilities then follow.\r\n\t// Any function defined here is inherited by all scale types.\r\n\t// Any function can be extended by the scale type\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.Scale.mergeTicksOptions\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\tmergeTicksOptions: function() {\r\n\t\t// noop\r\n\t},\r\n\r\n\tbeforeUpdate: function() {\r\n\t\thelpers$1.callback(this.options.beforeUpdate, [this]);\r\n\t},\r\n\r\n\t/**\r\n\t * @param {number} maxWidth - the max width in pixels\r\n\t * @param {number} maxHeight - the max height in pixels\r\n\t * @param {object} margins - the space between the edge of the other scales and edge of the chart\r\n\t *   This space comes from two sources:\r\n\t *     - padding - space that's required to show the labels at the edges of the scale\r\n\t *     - thickness of scales or legends in another orientation\r\n\t */\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar sampleSize = tickOpts.sampleSize;\r\n\t\tvar i, ilen, labels, ticks, samplingEnabled;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = helpers$1.extend({\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0\r\n\t\t}, margins);\r\n\r\n\t\tme._ticks = null;\r\n\t\tme.ticks = null;\r\n\t\tme._labelSizes = null;\r\n\t\tme._maxLabelLines = 0;\r\n\t\tme.longestLabelWidth = 0;\r\n\t\tme.longestTextCache = me.longestTextCache || {};\r\n\t\tme._gridLineItems = null;\r\n\t\tme._labelItems = null;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\r\n\t\t// Data min/max\r\n\t\tme.beforeDataLimits();\r\n\t\tme.determineDataLimits();\r\n\t\tme.afterDataLimits();\r\n\r\n\t\t// Ticks - `this.ticks` is now DEPRECATED!\r\n\t\t// Internal ticks are now stored as objects in the PRIVATE `this._ticks` member\r\n\t\t// and must not be accessed directly from outside this class. `this.ticks` being\r\n\t\t// around for long time and not marked as private, we can't change its structure\r\n\t\t// without unexpected breaking changes. If you need to access the scale ticks,\r\n\t\t// use scale.getTicks() instead.\r\n\r\n\t\tme.beforeBuildTicks();\r\n\r\n\t\t// New implementations should return an array of objects but for BACKWARD COMPAT,\r\n\t\t// we still support no return (`this.ticks` internally set by calling this method).\r\n\t\tticks = me.buildTicks() || [];\r\n\r\n\t\t// Allow modification of ticks in callback.\r\n\t\tticks = me.afterBuildTicks(ticks) || ticks;\r\n\r\n\t\t// Ensure ticks contains ticks in new tick format\r\n\t\tif ((!ticks || !ticks.length) && me.ticks) {\r\n\t\t\tticks = [];\r\n\t\t\tfor (i = 0, ilen = me.ticks.length; i < ilen; ++i) {\r\n\t\t\t\tticks.push({\r\n\t\t\t\t\tvalue: me.ticks[i],\r\n\t\t\t\t\tmajor: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme._ticks = ticks;\r\n\r\n\t\t// Compute tick rotation and fit using a sampled subset of labels\r\n\t\t// We generally don't need to compute the size of every single label for determining scale size\r\n\t\tsamplingEnabled = sampleSize < ticks.length;\r\n\t\tlabels = me._convertTicksToLabels(samplingEnabled ? sample(ticks, sampleSize) : ticks);\r\n\r\n\t\t// _configure is called twice, once here, once from core.controller.updateLayout.\r\n\t\t// Here we haven't been positioned yet, but dimensions are correct.\r\n\t\t// Variables set in _configure are needed for calculateTickRotation, and\r\n\t\t// it's ok that coordinates are not correct there, only dimensions matter.\r\n\t\tme._configure();\r\n\r\n\t\t// Tick Rotation\r\n\t\tme.beforeCalculateTickRotation();\r\n\t\tme.calculateTickRotation();\r\n\t\tme.afterCalculateTickRotation();\r\n\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\r\n\t\t// Auto-skip\r\n\t\tme._ticksToDraw = tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto') ? me._autoSkip(ticks) : ticks;\r\n\r\n\t\tif (samplingEnabled) {\r\n\t\t\t// Generate labels using all non-skipped ticks\r\n\t\t\tlabels = me._convertTicksToLabels(me._ticksToDraw);\r\n\t\t}\r\n\r\n\t\tme.ticks = labels;   // BACKWARD COMPATIBILITY\r\n\r\n\t\t// IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\r\n\r\n\t\tme.afterUpdate();\r\n\r\n\t\t// TODO(v3): remove minSize as a public property and return value from all layout boxes. It is unused\r\n\t\t// make maxWidth and maxHeight private\r\n\t\treturn me.minSize;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar reversePixels = me.options.ticks.reverse;\r\n\t\tvar startPixel, endPixel;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tstartPixel = me.left;\r\n\t\t\tendPixel = me.right;\r\n\t\t} else {\r\n\t\t\tstartPixel = me.top;\r\n\t\t\tendPixel = me.bottom;\r\n\t\t\t// by default vertical scales are from bottom to top, so pixels are reversed\r\n\t\t\treversePixels = !reversePixels;\r\n\t\t}\r\n\t\tme._startPixel = startPixel;\r\n\t\tme._endPixel = endPixel;\r\n\t\tme._reversePixels = reversePixels;\r\n\t\tme._length = endPixel - startPixel;\r\n\t},\r\n\r\n\tafterUpdate: function() {\r\n\t\thelpers$1.callback(this.options.afterUpdate, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.beforeSetDimensions, [this]);\r\n\t},\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\t},\r\n\tafterSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.afterSetDimensions, [this]);\r\n\t},\r\n\r\n\t// Data limits\r\n\tbeforeDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.beforeDataLimits, [this]);\r\n\t},\r\n\tdetermineDataLimits: helpers$1.noop,\r\n\tafterDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.afterDataLimits, [this]);\r\n\t},\r\n\r\n\t//\r\n\tbeforeBuildTicks: function() {\r\n\t\thelpers$1.callback(this.options.beforeBuildTicks, [this]);\r\n\t},\r\n\tbuildTicks: helpers$1.noop,\r\n\tafterBuildTicks: function(ticks) {\r\n\t\tvar me = this;\r\n\t\t// ticks is empty for old axis implementations here\r\n\t\tif (isArray(ticks) && ticks.length) {\r\n\t\t\treturn helpers$1.callback(me.options.afterBuildTicks, [me, ticks]);\r\n\t\t}\r\n\t\t// Support old implementations (that modified `this.ticks` directly in buildTicks)\r\n\t\tme.ticks = helpers$1.callback(me.options.afterBuildTicks, [me, me.ticks]) || me.ticks;\r\n\t\treturn ticks;\r\n\t},\r\n\r\n\tbeforeTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.beforeTickToLabelConversion, [this]);\r\n\t},\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\t// Convert ticks to strings\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tme.ticks = me.ticks.map(tickOpts.userCallback || tickOpts.callback, this);\r\n\t},\r\n\tafterTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.afterTickToLabelConversion, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.beforeCalculateTickRotation, [this]);\r\n\t},\r\n\tcalculateTickRotation: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar numTicks = me.getTicks().length;\r\n\t\tvar minRotation = tickOpts.minRotation || 0;\r\n\t\tvar maxRotation = tickOpts.maxRotation;\r\n\t\tvar labelRotation = minRotation;\r\n\t\tvar labelSizes, maxLabelWidth, maxLabelHeight, maxWidth, tickWidth, maxHeight, maxLabelDiagonal;\r\n\r\n\t\tif (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\r\n\t\t\tme.labelRotation = minRotation;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlabelSizes = me._getLabelSizes();\r\n\t\tmaxLabelWidth = labelSizes.widest.width;\r\n\t\tmaxLabelHeight = labelSizes.highest.height - labelSizes.highest.offset;\r\n\r\n\t\t// Estimate the width of each grid based on the canvas width, the maximum\r\n\t\t// label width and the number of tick intervals\r\n\t\tmaxWidth = Math.min(me.maxWidth, me.chart.width - maxLabelWidth);\r\n\t\ttickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\r\n\r\n\t\t// Allow 3 pixels x2 padding either side for label readability\r\n\t\tif (maxLabelWidth + 6 > tickWidth) {\r\n\t\t\ttickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\r\n\t\t\tmaxHeight = me.maxHeight - getTickMarkLength(options.gridLines)\r\n\t\t\t\t- tickOpts.padding - getScaleLabelHeight(options.scaleLabel);\r\n\t\t\tmaxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\r\n\t\t\tlabelRotation = helpers$1.toDegrees(Math.min(\r\n\t\t\t\tMath.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)),\r\n\t\t\t\tMath.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)\r\n\t\t\t));\r\n\t\t\tlabelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\r\n\t\t}\r\n\r\n\t\tme.labelRotation = labelRotation;\r\n\t},\r\n\tafterCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.afterCalculateTickRotation, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeFit: function() {\r\n\t\thelpers$1.callback(this.options.beforeFit, [this]);\r\n\t},\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\t// Reset\r\n\t\tvar minSize = me.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\r\n\t\tvar chart = me.chart;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\t\tvar scaleLabelOpts = opts.scaleLabel;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar display = me._isVisible();\r\n\t\tvar isBottom = opts.position === 'bottom';\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\t// Width\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth;\r\n\t\t} else if (display) {\r\n\t\t\tminSize.width = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// height\r\n\t\tif (!isHorizontal) {\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t} else if (display) {\r\n\t\t\tminSize.height = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// Don't bother fitting the ticks if we are not showing the labels\r\n\t\tif (tickOpts.display && display) {\r\n\t\t\tvar tickFonts = parseTickFontOptions(tickOpts);\r\n\t\t\tvar labelSizes = me._getLabelSizes();\r\n\t\t\tvar firstLabelSize = labelSizes.first;\r\n\t\t\tvar lastLabelSize = labelSizes.last;\r\n\t\t\tvar widestLabelSize = labelSizes.widest;\r\n\t\t\tvar highestLabelSize = labelSizes.highest;\r\n\t\t\tvar lineSpace = tickFonts.minor.lineHeight * 0.4;\r\n\t\t\tvar tickPadding = tickOpts.padding;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\t// A horizontal axis is more constrained by the height.\r\n\t\t\t\tvar isRotated = me.labelRotation !== 0;\r\n\t\t\t\tvar angleRadians = helpers$1.toRadians(me.labelRotation);\r\n\t\t\t\tvar cosRotation = Math.cos(angleRadians);\r\n\t\t\t\tvar sinRotation = Math.sin(angleRadians);\r\n\r\n\t\t\t\tvar labelHeight = sinRotation * widestLabelSize.width\r\n\t\t\t\t\t+ cosRotation * (highestLabelSize.height - (isRotated ? highestLabelSize.offset : 0))\r\n\t\t\t\t\t+ (isRotated ? 0 : lineSpace); // padding\r\n\r\n\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\r\n\r\n\t\t\t\tvar offsetLeft = me.getPixelForTick(0) - me.left;\r\n\t\t\t\tvar offsetRight = me.right - me.getPixelForTick(me.getTicks().length - 1);\r\n\t\t\t\tvar paddingLeft, paddingRight;\r\n\r\n\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\r\n\t\t\t\t// which means that the right padding is dominated by the font height\r\n\t\t\t\tif (isRotated) {\r\n\t\t\t\t\tpaddingLeft = isBottom ?\r\n\t\t\t\t\t\tcosRotation * firstLabelSize.width + sinRotation * firstLabelSize.offset :\r\n\t\t\t\t\t\tsinRotation * (firstLabelSize.height - firstLabelSize.offset);\r\n\t\t\t\t\tpaddingRight = isBottom ?\r\n\t\t\t\t\t\tsinRotation * (lastLabelSize.height - lastLabelSize.offset) :\r\n\t\t\t\t\t\tcosRotation * lastLabelSize.width + sinRotation * lastLabelSize.offset;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpaddingLeft = firstLabelSize.width / 2;\r\n\t\t\t\t\tpaddingRight = lastLabelSize.width / 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust padding taking into account changes in offsets\r\n\t\t\t\t// and add 3 px to move away from canvas edges\r\n\t\t\t\tme.paddingLeft = Math.max((paddingLeft - offsetLeft) * me.width / (me.width - offsetLeft), 0) + 3;\r\n\t\t\t\tme.paddingRight = Math.max((paddingRight - offsetRight) * me.width / (me.width - offsetRight), 0) + 3;\r\n\t\t\t} else {\r\n\t\t\t\t// A vertical axis is more constrained by the width. Labels are the\r\n\t\t\t\t// dominant factor here, so get that length first and account for padding\r\n\t\t\t\tvar labelWidth = tickOpts.mirror ? 0 :\r\n\t\t\t\t\t// use lineSpace for consistency with horizontal axis\r\n\t\t\t\t\t// tickPadding is not implemented for horizontal\r\n\t\t\t\t\twidestLabelSize.width + tickPadding + lineSpace;\r\n\r\n\t\t\t\tminSize.width = Math.min(me.maxWidth, minSize.width + labelWidth);\r\n\r\n\t\t\t\tme.paddingTop = firstLabelSize.height / 2;\r\n\t\t\t\tme.paddingBottom = lastLabelSize.height / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.handleMargins();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tme.width = me._length = chart.width - me.margins.left - me.margins.right;\r\n\t\t\tme.height = minSize.height;\r\n\t\t} else {\r\n\t\t\tme.width = minSize.width;\r\n\t\t\tme.height = me._length = chart.height - me.margins.top - me.margins.bottom;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle margins and padding interactions\r\n\t * @private\r\n\t */\r\n\thandleMargins: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.margins) {\r\n\t\t\tme.margins.left = Math.max(me.paddingLeft, me.margins.left);\r\n\t\t\tme.margins.top = Math.max(me.paddingTop, me.margins.top);\r\n\t\t\tme.margins.right = Math.max(me.paddingRight, me.margins.right);\r\n\t\t\tme.margins.bottom = Math.max(me.paddingBottom, me.margins.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tafterFit: function() {\r\n\t\thelpers$1.callback(this.options.afterFit, [this]);\r\n\t},\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\tisFullWidth: function() {\r\n\t\treturn this.options.fullWidth;\r\n\t},\r\n\r\n\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\r\n\tgetRightValue: function(rawValue) {\r\n\t\t// Null and undefined values first\r\n\t\tif (isNullOrUndef(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\t\t// isNaN(object) returns true, so make sure NaN is checking for a number; Discard Infinite values\r\n\t\tif ((typeof rawValue === 'number' || rawValue instanceof Number) && !isFinite(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// If it is in fact an object, dive in one more level\r\n\t\tif (rawValue) {\r\n\t\t\tif (this.isHorizontal()) {\r\n\t\t\t\tif (rawValue.x !== undefined) {\r\n\t\t\t\t\treturn this.getRightValue(rawValue.x);\r\n\t\t\t\t}\r\n\t\t\t} else if (rawValue.y !== undefined) {\r\n\t\t\t\treturn this.getRightValue(rawValue.y);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Value is good, return it\r\n\t\treturn rawValue;\r\n\t},\r\n\r\n\t_convertTicksToLabels: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar labels, i, ilen;\r\n\r\n\t\tme.ticks = ticks.map(function(tick) {\r\n\t\t\treturn tick.value;\r\n\t\t});\r\n\r\n\t\tme.beforeTickToLabelConversion();\r\n\r\n\t\t// New implementations should return the formatted tick labels but for BACKWARD\r\n\t\t// COMPAT, we still support no return (`this.ticks` internally changed by calling\r\n\t\t// this method and supposed to contain only string values).\r\n\t\tlabels = me.convertTicksToLabels(ticks) || me.ticks;\r\n\r\n\t\tme.afterTickToLabelConversion();\r\n\r\n\t\t// BACKWARD COMPAT: synchronize `_ticks` with labels (so potentially `this.ticks`)\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tticks[i].label = labels[i];\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSizes: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelSizes = me._labelSizes;\r\n\r\n\t\tif (!labelSizes) {\r\n\t\t\tme._labelSizes = labelSizes = computeLabelSizes(me.ctx, parseTickFontOptions(me.options.ticks), me.getTicks(), me.longestTextCache);\r\n\t\t\tme.longestLabelWidth = labelSizes.widest.width;\r\n\t\t}\r\n\r\n\t\treturn labelSizes;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_parseValue: function(value) {\r\n\t\tvar start, end, min, max;\r\n\r\n\t\tif (isArray(value)) {\r\n\t\t\tstart = +this.getRightValue(value[0]);\r\n\t\t\tend = +this.getRightValue(value[1]);\r\n\t\t\tmin = Math.min(start, end);\r\n\t\t\tmax = Math.max(start, end);\r\n\t\t} else {\r\n\t\t\tvalue = +this.getRightValue(value);\r\n\t\t\tstart = undefined;\r\n\t\t\tend = value;\r\n\t\t\tmin = value;\r\n\t\t\tmax = value;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tmin: min,\r\n\t\t\tmax: max,\r\n\t\t\tstart: start,\r\n\t\t\tend: end\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getScaleLabel: function(rawValue) {\r\n\t\tvar v = this._parseValue(rawValue);\r\n\t\tif (v.start !== undefined) {\r\n\t\t\treturn '[' + v.start + ', ' + v.end + ']';\r\n\t\t}\r\n\r\n\t\treturn +this.getRightValue(rawValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Used to get the value to display in the tooltip for the data at the given index\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetLabelForIndex: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param value\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetPixelForValue: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param pixel\r\n\t */\r\n\tgetValueForPixel: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the tick at the given index\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar numTicks = me._ticks.length;\r\n\t\tvar tickWidth = 1 / Math.max(numTicks - (offset ? 0 : 1), 1);\r\n\r\n\t\treturn index < 0 || index > numTicks - 1\r\n\t\t\t? null\r\n\t\t\t: me.getPixelForDecimal(index * tickWidth + (offset ? tickWidth / 2 : 0));\r\n\t},\r\n\r\n\t/**\r\n\t * Utility for getting the pixel location of a percentage of scale\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForDecimal: function(decimal) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (me._reversePixels) {\r\n\t\t\tdecimal = 1 - decimal;\r\n\t\t}\r\n\r\n\t\treturn me._startPixel + decimal * me._length;\r\n\t},\r\n\r\n\tgetDecimalForPixel: function(pixel) {\r\n\t\tvar decimal = (pixel - this._startPixel) / this._length;\r\n\t\treturn this._reversePixels ? 1 - decimal : decimal;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the pixel for the minimum chart value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetBasePixel: function() {\r\n\t\treturn this.getPixelForValue(this.getBaseValue());\r\n\t},\r\n\r\n\tgetBaseValue: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a subset of ticks to be plotted to avoid overlapping labels.\r\n\t * @private\r\n\t */\r\n\t_autoSkip: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar axisLength = me._length;\r\n\t\tvar ticksLimit = tickOpts.maxTicksLimit || axisLength / me._tickSize() + 1;\r\n\t\tvar majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\r\n\t\tvar numMajorIndices = majorIndices.length;\r\n\t\tvar first = majorIndices[0];\r\n\t\tvar last = majorIndices[numMajorIndices - 1];\r\n\t\tvar i, ilen, spacing, avgMajorSpacing;\r\n\r\n\t\t// If there are too many major ticks to display them all\r\n\t\tif (numMajorIndices > ticksLimit) {\r\n\t\t\tskipMajors(ticks, majorIndices, numMajorIndices / ticksLimit);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\r\n\t\tspacing = calculateSpacing(majorIndices, ticks, axisLength, ticksLimit);\r\n\r\n\t\tif (numMajorIndices > 0) {\r\n\t\t\tfor (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\r\n\t\t\t\tskip(ticks, spacing, majorIndices[i], majorIndices[i + 1]);\r\n\t\t\t}\r\n\t\t\tavgMajorSpacing = numMajorIndices > 1 ? (last - first) / (numMajorIndices - 1) : null;\r\n\t\t\tskip(ticks, spacing, helpers$1.isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\r\n\t\t\tskip(ticks, spacing, last, helpers$1.isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\t\tskip(ticks, spacing);\r\n\t\treturn nonSkipped(ticks);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_tickSize: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\t// Calculate space needed by label in axis direction.\r\n\t\tvar rot = helpers$1.toRadians(me.labelRotation);\r\n\t\tvar cos = Math.abs(Math.cos(rot));\r\n\t\tvar sin = Math.abs(Math.sin(rot));\r\n\r\n\t\tvar labelSizes = me._getLabelSizes();\r\n\t\tvar padding = optionTicks.autoSkipPadding || 0;\r\n\t\tvar w = labelSizes ? labelSizes.widest.width + padding : 0;\r\n\t\tvar h = labelSizes ? labelSizes.highest.height + padding : 0;\r\n\r\n\t\t// Calculate space needed for 1 tick in axis direction.\r\n\t\treturn me.isHorizontal()\r\n\t\t\t? h * cos > w * sin ? w / cos : h / sin\r\n\t\t\t: h * sin < w * cos ? h / cos : w / sin;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_isVisible: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar display = me.options.display;\r\n\t\tvar i, ilen, meta;\r\n\r\n\t\tif (display !== 'auto') {\r\n\t\t\treturn !!display;\r\n\t\t}\r\n\r\n\t\t// When 'auto', the scale is visible if at least one associated dataset is visible.\r\n\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tif (meta.xAxisID === me.id || meta.yAxisID === me.id) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeGridLineItems: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar options = me.options;\r\n\t\tvar gridLines = options.gridLines;\r\n\t\tvar position = options.position;\r\n\t\tvar offsetGridLines = gridLines.offsetGridLines;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar ticksLength = ticks.length + (offsetGridLines ? 1 : 0);\r\n\r\n\t\tvar tl = getTickMarkLength(gridLines);\r\n\t\tvar items = [];\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar axisHalfWidth = axisWidth / 2;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar alignBorderValue = function(pixel) {\r\n\t\t\treturn alignPixel(chart, pixel, axisWidth);\r\n\t\t};\r\n\t\tvar borderValue, i, tick, lineValue, alignedLineValue;\r\n\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, lineWidth, lineColor, borderDash, borderDashOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\tborderValue = alignBorderValue(me.bottom);\r\n\t\t\tty1 = me.bottom - tl;\r\n\t\t\tty2 = borderValue - axisHalfWidth;\r\n\t\t\ty1 = alignBorderValue(chartArea.top) + axisHalfWidth;\r\n\t\t\ty2 = chartArea.bottom;\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\tborderValue = alignBorderValue(me.top);\r\n\t\t\ty1 = chartArea.top;\r\n\t\t\ty2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\r\n\t\t\tty1 = borderValue + axisHalfWidth;\r\n\t\t\tty2 = me.top + tl;\r\n\t\t} else if (position === 'left') {\r\n\t\t\tborderValue = alignBorderValue(me.right);\r\n\t\t\ttx1 = me.right - tl;\r\n\t\t\ttx2 = borderValue - axisHalfWidth;\r\n\t\t\tx1 = alignBorderValue(chartArea.left) + axisHalfWidth;\r\n\t\t\tx2 = chartArea.right;\r\n\t\t} else {\r\n\t\t\tborderValue = alignBorderValue(me.left);\r\n\t\t\tx1 = chartArea.left;\r\n\t\t\tx2 = alignBorderValue(chartArea.right) - axisHalfWidth;\r\n\t\t\ttx1 = borderValue + axisHalfWidth;\r\n\t\t\ttx2 = me.left + tl;\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ticksLength; ++i) {\r\n\t\t\ttick = ticks[i] || {};\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(tick.label) && i < ticks.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (i === me.zeroLineIndex && options.offset === offsetGridLines) {\r\n\t\t\t\t// Draw the first index specially\r\n\t\t\t\tlineWidth = gridLines.zeroLineWidth;\r\n\t\t\t\tlineColor = gridLines.zeroLineColor;\r\n\t\t\t\tborderDash = gridLines.zeroLineBorderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.zeroLineBorderDashOffset || 0.0;\r\n\t\t\t} else {\r\n\t\t\t\tlineWidth = valueAtIndexOrDefault(gridLines.lineWidth, i, 1);\r\n\t\t\t\tlineColor = valueAtIndexOrDefault(gridLines.color, i, 'rgba(0,0,0,0.1)');\r\n\t\t\t\tborderDash = gridLines.borderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.borderDashOffset || 0.0;\r\n\t\t\t}\r\n\r\n\t\t\tlineValue = getPixelForGridLine(me, tick._index || i, offsetGridLines);\r\n\r\n\t\t\t// Skip if the pixel is out of the range\r\n\t\t\tif (lineValue === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talignedLineValue = alignPixel(chart, lineValue, lineWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\ttx1 = tx2 = x1 = x2 = alignedLineValue;\r\n\t\t\t} else {\r\n\t\t\t\tty1 = ty2 = y1 = y2 = alignedLineValue;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttx1: tx1,\r\n\t\t\t\tty1: ty1,\r\n\t\t\t\ttx2: tx2,\r\n\t\t\t\tty2: ty2,\r\n\t\t\t\tx1: x1,\r\n\t\t\t\ty1: y1,\r\n\t\t\t\tx2: x2,\r\n\t\t\t\ty2: y2,\r\n\t\t\t\twidth: lineWidth,\r\n\t\t\t\tcolor: lineColor,\r\n\t\t\t\tborderDash: borderDash,\r\n\t\t\t\tborderDashOffset: borderDashOffset,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\titems.ticksLength = ticksLength;\r\n\t\titems.borderValue = borderValue;\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeLabelItems: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar optionTicks = options.ticks;\r\n\t\tvar position = options.position;\r\n\t\tvar isMirrored = optionTicks.mirror;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar fonts = parseTickFontOptions(optionTicks);\r\n\t\tvar tickPadding = optionTicks.padding;\r\n\t\tvar tl = getTickMarkLength(options.gridLines);\r\n\t\tvar rotation = -helpers$1.toRadians(me.labelRotation);\r\n\t\tvar items = [];\r\n\t\tvar i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\ty = me.bottom - tl - tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'left';\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\ty = me.top + tl + tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'right';\r\n\t\t} else if (position === 'left') {\r\n\t\t\tx = me.right - (isMirrored ? 0 : tl) - tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'left' : 'right';\r\n\t\t} else {\r\n\t\t\tx = me.left + (isMirrored ? 0 : tl) + tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'right' : 'left';\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\ttick = ticks[i];\r\n\t\t\tlabel = tick.label;\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(label)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpixel = me.getPixelForTick(tick._index || i) + optionTicks.labelOffset;\r\n\t\t\tfont = tick.major ? fonts.major : fonts.minor;\r\n\t\t\tlineHeight = font.lineHeight;\r\n\t\t\tlineCount = isArray(label) ? label.length : 1;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tx = pixel;\r\n\t\t\t\ttextOffset = position === 'top'\r\n\t\t\t\t\t? ((!rotation ? 0.5 : 1) - lineCount) * lineHeight\r\n\t\t\t\t\t: (!rotation ? 0.5 : 0) * lineHeight;\r\n\t\t\t} else {\r\n\t\t\t\ty = pixel;\r\n\t\t\t\ttextOffset = (1 - lineCount) * lineHeight / 2;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\trotation: rotation,\r\n\t\t\t\tlabel: label,\r\n\t\t\t\tfont: font,\r\n\t\t\t\ttextOffset: textOffset,\r\n\t\t\t\ttextAlign: textAlign\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar gridLines = me.options.gridLines;\r\n\r\n\t\tif (!gridLines.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar chart = me.chart;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\r\n\t\tvar width, color, i, ilen, item;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\twidth = item.width;\r\n\t\t\tcolor = item.color;\r\n\r\n\t\t\tif (width && color) {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.lineWidth = width;\r\n\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t\tctx.setLineDash(item.borderDash);\r\n\t\t\t\t\tctx.lineDashOffset = item.borderDashOffset;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\tif (gridLines.drawTicks) {\r\n\t\t\t\t\tctx.moveTo(item.tx1, item.ty1);\r\n\t\t\t\t\tctx.lineTo(item.tx2, item.ty2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (gridLines.drawOnChartArea) {\r\n\t\t\t\t\tctx.moveTo(item.x1, item.y1);\r\n\t\t\t\t\tctx.lineTo(item.x2, item.y2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (axisWidth) {\r\n\t\t\t// Draw the line at the edge of the axis\r\n\t\t\tvar firstLineWidth = axisWidth;\r\n\t\t\tvar lastLineWidth = valueAtIndexOrDefault(gridLines.lineWidth, items.ticksLength - 1, 1);\r\n\t\t\tvar borderValue = items.borderValue;\r\n\t\t\tvar x1, x2, y1, y2;\r\n\r\n\t\t\tif (me.isHorizontal()) {\r\n\t\t\t\tx1 = alignPixel(chart, me.left, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\tx2 = alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\ty1 = y2 = borderValue;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = alignPixel(chart, me.top, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\ty2 = alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\tx1 = x2 = borderValue;\r\n\t\t\t}\r\n\r\n\t\t\tctx.lineWidth = axisWidth;\r\n\t\t\tctx.strokeStyle = valueAtIndexOrDefault(gridLines.color, 0);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x2, y2);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\tif (!optionTicks.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar items = me._labelItems || (me._labelItems = me._computeLabelItems());\r\n\t\tvar i, j, ilen, jlen, item, tickFont, label, y;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\ttickFont = item.font;\r\n\r\n\t\t\t// Make sure we draw text in the correct color and font\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(item.x, item.y);\r\n\t\t\tctx.rotate(item.rotation);\r\n\t\t\tctx.font = tickFont.string;\r\n\t\t\tctx.fillStyle = tickFont.color;\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tctx.textAlign = item.textAlign;\r\n\r\n\t\t\tlabel = item.label;\r\n\t\t\ty = item.textOffset;\r\n\t\t\tif (isArray(label)) {\r\n\t\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\t\t// We just make sure the multiline element is a string here..\r\n\t\t\t\t\tctx.fillText('' + label[j], 0, y);\r\n\t\t\t\t\ty += tickFont.lineHeight;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tctx.fillText(label, 0, y);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar options = me.options;\r\n\t\tvar scaleLabel = options.scaleLabel;\r\n\r\n\t\tif (!scaleLabel.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar scaleLabelFontColor = valueOrDefault$a(scaleLabel.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar scaleLabelFont = helpers$1.options._parseFont(scaleLabel);\r\n\t\tvar scaleLabelPadding = helpers$1.options.toPadding(scaleLabel.padding);\r\n\t\tvar halfLineHeight = scaleLabelFont.lineHeight / 2;\r\n\t\tvar position = options.position;\r\n\t\tvar rotation = 0;\r\n\t\tvar scaleLabelX, scaleLabelY;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tscaleLabelX = me.left + me.width / 2; // midpoint of the width\r\n\t\t\tscaleLabelY = position === 'bottom'\r\n\t\t\t\t? me.bottom - halfLineHeight - scaleLabelPadding.bottom\r\n\t\t\t\t: me.top + halfLineHeight + scaleLabelPadding.top;\r\n\t\t} else {\r\n\t\t\tvar isLeft = position === 'left';\r\n\t\t\tscaleLabelX = isLeft\r\n\t\t\t\t? me.left + halfLineHeight + scaleLabelPadding.top\r\n\t\t\t\t: me.right - halfLineHeight - scaleLabelPadding.top;\r\n\t\t\tscaleLabelY = me.top + me.height / 2;\r\n\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(scaleLabelX, scaleLabelY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.fillStyle = scaleLabelFontColor; // render in correct colour\r\n\t\tctx.font = scaleLabelFont.string;\r\n\t\tctx.fillText(scaleLabel.labelString, 0, 0);\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!me._isVisible()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._drawGrid(chartArea);\r\n\t\tme._drawTitle();\r\n\t\tme._drawLabels();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_layers: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tz = opts.ticks && opts.ticks.z || 0;\r\n\t\tvar gz = opts.gridLines && opts.gridLines.z || 0;\r\n\r\n\t\tif (!me._isVisible() || tz === gz || me.draw !== me._draw) {\r\n\t\t\t// backward compatibility: draw has been overridden by custom scale\r\n\t\t\treturn [{\r\n\t\t\t\tz: tz,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\tme.draw.apply(me, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t}\r\n\r\n\t\treturn [{\r\n\t\t\tz: gz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawGrid.apply(me, arguments);\r\n\t\t\t\tme._drawTitle.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}, {\r\n\t\t\tz: tz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawLabels.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getMatchingVisibleMetas: function(type) {\r\n\t\tvar me = this;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\treturn me.chart._getSortedVisibleDatasetMetas()\r\n\t\t\t.filter(function(meta) {\r\n\t\t\t\treturn (!type || meta.type === type)\r\n\t\t\t\t\t&& (isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id);\r\n\t\t\t});\r\n\t}\r\n});\r\n\r\nScale.prototype._draw = Scale.prototype.draw;\r\n\r\nvar core_scale = Scale;\n\nvar isNullOrUndef$1 = helpers$1.isNullOrUndef;\r\n\r\nvar defaultConfig = {\r\n\tposition: 'bottom'\r\n};\r\n\r\nvar scale_category = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar min = ticksOpts.min;\r\n\t\tvar max = ticksOpts.max;\r\n\t\tvar minIndex = 0;\r\n\t\tvar maxIndex = labels.length - 1;\r\n\t\tvar findIndex;\r\n\r\n\t\tif (min !== undefined) {\r\n\t\t\t// user specified min value\r\n\t\t\tfindIndex = labels.indexOf(min);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tminIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (max !== undefined) {\r\n\t\t\t// user specified max value\r\n\t\t\tfindIndex = labels.indexOf(max);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tmaxIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.minIndex = minIndex;\r\n\t\tme.maxIndex = maxIndex;\r\n\t\tme.min = labels[minIndex];\r\n\t\tme.max = labels[maxIndex];\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar minIndex = me.minIndex;\r\n\t\tvar maxIndex = me.maxIndex;\r\n\r\n\t\t// If we are viewing some subset of labels, slice the original array\r\n\t\tme.ticks = (minIndex === 0 && maxIndex === labels.length - 1) ? labels : labels.slice(minIndex, maxIndex + 1);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\r\n\t\tif (chart.getDatasetMeta(datasetIndex).controller._getValueScaleId() === me.id) {\r\n\t\t\treturn me.getRightValue(chart.data.datasets[datasetIndex].data[index]);\r\n\t\t}\r\n\r\n\t\treturn me._getLabels()[index];\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar ticks = me.ticks;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (!me.isHorizontal()) {\r\n\t\t\t// For backward compatibility, vertical category scale reverse is inverted.\r\n\t\t\tme._reversePixels = !me._reversePixels;\r\n\t\t}\r\n\r\n\t\tif (!ticks) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._startValue = me.minIndex - (offset ? 0.5 : 0);\r\n\t\tme._valueRange = Math.max(ticks.length - (offset ? 0 : 1), 1);\r\n\t},\r\n\r\n\t// Used to get data value locations.  Value can either be an index or a numerical value\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar valueCategory, labels, idx;\r\n\r\n\t\tif (!isNullOrUndef$1(index) && !isNullOrUndef$1(datasetIndex)) {\r\n\t\t\tvalue = me.chart.data.datasets[datasetIndex].data[index];\r\n\t\t}\r\n\r\n\t\t// If value is a data object, then index is the index in the data array,\r\n\t\t// not the index of the scale. We need to change that.\r\n\t\tif (!isNullOrUndef$1(value)) {\r\n\t\t\tvalueCategory = me.isHorizontal() ? value.x : value.y;\r\n\t\t}\r\n\t\tif (valueCategory !== undefined || (value !== undefined && isNaN(index))) {\r\n\t\t\tlabels = me._getLabels();\r\n\t\t\tvalue = helpers$1.valueOrDefault(valueCategory, value);\r\n\t\t\tidx = labels.indexOf(value);\r\n\t\t\tindex = idx !== -1 ? idx : index;\r\n\t\t\tif (isNaN(index)) {\r\n\t\t\t\tindex = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal((index - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticks;\r\n\t\treturn index < 0 || index > ticks.length - 1\r\n\t\t\t? null\r\n\t\t\t: this.getPixelForValue(ticks[index], index + this.minIndex);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar value = Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\r\n\t\treturn Math.min(Math.max(value, 0), me.ticks.length - 1);\r\n\t},\r\n\r\n\tgetBasePixel: function() {\r\n\t\treturn this.bottom;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults = defaultConfig;\nscale_category._defaults = _defaults;\n\nvar noop = helpers$1.noop;\r\nvar isNullOrUndef$2 = helpers$1.isNullOrUndef;\r\n\r\n/**\r\n * Generate a set of linear ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\r\n\t// \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\r\n\t// for details.\r\n\r\n\tvar MIN_SPACING = 1e-14;\r\n\tvar stepSize = generationOptions.stepSize;\r\n\tvar unit = stepSize || 1;\r\n\tvar maxNumSpaces = generationOptions.maxTicks - 1;\r\n\tvar min = generationOptions.min;\r\n\tvar max = generationOptions.max;\r\n\tvar precision = generationOptions.precision;\r\n\tvar rmin = dataRange.min;\r\n\tvar rmax = dataRange.max;\r\n\tvar spacing = helpers$1.niceNum((rmax - rmin) / maxNumSpaces / unit) * unit;\r\n\tvar factor, niceMin, niceMax, numSpaces;\r\n\r\n\t// Beyond MIN_SPACING floating point numbers being to lose precision\r\n\t// such that we can't do the math necessary to generate ticks\r\n\tif (spacing < MIN_SPACING && isNullOrUndef$2(min) && isNullOrUndef$2(max)) {\r\n\t\treturn [rmin, rmax];\r\n\t}\r\n\r\n\tnumSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\r\n\tif (numSpaces > maxNumSpaces) {\r\n\t\t// If the calculated num of spaces exceeds maxNumSpaces, recalculate it\r\n\t\tspacing = helpers$1.niceNum(numSpaces * spacing / maxNumSpaces / unit) * unit;\r\n\t}\r\n\r\n\tif (stepSize || isNullOrUndef$2(precision)) {\r\n\t\t// If a precision is not specified, calculate factor based on spacing\r\n\t\tfactor = Math.pow(10, helpers$1._decimalPlaces(spacing));\r\n\t} else {\r\n\t\t// If the user specified a precision, round to that number of decimal places\r\n\t\tfactor = Math.pow(10, precision);\r\n\t\tspacing = Math.ceil(spacing * factor) / factor;\r\n\t}\r\n\r\n\tniceMin = Math.floor(rmin / spacing) * spacing;\r\n\tniceMax = Math.ceil(rmax / spacing) * spacing;\r\n\r\n\t// If min, max and stepSize is set and they make an evenly spaced scale use it.\r\n\tif (stepSize) {\r\n\t\t// If very close to our whole number, use it.\r\n\t\tif (!isNullOrUndef$2(min) && helpers$1.almostWhole(min / spacing, spacing / 1000)) {\r\n\t\t\tniceMin = min;\r\n\t\t}\r\n\t\tif (!isNullOrUndef$2(max) && helpers$1.almostWhole(max / spacing, spacing / 1000)) {\r\n\t\t\tniceMax = max;\r\n\t\t}\r\n\t}\r\n\r\n\tnumSpaces = (niceMax - niceMin) / spacing;\r\n\t// If very close to our rounded value, use it.\r\n\tif (helpers$1.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\r\n\t\tnumSpaces = Math.round(numSpaces);\r\n\t} else {\r\n\t\tnumSpaces = Math.ceil(numSpaces);\r\n\t}\r\n\r\n\tniceMin = Math.round(niceMin * factor) / factor;\r\n\tniceMax = Math.round(niceMax * factor) / factor;\r\n\tticks.push(isNullOrUndef$2(min) ? niceMin : min);\r\n\tfor (var j = 1; j < numSpaces; ++j) {\r\n\t\tticks.push(Math.round((niceMin + j * spacing) * factor) / factor);\r\n\t}\r\n\tticks.push(isNullOrUndef$2(max) ? niceMax : max);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar scale_linearbase = core_scale.extend({\r\n\tgetRightValue: function(value) {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn +value;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, value);\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\r\n\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\r\n\t\t// axis, they can manually override it\r\n\t\tif (tickOpts.beginAtZero) {\r\n\t\t\tvar minSign = helpers$1.sign(me.min);\r\n\t\t\tvar maxSign = helpers$1.sign(me.max);\r\n\r\n\t\t\tif (minSign < 0 && maxSign < 0) {\r\n\t\t\t\t// move the top up to 0\r\n\t\t\t\tme.max = 0;\r\n\t\t\t} else if (minSign > 0 && maxSign > 0) {\r\n\t\t\t\t// move the bottom down to 0\r\n\t\t\t\tme.min = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar setMin = tickOpts.min !== undefined || tickOpts.suggestedMin !== undefined;\r\n\t\tvar setMax = tickOpts.max !== undefined || tickOpts.suggestedMax !== undefined;\r\n\r\n\t\tif (tickOpts.min !== undefined) {\r\n\t\t\tme.min = tickOpts.min;\r\n\t\t} else if (tickOpts.suggestedMin !== undefined) {\r\n\t\t\tif (me.min === null) {\r\n\t\t\t\tme.min = tickOpts.suggestedMin;\r\n\t\t\t} else {\r\n\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tickOpts.max !== undefined) {\r\n\t\t\tme.max = tickOpts.max;\r\n\t\t} else if (tickOpts.suggestedMax !== undefined) {\r\n\t\t\tif (me.max === null) {\r\n\t\t\t\tme.max = tickOpts.suggestedMax;\r\n\t\t\t} else {\r\n\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (setMin !== setMax) {\r\n\t\t\t// We set the min or the max but not both.\r\n\t\t\t// So ensure that our range is good\r\n\t\t\t// Inverted or 0 length range can happen when\r\n\t\t\t// ticks.min is set, and no datasets are visible\r\n\t\t\tif (me.min >= me.max) {\r\n\t\t\t\tif (setMin) {\r\n\t\t\t\t\tme.max = me.min + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.min = me.max - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tme.max++;\r\n\r\n\t\t\tif (!tickOpts.beginAtZero) {\r\n\t\t\t\tme.min--;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar stepSize = tickOpts.stepSize;\r\n\t\tvar maxTicksLimit = tickOpts.maxTicksLimit;\r\n\t\tvar maxTicks;\r\n\r\n\t\tif (stepSize) {\r\n\t\t\tmaxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\r\n\t\t} else {\r\n\t\t\tmaxTicks = me._computeTickLimit();\r\n\t\t\tmaxTicksLimit = maxTicksLimit || 11;\r\n\t\t}\r\n\r\n\t\tif (maxTicksLimit) {\r\n\t\t\tmaxTicks = Math.min(maxTicksLimit, maxTicks);\r\n\t\t}\r\n\r\n\t\treturn maxTicks;\r\n\t},\r\n\r\n\t_computeTickLimit: function() {\r\n\t\treturn Number.POSITIVE_INFINITY;\r\n\t},\r\n\r\n\thandleDirectionalChanges: noop,\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// Figure out what the max number of ticks we can support it is based on the size of\r\n\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 40\r\n\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\r\n\t\t// the graph. Make sure we always have at least 2 ticks\r\n\t\tvar maxTicks = me.getTickLimit();\r\n\t\tmaxTicks = Math.max(2, maxTicks);\r\n\r\n\t\tvar numericGeneratorOptions = {\r\n\t\t\tmaxTicks: maxTicks,\r\n\t\t\tmin: tickOpts.min,\r\n\t\t\tmax: tickOpts.max,\r\n\t\t\tprecision: tickOpts.precision,\r\n\t\t\tstepSize: helpers$1.valueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks(numericGeneratorOptions, me);\r\n\r\n\t\tme.handleDirectionalChanges();\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\tme.ticksAsNumbers = me.ticks.slice();\r\n\t\tme.zeroLineIndex = me.ticks.indexOf(0);\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(me);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar ticks = me.getTicks();\r\n\t\tvar start = me.min;\r\n\t\tvar end = me.max;\r\n\t\tvar offset;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (me.options.offset && ticks.length) {\r\n\t\t\toffset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\r\n\t\t\tstart -= offset;\r\n\t\t\tend += offset;\r\n\t\t}\r\n\t\tme._startValue = start;\r\n\t\tme._endValue = end;\r\n\t\tme._valueRange = end - start;\r\n\t}\r\n});\n\nvar defaultConfig$1 = {\r\n\tposition: 'left',\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t}\r\n};\r\n\r\nvar DEFAULT_MIN = 0;\r\nvar DEFAULT_MAX = 1;\r\n\r\nfunction getOrCreateStack(stacks, stacked, meta) {\r\n\tvar key = [\r\n\t\tmeta.type,\r\n\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\tstacked === undefined && meta.stack === undefined ? meta.index : '',\r\n\t\tmeta.stack\r\n\t].join('.');\r\n\r\n\tif (stacks[key] === undefined) {\r\n\t\tstacks[key] = {\r\n\t\t\tpos: [],\r\n\t\t\tneg: []\r\n\t\t};\r\n\t}\r\n\r\n\treturn stacks[key];\r\n}\r\n\r\nfunction stackData(scale, stacks, meta, data) {\r\n\tvar opts = scale.options;\r\n\tvar stacked = opts.stacked;\r\n\tvar stack = getOrCreateStack(stacks, stacked, meta);\r\n\tvar pos = stack.pos;\r\n\tvar neg = stack.neg;\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tpos[i] = pos[i] || 0;\r\n\t\tneg[i] = neg[i] || 0;\r\n\r\n\t\tif (opts.relativePoints) {\r\n\t\t\tpos[i] = 100;\r\n\t\t} else if (value.min < 0 || value.max < 0) {\r\n\t\t\tneg[i] += value.min;\r\n\t\t} else {\r\n\t\t\tpos[i] += value.max;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction updateMinMax(scale, meta, data) {\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tscale.min = Math.min(scale.min, value.min);\r\n\t\tscale.max = Math.max(scale.max, value.max);\r\n\t}\r\n}\r\n\r\nvar scale_linear = scale_linearbase.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = me._getMatchingVisibleMetas();\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tvar stacks = {};\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, meta, data, values;\r\n\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (i = 0; !hasStacks && i < ilen; ++i) {\r\n\t\t\t\tmeta = metasets[i];\r\n\t\t\t\thasStacks = meta.stack !== undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\tdata = datasets[meta.index].data;\r\n\t\t\tif (hasStacks) {\r\n\t\t\t\tstackData(me, stacks, meta, data);\r\n\t\t\t} else {\r\n\t\t\t\tupdateMinMax(me, meta, data);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.each(stacks, function(stackValues) {\r\n\t\t\tvalues = stackValues.pos.concat(stackValues.neg);\r\n\t\t\tme.min = Math.min(me.min, helpers$1.min(values));\r\n\t\t\tme.max = Math.max(me.max, helpers$1.max(values));\r\n\t\t});\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) && !isNaN(me.min) ? me.min : DEFAULT_MIN;\r\n\t\tme.max = helpers$1.isFinite(me.max) && !isNaN(me.max) ? me.max : DEFAULT_MAX;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickFont;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\treturn Math.ceil(me.width / 40);\r\n\t\t}\r\n\t\ttickFont = helpers$1.options._parseFont(me.options.ticks);\r\n\t\treturn Math.ceil(me.height / tickFont.lineHeight);\r\n\t},\r\n\r\n\t// Called after the ticks are built. We need\r\n\thandleDirectionalChanges: function() {\r\n\t\tif (!this.isHorizontal()) {\r\n\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\r\n\t\t\tthis.ticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\t// Utils\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\treturn me.getPixelForDecimal((+me.getRightValue(value) - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\treturn this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticksAsNumbers;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$1 = defaultConfig$1;\nscale_linear._defaults = _defaults$1;\n\nvar valueOrDefault$b = helpers$1.valueOrDefault;\r\nvar log10 = helpers$1.math.log10;\r\n\r\n/**\r\n * Generate a set of logarithmic ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks$1(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\r\n\tvar tickVal = valueOrDefault$b(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\r\n\r\n\tvar endExp = Math.floor(log10(dataRange.max));\r\n\tvar endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\r\n\tvar exp, significand;\r\n\r\n\tif (tickVal === 0) {\r\n\t\texp = Math.floor(log10(dataRange.minNotZero));\r\n\t\tsignificand = Math.floor(dataRange.minNotZero / Math.pow(10, exp));\r\n\r\n\t\tticks.push(tickVal);\r\n\t\ttickVal = significand * Math.pow(10, exp);\r\n\t} else {\r\n\t\texp = Math.floor(log10(tickVal));\r\n\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp));\r\n\t}\r\n\tvar precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\r\n\r\n\tdo {\r\n\t\tticks.push(tickVal);\r\n\r\n\t\t++significand;\r\n\t\tif (significand === 10) {\r\n\t\t\tsignificand = 1;\r\n\t\t\t++exp;\r\n\t\t\tprecision = exp >= 0 ? 1 : precision;\r\n\t\t}\r\n\r\n\t\ttickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\r\n\t} while (exp < endExp || (exp === endExp && significand < endSignificand));\r\n\r\n\tvar lastTick = valueOrDefault$b(generationOptions.max, tickVal);\r\n\tticks.push(lastTick);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar defaultConfig$2 = {\r\n\tposition: 'left',\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.logarithmic\r\n\t}\r\n};\r\n\r\n// TODO(v3): change this to positiveOrDefault\r\nfunction nonNegativeOrDefault(value, defaultValue) {\r\n\treturn helpers$1.isFinite(value) && value >= 0 ? value : defaultValue;\r\n}\r\n\r\nvar scale_logarithmic = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tfunction IDMatches(meta) {\r\n\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\r\n\t\t}\r\n\t\tvar datasetIndex, meta, value, data, i, ilen;\r\n\r\n\t\t// Calculate Range\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\t\tme.minNotZero = Number.POSITIVE_INFINITY;\r\n\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta) &&\r\n\t\t\t\t\tmeta.stack !== undefined) {\r\n\t\t\t\t\thasStacks = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (opts.stacked || hasStacks) {\r\n\t\t\tvar valuesPerStack = {};\r\n\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tvar key = [\r\n\t\t\t\t\tmeta.type,\r\n\t\t\t\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\t\t\t\t((opts.stacked === undefined && meta.stack === undefined) ? datasetIndex : ''),\r\n\t\t\t\t\tmeta.stack\r\n\t\t\t\t].join('.');\r\n\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tif (valuesPerStack[key] === undefined) {\r\n\t\t\t\t\t\tvaluesPerStack[key] = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvar values = valuesPerStack[key];\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalues[i] = values[i] || 0;\r\n\t\t\t\t\t\tvalues[i] += value.max;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(valuesPerStack, function(valuesForType) {\r\n\t\t\t\tif (valuesForType.length > 0) {\r\n\t\t\t\t\tvar minVal = helpers$1.min(valuesForType);\r\n\t\t\t\t\tvar maxVal = helpers$1.max(valuesForType);\r\n\t\t\t\t\tme.min = Math.min(me.min, minVal);\r\n\t\t\t\t\tme.max = Math.max(me.max, maxVal);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tme.min = Math.min(value.min, me.min);\r\n\t\t\t\t\t\tme.max = Math.max(value.max, me.max);\r\n\r\n\t\t\t\t\t\tif (value.min !== 0) {\r\n\t\t\t\t\t\t\tme.minNotZero = Math.min(value.min, me.minNotZero);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) ? me.min : null;\r\n\t\tme.max = helpers$1.isFinite(me.max) ? me.max : null;\r\n\t\tme.minNotZero = helpers$1.isFinite(me.minNotZero) ? me.minNotZero : null;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max\r\n\t\tthis.handleTickRangeOptions();\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar DEFAULT_MIN = 1;\r\n\t\tvar DEFAULT_MAX = 10;\r\n\r\n\t\tme.min = nonNegativeOrDefault(tickOpts.min, me.min);\r\n\t\tme.max = nonNegativeOrDefault(tickOpts.max, me.max);\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tif (me.min !== 0 && me.min !== null) {\r\n\t\t\t\tme.min = Math.pow(10, Math.floor(log10(me.min)) - 1);\r\n\t\t\t\tme.max = Math.pow(10, Math.floor(log10(me.max)) + 1);\r\n\t\t\t} else {\r\n\t\t\t\tme.min = DEFAULT_MIN;\r\n\t\t\t\tme.max = DEFAULT_MAX;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (me.min === null) {\r\n\t\t\tme.min = Math.pow(10, Math.floor(log10(me.max)) - 1);\r\n\t\t}\r\n\t\tif (me.max === null) {\r\n\t\t\tme.max = me.min !== 0\r\n\t\t\t\t? Math.pow(10, Math.floor(log10(me.min)) + 1)\r\n\t\t\t\t: DEFAULT_MAX;\r\n\t\t}\r\n\t\tif (me.minNotZero === null) {\r\n\t\t\tif (me.min > 0) {\r\n\t\t\t\tme.minNotZero = me.min;\r\n\t\t\t} else if (me.max < 1) {\r\n\t\t\t\tme.minNotZero = Math.pow(10, Math.floor(log10(me.max)));\r\n\t\t\t} else {\r\n\t\t\t\tme.minNotZero = DEFAULT_MIN;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar reverse = !me.isHorizontal();\r\n\r\n\t\tvar generationOptions = {\r\n\t\t\tmin: nonNegativeOrDefault(tickOpts.min),\r\n\t\t\tmax: nonNegativeOrDefault(tickOpts.max)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks$1(generationOptions, me);\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\treverse = !reverse;\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t\tif (reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tthis.tickValues = this.ticks.slice();\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(this);\r\n\t},\r\n\r\n\t// Get the correct tooltip label\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.tickValues;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the value of the first tick.\r\n\t * @param {number} value - The minimum not zero value.\r\n\t * @return {number} The first tick value.\r\n\t * @private\r\n\t */\r\n\t_getFirstTickValue: function(value) {\r\n\t\tvar exp = Math.floor(log10(value));\r\n\t\tvar significand = Math.floor(value / Math.pow(10, exp));\r\n\r\n\t\treturn significand * Math.pow(10, exp);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar start = me.min;\r\n\t\tvar offset = 0;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (start === 0) {\r\n\t\t\tstart = me._getFirstTickValue(me.minNotZero);\r\n\t\t\toffset = valueOrDefault$b(me.options.ticks.fontSize, core_defaults.global.defaultFontSize) / me._length;\r\n\t\t}\r\n\r\n\t\tme._startValue = log10(start);\r\n\t\tme._valueOffset = offset;\r\n\t\tme._valueRange = (log10(me.max) - log10(start)) / (1 - offset);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = 0;\r\n\r\n\t\tvalue = +me.getRightValue(value);\r\n\r\n\t\tif (value > me.min && value > 0) {\r\n\t\t\tdecimal = (log10(value) - me._startValue) / me._valueRange + me._valueOffset;\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal(decimal);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = me.getDecimalForPixel(pixel);\r\n\t\treturn decimal === 0 && me.min === 0\r\n\t\t\t? 0\r\n\t\t\t: Math.pow(10, me._startValue + (decimal - me._valueOffset) * me._valueRange);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$2 = defaultConfig$2;\nscale_logarithmic._defaults = _defaults$2;\n\nvar valueOrDefault$c = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault$1 = helpers$1.valueAtIndexOrDefault;\r\nvar resolve$4 = helpers$1.options.resolve;\r\n\r\nvar defaultConfig$3 = {\r\n\tdisplay: true,\r\n\r\n\t// Boolean - Whether to animate scaling the chart from the centre\r\n\tanimate: true,\r\n\tposition: 'chartArea',\r\n\r\n\tangleLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\tgridLines: {\r\n\t\tcircular: false\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\t// Boolean - Show a backdrop to the scale label\r\n\t\tshowLabelBackdrop: true,\r\n\r\n\t\t// String - The colour of the label backdrop\r\n\t\tbackdropColor: 'rgba(255,255,255,0.75)',\r\n\r\n\t\t// Number - The backdrop padding above & below the label in pixels\r\n\t\tbackdropPaddingY: 2,\r\n\r\n\t\t// Number - The backdrop padding to the side of the label in pixels\r\n\t\tbackdropPaddingX: 2,\r\n\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t},\r\n\r\n\tpointLabels: {\r\n\t\t// Boolean - if true, show point labels\r\n\t\tdisplay: true,\r\n\r\n\t\t// Number - Point label font size in pixels\r\n\t\tfontSize: 10,\r\n\r\n\t\t// Function - Used to convert point labels\r\n\t\tcallback: function(label) {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction getTickBackdropHeight(opts) {\r\n\tvar tickOpts = opts.ticks;\r\n\r\n\tif (tickOpts.display && opts.display) {\r\n\t\treturn valueOrDefault$c(tickOpts.fontSize, core_defaults.global.defaultFontSize) + tickOpts.backdropPaddingY * 2;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction measureLabelSize(ctx, lineHeight, label) {\r\n\tif (helpers$1.isArray(label)) {\r\n\t\treturn {\r\n\t\t\tw: helpers$1.longestText(ctx, ctx.font, label),\r\n\t\t\th: label.length * lineHeight\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tw: ctx.measureText(label).width,\r\n\t\th: lineHeight\r\n\t};\r\n}\r\n\r\nfunction determineLimits(angle, pos, size, min, max) {\r\n\tif (angle === min || angle === max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - (size / 2),\r\n\t\t\tend: pos + (size / 2)\r\n\t\t};\r\n\t} else if (angle < min || angle > max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - size,\r\n\t\t\tend: pos\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tstart: pos,\r\n\t\tend: pos + size\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper function to fit a radial linear scale with point labels\r\n */\r\nfunction fitWithPointLabels(scale) {\r\n\r\n\t// Right, this is really confusing and there is a lot of maths going on here\r\n\t// The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\r\n\t//\r\n\t// Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\r\n\t//\r\n\t// Solution:\r\n\t//\r\n\t// We assume the radius of the polygon is half the size of the canvas at first\r\n\t// at each index we check if the text overlaps.\r\n\t//\r\n\t// Where it does, we store that angle and that index.\r\n\t//\r\n\t// After finding the largest index and angle we calculate how much we need to remove\r\n\t// from the shape radius to move the point inwards by that x.\r\n\t//\r\n\t// We average the left and right distances to get the maximum shape radius that can fit in the box\r\n\t// along with labels.\r\n\t//\r\n\t// Once we have that, we can find the centre point for the chart, by taking the x text protrusion\r\n\t// on each side, removing that from the size, halving it and adding the left x protrusion width.\r\n\t//\r\n\t// This will mean we have a shape fitted to the canvas, as large as it can be with the labels\r\n\t// and position it in the most space efficient manner\r\n\t//\r\n\t// https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\r\n\r\n\tvar plFont = helpers$1.options._parseFont(scale.options.pointLabels);\r\n\r\n\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\r\n\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\r\n\tvar furthestLimits = {\r\n\t\tl: 0,\r\n\t\tr: scale.width,\r\n\t\tt: 0,\r\n\t\tb: scale.height - scale.paddingTop\r\n\t};\r\n\tvar furthestAngles = {};\r\n\tvar i, textSize, pointPosition;\r\n\r\n\tscale.ctx.font = plFont.string;\r\n\tscale._pointLabelSizes = [];\r\n\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tfor (i = 0; i < valueCount; i++) {\r\n\t\tpointPosition = scale.getPointPosition(i, scale.drawingArea + 5);\r\n\t\ttextSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale.pointLabels[i]);\r\n\t\tscale._pointLabelSizes[i] = textSize;\r\n\r\n\t\t// Add quarter circle to make degree 0 mean top of circle\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians) % 360;\r\n\t\tvar hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\r\n\t\tvar vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\r\n\r\n\t\tif (hLimits.start < furthestLimits.l) {\r\n\t\t\tfurthestLimits.l = hLimits.start;\r\n\t\t\tfurthestAngles.l = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (hLimits.end > furthestLimits.r) {\r\n\t\t\tfurthestLimits.r = hLimits.end;\r\n\t\t\tfurthestAngles.r = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.start < furthestLimits.t) {\r\n\t\t\tfurthestLimits.t = vLimits.start;\r\n\t\t\tfurthestAngles.t = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.end > furthestLimits.b) {\r\n\t\t\tfurthestLimits.b = vLimits.end;\r\n\t\t\tfurthestAngles.b = angleRadians;\r\n\t\t}\r\n\t}\r\n\r\n\tscale.setReductions(scale.drawingArea, furthestLimits, furthestAngles);\r\n}\r\n\r\nfunction getTextAlignForAngle(angle) {\r\n\tif (angle === 0 || angle === 180) {\r\n\t\treturn 'center';\r\n\t} else if (angle < 180) {\r\n\t\treturn 'left';\r\n\t}\r\n\r\n\treturn 'right';\r\n}\r\n\r\nfunction fillText(ctx, text, position, lineHeight) {\r\n\tvar y = position.y + lineHeight / 2;\r\n\tvar i, ilen;\r\n\r\n\tif (helpers$1.isArray(text)) {\r\n\t\tfor (i = 0, ilen = text.length; i < ilen; ++i) {\r\n\t\t\tctx.fillText(text[i], position.x, y);\r\n\t\t\ty += lineHeight;\r\n\t\t}\r\n\t} else {\r\n\t\tctx.fillText(text, position.x, y);\r\n\t}\r\n}\r\n\r\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\r\n\tif (angle === 90 || angle === 270) {\r\n\t\tposition.y -= (textSize.h / 2);\r\n\t} else if (angle > 270 || angle < 90) {\r\n\t\tposition.y -= textSize.h;\r\n\t}\r\n}\r\n\r\nfunction drawPointLabels(scale) {\r\n\tvar ctx = scale.ctx;\r\n\tvar opts = scale.options;\r\n\tvar pointLabelOpts = opts.pointLabels;\r\n\tvar tickBackdropHeight = getTickBackdropHeight(opts);\r\n\tvar outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\r\n\tvar plFont = helpers$1.options._parseFont(pointLabelOpts);\r\n\r\n\tctx.save();\r\n\r\n\tctx.font = plFont.string;\r\n\tctx.textBaseline = 'middle';\r\n\r\n\tfor (var i = scale.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t// Extra pixels out for some label spacing\r\n\t\tvar extra = (i === 0 ? tickBackdropHeight / 2 : 0);\r\n\t\tvar pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + 5);\r\n\r\n\t\t// Keep this in loop since we may support array properties here\r\n\t\tvar pointLabelFontColor = valueAtIndexOrDefault$1(pointLabelOpts.fontColor, i, core_defaults.global.defaultFontColor);\r\n\t\tctx.fillStyle = pointLabelFontColor;\r\n\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians);\r\n\t\tctx.textAlign = getTextAlignForAngle(angle);\r\n\t\tadjustPointPositionForLabelHeight(angle, scale._pointLabelSizes[i], pointLabelPosition);\r\n\t\tfillText(ctx, scale.pointLabels[i], pointLabelPosition, plFont.lineHeight);\r\n\t}\r\n\tctx.restore();\r\n}\r\n\r\nfunction drawRadiusLine(scale, gridLineOpts, radius, index) {\r\n\tvar ctx = scale.ctx;\r\n\tvar circular = gridLineOpts.circular;\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tvar lineColor = valueAtIndexOrDefault$1(gridLineOpts.color, index - 1);\r\n\tvar lineWidth = valueAtIndexOrDefault$1(gridLineOpts.lineWidth, index - 1);\r\n\tvar pointPosition;\r\n\r\n\tif ((!circular && !valueCount) || !lineColor || !lineWidth) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tctx.save();\r\n\tctx.strokeStyle = lineColor;\r\n\tctx.lineWidth = lineWidth;\r\n\tif (ctx.setLineDash) {\r\n\t\tctx.setLineDash(gridLineOpts.borderDash || []);\r\n\t\tctx.lineDashOffset = gridLineOpts.borderDashOffset || 0.0;\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tif (circular) {\r\n\t\t// Draw circular arcs between the points\r\n\t\tctx.arc(scale.xCenter, scale.yCenter, radius, 0, Math.PI * 2);\r\n\t} else {\r\n\t\t// Draw straight lines connecting each index\r\n\t\tpointPosition = scale.getPointPosition(0, radius);\r\n\t\tctx.moveTo(pointPosition.x, pointPosition.y);\r\n\r\n\t\tfor (var i = 1; i < valueCount; i++) {\r\n\t\t\tpointPosition = scale.getPointPosition(i, radius);\r\n\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\r\n\t\t}\r\n\t}\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n\tctx.restore();\r\n}\r\n\r\nfunction numberOrZero(param) {\r\n\treturn helpers$1.isNumber(param) ? param : 0;\r\n}\r\n\r\nvar scale_radialLinear = scale_linearbase.extend({\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tme.width = me.maxWidth;\r\n\t\tme.height = me.maxHeight;\r\n\t\tme.paddingTop = getTickBackdropHeight(me.options) / 2;\r\n\t\tme.xCenter = Math.floor(me.width / 2);\r\n\t\tme.yCenter = Math.floor((me.height - me.paddingTop) / 2);\r\n\t\tme.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar min = Number.POSITIVE_INFINITY;\r\n\t\tvar max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\r\n\r\n\t\t\t\thelpers$1.each(dataset.data, function(rawValue, index) {\r\n\t\t\t\t\tvar value = +me.getRightValue(rawValue);\r\n\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmin = Math.min(value, min);\r\n\t\t\t\t\tmax = Math.max(value, max);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.min = (min === Number.POSITIVE_INFINITY ? 0 : min);\r\n\t\tme.max = (max === Number.NEGATIVE_INFINITY ? 0 : max);\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\treturn Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tscale_linearbase.prototype.convertTicksToLabels.call(me);\r\n\r\n\t\t// Point labels\r\n\t\tme.pointLabels = me.chart.data.labels.map(function() {\r\n\t\t\tvar label = helpers$1.callback(me.options.pointLabels.callback, arguments, me);\r\n\t\t\treturn label || label === 0 ? label : '';\r\n\t\t});\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (opts.display && opts.pointLabels.display) {\r\n\t\t\tfitWithPointLabels(me);\r\n\t\t} else {\r\n\t\t\tme.setCenterPoint(0, 0, 0, 0);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Set radius reductions and determine new radius and center point\r\n\t * @private\r\n\t */\r\n\tsetReductions: function(largestPossibleRadius, furthestLimits, furthestAngles) {\r\n\t\tvar me = this;\r\n\t\tvar radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\r\n\t\tvar radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\r\n\t\tvar radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\r\n\t\tvar radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\r\n\r\n\t\tradiusReductionLeft = numberOrZero(radiusReductionLeft);\r\n\t\tradiusReductionRight = numberOrZero(radiusReductionRight);\r\n\t\tradiusReductionTop = numberOrZero(radiusReductionTop);\r\n\t\tradiusReductionBottom = numberOrZero(radiusReductionBottom);\r\n\r\n\t\tme.drawingArea = Math.min(\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2));\r\n\t\tme.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\r\n\t},\r\n\r\n\tsetCenterPoint: function(leftMovement, rightMovement, topMovement, bottomMovement) {\r\n\t\tvar me = this;\r\n\t\tvar maxRight = me.width - rightMovement - me.drawingArea;\r\n\t\tvar maxLeft = leftMovement + me.drawingArea;\r\n\t\tvar maxTop = topMovement + me.drawingArea;\r\n\t\tvar maxBottom = (me.height - me.paddingTop) - bottomMovement - me.drawingArea;\r\n\r\n\t\tme.xCenter = Math.floor(((maxLeft + maxRight) / 2) + me.left);\r\n\t\tme.yCenter = Math.floor(((maxTop + maxBottom) / 2) + me.top + me.paddingTop);\r\n\t},\r\n\r\n\tgetIndexAngle: function(index) {\r\n\t\tvar chart = this.chart;\r\n\t\tvar angleMultiplier = 360 / chart.data.labels.length;\r\n\t\tvar options = chart.options || {};\r\n\t\tvar startAngle = options.startAngle || 0;\r\n\r\n\t\t// Start from the top instead of right, so remove a quarter of the circle\r\n\t\tvar angle = (index * angleMultiplier + startAngle) % 360;\r\n\r\n\t\treturn (angle < 0 ? angle + 360 : angle) * Math.PI * 2 / 360;\r\n\t},\r\n\r\n\tgetDistanceFromCenterForValue: function(value) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// Take into account half font size + the yPadding of the top value\r\n\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\r\n\t\tif (me.options.ticks.reverse) {\r\n\t\t\treturn (me.max - value) * scalingFactor;\r\n\t\t}\r\n\t\treturn (value - me.min) * scalingFactor;\r\n\t},\r\n\r\n\tgetPointPosition: function(index, distanceFromCenter) {\r\n\t\tvar me = this;\r\n\t\tvar thisAngle = me.getIndexAngle(index) - (Math.PI / 2);\r\n\t\treturn {\r\n\t\t\tx: Math.cos(thisAngle) * distanceFromCenter + me.xCenter,\r\n\t\t\ty: Math.sin(thisAngle) * distanceFromCenter + me.yCenter\r\n\t\t};\r\n\t},\r\n\r\n\tgetPointPositionForValue: function(index, value) {\r\n\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\r\n\t},\r\n\r\n\tgetBasePosition: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.getPointPositionForValue(index || 0,\r\n\t\t\tme.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar angleLineOpts = opts.angleLines;\r\n\t\tvar lineWidth = valueOrDefault$c(angleLineOpts.lineWidth, gridLineOpts.lineWidth);\r\n\t\tvar lineColor = valueOrDefault$c(angleLineOpts.color, gridLineOpts.color);\r\n\t\tvar i, offset, position;\r\n\r\n\t\tif (opts.pointLabels.display) {\r\n\t\t\tdrawPointLabels(me);\r\n\t\t}\r\n\r\n\t\tif (gridLineOpts.display) {\r\n\t\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\t\tif (index !== 0) {\r\n\t\t\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\t\t\t\t\tdrawRadiusLine(me, gridLineOpts, offset, index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (angleLineOpts.display && lineWidth && lineColor) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = lineColor;\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\tctx.setLineDash(resolve$4([angleLineOpts.borderDash, gridLineOpts.borderDash, []]));\r\n\t\t\t\tctx.lineDashOffset = resolve$4([angleLineOpts.borderDashOffset, gridLineOpts.borderDashOffset, 0.0]);\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = me.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t\t\toffset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\r\n\t\t\t\tposition = me.getPointPosition(i, offset);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(me.xCenter, me.yCenter);\r\n\t\t\t\tctx.lineTo(position.x, position.y);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\tif (!tickOpts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar startAngle = me.getIndexAngle(0);\r\n\t\tvar tickFont = helpers$1.options._parseFont(tickOpts);\r\n\t\tvar tickFontColor = valueOrDefault$c(tickOpts.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar offset, width;\r\n\r\n\t\tctx.save();\r\n\t\tctx.font = tickFont.string;\r\n\t\tctx.translate(me.xCenter, me.yCenter);\r\n\t\tctx.rotate(startAngle);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\tif (index === 0 && !tickOpts.reverse) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\r\n\t\t\tif (tickOpts.showLabelBackdrop) {\r\n\t\t\t\twidth = ctx.measureText(label).width;\r\n\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\r\n\r\n\t\t\t\tctx.fillRect(\r\n\t\t\t\t\t-width / 2 - tickOpts.backdropPaddingX,\r\n\t\t\t\t\t-offset - tickFont.size / 2 - tickOpts.backdropPaddingY,\r\n\t\t\t\t\twidth + tickOpts.backdropPaddingX * 2,\r\n\t\t\t\t\ttickFont.size + tickOpts.backdropPaddingY * 2\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tctx.fillStyle = tickFontColor;\r\n\t\t\tctx.fillText(label, 0, -offset);\r\n\t\t});\r\n\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: helpers$1.noop\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$3 = defaultConfig$3;\nscale_radialLinear._defaults = _defaults$3;\n\nvar deprecated$1 = helpers$1._deprecated;\r\nvar resolve$5 = helpers$1.options.resolve;\r\nvar valueOrDefault$d = helpers$1.valueOrDefault;\r\n\r\n// Integer constants are from the ES6 spec.\r\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\r\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\n\r\nvar INTERVALS = {\r\n\tmillisecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1,\r\n\t\tsteps: 1000\r\n\t},\r\n\tsecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1000,\r\n\t\tsteps: 60\r\n\t},\r\n\tminute: {\r\n\t\tcommon: true,\r\n\t\tsize: 60000,\r\n\t\tsteps: 60\r\n\t},\r\n\thour: {\r\n\t\tcommon: true,\r\n\t\tsize: 3600000,\r\n\t\tsteps: 24\r\n\t},\r\n\tday: {\r\n\t\tcommon: true,\r\n\t\tsize: 86400000,\r\n\t\tsteps: 30\r\n\t},\r\n\tweek: {\r\n\t\tcommon: false,\r\n\t\tsize: 604800000,\r\n\t\tsteps: 4\r\n\t},\r\n\tmonth: {\r\n\t\tcommon: true,\r\n\t\tsize: 2.628e9,\r\n\t\tsteps: 12\r\n\t},\r\n\tquarter: {\r\n\t\tcommon: false,\r\n\t\tsize: 7.884e9,\r\n\t\tsteps: 4\r\n\t},\r\n\tyear: {\r\n\t\tcommon: true,\r\n\t\tsize: 3.154e10\r\n\t}\r\n};\r\n\r\nvar UNITS = Object.keys(INTERVALS);\r\n\r\nfunction sorter(a, b) {\r\n\treturn a - b;\r\n}\r\n\r\nfunction arrayUnique(items) {\r\n\tvar hash = {};\r\n\tvar out = [];\r\n\tvar i, ilen, item;\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\titem = items[i];\r\n\t\tif (!hash[item]) {\r\n\t\t\thash[item] = true;\r\n\t\t\tout.push(item);\r\n\t\t}\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction getMin(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.min, options.ticks.min);\r\n}\r\n\r\nfunction getMax(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.max, options.ticks.max);\r\n}\r\n\r\n/**\r\n * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\r\n * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\r\n * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\r\n * extremity (left + width or top + height). Note that it would be more optimized to directly\r\n * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\r\n * to create the lookup table. The table ALWAYS contains at least two items: min and max.\r\n *\r\n * @param {number[]} timestamps - timestamps sorted from lowest to highest.\r\n * @param {string} distribution - If 'linear', timestamps will be spread linearly along the min\r\n * and max range, so basically, the table will contains only two items: {min, 0} and {max, 1}.\r\n * If 'series', timestamps will be positioned at the same distance from each other. In this\r\n * case, only timestamps that break the time linearity are registered, meaning that in the\r\n * best case, all timestamps are linear, the table contains only min and max.\r\n */\r\nfunction buildLookupTable(timestamps, min, max, distribution) {\r\n\tif (distribution === 'linear' || !timestamps.length) {\r\n\t\treturn [\r\n\t\t\t{time: min, pos: 0},\r\n\t\t\t{time: max, pos: 1}\r\n\t\t];\r\n\t}\r\n\r\n\tvar table = [];\r\n\tvar items = [min];\r\n\tvar i, ilen, prev, curr, next;\r\n\r\n\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\tcurr = timestamps[i];\r\n\t\tif (curr > min && curr < max) {\r\n\t\t\titems.push(curr);\r\n\t\t}\r\n\t}\r\n\r\n\titems.push(max);\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\tnext = items[i + 1];\r\n\t\tprev = items[i - 1];\r\n\t\tcurr = items[i];\r\n\r\n\t\t// only add points that breaks the scale linearity\r\n\t\tif (prev === undefined || next === undefined || Math.round((next + prev) / 2) !== curr) {\r\n\t\t\ttable.push({time: curr, pos: i / (ilen - 1)});\r\n\t\t}\r\n\t}\r\n\r\n\treturn table;\r\n}\r\n\r\n// @see adapted from https://www.anujgakhar.com/2014/03/01/binary-search-in-javascript/\r\nfunction lookup(table, key, value) {\r\n\tvar lo = 0;\r\n\tvar hi = table.length - 1;\r\n\tvar mid, i0, i1;\r\n\r\n\twhile (lo >= 0 && lo <= hi) {\r\n\t\tmid = (lo + hi) >> 1;\r\n\t\ti0 = table[mid - 1] || null;\r\n\t\ti1 = table[mid];\r\n\r\n\t\tif (!i0) {\r\n\t\t\t// given value is outside table (before first item)\r\n\t\t\treturn {lo: null, hi: i1};\r\n\t\t} else if (i1[key] < value) {\r\n\t\t\tlo = mid + 1;\r\n\t\t} else if (i0[key] > value) {\r\n\t\t\thi = mid - 1;\r\n\t\t} else {\r\n\t\t\treturn {lo: i0, hi: i1};\r\n\t\t}\r\n\t}\r\n\r\n\t// given value is outside table (after last item)\r\n\treturn {lo: i1, hi: null};\r\n}\r\n\r\n/**\r\n * Linearly interpolates the given source `value` using the table items `skey` values and\r\n * returns the associated `tkey` value. For example, interpolate(table, 'time', 42, 'pos')\r\n * returns the position for a timestamp equal to 42. If value is out of bounds, values at\r\n * index [0, 1] or [n - 1, n] are used for the interpolation.\r\n */\r\nfunction interpolate$1(table, skey, sval, tkey) {\r\n\tvar range = lookup(table, skey, sval);\r\n\r\n\t// Note: the lookup table ALWAYS contains at least 2 items (min and max)\r\n\tvar prev = !range.lo ? table[0] : !range.hi ? table[table.length - 2] : range.lo;\r\n\tvar next = !range.lo ? table[1] : !range.hi ? table[table.length - 1] : range.hi;\r\n\r\n\tvar span = next[skey] - prev[skey];\r\n\tvar ratio = span ? (sval - prev[skey]) / span : 0;\r\n\tvar offset = (next[tkey] - prev[tkey]) * ratio;\r\n\r\n\treturn prev[tkey] + offset;\r\n}\r\n\r\nfunction toTimestamp(scale, input) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options.time;\r\n\tvar parser = options.parser;\r\n\tvar format = parser || options.format;\r\n\tvar value = input;\r\n\r\n\tif (typeof parser === 'function') {\r\n\t\tvalue = parser(value);\r\n\t}\r\n\r\n\t// Only parse if its not a timestamp already\r\n\tif (!helpers$1.isFinite(value)) {\r\n\t\tvalue = typeof format === 'string'\r\n\t\t\t? adapter.parse(value, format)\r\n\t\t\t: adapter.parse(value);\r\n\t}\r\n\r\n\tif (value !== null) {\r\n\t\treturn +value;\r\n\t}\r\n\r\n\t// Labels are in an incompatible format and no `parser` has been provided.\r\n\t// The user might still use the deprecated `format` option for parsing.\r\n\tif (!parser && typeof format === 'function') {\r\n\t\tvalue = format(input);\r\n\r\n\t\t// `format` could return something else than a timestamp, if so, parse it\r\n\t\tif (!helpers$1.isFinite(value)) {\r\n\t\t\tvalue = adapter.parse(value);\r\n\t\t}\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction parse(scale, input) {\r\n\tif (helpers$1.isNullOrUndef(input)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar options = scale.options.time;\r\n\tvar value = toTimestamp(scale, scale.getRightValue(input));\r\n\tif (value === null) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tif (options.round) {\r\n\t\tvalue = +scale._adapter.startOf(value, options.round);\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\n/**\r\n * Figures out what unit results in an appropriate number of auto-generated ticks\r\n */\r\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\r\n\tvar ilen = UNITS.length;\r\n\tvar i, interval, factor;\r\n\r\n\tfor (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\r\n\t\tinterval = INTERVALS[UNITS[i]];\r\n\t\tfactor = interval.steps ? interval.steps : MAX_INTEGER;\r\n\r\n\t\tif (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[ilen - 1];\r\n}\r\n\r\n/**\r\n * Figures out what unit to format a set of ticks with\r\n */\r\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\r\n\tvar i, unit;\r\n\r\n\tfor (i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\r\n\t\tunit = UNITS[i];\r\n\t\tif (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\r\n\t\t\treturn unit;\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\r\n}\r\n\r\nfunction determineMajorUnit(unit) {\r\n\tfor (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\r\n\t\tif (INTERVALS[UNITS[i]].common) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Generates a maximum of `capacity` timestamps between min and max, rounded to the\r\n * `minor` unit using the given scale time `options`.\r\n * Important: this method can return ticks outside the min and max range, it's the\r\n * responsibility of the calling code to clamp values if needed.\r\n */\r\nfunction generate(scale, min, max, capacity) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options;\r\n\tvar timeOpts = options.time;\r\n\tvar minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\r\n\tvar stepSize = resolve$5([timeOpts.stepSize, timeOpts.unitStepSize, 1]);\r\n\tvar weekday = minor === 'week' ? timeOpts.isoWeekday : false;\r\n\tvar first = min;\r\n\tvar ticks = [];\r\n\tvar time;\r\n\r\n\t// For 'week' unit, handle the first day of week option\r\n\tif (weekday) {\r\n\t\tfirst = +adapter.startOf(first, 'isoWeek', weekday);\r\n\t}\r\n\r\n\t// Align first ticks on unit\r\n\tfirst = +adapter.startOf(first, weekday ? 'day' : minor);\r\n\r\n\t// Prevent browser from freezing in case user options request millions of milliseconds\r\n\tif (adapter.diff(max, min, minor) > 100000 * stepSize) {\r\n\t\tthrow min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor;\r\n\t}\r\n\r\n\tfor (time = first; time < max; time = +adapter.add(time, stepSize, minor)) {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\tif (time === max || options.bounds === 'ticks') {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\treturn ticks;\r\n}\r\n\r\n/**\r\n * Returns the start and end offsets from edges in the form of {start, end}\r\n * where each value is a relative width to the scale and ranges between 0 and 1.\r\n * They add extra margins on the both sides by scaling down the original scale.\r\n * Offsets are added when the `offset` option is true.\r\n */\r\nfunction computeOffsets(table, ticks, min, max, options) {\r\n\tvar start = 0;\r\n\tvar end = 0;\r\n\tvar first, last;\r\n\r\n\tif (options.offset && ticks.length) {\r\n\t\tfirst = interpolate$1(table, 'time', ticks[0], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tstart = 1 - first;\r\n\t\t} else {\r\n\t\t\tstart = (interpolate$1(table, 'time', ticks[1], 'pos') - first) / 2;\r\n\t\t}\r\n\t\tlast = interpolate$1(table, 'time', ticks[ticks.length - 1], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tend = last;\r\n\t\t} else {\r\n\t\t\tend = (last - interpolate$1(table, 'time', ticks[ticks.length - 2], 'pos')) / 2;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {start: start, end: end, factor: 1 / (start + 1 + end)};\r\n}\r\n\r\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\r\n\tvar adapter = scale._adapter;\r\n\tvar first = +adapter.startOf(ticks[0].value, majorUnit);\r\n\tvar last = ticks[ticks.length - 1].value;\r\n\tvar major, index;\r\n\r\n\tfor (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\r\n\t\tindex = map[major];\r\n\t\tif (index >= 0) {\r\n\t\t\tticks[index].major = true;\r\n\t\t}\r\n\t}\r\n\treturn ticks;\r\n}\r\n\r\nfunction ticksFromTimestamps(scale, values, majorUnit) {\r\n\tvar ticks = [];\r\n\tvar map = {};\r\n\tvar ilen = values.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = values[i];\r\n\t\tmap[value] = i;\r\n\r\n\t\tticks.push({\r\n\t\t\tvalue: value,\r\n\t\t\tmajor: false\r\n\t\t});\r\n\t}\r\n\r\n\t// We set the major ticks separately from the above loop because calling startOf for every tick\r\n\t// is expensive when there is a large number of ticks\r\n\treturn (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\r\n}\r\n\r\nvar defaultConfig$4 = {\r\n\tposition: 'bottom',\r\n\r\n\t/**\r\n\t * Data distribution along the scale:\r\n\t * - 'linear': data are spread according to their time (distances can vary),\r\n\t * - 'series': data are spread at the same distance from each other.\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t * @since 2.7.0\r\n\t */\r\n\tdistribution: 'linear',\r\n\r\n\t/**\r\n\t * Scale boundary strategy (bypassed by min/max time options)\r\n\t * - `data`: make sure data are fully visible, ticks outside are removed\r\n\t * - `ticks`: make sure ticks are fully visible, data outside are truncated\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4556\r\n\t * @since 2.7.0\r\n\t */\r\n\tbounds: 'data',\r\n\r\n\tadapters: {},\r\n\ttime: {\r\n\t\tparser: false, // false == a pattern string from https://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\r\n\t\tunit: false, // false == automatic or override with week, month, year, etc.\r\n\t\tround: false, // none, or override with week, month, year, etc.\r\n\t\tdisplayFormat: false, // DEPRECATED\r\n\t\tisoWeekday: false, // override week start day - see https://momentjs.com/docs/#/get-set/iso-weekday/\r\n\t\tminUnit: 'millisecond',\r\n\t\tdisplayFormats: {}\r\n\t},\r\n\tticks: {\r\n\t\tautoSkip: false,\r\n\r\n\t\t/**\r\n\t\t * Ticks generation input values:\r\n\t\t * - 'auto': generates \"optimal\" ticks based on scale size and time options.\r\n\t\t * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\r\n\t\t * - 'labels': generates ticks from user given `data.labels` values ONLY.\r\n\t\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t\t * @since 2.7.0\r\n\t\t */\r\n\t\tsource: 'auto',\r\n\r\n\t\tmajor: {\r\n\t\t\tenabled: false\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar scale_time = core_scale.extend({\r\n\tinitialize: function() {\r\n\t\tthis.mergeTicksOptions();\r\n\t\tcore_scale.prototype.initialize.call(this);\r\n\t},\r\n\r\n\tupdate: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar time = options.time || (options.time = {});\r\n\t\tvar adapter = me._adapter = new core_adapters._date(options.adapters.date);\r\n\r\n\t\t// DEPRECATIONS: output a message only one time per update\r\n\t\tdeprecated$1('time scale', time.format, 'time.format', 'time.parser');\r\n\t\tdeprecated$1('time scale', time.min, 'time.min', 'ticks.min');\r\n\t\tdeprecated$1('time scale', time.max, 'time.max', 'ticks.max');\r\n\r\n\t\t// Backward compatibility: before introducing adapter, `displayFormats` was\r\n\t\t// supposed to contain *all* unit/string pairs but this can't be resolved\r\n\t\t// when loading the scale (adapters are loaded afterward), so let's populate\r\n\t\t// missing formats on update\r\n\t\thelpers$1.mergeIf(time.displayFormats, adapter.formats());\r\n\r\n\t\treturn core_scale.prototype.update.apply(me, arguments);\r\n\t},\r\n\r\n\t/**\r\n\t * Allows data to be referenced via 't' attribute\r\n\t */\r\n\tgetRightValue: function(rawValue) {\r\n\t\tif (rawValue && rawValue.t !== undefined) {\r\n\t\t\trawValue = rawValue.t;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, rawValue);\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar unit = options.time.unit || 'day';\r\n\t\tvar min = MAX_INTEGER;\r\n\t\tvar max = MIN_INTEGER;\r\n\t\tvar timestamps = [];\r\n\t\tvar datasets = [];\r\n\t\tvar labels = [];\r\n\t\tvar i, j, ilen, jlen, data, timestamp, labelsAdded;\r\n\t\tvar dataLabels = me._getLabels();\r\n\r\n\t\tfor (i = 0, ilen = dataLabels.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(parse(me, dataLabels[i]));\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tdata = chart.data.datasets[i].data;\r\n\r\n\t\t\t\t// Let's consider that all data have the same format.\r\n\t\t\t\tif (helpers$1.isObject(data[0])) {\r\n\t\t\t\t\tdatasets[i] = [];\r\n\r\n\t\t\t\t\tfor (j = 0, jlen = data.length; j < jlen; ++j) {\r\n\t\t\t\t\t\ttimestamp = parse(me, data[j]);\r\n\t\t\t\t\t\ttimestamps.push(timestamp);\r\n\t\t\t\t\t\tdatasets[i][j] = timestamp;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatasets[i] = labels.slice(0);\r\n\t\t\t\t\tif (!labelsAdded) {\r\n\t\t\t\t\t\ttimestamps = timestamps.concat(labels);\r\n\t\t\t\t\t\tlabelsAdded = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdatasets[i] = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (labels.length) {\r\n\t\t\tmin = Math.min(min, labels[0]);\r\n\t\t\tmax = Math.max(max, labels[labels.length - 1]);\r\n\t\t}\r\n\r\n\t\tif (timestamps.length) {\r\n\t\t\ttimestamps = ilen > 1 ? arrayUnique(timestamps).sort(sorter) : timestamps.sort(sorter);\r\n\t\t\tmin = Math.min(min, timestamps[0]);\r\n\t\t\tmax = Math.max(max, timestamps[timestamps.length - 1]);\r\n\t\t}\r\n\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// In case there is no valid min/max, set limits based on unit time option\r\n\t\tmin = min === MAX_INTEGER ? +adapter.startOf(Date.now(), unit) : min;\r\n\t\tmax = max === MIN_INTEGER ? +adapter.endOf(Date.now(), unit) + 1 : max;\r\n\r\n\t\t// Make sure that max is strictly higher than min (required by the lookup table)\r\n\t\tme.min = Math.min(min, max);\r\n\t\tme.max = Math.max(min + 1, max);\r\n\r\n\t\t// PRIVATE\r\n\t\tme._table = [];\r\n\t\tme._timestamps = {\r\n\t\t\tdata: timestamps,\r\n\t\t\tdatasets: datasets,\r\n\t\t\tlabels: labels\r\n\t\t};\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar timeOpts = options.time;\r\n\t\tvar timestamps = me._timestamps;\r\n\t\tvar ticks = [];\r\n\t\tvar capacity = me.getLabelCapacity(min);\r\n\t\tvar source = tickOpts.source;\r\n\t\tvar distribution = options.distribution;\r\n\t\tvar i, ilen, timestamp;\r\n\r\n\t\tif (source === 'data' || (source === 'auto' && distribution === 'series')) {\r\n\t\t\ttimestamps = timestamps.data;\r\n\t\t} else if (source === 'labels') {\r\n\t\t\ttimestamps = timestamps.labels;\r\n\t\t} else {\r\n\t\t\ttimestamps = generate(me, min, max, capacity);\r\n\t\t}\r\n\r\n\t\tif (options.bounds === 'ticks' && timestamps.length) {\r\n\t\t\tmin = timestamps[0];\r\n\t\t\tmax = timestamps[timestamps.length - 1];\r\n\t\t}\r\n\r\n\t\t// Enforce limits with user min/max options\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// Remove ticks outside the min/max range\r\n\t\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\t\ttimestamp = timestamps[i];\r\n\t\t\tif (timestamp >= min && timestamp <= max) {\r\n\t\t\t\tticks.push(timestamp);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = min;\r\n\t\tme.max = max;\r\n\r\n\t\t// PRIVATE\r\n\t\t// determineUnitForFormatting relies on the number of ticks so we don't use it when\r\n\t\t// autoSkip is enabled because we don't yet know what the final number of ticks will be\r\n\t\tme._unit = timeOpts.unit || (tickOpts.autoSkip\r\n\t\t\t? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, capacity)\r\n\t\t\t: determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\r\n\t\tme._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined\r\n\t\t\t: determineMajorUnit(me._unit);\r\n\t\tme._table = buildLookupTable(me._timestamps.data, min, max, distribution);\r\n\t\tme._offsets = computeOffsets(me._table, ticks, min, max, options);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\r\n\t\treturn ticksFromTimestamps(me, ticks, me._majorUnit);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar data = me.chart.data;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar label = data.labels && index < data.labels.length ? data.labels[index] : '';\r\n\t\tvar value = data.datasets[datasetIndex].data[index];\r\n\r\n\t\tif (helpers$1.isObject(value)) {\r\n\t\t\tlabel = me.getRightValue(value);\r\n\t\t}\r\n\t\tif (timeOpts.tooltipFormat) {\r\n\t\t\treturn adapter.format(toTimestamp(me, label), timeOpts.tooltipFormat);\r\n\t\t}\r\n\t\tif (typeof label === 'string') {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t\treturn adapter.format(toTimestamp(me, label), timeOpts.displayFormats.datetime);\r\n\t},\r\n\r\n\t/**\r\n\t * Function to format an individual tick mark\r\n\t * @private\r\n\t */\r\n\ttickFormatFunction: function(time, index, ticks, format) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar formats = options.time.displayFormats;\r\n\t\tvar minorFormat = formats[me._unit];\r\n\t\tvar majorUnit = me._majorUnit;\r\n\t\tvar majorFormat = formats[majorUnit];\r\n\t\tvar tick = ticks[index];\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar major = majorUnit && majorFormat && tick && tick.major;\r\n\t\tvar label = adapter.format(time, format ? format : major ? majorFormat : minorFormat);\r\n\t\tvar nestedTickOpts = major ? tickOpts.major : tickOpts.minor;\r\n\t\tvar formatter = resolve$5([\r\n\t\t\tnestedTickOpts.callback,\r\n\t\t\tnestedTickOpts.userCallback,\r\n\t\t\ttickOpts.callback,\r\n\t\t\ttickOpts.userCallback\r\n\t\t]);\r\n\r\n\t\treturn formatter ? formatter(label, index, ticks) : label;\r\n\t},\r\n\r\n\tconvertTicksToLabels: function(ticks) {\r\n\t\tvar labels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(this.tickFormatFunction(ticks[i].value, i, ticks));\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetPixelForOffset: function(time) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = interpolate$1(me._table, 'time', time, 'pos');\r\n\t\treturn me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar time = null;\r\n\r\n\t\tif (index !== undefined && datasetIndex !== undefined) {\r\n\t\t\ttime = me._timestamps.datasets[datasetIndex][index];\r\n\t\t}\r\n\r\n\t\tif (time === null) {\r\n\t\t\ttime = parse(me, value);\r\n\t\t}\r\n\r\n\t\tif (time !== null) {\r\n\t\t\treturn me.getPixelForOffset(time);\r\n\t\t}\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.getTicks();\r\n\t\treturn index >= 0 && index < ticks.length ?\r\n\t\t\tthis.getPixelForOffset(ticks[index].value) :\r\n\t\t\tnull;\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\r\n\t\tvar time = interpolate$1(me._table, 'pos', pos, 'time');\r\n\r\n\t\t// DEPRECATION, we should return time directly\r\n\t\treturn me._adapter._create(time);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSize: function(label) {\r\n\t\tvar me = this;\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar tickLabelWidth = me.ctx.measureText(label).width;\r\n\t\tvar angle = helpers$1.toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\r\n\t\tvar cosRotation = Math.cos(angle);\r\n\t\tvar sinRotation = Math.sin(angle);\r\n\t\tvar tickFontSize = valueOrDefault$d(ticksOpts.fontSize, core_defaults.global.defaultFontSize);\r\n\r\n\t\treturn {\r\n\t\t\tw: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\r\n\t\t\th: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Crude approximation of what the label width might be\r\n\t * @private\r\n\t */\r\n\tgetLabelWidth: function(label) {\r\n\t\treturn this._getLabelSize(label).w;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetLabelCapacity: function(exampleTime) {\r\n\t\tvar me = this;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar displayFormats = timeOpts.displayFormats;\r\n\r\n\t\t// pick the longest format (milliseconds) for guestimation\r\n\t\tvar format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\r\n\t\tvar exampleLabel = me.tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\r\n\t\tvar size = me._getLabelSize(exampleLabel);\r\n\t\tvar capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h);\r\n\r\n\t\tif (me.options.offset) {\r\n\t\t\tcapacity--;\r\n\t\t}\r\n\r\n\t\treturn capacity > 0 ? capacity : 1;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$4 = defaultConfig$4;\nscale_time._defaults = _defaults$4;\n\nvar scales = {\r\n\tcategory: scale_category,\r\n\tlinear: scale_linear,\r\n\tlogarithmic: scale_logarithmic,\r\n\tradialLinear: scale_radialLinear,\r\n\ttime: scale_time\r\n};\n\nvar FORMATS = {\r\n\tdatetime: 'MMM D, YYYY, h:mm:ss a',\r\n\tmillisecond: 'h:mm:ss.SSS a',\r\n\tsecond: 'h:mm:ss a',\r\n\tminute: 'h:mm a',\r\n\thour: 'hA',\r\n\tday: 'MMM D',\r\n\tweek: 'll',\r\n\tmonth: 'MMM YYYY',\r\n\tquarter: '[Q]Q - YYYY',\r\n\tyear: 'YYYY'\r\n};\r\n\r\ncore_adapters._date.override(typeof moment === 'function' ? {\r\n\t_id: 'moment', // DEBUG ONLY\r\n\r\n\tformats: function() {\r\n\t\treturn FORMATS;\r\n\t},\r\n\r\n\tparse: function(value, format) {\r\n\t\tif (typeof value === 'string' && typeof format === 'string') {\r\n\t\t\tvalue = moment(value, format);\r\n\t\t} else if (!(value instanceof moment)) {\r\n\t\t\tvalue = moment(value);\r\n\t\t}\r\n\t\treturn value.isValid() ? value.valueOf() : null;\r\n\t},\r\n\r\n\tformat: function(time, format) {\r\n\t\treturn moment(time).format(format);\r\n\t},\r\n\r\n\tadd: function(time, amount, unit) {\r\n\t\treturn moment(time).add(amount, unit).valueOf();\r\n\t},\r\n\r\n\tdiff: function(max, min, unit) {\r\n\t\treturn moment(max).diff(moment(min), unit);\r\n\t},\r\n\r\n\tstartOf: function(time, unit, weekday) {\r\n\t\ttime = moment(time);\r\n\t\tif (unit === 'isoWeek') {\r\n\t\t\treturn time.isoWeekday(weekday).valueOf();\r\n\t\t}\r\n\t\treturn time.startOf(unit).valueOf();\r\n\t},\r\n\r\n\tendOf: function(time, unit) {\r\n\t\treturn moment(time).endOf(unit).valueOf();\r\n\t},\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility with scale.getValueForPixel().\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(time) {\r\n\t\treturn moment(time);\r\n\t},\r\n} : {});\n\ncore_defaults._set('global', {\r\n\tplugins: {\r\n\t\tfiller: {\r\n\t\t\tpropagate: true\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar mappers = {\r\n\tdataset: function(source) {\r\n\t\tvar index = source.fill;\r\n\t\tvar chart = source.chart;\r\n\t\tvar meta = chart.getDatasetMeta(index);\r\n\t\tvar visible = meta && chart.isDatasetVisible(index);\r\n\t\tvar points = (visible && meta.dataset._children) || [];\r\n\t\tvar length = points.length || 0;\r\n\r\n\t\treturn !length ? null : function(point, i) {\r\n\t\t\treturn (i < length && points[i]._view) || null;\r\n\t\t};\r\n\t},\r\n\r\n\tboundary: function(source) {\r\n\t\tvar boundary = source.boundary;\r\n\t\tvar x = boundary ? boundary.x : null;\r\n\t\tvar y = boundary ? boundary.y : null;\r\n\r\n\t\tif (helpers$1.isArray(boundary)) {\r\n\t\t\treturn function(point, i) {\r\n\t\t\t\treturn boundary[i];\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tx: x === null ? point.x : x,\r\n\t\t\t\ty: y === null ? point.y : y,\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// @todo if (fill[0] === '#')\r\nfunction decodeFill(el, index, count) {\r\n\tvar model = el._model || {};\r\n\tvar fill = model.fill;\r\n\tvar target;\r\n\r\n\tif (fill === undefined) {\r\n\t\tfill = !!model.backgroundColor;\r\n\t}\r\n\r\n\tif (fill === false || fill === null) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (fill === true) {\r\n\t\treturn 'origin';\r\n\t}\r\n\r\n\ttarget = parseFloat(fill, 10);\r\n\tif (isFinite(target) && Math.floor(target) === target) {\r\n\t\tif (fill[0] === '-' || fill[0] === '+') {\r\n\t\t\ttarget = index + target;\r\n\t\t}\r\n\r\n\t\tif (target === index || target < 0 || target >= count) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t}\r\n\r\n\tswitch (fill) {\r\n\t// compatibility\r\n\tcase 'bottom':\r\n\t\treturn 'start';\r\n\tcase 'top':\r\n\t\treturn 'end';\r\n\tcase 'zero':\r\n\t\treturn 'origin';\r\n\t// supported boundaries\r\n\tcase 'origin':\r\n\tcase 'start':\r\n\tcase 'end':\r\n\t\treturn fill;\r\n\t// invalid fill values\r\n\tdefault:\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction computeLinearBoundary(source) {\r\n\tvar model = source.el._model || {};\r\n\tvar scale = source.el._scale || {};\r\n\tvar fill = source.fill;\r\n\tvar target = null;\r\n\tvar horizontal;\r\n\r\n\tif (isFinite(fill)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Backward compatibility: until v3, we still need to support boundary values set on\r\n\t// the model (scaleTop, scaleBottom and scaleZero) because some external plugins and\r\n\t// controllers might still use it (e.g. the Smith chart).\r\n\r\n\tif (fill === 'start') {\r\n\t\ttarget = model.scaleBottom === undefined ? scale.bottom : model.scaleBottom;\r\n\t} else if (fill === 'end') {\r\n\t\ttarget = model.scaleTop === undefined ? scale.top : model.scaleTop;\r\n\t} else if (model.scaleZero !== undefined) {\r\n\t\ttarget = model.scaleZero;\r\n\t} else if (scale.getBasePixel) {\r\n\t\ttarget = scale.getBasePixel();\r\n\t}\r\n\r\n\tif (target !== undefined && target !== null) {\r\n\t\tif (target.x !== undefined && target.y !== undefined) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\tif (helpers$1.isFinite(target)) {\r\n\t\t\thorizontal = scale.isHorizontal();\r\n\t\t\treturn {\r\n\t\t\t\tx: horizontal ? target : null,\r\n\t\t\t\ty: horizontal ? null : target\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction computeCircularBoundary(source) {\r\n\tvar scale = source.el._scale;\r\n\tvar options = scale.options;\r\n\tvar length = scale.chart.data.labels.length;\r\n\tvar fill = source.fill;\r\n\tvar target = [];\r\n\tvar start, end, center, i, point;\r\n\r\n\tif (!length) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstart = options.ticks.reverse ? scale.max : scale.min;\r\n\tend = options.ticks.reverse ? scale.min : scale.max;\r\n\tcenter = scale.getPointPositionForValue(0, start);\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tpoint = fill === 'start' || fill === 'end'\r\n\t\t\t? scale.getPointPositionForValue(i, fill === 'start' ? start : end)\r\n\t\t\t: scale.getBasePosition(i);\r\n\t\tif (options.gridLines.circular) {\r\n\t\t\tpoint.cx = center.x;\r\n\t\t\tpoint.cy = center.y;\r\n\t\t\tpoint.angle = scale.getIndexAngle(i) - Math.PI / 2;\r\n\t\t}\r\n\t\ttarget.push(point);\r\n\t}\r\n\treturn target;\r\n}\r\n\r\nfunction computeBoundary(source) {\r\n\tvar scale = source.el._scale || {};\r\n\r\n\tif (scale.getPointPositionForValue) {\r\n\t\treturn computeCircularBoundary(source);\r\n\t}\r\n\treturn computeLinearBoundary(source);\r\n}\r\n\r\nfunction resolveTarget(sources, index, propagate) {\r\n\tvar source = sources[index];\r\n\tvar fill = source.fill;\r\n\tvar visited = [index];\r\n\tvar target;\r\n\r\n\tif (!propagate) {\r\n\t\treturn fill;\r\n\t}\r\n\r\n\twhile (fill !== false && visited.indexOf(fill) === -1) {\r\n\t\tif (!isFinite(fill)) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\ttarget = sources[fill];\r\n\t\tif (!target) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (target.visible) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\tvisited.push(fill);\r\n\t\tfill = target.fill;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction createMapper(source) {\r\n\tvar fill = source.fill;\r\n\tvar type = 'dataset';\r\n\r\n\tif (fill === false) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (!isFinite(fill)) {\r\n\t\ttype = 'boundary';\r\n\t}\r\n\r\n\treturn mappers[type](source);\r\n}\r\n\r\nfunction isDrawable(point) {\r\n\treturn point && !point.skip;\r\n}\r\n\r\nfunction drawArea(ctx, curve0, curve1, len0, len1) {\r\n\tvar i, cx, cy, r;\r\n\r\n\tif (!len0 || !len1) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// building first area curve (normal)\r\n\tctx.moveTo(curve0[0].x, curve0[0].y);\r\n\tfor (i = 1; i < len0; ++i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve0[i - 1], curve0[i]);\r\n\t}\r\n\r\n\tif (curve1[0].angle !== undefined) {\r\n\t\tcx = curve1[0].cx;\r\n\t\tcy = curve1[0].cy;\r\n\t\tr = Math.sqrt(Math.pow(curve1[0].x - cx, 2) + Math.pow(curve1[0].y - cy, 2));\r\n\t\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\t\tctx.arc(cx, cy, r, curve1[i].angle, curve1[i - 1].angle, true);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t// joining the two area curves\r\n\tctx.lineTo(curve1[len1 - 1].x, curve1[len1 - 1].y);\r\n\r\n\t// building opposite area curve (reverse)\r\n\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve1[i], curve1[i - 1], true);\r\n\t}\r\n}\r\n\r\nfunction doFill(ctx, points, mapper, view, color, loop) {\r\n\tvar count = points.length;\r\n\tvar span = view.spanGaps;\r\n\tvar curve0 = [];\r\n\tvar curve1 = [];\r\n\tvar len0 = 0;\r\n\tvar len1 = 0;\r\n\tvar i, ilen, index, p0, p1, d0, d1, loopOffset;\r\n\r\n\tctx.beginPath();\r\n\r\n\tfor (i = 0, ilen = count; i < ilen; ++i) {\r\n\t\tindex = i % count;\r\n\t\tp0 = points[index]._view;\r\n\t\tp1 = mapper(p0, index, view);\r\n\t\td0 = isDrawable(p0);\r\n\t\td1 = isDrawable(p1);\r\n\r\n\t\tif (loop && loopOffset === undefined && d0) {\r\n\t\t\tloopOffset = i + 1;\r\n\t\t\tilen = count + loopOffset;\r\n\t\t}\r\n\r\n\t\tif (d0 && d1) {\r\n\t\t\tlen0 = curve0.push(p0);\r\n\t\t\tlen1 = curve1.push(p1);\r\n\t\t} else if (len0 && len1) {\r\n\t\t\tif (!span) {\r\n\t\t\t\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\t\t\t\tlen0 = len1 = 0;\r\n\t\t\t\tcurve0 = [];\r\n\t\t\t\tcurve1 = [];\r\n\t\t\t} else {\r\n\t\t\t\tif (d0) {\r\n\t\t\t\t\tcurve0.push(p0);\r\n\t\t\t\t}\r\n\t\t\t\tif (d1) {\r\n\t\t\t\t\tcurve1.push(p1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\r\n\tctx.closePath();\r\n\tctx.fillStyle = color;\r\n\tctx.fill();\r\n}\r\n\r\nvar plugin_filler = {\r\n\tid: 'filler',\r\n\r\n\tafterDatasetsUpdate: function(chart, options) {\r\n\t\tvar count = (chart.data.datasets || []).length;\r\n\t\tvar propagate = options.propagate;\r\n\t\tvar sources = [];\r\n\t\tvar meta, i, el, source;\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\tel = meta.dataset;\r\n\t\t\tsource = null;\r\n\r\n\t\t\tif (el && el._model && el instanceof elements.Line) {\r\n\t\t\t\tsource = {\r\n\t\t\t\t\tvisible: chart.isDatasetVisible(i),\r\n\t\t\t\t\tfill: decodeFill(el, i, count),\r\n\t\t\t\t\tchart: chart,\r\n\t\t\t\t\tel: el\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tmeta.$filler = source;\r\n\t\t\tsources.push(source);\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!source) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tsource.fill = resolveTarget(sources, i, propagate);\r\n\t\t\tsource.boundary = computeBoundary(source);\r\n\t\t\tsource.mapper = createMapper(source);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeDatasetsDraw: function(chart) {\r\n\t\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\t\tvar ctx = chart.ctx;\r\n\t\tvar meta, i, el, view, points, mapper, color;\r\n\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tmeta = metasets[i].$filler;\r\n\r\n\t\t\tif (!meta || !meta.visible) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tel = meta.el;\r\n\t\t\tview = el._view;\r\n\t\t\tpoints = el._children || [];\r\n\t\t\tmapper = meta.mapper;\r\n\t\t\tcolor = view.backgroundColor || core_defaults.global.defaultColor;\r\n\r\n\t\t\tif (mapper && color && points.length) {\r\n\t\t\t\thelpers$1.canvas.clipArea(ctx, chart.chartArea);\r\n\t\t\t\tdoFill(ctx, points, mapper, view, color, el._loop);\r\n\t\t\t\thelpers$1.canvas.unclipArea(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar getRtlHelper$1 = helpers$1.rtl.getRtlAdapter;\r\nvar noop$1 = helpers$1.noop;\r\nvar valueOrDefault$e = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\tlegend: {\r\n\t\tdisplay: true,\r\n\t\tposition: 'top',\r\n\t\talign: 'center',\r\n\t\tfullWidth: true,\r\n\t\treverse: false,\r\n\t\tweight: 1000,\r\n\r\n\t\t// a callback that will handle\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.datasetIndex;\r\n\t\t\tvar ci = this.chart;\r\n\t\t\tvar meta = ci.getDatasetMeta(index);\r\n\r\n\t\t\t// See controller.isDatasetVisible comment\r\n\t\t\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\r\n\r\n\t\t\t// We hid a dataset ... rerender the chart\r\n\t\t\tci.update();\r\n\t\t},\r\n\r\n\t\tonHover: null,\r\n\t\tonLeave: null,\r\n\r\n\t\tlabels: {\r\n\t\t\tboxWidth: 40,\r\n\t\t\tpadding: 10,\r\n\t\t\t// Generates labels shown in the legend\r\n\t\t\t// Valid properties to return:\r\n\t\t\t// text : text to display\r\n\t\t\t// fillStyle : fill of coloured box\r\n\t\t\t// strokeStyle: stroke of coloured box\r\n\t\t\t// hidden : if this legend item refers to a hidden item\r\n\t\t\t// lineCap : cap style for line\r\n\t\t\t// lineDash\r\n\t\t\t// lineDashOffset :\r\n\t\t\t// lineJoin :\r\n\t\t\t// lineWidth :\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar datasets = chart.data.datasets;\r\n\t\t\t\tvar options = chart.options.legend || {};\r\n\t\t\t\tvar usePointStyle = options.labels && options.labels.usePointStyle;\r\n\r\n\t\t\t\treturn chart._getSortedDatasetMetas().map(function(meta) {\r\n\t\t\t\t\tvar style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttext: datasets[meta.index].label,\r\n\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(meta.index),\r\n\t\t\t\t\t\tlineCap: style.borderCapStyle,\r\n\t\t\t\t\t\tlineDash: style.borderDash,\r\n\t\t\t\t\t\tlineDashOffset: style.borderDashOffset,\r\n\t\t\t\t\t\tlineJoin: style.borderJoinStyle,\r\n\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\tpointStyle: style.pointStyle,\r\n\t\t\t\t\t\trotation: style.rotation,\r\n\r\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\r\n\t\t\t\t\t\tdatasetIndex: meta.index\r\n\t\t\t\t\t};\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\tlistItemSpan.style.backgroundColor = datasets[i].backgroundColor;\r\n\t\t\tif (datasets[i].label) {\r\n\t\t\t\tlistItem.appendChild(document.createTextNode(datasets[i].label));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t}\r\n});\r\n\r\n/**\r\n * Helper function to get the box width based on the usePointStyle option\r\n * @param {object} labelopts - the label options on the legend\r\n * @param {number} fontSize - the label font size\r\n * @return {number} width of the color box area\r\n */\r\nfunction getBoxWidth(labelOpts, fontSize) {\r\n\treturn labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n\t\tfontSize :\r\n\t\tlabelOpts.boxWidth;\r\n}\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Legend = core_element.extend({\r\n\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\r\n\t\t/**\r\n \t\t * @private\r\n \t\t */\r\n\t\tme._hoveredItem = null;\r\n\r\n\t\t// Are we in doughnut mode which has a different data type\r\n\t\tme.doughnutMode = false;\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\t// Any function defined here is inherited by all legend types.\r\n\t// Any function can be extended by the legend type\r\n\r\n\tbeforeUpdate: noop$1,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\t},\r\n\tafterUpdate: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$1,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$1,\r\n\tbuildLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelOpts = me.options.labels || {};\r\n\t\tvar legendItems = helpers$1.callback(labelOpts.generateLabels, [me.chart], me) || [];\r\n\r\n\t\tif (labelOpts.filter) {\r\n\t\t\tlegendItems = legendItems.filter(function(item) {\r\n\t\t\t\treturn labelOpts.filter(item, me.chart.data);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (me.options.reverse) {\r\n\t\t\tlegendItems.reverse();\r\n\t\t}\r\n\r\n\t\tme.legendItems = legendItems;\r\n\t},\r\n\tafterBuildLabels: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$1,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar display = opts.display;\r\n\r\n\t\tvar ctx = me.ctx;\r\n\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\r\n\t\t// Reset hit boxes\r\n\t\tvar hitboxes = me.legendHitBoxes = [];\r\n\r\n\t\tvar minSize = me.minSize;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth; // fill all the width\r\n\t\t\tminSize.height = display ? 10 : 0;\r\n\t\t} else {\r\n\t\t\tminSize.width = display ? 10 : 0;\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t}\r\n\r\n\t\t// Increase sizes here\r\n\t\tif (!display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\t// Labels\r\n\r\n\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n\t\t\tvar lineWidths = me.lineWidths = [0];\r\n\t\t\tvar totalHeight = 0;\r\n\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\tif (i === 0 || lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n\t\t\t\t\ttotalHeight += fontSize + labelOpts.padding;\r\n\t\t\t\t\tlineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n\t\t\t});\r\n\r\n\t\t\tminSize.height += totalHeight;\r\n\r\n\t\t} else {\r\n\t\t\tvar vPadding = labelOpts.padding;\r\n\t\t\tvar columnWidths = me.columnWidths = [];\r\n\t\t\tvar columnHeights = me.columnHeights = [];\r\n\t\t\tvar totalWidth = labelOpts.padding;\r\n\t\t\tvar currentColWidth = 0;\r\n\t\t\tvar currentColHeight = 0;\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\t// If too tall, go to new column\r\n\t\t\t\tif (i > 0 && currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\r\n\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\r\n\t\t\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\t\t\tcurrentColWidth = 0;\r\n\t\t\t\t\tcurrentColHeight = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get max width\r\n\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\r\n\t\t\t\tcurrentColHeight += fontSize + vPadding;\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: itemWidth,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\ttotalWidth += currentColWidth;\r\n\t\t\tcolumnWidths.push(currentColWidth);\r\n\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\tminSize.width += totalWidth;\r\n\t\t}\r\n\r\n\t\tme.width = minSize.width;\r\n\t\tme.height = minSize.height;\r\n\t},\r\n\tafterFit: noop$1,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the legend on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor;\r\n\t\tvar lineDefault = globalDefaults.elements.line;\r\n\t\tvar legendHeight = me.height;\r\n\t\tvar columnHeights = me.columnHeights;\r\n\t\tvar legendWidth = me.width;\r\n\t\tvar lineWidths = me.lineWidths;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar rtlHelper = getRtlHelper$1(opts.rtl, me.left, me.minSize.width);\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar fontColor = valueOrDefault$e(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\t\tvar cursor;\r\n\r\n\t\t// Canvas setup\r\n\t\tctx.textAlign = rtlHelper.textAlign('left');\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.lineWidth = 0.5;\r\n\t\tctx.strokeStyle = fontColor; // for strikethrough effect\r\n\t\tctx.fillStyle = fontColor; // render in correct colour\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\tvar hitboxes = me.legendHitBoxes;\r\n\r\n\t\t// current position\r\n\t\tvar drawLegendBox = function(x, y, legendItem) {\r\n\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Set the ctx for the box\r\n\t\t\tctx.save();\r\n\r\n\t\t\tvar lineWidth = valueOrDefault$e(legendItem.lineWidth, lineDefault.borderWidth);\r\n\t\t\tctx.fillStyle = valueOrDefault$e(legendItem.fillStyle, defaultColor);\r\n\t\t\tctx.lineCap = valueOrDefault$e(legendItem.lineCap, lineDefault.borderCapStyle);\r\n\t\t\tctx.lineDashOffset = valueOrDefault$e(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n\t\t\tctx.lineJoin = valueOrDefault$e(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = valueOrDefault$e(legendItem.strokeStyle, defaultColor);\r\n\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t// IE 9 and 10 do not support line dash\r\n\t\t\t\tctx.setLineDash(valueOrDefault$e(legendItem.lineDash, lineDefault.borderDash));\r\n\t\t\t}\r\n\r\n\t\t\tif (labelOpts && labelOpts.usePointStyle) {\r\n\t\t\t\t// Recalculate x and y for drawPoint() because its expecting\r\n\t\t\t\t// x and y to be center of figure (instead of top left)\r\n\t\t\t\tvar radius = boxWidth * Math.SQRT2 / 2;\r\n\t\t\t\tvar centerX = rtlHelper.xPlus(x, boxWidth / 2);\r\n\t\t\t\tvar centerY = y + fontSize / 2;\r\n\r\n\t\t\t\t// Draw pointStyle as legend symbol\r\n\t\t\t\thelpers$1.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY, legendItem.rotation);\r\n\t\t\t} else {\r\n\t\t\t\t// Draw box as legend symbol\r\n\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\tif (lineWidth !== 0) {\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t};\r\n\r\n\t\tvar fillText = function(x, y, legendItem, textWidth) {\r\n\t\t\tvar halfFontSize = fontSize / 2;\r\n\t\t\tvar xLeft = rtlHelper.xPlus(x, boxWidth + halfFontSize);\r\n\t\t\tvar yMiddle = y + halfFontSize;\r\n\r\n\t\t\tctx.fillText(legendItem.text, xLeft, yMiddle);\r\n\r\n\t\t\tif (legendItem.hidden) {\r\n\t\t\t\t// Strikethrough the text if hidden\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.lineWidth = 2;\r\n\t\t\t\tctx.moveTo(xLeft, yMiddle);\r\n\t\t\t\tctx.lineTo(rtlHelper.xPlus(xLeft, textWidth), yMiddle);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar alignmentOffset = function(dimension, blockSize) {\r\n\t\t\tswitch (opts.align) {\r\n\t\t\tcase 'start':\r\n\t\t\t\treturn labelOpts.padding;\r\n\t\t\tcase 'end':\r\n\t\t\t\treturn dimension - blockSize;\r\n\t\t\tdefault: // center\r\n\t\t\t\treturn (dimension - blockSize + labelOpts.padding) / 2;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Horizontal\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tif (isHorizontal) {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n\t\t\t\ty: me.top + labelOpts.padding,\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + labelOpts.padding,\r\n\t\t\t\ty: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\thelpers$1.rtl.overrideTextDirection(me.ctx, opts.textDirection);\r\n\r\n\t\tvar itemHeight = fontSize + labelOpts.padding;\r\n\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\tvar textWidth = ctx.measureText(legendItem.text).width;\r\n\t\t\tvar width = boxWidth + (fontSize / 2) + textWidth;\r\n\t\t\tvar x = cursor.x;\r\n\t\t\tvar y = cursor.y;\r\n\r\n\t\t\trtlHelper.setWidth(me.minSize.width);\r\n\r\n\t\t\t// Use (me.left + me.minSize.width) and (me.top + me.minSize.height)\r\n\t\t\t// instead of me.right and me.bottom because me.width and me.height\r\n\t\t\t// may have been changed since me.minSize was calculated\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tif (i > 0 && x + width + labelOpts.padding > me.left + me.minSize.width) {\r\n\t\t\t\t\ty = cursor.y += itemHeight;\r\n\t\t\t\t\tcursor.line++;\r\n\t\t\t\t\tx = cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n\t\t\t\t}\r\n\t\t\t} else if (i > 0 && y + itemHeight > me.top + me.minSize.height) {\r\n\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\r\n\t\t\t\tcursor.line++;\r\n\t\t\t\ty = cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n\t\t\t}\r\n\r\n\t\t\tvar realX = rtlHelper.x(x);\r\n\r\n\t\t\tdrawLegendBox(realX, y, legendItem);\r\n\r\n\t\t\thitboxes[i].left = rtlHelper.leftForLtr(realX, hitboxes[i].width);\r\n\t\t\thitboxes[i].top = y;\r\n\r\n\t\t\t// Fill the actual label\r\n\t\t\tfillText(realX, y, legendItem, textWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tcursor.x += width + labelOpts.padding;\r\n\t\t\t} else {\r\n\t\t\t\tcursor.y += itemHeight;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.rtl.restoreTextDirection(me.ctx, opts.textDirection);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLegendItemAt: function(x, y) {\r\n\t\tvar me = this;\r\n\t\tvar i, hitBox, lh;\r\n\r\n\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\r\n\t\t\t// See if we are touching one of the dataset boxes\r\n\t\t\tlh = me.legendHitBoxes;\r\n\t\t\tfor (i = 0; i < lh.length; ++i) {\r\n\t\t\t\thitBox = lh[i];\r\n\r\n\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\r\n\t\t\t\t\t// Touching an element\r\n\t\t\t\t\treturn me.legendItems[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\r\n\t\tvar hoveredItem;\r\n\r\n\t\tif (type === 'mousemove') {\r\n\t\t\tif (!opts.onHover && !opts.onLeave) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else if (type === 'click') {\r\n\t\t\tif (!opts.onClick) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Chart event already has relative position in it\r\n\t\thoveredItem = me._getLegendItemAt(e.x, e.y);\r\n\r\n\t\tif (type === 'click') {\r\n\t\t\tif (hoveredItem && opts.onClick) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onClick.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (opts.onLeave && hoveredItem !== me._hoveredItem) {\r\n\t\t\t\tif (me._hoveredItem) {\r\n\t\t\t\t\topts.onLeave.call(me, e.native, me._hoveredItem);\r\n\t\t\t\t}\r\n\t\t\t\tme._hoveredItem = hoveredItem;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.onHover && hoveredItem) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onHover.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction createNewLegendAndAttach(chart, legendOpts) {\r\n\tvar legend = new Legend({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: legendOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, legend, legendOpts);\r\n\tcore_layouts.addBox(chart, legend);\r\n\tchart.legend = legend;\r\n}\r\n\r\nvar plugin_legend = {\r\n\tid: 'legend',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the legend is registered as a plugin, making\r\n\t * Chart.Legend obsolete. To avoid a breaking change, we export the Legend as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Legend,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\t\tvar legend = chart.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\thelpers$1.mergeIf(legendOpts, core_defaults.global.legend);\r\n\r\n\t\t\tif (legend) {\r\n\t\t\t\tcore_layouts.configure(chart, legend, legendOpts);\r\n\t\t\t\tlegend.options = legendOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t\t}\r\n\t\t} else if (legend) {\r\n\t\t\tcore_layouts.removeBox(chart, legend);\r\n\t\t\tdelete chart.legend;\r\n\t\t}\r\n\t},\r\n\r\n\tafterEvent: function(chart, e) {\r\n\t\tvar legend = chart.legend;\r\n\t\tif (legend) {\r\n\t\t\tlegend.handleEvent(e);\r\n\t\t}\r\n\t}\r\n};\n\nvar noop$2 = helpers$1.noop;\r\n\r\ncore_defaults._set('global', {\r\n\ttitle: {\r\n\t\tdisplay: false,\r\n\t\tfontStyle: 'bold',\r\n\t\tfullWidth: true,\r\n\t\tpadding: 10,\r\n\t\tposition: 'top',\r\n\t\ttext: '',\r\n\t\tweight: 2000         // by default greater than legend (1000) to be above\r\n\t}\r\n});\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Title = core_element.extend({\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\r\n\tbeforeUpdate: noop$2,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\r\n\t},\r\n\tafterUpdate: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$2,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$2,\r\n\tbuildLabels: noop$2,\r\n\tafterBuildLabels: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$2,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar minSize = me.minSize = {};\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar lineCount, textSize;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlineCount = helpers$1.isArray(opts.text) ? opts.text.length : 1;\r\n\t\ttextSize = lineCount * helpers$1.options._parseFont(opts).lineHeight + opts.padding * 2;\r\n\r\n\t\tme.width = minSize.width = isHorizontal ? me.maxWidth : textSize;\r\n\t\tme.height = minSize.height = isHorizontal ? textSize : me.maxHeight;\r\n\t},\r\n\tafterFit: noop$2,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the title block on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar fontOpts = helpers$1.options._parseFont(opts);\r\n\t\tvar lineHeight = fontOpts.lineHeight;\r\n\t\tvar offset = lineHeight / 2 + opts.padding;\r\n\t\tvar rotation = 0;\r\n\t\tvar top = me.top;\r\n\t\tvar left = me.left;\r\n\t\tvar bottom = me.bottom;\r\n\t\tvar right = me.right;\r\n\t\tvar maxWidth, titleX, titleY;\r\n\r\n\t\tctx.fillStyle = helpers$1.valueOrDefault(opts.fontColor, core_defaults.global.defaultFontColor); // render in correct colour\r\n\t\tctx.font = fontOpts.string;\r\n\r\n\t\t// Horizontal\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\r\n\t\t\ttitleY = top + offset;\r\n\t\t\tmaxWidth = right - left;\r\n\t\t} else {\r\n\t\t\ttitleX = opts.position === 'left' ? left + offset : right - offset;\r\n\t\t\ttitleY = top + ((bottom - top) / 2);\r\n\t\t\tmaxWidth = bottom - top;\r\n\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(titleX, titleY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\tvar text = opts.text;\r\n\t\tif (helpers$1.isArray(text)) {\r\n\t\t\tvar y = 0;\r\n\t\t\tfor (var i = 0; i < text.length; ++i) {\r\n\t\t\t\tctx.fillText(text[i], 0, y, maxWidth);\r\n\t\t\t\ty += lineHeight;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tctx.fillText(text, 0, 0, maxWidth);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\r\n\r\nfunction createNewTitleBlockAndAttach(chart, titleOpts) {\r\n\tvar title = new Title({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: titleOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, title, titleOpts);\r\n\tcore_layouts.addBox(chart, title);\r\n\tchart.titleBlock = title;\r\n}\r\n\r\nvar plugin_title = {\r\n\tid: 'title',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the title is registered as a plugin, making\r\n\t * Chart.Title obsolete. To avoid a breaking change, we export the Title as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Title,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\t\tvar titleBlock = chart.titleBlock;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\thelpers$1.mergeIf(titleOpts, core_defaults.global.title);\r\n\r\n\t\t\tif (titleBlock) {\r\n\t\t\t\tcore_layouts.configure(chart, titleBlock, titleOpts);\r\n\t\t\t\ttitleBlock.options = titleOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t\t}\r\n\t\t} else if (titleBlock) {\r\n\t\t\tcore_layouts.removeBox(chart, titleBlock);\r\n\t\t\tdelete chart.titleBlock;\r\n\t\t}\r\n\t}\r\n};\n\nvar plugins = {};\r\nvar filler = plugin_filler;\r\nvar legend = plugin_legend;\r\nvar title = plugin_title;\nplugins.filler = filler;\nplugins.legend = legend;\nplugins.title = title;\n\n/**\r\n * @namespace Chart\r\n */\r\n\r\n\r\ncore_controller.helpers = helpers$1;\r\n\r\n// @todo dispatch these helpers into appropriated helpers/helpers.* file and write unit tests!\r\ncore_helpers();\r\n\r\ncore_controller._adapters = core_adapters;\r\ncore_controller.Animation = core_animation;\r\ncore_controller.animationService = core_animations;\r\ncore_controller.controllers = controllers;\r\ncore_controller.DatasetController = core_datasetController;\r\ncore_controller.defaults = core_defaults;\r\ncore_controller.Element = core_element;\r\ncore_controller.elements = elements;\r\ncore_controller.Interaction = core_interaction;\r\ncore_controller.layouts = core_layouts;\r\ncore_controller.platform = platform;\r\ncore_controller.plugins = core_plugins;\r\ncore_controller.Scale = core_scale;\r\ncore_controller.scaleService = core_scaleService;\r\ncore_controller.Ticks = core_ticks;\r\ncore_controller.Tooltip = core_tooltip;\r\n\r\n// Register built-in scales\r\n\r\ncore_controller.helpers.each(scales, function(scale, type) {\r\n\tcore_controller.scaleService.registerScaleType(type, scale, scale._defaults);\r\n});\r\n\r\n// Load to register built-in adapters (as side effects)\r\n\r\n\r\n// Loading built-in plugins\r\n\r\nfor (var k in plugins) {\r\n\tif (plugins.hasOwnProperty(k)) {\r\n\t\tcore_controller.plugins.register(plugins[k]);\r\n\t}\r\n}\r\n\r\ncore_controller.platform.initialize();\r\n\r\nvar src = core_controller;\r\nif (typeof window !== 'undefined') {\r\n\twindow.Chart = core_controller;\r\n}\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Chart\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Chart = core_controller;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Legend\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Legend = plugins.legend._element;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Title\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Title = plugins.title._element;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.plugins instead\r\n * @namespace Chart.pluginService\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.pluginService = core_controller.plugins;\r\n\r\n/**\r\n * Provided for backward compatibility, inheriting from Chart.PlugingBase has no\r\n * effect, instead simply create/register plugins via plain JavaScript objects.\r\n * @interface Chart.PluginBase\r\n * @deprecated since version 2.5.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.PluginBase = core_controller.Element.extend({});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas instead.\r\n * @namespace Chart.canvasHelpers\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.canvasHelpers = core_controller.helpers.canvas;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.layouts instead.\r\n * @namespace Chart.layoutService\r\n * @deprecated since version 2.7.3\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.layoutService = core_controller.layouts;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.LinearScaleBase\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.LinearScaleBase = scale_linearbase;\r\n\r\n/**\r\n * Provided for backward compatibility, instead we should create a new Chart\r\n * by setting the type in the config (`new Chart(id, {type: '{chart-type}'}`).\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n */\r\ncore_controller.helpers.each(\r\n\t[\r\n\t\t'Bar',\r\n\t\t'Bubble',\r\n\t\t'Doughnut',\r\n\t\t'Line',\r\n\t\t'PolarArea',\r\n\t\t'Radar',\r\n\t\t'Scatter'\r\n\t],\r\n\tfunction(klass) {\r\n\t\tcore_controller[klass] = function(ctx, cfg) {\r\n\t\t\treturn new core_controller(ctx, core_controller.helpers.merge(cfg || {}, {\r\n\t\t\t\ttype: klass.charAt(0).toLowerCase() + klass.slice(1)\r\n\t\t\t}));\r\n\t\t};\r\n\t}\r\n);\n\nreturn src;\n\n})));\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Chart\", {\n  enumerable: true,\n  get: function get() {\n    return _chart[\"default\"];\n  }\n});\nexports.defaults = exports.Scatter = exports.Bubble = exports.Polar = exports.Radar = exports.HorizontalBar = exports.Bar = exports.Line = exports.Pie = exports.Doughnut = exports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _chart = _interopRequireDefault(require(\"chart.js\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _keyBy = _interopRequireDefault(require(\"lodash/keyBy\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NODE_ENV = typeof process !== 'undefined' && process.env && process.env.NODE_ENV;\n\nvar ChartComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChartComponent, _React$Component);\n\n  var _super = _createSuper(ChartComponent);\n\n  function ChartComponent() {\n    var _this;\n\n    _classCallCheck(this, ChartComponent);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnClick\", function (event) {\n      var instance = _this.chartInstance;\n      var _this$props = _this.props,\n          getDatasetAtEvent = _this$props.getDatasetAtEvent,\n          getElementAtEvent = _this$props.getElementAtEvent,\n          getElementsAtEvent = _this$props.getElementsAtEvent,\n          onElementsClick = _this$props.onElementsClick;\n      getDatasetAtEvent && getDatasetAtEvent(instance.getDatasetAtEvent(event), event);\n      getElementAtEvent && getElementAtEvent(instance.getElementAtEvent(event), event);\n      getElementsAtEvent && getElementsAtEvent(instance.getElementsAtEvent(event), event);\n      onElementsClick && onElementsClick(instance.getElementsAtEvent(event), event); // Backward compatibility\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (element) {\n      _this.element = element;\n    });\n\n    _this.chartInstance = undefined;\n    return _this;\n  }\n\n  _createClass(ChartComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderChart();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.redraw) {\n        this.destroyChart();\n        this.renderChart();\n        return;\n      }\n\n      this.updateChart();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props2 = this.props,\n          redraw = _this$props2.redraw,\n          type = _this$props2.type,\n          options = _this$props2.options,\n          plugins = _this$props2.plugins,\n          legend = _this$props2.legend,\n          height = _this$props2.height,\n          width = _this$props2.width;\n\n      if (nextProps.redraw === true) {\n        return true;\n      }\n\n      if (height !== nextProps.height || width !== nextProps.width) {\n        return true;\n      }\n\n      if (type !== nextProps.type) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(legend, nextProps.legend)) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(options, nextProps.options)) {\n        return true;\n      }\n\n      var nextData = this.transformDataProp(nextProps);\n\n      if (!(0, _isEqual[\"default\"])(this.shadowDataProp, nextData)) {\n        return true;\n      }\n\n      return !(0, _isEqual[\"default\"])(plugins, nextProps.plugins);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyChart();\n    }\n  }, {\n    key: \"transformDataProp\",\n    value: function transformDataProp(props) {\n      var data = props.data;\n\n      if (typeof data == 'function') {\n        var node = this.element;\n        return data(node);\n      } else {\n        return data;\n      }\n    } // Chart.js directly mutates the data.dataset objects by adding _meta proprerty\n    // this makes impossible to compare the current and next data changes\n    // therefore we memoize the data prop while sending a fake to Chart.js for mutation.\n    // see https://github.com/chartjs/Chart.js/blob/master/src/core/core.controller.js#L615-L617\n\n  }, {\n    key: \"memoizeDataProps\",\n    value: function memoizeDataProps() {\n      if (!this.props.data) {\n        return;\n      }\n\n      var data = this.transformDataProp(this.props);\n      this.shadowDataProp = _objectSpread(_objectSpread({}, data), {}, {\n        datasets: data.datasets && data.datasets.map(function (set) {\n          return _objectSpread({}, set);\n        })\n      });\n      this.saveCurrentDatasets(); // to remove the dataset metadata from this chart when the chart is destroyed\n\n      return data;\n    }\n  }, {\n    key: \"checkDatasets\",\n    value: function checkDatasets(datasets) {\n      var isDev = NODE_ENV !== 'production' && NODE_ENV !== 'prod';\n      var usingCustomKeyProvider = this.props.datasetKeyProvider !== ChartComponent.getLabelAsKey;\n      var multipleDatasets = datasets.length > 1;\n\n      if (isDev && multipleDatasets && !usingCustomKeyProvider) {\n        var shouldWarn = false;\n        datasets.forEach(function (dataset) {\n          if (!dataset.label) {\n            shouldWarn = true;\n          }\n        });\n\n        if (shouldWarn) {\n          console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the \"label\" property on each dataset is used. Alternatively, you may provide a \"datasetKeyProvider\" as a prop that returns a unique key.');\n        }\n      }\n    }\n  }, {\n    key: \"getCurrentDatasets\",\n    value: function getCurrentDatasets() {\n      return this.chartInstance && this.chartInstance.config.data && this.chartInstance.config.data.datasets || [];\n    }\n  }, {\n    key: \"saveCurrentDatasets\",\n    value: function saveCurrentDatasets() {\n      var _this2 = this;\n\n      this.datasets = this.datasets || {};\n      var currentDatasets = this.getCurrentDatasets();\n      currentDatasets.forEach(function (d) {\n        _this2.datasets[_this2.props.datasetKeyProvider(d)] = d;\n      });\n    }\n  }, {\n    key: \"updateChart\",\n    value: function updateChart() {\n      var _this3 = this;\n\n      var options = this.props.options;\n      var data = this.memoizeDataProps(this.props);\n      if (!this.chartInstance) return;\n\n      if (options) {\n        this.chartInstance.options = _chart[\"default\"].helpers.configMerge(this.chartInstance.options, options);\n      } // Pipe datasets to chart instance datasets enabling\n      // seamless transitions\n\n\n      var currentDatasets = this.getCurrentDatasets();\n      var nextDatasets = data.datasets || [];\n      this.checkDatasets(currentDatasets);\n      var currentDatasetsIndexed = (0, _keyBy[\"default\"])(currentDatasets, this.props.datasetKeyProvider); // We can safely replace the dataset array, as long as we retain the _meta property\n      // on each dataset.\n\n      this.chartInstance.config.data.datasets = nextDatasets.map(function (next) {\n        var current = currentDatasetsIndexed[_this3.props.datasetKeyProvider(next)];\n\n        if (current && current.type === next.type && next.data) {\n          // Be robust to no data. Relevant for other update mechanisms as in chartjs-plugin-streaming.\n          // The data array must be edited in place. As chart.js adds listeners to it.\n          current.data.splice(next.data.length);\n          next.data.forEach(function (point, pid) {\n            current.data[pid] = next.data[pid];\n          });\n\n          var _data = next.data,\n              otherProps = _objectWithoutProperties(next, [\"data\"]); // Merge properties. Notice a weakness here. If a property is removed\n          // from next, it will be retained by current and never disappears.\n          // Workaround is to set value to null or undefined in next.\n\n\n          return _objectSpread(_objectSpread({}, current), otherProps);\n        } else {\n          return next;\n        }\n      });\n\n      var datasets = data.datasets,\n          rest = _objectWithoutProperties(data, [\"datasets\"]);\n\n      this.chartInstance.config.data = _objectSpread(_objectSpread({}, this.chartInstance.config.data), rest);\n      this.chartInstance.update();\n    }\n  }, {\n    key: \"renderChart\",\n    value: function renderChart() {\n      var _this$props3 = this.props,\n          options = _this$props3.options,\n          legend = _this$props3.legend,\n          type = _this$props3.type,\n          plugins = _this$props3.plugins;\n      var node = this.element;\n      var data = this.memoizeDataProps();\n\n      if (typeof legend !== 'undefined' && !(0, _isEqual[\"default\"])(ChartComponent.defaultProps.legend, legend)) {\n        options.legend = legend;\n      }\n\n      this.chartInstance = new _chart[\"default\"](node, {\n        type: type,\n        data: data,\n        options: options,\n        plugins: plugins\n      });\n    }\n  }, {\n    key: \"destroyChart\",\n    value: function destroyChart() {\n      if (!this.chartInstance) {\n        return;\n      } // Put all of the datasets that have existed in the chart back on the chart\n      // so that the metadata associated with this chart get destroyed.\n      // This allows the datasets to be used in another chart. This can happen,\n      // for example, in a tabbed UI where the chart gets created each time the\n      // tab gets switched to the chart and uses the same data).\n\n\n      this.saveCurrentDatasets();\n      var datasets = Object.values(this.datasets);\n      this.chartInstance.config.data.datasets = datasets;\n      this.chartInstance.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          height = _this$props4.height,\n          width = _this$props4.width,\n          id = _this$props4.id;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"canvas\", {\n        ref: this.ref,\n        height: height,\n        width: width,\n        id: id,\n        onClick: this.handleOnClick\n      });\n    }\n  }]);\n\n  return ChartComponent;\n}(_react[\"default\"].Component);\n\n_defineProperty(ChartComponent, \"getLabelAsKey\", function (d) {\n  return d.label;\n});\n\n_defineProperty(ChartComponent, \"propTypes\", {\n  data: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]).isRequired,\n  getDatasetAtEvent: _propTypes[\"default\"].func,\n  getElementAtEvent: _propTypes[\"default\"].func,\n  getElementsAtEvent: _propTypes[\"default\"].func,\n  height: _propTypes[\"default\"].number,\n  legend: _propTypes[\"default\"].object,\n  onElementsClick: _propTypes[\"default\"].func,\n  options: _propTypes[\"default\"].object,\n  plugins: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n  redraw: _propTypes[\"default\"].bool,\n  type: function type(props, propName, componentName) {\n    if (!_chart[\"default\"].controllers[props[propName]]) {\n      return new Error('Invalid chart type `' + props[propName] + '` supplied to' + ' `' + componentName + '`.');\n    }\n  },\n  width: _propTypes[\"default\"].number,\n  datasetKeyProvider: _propTypes[\"default\"].func\n});\n\n_defineProperty(ChartComponent, \"defaultProps\", {\n  legend: {\n    display: true,\n    position: 'bottom'\n  },\n  type: 'doughnut',\n  height: 150,\n  width: 300,\n  redraw: false,\n  options: {},\n  datasetKeyProvider: ChartComponent.getLabelAsKey\n});\n\nvar _default = ChartComponent;\nexports[\"default\"] = _default;\n\nvar Doughnut = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Doughnut, _React$Component2);\n\n  var _super2 = _createSuper(Doughnut);\n\n  function Doughnut() {\n    _classCallCheck(this, Doughnut);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Doughnut, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref) {\n          return _this4.chartInstance = _ref && _ref.chartInstance;\n        },\n        type: \"doughnut\"\n      }));\n    }\n  }]);\n\n  return Doughnut;\n}(_react[\"default\"].Component);\n\nexports.Doughnut = Doughnut;\n\nvar Pie = /*#__PURE__*/function (_React$Component3) {\n  _inherits(Pie, _React$Component3);\n\n  var _super3 = _createSuper(Pie);\n\n  function Pie() {\n    _classCallCheck(this, Pie);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(Pie, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref2) {\n          return _this5.chartInstance = _ref2 && _ref2.chartInstance;\n        },\n        type: \"pie\"\n      }));\n    }\n  }]);\n\n  return Pie;\n}(_react[\"default\"].Component);\n\nexports.Pie = Pie;\n\nvar Line = /*#__PURE__*/function (_React$Component4) {\n  _inherits(Line, _React$Component4);\n\n  var _super4 = _createSuper(Line);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref3) {\n          return _this6.chartInstance = _ref3 && _ref3.chartInstance;\n        },\n        type: \"line\"\n      }));\n    }\n  }]);\n\n  return Line;\n}(_react[\"default\"].Component);\n\nexports.Line = Line;\n\nvar Bar = /*#__PURE__*/function (_React$Component5) {\n  _inherits(Bar, _React$Component5);\n\n  var _super5 = _createSuper(Bar);\n\n  function Bar() {\n    _classCallCheck(this, Bar);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(Bar, [{\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref4) {\n          return _this7.chartInstance = _ref4 && _ref4.chartInstance;\n        },\n        type: \"bar\"\n      }));\n    }\n  }]);\n\n  return Bar;\n}(_react[\"default\"].Component);\n\nexports.Bar = Bar;\n\nvar HorizontalBar = /*#__PURE__*/function (_React$Component6) {\n  _inherits(HorizontalBar, _React$Component6);\n\n  var _super6 = _createSuper(HorizontalBar);\n\n  function HorizontalBar() {\n    _classCallCheck(this, HorizontalBar);\n\n    return _super6.apply(this, arguments);\n  }\n\n  _createClass(HorizontalBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref5) {\n          return _this8.chartInstance = _ref5 && _ref5.chartInstance;\n        },\n        type: \"horizontalBar\"\n      }));\n    }\n  }]);\n\n  return HorizontalBar;\n}(_react[\"default\"].Component);\n\nexports.HorizontalBar = HorizontalBar;\n\nvar Radar = /*#__PURE__*/function (_React$Component7) {\n  _inherits(Radar, _React$Component7);\n\n  var _super7 = _createSuper(Radar);\n\n  function Radar() {\n    _classCallCheck(this, Radar);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(Radar, [{\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref6) {\n          return _this9.chartInstance = _ref6 && _ref6.chartInstance;\n        },\n        type: \"radar\"\n      }));\n    }\n  }]);\n\n  return Radar;\n}(_react[\"default\"].Component);\n\nexports.Radar = Radar;\n\nvar Polar = /*#__PURE__*/function (_React$Component8) {\n  _inherits(Polar, _React$Component8);\n\n  var _super8 = _createSuper(Polar);\n\n  function Polar() {\n    _classCallCheck(this, Polar);\n\n    return _super8.apply(this, arguments);\n  }\n\n  _createClass(Polar, [{\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref7) {\n          return _this10.chartInstance = _ref7 && _ref7.chartInstance;\n        },\n        type: \"polarArea\"\n      }));\n    }\n  }]);\n\n  return Polar;\n}(_react[\"default\"].Component);\n\nexports.Polar = Polar;\n\nvar Bubble = /*#__PURE__*/function (_React$Component9) {\n  _inherits(Bubble, _React$Component9);\n\n  var _super9 = _createSuper(Bubble);\n\n  function Bubble() {\n    _classCallCheck(this, Bubble);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(Bubble, [{\n    key: \"render\",\n    value: function render() {\n      var _this11 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref8) {\n          return _this11.chartInstance = _ref8 && _ref8.chartInstance;\n        },\n        type: \"bubble\"\n      }));\n    }\n  }]);\n\n  return Bubble;\n}(_react[\"default\"].Component);\n\nexports.Bubble = Bubble;\n\nvar Scatter = /*#__PURE__*/function (_React$Component10) {\n  _inherits(Scatter, _React$Component10);\n\n  var _super10 = _createSuper(Scatter);\n\n  function Scatter() {\n    _classCallCheck(this, Scatter);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(Scatter, [{\n    key: \"render\",\n    value: function render() {\n      var _this12 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref9) {\n          return _this12.chartInstance = _ref9 && _ref9.chartInstance;\n        },\n        type: \"scatter\"\n      }));\n    }\n  }]);\n\n  return Scatter;\n}(_react[\"default\"].Component);\n\nexports.Scatter = Scatter;\nvar defaults = _chart[\"default\"].defaults;\nexports.defaults = defaults;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["CommitDetails","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","isLoading","errorMsg","_createClass","key","value","_this2","_this$props","this","repoID","commitID","seafileAPI","getCommitDetails","then","res","setState","commitDetails","data","catch","error","Utils","getErrorMsg","_this$props2","toggleDialog","commitTime","_jsxs","Modal","isOpen","centered","toggle","children","_jsx","ModalHeader","gettext","ModalBody","className","moment","format","Content","React","_React$Component2","_super2","_this3","_len","arguments","length","args","Array","_key","apply","concat","renderDetails","detailsData","type","title","showDesc","i","len","cmt_desc","map","item","index","dangerouslySetInnerHTML","__html","_this$props$data","Loading","CreateForder","handleChange","e","target","trim","isSubmitBtnActive","childName","handleSubmit","newName","checkDuplicatedName","errMessage","replace","HTMLescape","path","parentPath","onAddFolder","handleKeyPress","preventDefault","addFolderCancel","autoFocus","Form","FormGroup","Label","for","Input","id","onKeyPress","onChange","Alert","color","ModalFooter","Button","onClick","disabled","OpMenu","onMenuItemClick","operation","getEventData","onDropdownToggleClick","toggleOperationMenu","isItemMenuShow","onFreezedItem","onUnfreezedItem","operations","translateOperations","Dropdown","DropdownToggle","tag","DropdownMenu","DropdownItem","ShareAdminLink","copyToClipboard","copy","link","toaster","success","duration","href","SysAdminUnlinkDevice","handleInputChange","inputChecked","checked","unlinkDevice","isPro","htmlFor","SidePanel","getActiveClass","tab","currentTab","isSidePanelClosed","Logo","onCloseSidePanel","canViewSystemInfo","Link","to","siteRoot","tabItemClick","isDBSqlite3","canViewStatistic","otherPermission","constanceEnabled","canConfigSystem","canManageLibrary","canManageUser","canManageGroup","multiTenancy","multiInstitution","sysadminExtraEnabled","canViewUserLog","enableFileScan","enableGuestInvitation","enableTermsAndConditions","canViewAdminLog","enableWorkWeixin","enableDingtalk","enableShareLinkReportAbuse","MainPanel","_Component","Component","MainPanelTopbar","toggleSidePanel","search","Account","isAdminPanel","Info","uploadLicenseFile","fileInput","current","files","file","sysAdminUploadLicense","info","sysInfo","Object","assign","with_license","errMsg","danger","openFileInput","click","renderLicenseDescString","license_mode","license_to","license_expiration","window","app","config","lang","loading","sysAdminGetSysInfo","_this$state$sysInfo","org_count","repos_count","total_files_count","total_storage","total_devices_count","current_connected_devices_count","license_maxusers","multi_tenancy_enabled","active_users_count","users_count","groups_count","_this$state","Fragment","_objectSpread","isDefaultAdmin","ref","rel","bytesToSize","Nav","navItems","name","urlPart","text","currentItem","FORMAT","Picker","defaultCalendarValue","locale","clone","calendar","Calendar","defaultValue","disabledDate","translateCalendar","DatePicker","_ref","placeholder","tabIndex","readOnly","StatisticCommonTool","changeActive","statisticTypeName","statisticType","startTime","endTime","subtract","getActiviesFiles","disabledStartDate","startValue","today","endValue","isBefore","disabledEndDate","field","_defineProperty","onSubmit","_this$state2","bind","StatisticChart","titleCallback","tooltipItem","datasets","datasetIndex","label","yLabel","ticksCallback","values","opations","labels","filesData","isTitleCallback","isTicksCallback","suggestedMaxNumbers","isLegendStatus","chartTitle","options","display","fontSize","elements","line","fill","tension","borderWidth","legend","usePointStyle","tooltips","callbacks","layout","padding","right","scales","yAxes","ticks","beginAtZero","suggestedMax","callback","xAxes","maxTicksLimit","nextProps","Line","StatisticFile","groupBy","sysAdminStatisticFiles","added","deleted","visited","modified","isArray","forEach","push","datetime","addedData","borderColor","backgroundColor","visitedData","modifiedData","deletedData","err","StatisticNav","StatisticStorage","sysAdminStatisticStorages","totalStorage","TrafficTable","sortBy","sortIcon","sortOrder","width","sortItems","TrafficTableBody","trafficName","userTrafficItem","email","org_name","syncUploadSize","sync_file_upload","syncDownloadSize","sync_file_download","webUploadSize","web_file_upload","webDownloadSize","web_file_download","linkUploadSize","link_file_upload","linkDownloadSize","link_file_download","OrgsTraffic","getPreviousPage","getTrafficList","month","currentPage","getNextPage","test","errorMessage","initPage","blur","page","perPage","orderBy","sysAdminListOrgTraffic","orgTrafficList","org_monthly_traffic_list","slice","hasNextPage","has_next_page","resetPerPage","newPerPage","initMonth","urlParams","URL","location","searchParams","_this$state3","parseInt","get","_this$state4","Paginator","gotoPreviousPage","gotoNextPage","curPerPage","UsersTraffic","sysAdminListUserTraffic","userTrafficList","user_monthly_traffic_list","StatisticTraffic","changeTabActive","activeName","tabActive","sysAdminStatisticTraffic","total_upload","total_download","link_upload","link_download","sync_upload","sync_download","web_upload","web_download","linkData","syncData","webData","renderCommonTool","_assertThisInitialized","StatisticUsers","sysAdminStatisticActiveUsers","count","userCount","StatisticReports","onGenerateReports","url","getPreviousPageDevicesList","getDevicesListByPage","pageInfo","current_page","getNextPageDevicesList","items","emptyTip","EmptyTip","table","Item","_Component2","handleMouseOver","isOpIconShown","handleMouseOut","handleUnlink","is_desktop_client","toggleUnlinkDeviceDialog","isUnlinkDeviceDialogOpen","deleteFiles","_this2$props$item","platform","device_id","user","sysAdminUnlinkDevice","unlinked","message","onMouseEnter","onMouseLeave","user_name","client_version","device_name","last_login_ip","last_accessed","fromNow","_Component3","DevicesByPlatform","_super3","devicesPlatform","per_page","sysAdminListDevices","devicesData","devices","page_info","_this4","_this$state2$currentP","DesktopDevices","DevicesNav","MobileDevices","UserLink","encodeURIComponent","getPreviousPageDeviceErrorsList","getDeviceErrorsListByPage","getNextPageDeviceErrorsList","device_ip","repo_id","repo_name","error_msg","error_time","DeviceErrors","sysAdminListDeviceErrors","devicesErrors","device_errors","isCleanBtnShown","clean","sysAdminClearDeviceErrors","_this$state$currentPa","SetQuotaDialog","handleQuotaChange","quota","updateQuota","InputGroup","InputGroupAddon","addonType","InputGroupText","SysAdminImportUserDialog","fileInputRef","uploadFile","fileName","substr","lastIndexOf","importUserInBatch","SysAdminUserRoleEditor","translateRoles","role","SelectEditor","isTextMode","isEditIconShow","roleOptions","currentOption","currentRole","onOptionChanged","onRoleChanged","translateOption","SysAdminAddUserDialog","checkSubmitBtnActive","password","passwordAgain","btnActive","togglePasswordVisible","isPasswordVisible","inputPassword","passwd","inputPasswordAgain","generatePassword","val","inputEmail","inputName","updateRole","showRole","addUser","dialogTitle","autoComplete","availableRoles","SysAdminBatchAddAdminDialog","handleSelectChange","addAdminInBatch","UserSelect","isMulti","onSelectChange","SysAdminUser","object","contact_email","login_id","last_login","last_access_time","create_time","is_active","is_staff","reference_id","department","quota_total","quota_usage","institution","org_id","isSelected","SysAdminAdminUser","admin_role","Search","submit","style","haveLDAP","SysAdminUserStatusEditor","translateStatus","status","statusOptions","currentStatus","onStatusChanged","_window$sysadmin$page","sysadmin","pageOptions","availableAdminRoles","institutions","isItemFreezed","getListByPage","sortByQuotaUsage","isAdmin","isAllUsersSelected","columns","spaceText","spaceEl","undefined","colSpaceText","colNameText","colCreatedText","toggleSelectAllUsers","updateUser","deleteUser","updateAdminRole","revokeAdmin","onUserSelected","isLDAPImported","isSearchResult","handleMouseEnter","highlight","handleMouseLeave","isOpIconShow","toggleSetQuotaDialog","isSetQuotaDialogOpen","toggleDeleteUserDialog","isDeleteUserDialogOpen","toggleResetUserPasswordDialog","isResetUserPasswordDialogOpen","toggleRevokeAdminDialog","isRevokeAdminDialogOpen","updateStatus","isActive","notify","translateAdminRole","updateInstitution","translateInstitution","inst","resetPassword","sysAdminResetUserPassword","reset_tip","getMenuOperations","_this3$props","list","source","translateResult","itemName","deleteDialogMsg","resetPasswordDialogMsg","revokeAdminDialogMsg","username","SysAdminUserSetQuotaDialog","CommonOperationConfirmationDialog","executeOperation","confirmBtnText","Users","toggleImportUserDialog","isImportUserDialogOpen","toggleAddUserDialog","isAddUserDialogOpen","toggleBatchSetQuotaDialog","isBatchSetQuotaDialogOpen","toggleBatchDeleteUserDialog","isBatchDeleteUserDialogOpen","hasUserSelected","selectedUserList","users","userList","filter","thisuser","getUserList","sysAdminListAdmins","admin_user_list","getUsersListByPage","sysAdminListUsers","total_count","URLSearchParams","set","toString","navigate","sysAdminDeleteUser","newUserList","msg","setUserQuotaInBatch","quotaTotal","emails","sysAdminSetUserQuotaInBatch","resultUser","deleteUserInBatch","sysAdminDeleteUserInBatch","oldUser","some","deletedUser","failed","sysAdminImportUserViaFile","sysAdminAddUser","unshift","add_user_tip","sysAdminUpdateUser","update_status_tip","sysAdminUpdateAdminRole","getOperationsForAll","toggleBatchAddAdminDialog","getCurrentNavItem","isBatchAddAdminDialogOpen","sysAdminAddAdminInBatch","getSearch","searchItems","keyword","_this$state3$sortBy","_this$state3$sortOrde","_this$props3","UsersNav","AdminUsers","LDAPImportedUsers","sysAdminListLDAPUsers","ldap_user_list","SearchUsers","getItems","sysAdminSearchUsers","query","user_list","getPreviousPageList","getNextPageList","handleKeyDown","keyCode","params","document","row","Col","sm","onKeyDown","size","SysAdminSetUploadDownloadRateLimitDialog","handleRateLimitChange","rateLimit","updateUploadDownloadRateLimit","uploadOrDownload","UpdateUser","updateValue","userName","twoFactorAuthEnabled","toggleSetUserUploadRateLimitDialog","isSetUserUploadRateLimitDialogOpen","toggleSetUserDownloadRateLimitDialog","isSetUserDownloadRateLimitDialogOpen","currentKey","isUpdateUserDialogOpen","toggleSetNameDialog","toggleSetUserLoginIDDialog","toggleSetUserComtactEmailDialog","toggleSetUserReferenceIDDialog","toggleUpdateUserDialog","showEditIcon","action","userInfo","src","avatar_url","alt","upload_rate_limit","download_rate_limit","has_default_device","disable2FA","check","is_force_2fa","toggleForce2fa","SysAdminSetQuotaDialog","SysAdminUpdateUserDialog","User","sysAdminDeleteTwoFactorAuth","sysAdminSetForceTwoFactorAuth","decodeURIComponent","sysAdminGetUser","enableSysAdminViewRepo","deleteRepo","transferRepo","toggleDeleteDialog","isDeleteDialogOpen","toggleTransferDialog","isTransferDialogOpen","owner","renderRepoName","repo","encrypted","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","last_modified","TransferDialog","canTransferToDept","Repos","sysAdminDeleteRepo","newRepoList","repoList","sysAdminTransferRepo","_this5","sysAdminListReposByOwner","repos","getOwnerLink","owner_email","indexOf","owner_name","groupID","substring","last_modify","sysAdminListShareInRepos","repo_list","deleteItem","toggleLinkDialog","isLinkDialogOpen","getRoleText","roleText","getIconUrl","is_dir","getFolderIconUrl","getFileIconUrl","obj_name","view_cnt","LinkDialog","Links","token","sysAdminDeleteShareLink","shareLinkItems","sysAdminDeleteUploadLink","uploadLinkItems","sysAdminListShareLinksByUser","share_link_list","sort","a","b","sysAdminListUploadLinksByUser","upload_link_list","parent_group_id","created_at","Groups","sysAdminListGroupsJoinedByUser","group_list","SysAdminCreateRepoDialog","handleRepoNameChange","repoName","ownerEmail","createRepo","option","UserItem","isOperationShow","deleteShareItem","user_email","onChangeUserPermission","permission","currentPermission","getSharedPermission","SharePermissionEditor","permissions","onPermissionChanged","UserList","SysAdminShareToUser","_React$Component3","selectedOption","setPermission","shareToUser","sysAdminAddRepoSharedItem","newItems","sharedItems","refs","userSelect","clearSelect","response","useremail","sysAdminDeleteRepoSharedItem","userEmail","sysAdminUpdateRepoSharedItemPermission","updateSharedItems","sharedItem","sharedItemUsername","is_admin","sysAdminListRepoSharedItems","colSpan","GroupItem","group_id","group_name","GroupList","SysAdminShareToGroup","loadOptions","shareableGroups","obj","listSharedGroups","shareToGroup","groups","sharedItemGroupID","SeahubSelect","maxMenuHeight","components","NoOptionsMessage","NoGroupMessage","SysAdminShareDialog","getInitialActiveTab","activeTab","renderDirContent","enableDirPrivateShare","isGroupOwnedRepo","pills","NavItem","NavLink","TabContent","TabPane","tabId","itemType","itemPath","isRepoOwner","maxWidth","SysAdminLibHistorySettingDialog","days","keepDays","autoHistory","expireDays","sysAdminUpdateRepoHistorySetting","keep_days","errorInfo","num","setLimitDays","allHistory","noHistory","sysAdminGetRepoHistorySetting","sortByFileCount","sortBySize","initialSortIcon","onDeleteRepo","onTransferRepo","isRepoDeleted","toggleShareDialog","toggleHistorySettingDialog","isShareDialogOpen","isHistorySettingDialogOpen","getOperations","departmentID","file_count","ModalPortal","repoEncrypted","userPerm","DeleteRepoDialog","AllRepos","toggleCreateRepoDialog","isCreateRepoDialogOpen","getReposByPage","sysAdminListAllRepos","Owner","sysAdminCreateRepo","targetRepo","searchRepos","repoNameOrID","_this$state3$currentP","ReposNav","description","SystemRepo","sysAdminGetSystemRepoInfo","trashReposExpireDays","onRestoreRepo","sysAdminDeleteTrashRepo","sysAdminRestoreTrashRepo","toggleDeleteRepoDialog","isDeleteRepoDialogOpen","toggleRestoreRepoDialog","isRestoreRepoDialogOpen","delete_time","TrashRepos","toggleCleanTrashDialog","isCleanTrashDialogOpen","sysAdminListTrashRepos","cleanTrash","sysAdminCleanTrashRepos","sysAdminSearchTrashRepos","SearchRepos","getRepos","sysAdminSearchRepos","handleNameInputChange","offset","Dirent","mtime","last_update","file_size","is_file","DirPath","onPathClick","turnPathToLink","pathList","split","nodePath","isSystemRepo","currentPath","pathElem","DirentItem","openFolder","dirent","deleteDirent","downloadDirent","fromSystemRepo","getDirentIcon","DirContent","direntList","DirView","loadDirentList","toggleNewFolderDialog","isNewFolderDialogOpen","createNewFolder","folderName","getFileName","sysAdminCreateSysRepoFolder","new_dirent","direntPath","joinPath","sysAdminListRepoDirents","_res$data","is_system_library","dirent_list","encodePath","history","replaceState","sysAdminDeleteRepoDirent","sysAdminGetRepoFileDownloadURL","download_url","onFileInputChange","sydAdminGetSysRepoItemUploadURL","formData","FormData","append","axios","post","upload_link","fileObj","newDirent","Date","getTime","dirs","splice","DirPathBar","CreateFolderDialog","SysAdminCreateGroupDialog","groupName","createGroup","SysAdminTransferGroupDialog","submitBtnDisabled","receiver","transferGroup","deleteGroup","groupUrl","toggleCreateGroupDialog","isCreateGroupDialogOpen","getGroupListByPage","sysAdminListAllGroups","groupList","OnwerEmail","sysAdminCreateNewGroup","newGroupList","sysAdminDismissGroupByID","receiverEmail","sysAdminTransferGroup","searchGroups","SearchGroups","getGroups","sysAdminSearchGroups","unshareRepo","toggleUnshareRepoDialog","isUnshareRepoDialogOpen","dialogMsg","shared_by","shared_by_name","GroupRepos","sysAdminUnshareRepoFromGroup","sysAdminListGroupRepos","libraries","GroupNav","SysAdminGroupAddMemberDialog","selectedOptions","isSubmitBtnDisabled","addMembers","SysAdminGroupRoleEditor","removeMember","updateMemberRole","GroupMembers","sysAdminListGroupMembers","memberList","members","toggleAddMemgerDialog","isAddMemberDialogOpen","sysAdminAddGroupMember","newMemberList","sysAdminDeleteGroupMember","sysAdminUpdateGroupMemberRole","Departments","AddDepartDialog","validateName","parentGroup","parentGroupID","sysAdminAddNewDepartment","departName","onAddNewDepartment","header","RenameDepartmentDialog","sysAdminRenameDepartment","departmentName","onDepartmentNameChanged","onAfterModelOpened","newInput","focus","select","onOpened","innerRef","DeleteDepartmentDialog","deleteDepart","group","sysAdminDeleteDepartment","onDeleteDepartment","tipMessage","SetGroupQuotaDialog","setGroupQuota","newQuota","sysAdminUpdateDepartmentQuota","onSetQuota","toggleRenameDialog","isRenameDialogOpen","newHref","onSetDepartmentQuota","DepartmentList","listDepartments","sysAdminListAllDepartments","toggleAddDepartDialog","isShowAddDepartDialog","dept","newDepartment","topbarChildren","AddMemberDialog","orgSelect","onAddNewMembers","AddRepoDialog","sysAdminAddRepoInDepartment","onAddNewRepo","Department","getDepartmentInfo","sysAdminGetDepartmentInfo","ancestorGroups","ancestor_groups","toggleRenameDepartmentDialog","isShowRenameDepartmentDialog","toggleAddRepoDialog","isShowAddRepoDialog","toggleAddMemberDialog","isShowAddMemberDialog","toggleAddDepartmentDialog","isShowAddDepartmentDialog","topBtn","AddDepartmentDialog","ancestor","SubDepartments","listSubDepartments","onSubDepartmentNameChanged","DeleteMemberDialog","deleteMember","member","onMemberChanged","MemberItem","toggleMemberRoleMenu","showRoleMenu","onChangeUserRole","roles","RoleEditor","toggleItemFreezed","showDeleteMemberDialog","DepartmentMembers","listMembers","currentPageInfo","membersErrorMsg","toggleCancel","isFreezed","deletedMember","newMembers","_toConsumableArray","sysAdminDeleteRepoInDepartment","onRepoChanged","RepoItem","showDeleteRepoDialog","DepartmentDetail","listGroupRepo","deletedRepo","newRepo","getShareLinksByPage","sortByTime","sortByCount","deleteShareLink","renderExpiration","expire_date","expire_time","is_expired","deleteIcon","onMouseOver","onMouseOut","creator_email","creator_name","ctime","ShareLinks","_this4$state","sysAdminListShareLinks","shareLinkList","_this4$state2","linkToken","newShareLinkList","LinksNav","getUploadLinksByPage","deleteUploadLink","UploadLinks","sysAdminListAllUploadLinks","uploadLinkList","newUploadLinkList","SysAdminAddOrgDialog","orgName","addOrg","deleteOrg","sysAdminGetOrg","repoCount","Orgs","getItemsByPage","sysAdminListOrgs","orgList","organizations","toggleAddOrgDialog","isAddOrgDialogOpen","orgID","orgInfo","sysAdminUpdateOrg","newOrgList","org","sysAdminAddOrg","sysAdminDeleteOrg","SearchOrgs","sysAdminSearchOrgs","organization_list","SysAdminSetOrgNameDialog","updateName","SysAdminSetOrgMaxUserNumberDialog","isSetNameDialogOpen","toggleSetMaxUserNumberDialog","isSetMaxUserNumberDialogOpen","_this$props$orgInfo","max_user_number","enable_saml_login","url_prefix","metadata_url","domain","Row","md","serviceURL","SysAdminSetOrgQuotaDialog","updateMaxUserNumber","OrgInfo","newOrgInfo","newValue","maxUserNumber","OrgNav","SysAdminUserMembershipEditor","updateMembership","toggleResetPasswordDialog","isResetPasswordDialogOpen","statusValue","membershipValue","active","is_org_staff","OrgUsers","newUserInfo","sysAdminAddOrgUser","sysAdminDeleteOrgUser","sysAdminUpdateOrgUser","isOrgStaff","sysAdminListOrgUsers","OrgGroups","sysAdminListOrgGroups","OrgRepos","sysAdminListOrgRepos","SysAdminAddInstitutionDialog","addInstitution","getInstitutionsByPage","deleteInstitution","institutionName","Institutions","sysAdminListInstitutions","institutionList","institution_list","toggleAddInstitutionDialog","isAddInstitutionDialogOpen","sysAdminAddInstitution","institutionID","sysAdminDeleteInstitution","institutionInfo","user_count","quota_used","SysAdminSetInstitutionQuotaDialog","InstitutionInfo","sysAdminUpdateInstitution","newInstitutionInfo","sysAdminGetInstitution","InstitutionNav","getInstitutionUsersByPage","setAdmin","toggleSetAdminDialog","isSetAdminDialogOpen","is_institution_admin","InstitutionUsers","sysAdminListInstitutionUsers","sysAdminUpdateInstitutionUser","sysAdminAddInstitutionUserBatch","successArray","failedArray","sysAdminDeleteInstitutionUser","InstitutionAdmins","sysAdminListInstitutionAdmins","LogsExportExcelDialog","downloadExcel","isValidDateStr","startDateStr","endDateStr","logType","isValid","handleStartChange","handleEndChange","getLogsByPage","login_ip","log_success","login_time","LoginLogs","toggleExportExcelDialog","isExportExcelDialogOpen","sysAdminListLoginLogs","logList","login_log_list","LogsNav","FilterMenu","toggleMenu","isMenuShown","toggleFreezeItem","onItemClick","filterItems","filterBy","ToggleFilter","toggleFilter","toggleFilterByUser","filterByUser","toggleFilterByRepo","filterByRepo","freezed","userFilteredBy","repoFilteredBy","isHighlighted","event_type","ip","device","time","file_or_dir_name","FileAccessLogs","sysAdminListFileAccessLogs","file_access_log_list","updateURL","delete","toggleCommitDetailsDialog","isCommitDetailsDialogOpen","showCommitDetails","file_operation","repo_encrypted","commit_id","FileUpdateLogs","sysAdminListFileUpdateLogs","file_update_log_list","getActionTextByEType","etype","getShareTo","share_type","to_user_email","to_user_name","to_group_id","to_group_name","from_user_email","from_user_name","sharePerms","folder","date","SharePermissionLogs","sysAdminListSharePermissionLogs","share_permission_log_list","Section","headingText","SettingItemBase","helpTip","displayName","mainContent","extraContent","WebSettingInput","toggleBtns","isBtnsShown","hideBtns","onInputChange","saveSetting","keyText","inputType","onFocus","onBlur","onMouseDown","WebSettingFile","postFile","filePath","fileWidth","fileHeight","height","WebSettingCheckbox","valueToNum","WebSettings","sysAdminSetSysSettingInfo","config_dict","fileType","sysAdminUpdateLogo","sysAdminUpdateFavicon","sysAdminUpdateLoginBG","logoPath","logo_path","faviconPath","favicon_path","loginBGPath","login_bg_image_path","mediaUrl","sysAdminGetSysSettingInfo","InputItem","FileItem","CheckboxItem","SysAdminAddSysNotificationDialog","addNotification","deleteNotification","setToCurrent","is_current","Notifications","toggleAddNotificationDialog","isAddNotificationDialogOpen","sysAdminAddSysNotification","notificationList","notification","sysAdminDeleteSysNotification","sysAdminSetSysNotificationToCurrent","sysAdminListAllSysNotifications","notifications","Table","records","record","detail","suggestion","FileScanRecords","listFileScanRecords","record_list","WorkWeixinDepartmentMembersList","newUsersTempObj","checkedDepartmentId","isMembersListLoading","canCheckUserIds","membersList","avatar","onUserChecked","userid","mobile","hover","isCheckedAll","onAllUsersChecked","WorkWeixinDepartmentsTreeNode","toggleChildren","stopPropagation","isChildrenShow","dropdownToggle","dropdownOpen","importDepartmentDialogToggle","depart","renderTreeNodes","departmentsTree","onChangeDepartment","changeDept","toggleClass","classNames","nodeInnerClass","direction","opacity","WorkWeixinDepartmentsTreePanel","isTreeLoading","ImportWorkWeixinDepartmentDialog","onImportDepartmentSubmit","departmentsCount","membersCount","WorkWeixinDepartments","getDepartmentsTree","childIds","parentIds","parentid","intersection","v","rootIds","cloneData","deepCopy","father","branchArr","child","getWorkWeixinDepartmentsList","adminListWorkWeixinDepartments","importDepartmentChildrenCount","importDepartmentMembersCount","membersTempObj","handleError","getWorkWeixinDepartmentMembersList","department_id","adminListWorkWeixinDepartmentMembers","fetch_child","userlist","getCanCheckUserIds","userIds","keys","newUsersTempList","JSON","stringify","adminAddWorkWeixinUsersBatch","handleSubmitSuccess","fails","_success$i","j","departmentId","k","importDepartment","isImportDepartmentDialogShow","adminImportWorkWeixinDepartment","handleImportDepartmentSubmitSuccess","handleImportDepartmentSubmitFailed","successes","successMsg","department_name","api_user_name","fail","failName","canImportDepartment","DingtalkDepartmentMembersList","DingtalkDepartmentsTreeNode","DingtalkDepartmentsTreePanel","ImportDingtalkDepartmentDialog","DingtalkDepartments","getDingtalkDepartmentsList","adminListDingtalkDepartments","getDingtalkDepartmentMembersList","adminListDingtalkDepartmentMembers","adminAddDingtalkUsersBatch","adminImportDingtalkDepartment","getInviteTypeText","invite_type","inviter_email","inviter_name","accept_time","accepter_email","accepter_name","invite_time","Invitations","sysAdminListInvitations","invitation_list","targetItem","sysAdminDeleteInvitation","deleteItemInBatch","sysAdminDeleteExpiredInvitations","prevItems","totalItemCount","TermsEditorDialog","event","isContentChanged","currentContent","getCurrentContent","onCommit","onCloseEditorDialog","simpleEditor","hasContentChange","getMarkdown","setSimpleEditorRef","editor","content","wrapClassName","contentClassName","SimpleEditor","onRef","defaultProps","AddOrUpdateTermDialog","handleNameChange","handleVersionNumberChange","versionNumber","handleTextChange","setActive","setInActive","addTerm","isNaN","isUpdate","updateTerm","onContentClick","isConditionsEditorDialogShow","onUpdateContent","oldTermObj","version_number","activate_time","TermsPreviewWidget","hrefReg","imageReg1","imageReg2","linkReg1","linkReg2","markdownContent","previewText","newMarkdownContent","hrefs","match","_getLinks","hrefObj","links","images","imageSrcs","imageSrcs1","getLinks","TermsPreviewDialog","onClosePreviewDialog","toggleUpdateDialog","isUpdateDialogOpen","toggleTermsContentDialog","isTermsPerviewDialogOpen","deleteTerm","itemContent","mdFile","processor","process","result","innerHtml","String","previewContent","getPreviewContent","TermsPerviewDialog","TermsAndConditions","toggleAddTermDialog","isAddTermDialogOpen","sysAdminAddTermAndCondition","reload","termID","sysAdminUpdateTermAndCondition","termList","sysAdminDeleteTermAndCondition","sysAdminListTermsAndConditions","term_and_condition_list","VirusFileItem","handleFile","virusFile","virus_id","fileStatus","fileOpList","has_deleted","has_ignored","repo_owner","file_path","virusFiles","AllVirusFiles","listVirusFiles","virus_file_list","virusID","op","request","deleteVirusFile","toggleIgnoreVirusFile","virus_file","toggleItemSelected","isAllItemsSelected","toggleAllSelected","UnhandledVirusFiles","prevState","handleSelectedItems","virusIDs","batchProcessVirusFiles","fileList","find","deleteSelectedItems","ignoreSelectedItems","selectedItems","getOperationText","operationType","getOperationDetail","ownerPageUrl","userPageUrl","detailText","repoPageUrl","groupPageUrl","from","AdminOperationLogs","sysAdminListAdminLogs","login_success","AdminLoginLogs","sysAdminListAdminLoginLogs","AbuseReports","listAbuseReports","sysAdminListAbuseReports","abuseReportList","abuse_report_list","updateAbuseReport","handled","abuseReportId","sysAdminUpdateAbuseReport","AbuseReportList","fileUrl","reporter","abuse_type","SysAdmin","getCurrentTabForPageList","pageList","urlPartList","urlBase","jlen","param","isDesktop","tmpTab","commonProps","Router","StatisticReport","DepartmentLibraries","LDAPUsers","UserOwnedRepos","UserSharedRepos","UserLinks","UserGroups","MediaQuery","zIndex","ReactDom","getElementById","module","exports","createCommonjsModule","fn","getCjsExportFromNamespace","n","hasOwnProperty","colorName","conversions","reverseKeywords","convert","rgb","channels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","ansi16","ansi256","hcg","apple","gray","model","Error","defineProperty","comparativeDistance","x","y","Math","pow","h","l","r","g","min","max","delta","rdif","gdif","bdif","s","diff","diffc","c","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","z","t1","t2","t3","smin","lmin","hi","floor","f","p","q","t","sl","vmin","wh","bl","ratio","m","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","round","ansi","mult","rem","string","toUpperCase","colorString","char","join","integer","hue","chroma","pure","w","mg","buildGraph","graph","models","parent","deriveBFS","fromModel","queue","pop","adjacents","adjacent","node","wrapConversion","toModel","cur","conversion","route","wrapRaw","wrappedFn","prototype","wrapRounded","routes","raw","colorConvert","colorName$1","getRgba","getHsla","getRgb","getHsl","getHwb","getAlpha","hexString","rgbString","rgbaString","percentString","percentaString","hslString","hslaString","hwbString","abbr","rgba","per","hexAlpha","parseFloat","scale","alpha","hsla","vals","hexDouble","reverseNames","str","Color","valid","setValues","red","lightness","whiteness","cyan","setSpace","rgbArray","hslArray","hsvArray","hwbArray","cmykArray","rgbaArray","hslaArray","setChannel","green","blue","saturation","saturationv","blackness","magenta","yellow","black","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","dark","light","negate","lighten","darken","saturate","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","toJSON","prop","console","spaces","maxes","getValues","space","charAt","capped","chans","sname","svalues","chartjsColor","isValidKey","helpers","noop","uid","isNullOrUndef","isObject","isFinite","_isFinite","_x","Number","valueOrDefault","valueAtIndexOrDefault","thisArg","each","loopable","reverse","arrayEquals","a0","a1","ilen","v0","v1","create","klen","_merger","tval","sval","merge","_mergerIf","mergeIf","sources","merger","extend","dst","inherits","extensions","me","ChartElement","constructor","Surrogate","__super__","_deprecated","scope","previous","warn","helpers_core","callCallback","array","fromIndex","getValueOrDefault","getValueAtIndexOrDefault","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","helpers_easing","easingEffects","RAD_PER_DEG","DOUBLE_PI","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","exports$1","clear","chart","ctx","clearRect","roundedRect","radius","left","top","bottom","moveTo","arc","closePath","rect","drawPoint","rotation","xOffset","yOffset","cornerRadius","rad","save","translate","drawImage","restore","beginPath","lineTo","SQRT1_2","stroke","_isPointInArea","point","area","epsilon","clipArea","clip","unclipArea","flip","stepped","steppedLine","midpoint","bezierCurveTo","controlPointPreviousX","controlPointNextX","controlPointPreviousY","controlPointNextY","helpers_canvas","drawRoundedRectangle","defaults","_set","defaultColor","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","defaultLineHeight","showLines","core_defaults","toFontString","font","family","helpers_options","toLineHeight","matches","toPadding","_parseFont","globalDefaults","global","fontFamily","lineHeight","fontStyle","resolve","inputs","context","cacheable","exports$2","_factorize","log10","exponent","log","LOG10E","powerOf10","helpers_math","getRtlAdapter","rectX","setWidth","textAlign","align","xPlus","leftForLtr","itemWidth","getLtrAdapter","_itemWidth","helpers$1","easing","canvas","math","rtl","overrideTextDirection","original","getPropertyValue","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","interpolate","start","view","ease","actual","origin","c0","c1","Element","configuration","initialize","_type","hidden","pivot","_view","_model","_start","transition","tooltipPosition","hasValue","isNumber","core_element","exports$3","currentStep","numSteps","render","onAnimationProgress","onAnimationComplete","core_animation","animation","onProgress","onComplete","core_animations","animations","addAnimation","lazy","now","animating","requestAnimationFrame","cancelAnimation","findIndex","requestAnimFrame","startDigest","advance","nextStep","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","configurable","enumerable","method","base","unlistenArrayEvents","stub","DatasetController","datasetElementType","dataElementType","_datasetElementOptions","_dataElementOptions","linkScales","addElements","getMeta","updateIndex","meta","dataset","getDataset","scalesOpts","xAxisID","yAxisID","getDatasetMeta","getScaleForId","scaleID","_getValueScaleId","_getIndexScaleId","_getValueScale","_getIndexScale","reset","_update","destroy","_data","createMetaDataset","_chart","_datasetIndex","createMetaData","_index","metaData","addElementAndReset","element","updateElement","buildOrUpdateElements","isExtensible","resyncElements","_configure","_config","_cachedDataOpts","update","easingValue","draw","getStyle","_resolveDatasetElementOptions","_resolveDataElementOptions","readKey","datasetOpts","custom","elementOptions","cached","dataIndex","freeze","removeHoverStyle","$previousStyle","setHoverStyle","getHoverColor","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","_removeDatasetHoverStyle","_setDatasetHoverStyle","hoverOptions","prev","numMeta","numData","insertElements","onDataPush","onDataPop","onDataShift","shift","onDataSplice","onDataUnshift","core_datasetController","TAU","clipArc","startAngle","endAngle","pixelMargin","angleMargin","outerRadius","innerRadius","drawFullCircleBorders","vm","inner","fullCircles","drawBorder","borderAlign","lineWidth","lineJoin","element_arc","inLabelRange","mouseX","hoverRadius","inRange","chartX","chartY","pointRelativePosition","getAngleFromPoint","angle","betweenAngles","withinRadius","getCenterPoint","halfAngle","halfRadius","getArea","centreAngle","rangeFromCentre","circumference","fillStyle","strokeStyle","valueOrDefault$1","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","capBezierPoints","element_line","currentVM","spanGaps","points","_children","globalOptionLineElements","lastDrawnIndex","_loop","previousItem","skip","lineCap","setLineDash","lineDashOffset","valueOrDefault$2","defaultColor$1","xRange","abs","hitRadius","yRange","mouseY","pointStyle","element_point","inXRange","inYRange","chartArea","defaultColor$2","isVertical","getBarBounds","x1","y1","half","swap","orig","v2","parseBorderSkipped","edge","borderSkipped","horizontal","parseBorderWidth","maxW","maxH","boundingRects","bounds","border","outer","skipX","skipY","rectangle","element_rectangle","rects","fillRect","Arc","Point","Rectangle","deprecated","valueOrDefault$3","computeMinSampleSize","pixels","curr","_length","getTicks","getPixelForTick","computeFitCategoryTraits","ruler","thickness","barThickness","stackCount","categoryPercentage","barPercentage","chunk","computeFlexCategoryTraits","next","percent","end","mode","gridLines","offsetGridLines","bar","controller_bar","scaleOpts","stack","minBarLength","maxBarThickness","_ruler","getRuler","_xScale","_yScale","datasetLabel","_updateElementGeometry","vscale","getBasePixel","isHorizontal","vpixels","calculateBarValuePixels","ipixels","calculateBarIndexPixels","head","center","_getStacks","last","metasets","_getMatchingVisibleMetas","stacked","stacks","getStackCount","getStackIndex","getPixelForValue","_startPixel","_endPixel","imeta","ivalue","stackLength","_parseValue","range","stackIndex","indexOpts","valueOpts","valueOrDefault$4","resolve$1","position","dataPoint","xLabel","controller_bubble","xScale","yScale","dsIndex","getPixelForDecimal","NaN","_options","valueOrDefault$5","PI$1","DOUBLE_PI$1","HALF_PI$1","animateRotate","animateScale","legendCallback","listItem","createElement","setAttribute","appendChild","createTextNode","outerHTML","generateLabels","controller","legendItem","cutoutPercentage","dataLabel","controller_doughnut","getRingIndex","ringIndex","isDatasetVisible","maxHeight","opts","ratioX","ratioY","offsetX","offsetY","arcs","cutout","chartWeight","_getRingWeight","startX","startY","endX","endY","contains0","contains90","contains270","minX","minY","maxX","maxY","getMaxBorderWidth","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animationOpts","centerX","centerY","calculateCircumference","hoverWidth","ringWeightOffset","dataSetIndex","axis","horizontalBar","controller_horizontalBar","valueOrDefault$6","resolve$2","isPointInArea","scaleClip","halfBorderWidth","tickOpts","defaultClip","toClip","controller_line","showLine","_showLine","lineTension","_scale","updateBezierControlPoints","lineModel","calculatePointY","lineOptions","ds","dsMeta","stackedRightValue","rightValue","sumPos","sumNeg","getRightValue","_getSortedVisibleDatasetMetas","controlPoints","capControlPoint","pt","cubicInterpolationMode","splineCurveMonotone","splineCurve","nextItem","resolve$3","angleLines","circular","pointLabels","controller_polarArea","starts","_starts","angles","_angles","_updateRadius","countVisibleElements","_computeAngle","minSize","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getDistanceFromCenterForValue","resetRadius","doughnut","controller_pie","valueOrDefault$7","controller_radar","pointPosition","getPointPositionForValue","scatter","controllers","bubble","polarArea","pie","radar","getRelativePosition","native","parseVisibleItems","handler","metadata","getIntersectItems","getNearestItems","intersect","distanceMetric","minDistance","POSITIVE_INFINITY","nearestItems","getDistanceMetricForAxis","useX","useY","pt1","pt2","deltaX","deltaY","indexMode","core_interaction","modes","single","nearest","intersectsItem","filterByPosition","where","pos","sortByWeight","wrapBoxes","boxes","box","layoutBoxes","setLayoutDims","layouts","fullWidth","availableWidth","vBoxMaxWidth","hBoxMaxHeight","buildLayoutBoxes","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateDims","newWidth","newHeight","getPadding","boxPadding","outerWidth","outerHeight","sizes","handleMaxPadding","updatePos","change","getMargins","marginForPositions","positions","margin","fitBoxes","refit","changed","refitBoxes","placeBoxes","userPadding","core_layouts","addBox","_layers","removeBox","layoutItem","configure","layoutOptions","availableHeight","verticalBoxes","horizontalBoxes","platform_basic","acquireContext","getContext","platform_dom","stylesheet","__proto__","EXPANDO_KEY","CSS_PREFIX","CSS_SIZE_MONITOR","CSS_RENDER_MONITOR","CSS_RENDER_ANIMATION","ANIMATION_START_EVENTS","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","readUsedSize","property","initCanvas","renderHeight","getAttribute","renderWidth","initial","displayWidth","aspectRatio","displayHeight","eventListenerOptions","supports","addEventListener","passive","addListener","removeListener","removeEventListener","createEvent","nativeEvent","fromNativeEvent","throttled","ticking","createDiv","cls","el","createResizer","maxSize","resizer","expand","shrink","_reset","scrollLeft","scrollTop","onScroll","watchForRender","expando","proxy","renderProxy","animationName","reflow","offsetParent","classList","add","unwatchForRender","remove","addResizeListener","container","maintainAspectRatio","parentNode","clientWidth","insertBefore","firstChild","removeResizeListener","removeChild","injectCSS","rootNode","css","containsStyles","platform_dom$2","disableCSSInjection","_enabled","_ensureLoaded","root","getRootNode","host","releaseContext","removeAttribute","proxies","addEvent","removeEvent","implementation","plugins","core_plugins","_plugins","_cacheId","register","plugin","unregister","idx","getAll","hook","descriptor","descriptors","cache","$plugins","_invalidate","core_scaleService","constructors","registerScaleType","scaleConstructor","scaleDefaults","getScaleConstructor","getScaleDefaults","updateScaleDefaults","additions","addScalesToLayout","valueOrDefault$8","getRtlHelper","enabled","titleFontStyle","titleSpacing","titleMarginBottom","titleFontColor","titleAlign","bodySpacing","bodyFontColor","bodyAlign","footerFontStyle","footerSpacing","footerMarginTop","footerFontColor","footerAlign","yPadding","xPadding","caretPadding","caretSize","multiKeyBackground","displayColors","beforeTitle","tooltipItems","labelCount","afterTitle","beforeBody","beforeLabel","labelColor","labelTextColor","afterLabel","afterBody","beforeFooter","footer","afterFooter","positioners","average","eventPosition","nearestElement","d","distanceBetweenPoints","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","indexScale","valueScale","getLabelForIndex","getBaseModel","tooltipOpts","xAlign","yAlign","textDirection","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyFontSize","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontSize","_titleAlign","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontSize","_footerAlign","legendColorBackground","getTooltipSize","tooltip","body","combinedBodyLength","reduce","bodyItem","before","lines","after","titleLineCount","footerLineCount","widthPadding","maxLineWidth","measureText","fontString","determineAlignment","lf","rf","olf","orf","yf","midX","midY","getBackgroundPoint","alignment","paddingAndSize","radiusAndPadding","getAlignedX","getBeforeAfterBodyLines","exports$4","_lastActive","getTitle","getBeforeBody","getBody","bodyItems","getAfterBody","getFooter","existingModel","_active","backgroundPoint","tooltipSize","caretX","caretY","labelColors","labelTextColors","_eventPosition","itemSort","dataPoints","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","tmp","drawTitle","rtlHelper","textBaseline","fillText","drawBody","textColor","drawColorBoxes","xLinePadding","colorX","fillLineOfText","bodyAlignForCalculation","rtlColorX","strokeRect","drawFooter","drawBackground","quadraticCurveTo","hasTooltipContent","globalAlpha","handleEvent","getElementsAtEventForMode","positioners_1","core_tooltip","valueOrDefault$9","mergeScaleConfig","slen","mergeConfig","initConfig","updateConfig","newOptions","ensureScalesHaveIDs","buildOrUpdateScales","nextAvailableScaleId","axesOpts","prefix","hasId","positionIsHorizontal","compare2Level","l1","l2","events","onHover","animationDuration","responsive","responsiveAnimationDuration","Chart","construct","_bufferedRender","instances","retinaScale","devicePixelRatio","bindEvents","resize","initToolTip","stop","silent","getMaximumWidth","getMaximumHeight","newSize","onResize","scalesOptions","scaleOptions","xAxisOptions","yAxisOptions","updated","dtype","dposition","isDefault","scaleType","scaleClass","mergeTicksOptions","hasUpdated","buildOrUpdateControllers","newControllers","destroyDatasetMeta","order","ControllerClass","resetElements","updateLayout","updateDatasets","lastActive","_bufferedRequest","_idx","updateDataset","animationOptions","animationObject","easingFunction","stepDecimal","layers","drawDatasets","_drawTooltip","_getSortedDatasetMetas","filterVisible","drawDataset","getElementAtEvent","getElementsAtEvent","getElementsAtXAxis","getDatasetAtEvent","_meta","generateLegend","unbindEvents","toBase64Image","toDataURL","_chartInstance","_listeners","eventHandler","updateHoverStyle","bufferedRequest","core_controller","Controller","types","configMerge","scaleMerge","core_helpers","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","defaultView","_getParentNode","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","collection","filterCallback","filtered","findNextWhere","arrayToSearch","startIndex","findPreviousWhere","almostEquals","almostWhole","rounded","NEGATIVE_INFINITY","sign","toRadians","toDegrees","radians","_decimalPlaces","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","aliasPixel","pixelWidth","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","EPSILON","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","pointsWithTangents","deltaK","mK","pointsLen","slopeDeltaX","loop","niceNum","fraction","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","evt","originalEvent","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","paddingTop","paddingRight","paddingBottom","getConstraintWidth","getConstraintHeight","_calculatePadding","parentDimension","cw","clientHeight","ch","currentStyle","forceRatio","pixelRatio","pixelSize","longestText","arrayOfThings","gc","garbageCollect","thing","nestedThing","longest","gcLen","textWidth","numberOfLabelLines","numberOfLines","CanvasGradient","colorValue","CanvasPattern","abstract","DateAdapter","formats","parse","startOf","endOf","_create","override","core_adapters","_date","core_ticks","formatters","tickValue","logDelta","tickString","logTick","numExponential","toExponential","numDecimal","toFixed","logarithmic","remain","valueOrDefault$a","sample","arr","numItems","increment","getPixelForGridLine","validIndex","lineValue","caches","computeLabelSizes","tickFonts","tickFont","nestedLabel","widest","highest","widths","heights","offsets","widestLabelSize","highestLabelSize","major","minor","valueAt","first","getTickMarkLength","drawTicks","tickMarkLength","getScaleLabelHeight","parseFontOptions","nestedOpts","fontColor","parseTickFontOptions","nonSkipped","ticksToFilter","getEvenSpacing","calculateSpacing","majorIndices","axisLength","ticksLimit","factors","factor","evenMajorSpacing","spacing","getMajorIndices","skipMajors","tick","ceil","majorStart","majorEnd","drawOnChartArea","zeroLineWidth","zeroLineColor","zeroLineBorderDash","zeroLineBorderDashOffset","scaleLabel","labelString","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Scale","zeroLineIndex","_ticks","_getLabels","xLabels","yLabels","beforeUpdate","margins","samplingEnabled","sampleSize","_labelSizes","_maxLabelLines","longestLabelWidth","longestTextCache","_gridLineItems","_labelItems","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","_convertTicksToLabels","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","beforeFit","fit","afterFit","_ticksToDraw","_autoSkip","afterUpdate","startPixel","endPixel","reversePixels","_reversePixels","beforeTickToLabelConversion","convertTicksToLabels","userCallback","afterTickToLabelConversion","labelSizes","maxLabelWidth","maxLabelHeight","tickWidth","maxLabelDiagonal","numTicks","labelRotation","_isVisible","_getLabelSizes","scaleLabelOpts","gridLineOpts","isBottom","firstLabelSize","lastLabelSize","lineSpace","tickPadding","isRotated","angleRadians","cosRotation","sinRotation","labelHeight","offsetLeft","offsetRight","labelWidth","handleMargins","isFullWidth","rawValue","_getScaleLabel","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","avgMajorSpacing","_tickSize","numMajorIndices","optionTicks","rot","_computeGridLineItems","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","lineColor","ticksLength","tl","axisWidth","axisHalfWidth","alignPixel","alignBorderValue","_computeLabelItems","lineCount","textOffset","isMirrored","fonts","_drawGrid","firstLineWidth","lastLineWidth","_drawLabels","_drawTitle","scaleLabelX","scaleLabelY","scaleLabelFontColor","scaleLabelFont","scaleLabelPadding","halfLineHeight","isLeft","tz","gz","_draw","core_scale","isNullOrUndef$1","defaultConfig","scale_category","ticksOpts","minIndex","maxIndex","_startValue","_valueRange","valueCategory","_defaults","isNullOrUndef$2","generateTicks","generationOptions","dataRange","niceMin","niceMax","numSpaces","MIN_SPACING","stepSize","unit","maxNumSpaces","maxTicks","precision","rmin","rmax","scale_linearbase","handleTickRangeOptions","minSign","maxSign","setMin","suggestedMin","setMax","getTickLimit","_computeTickLimit","handleDirectionalChanges","numericGeneratorOptions","fixedStepSize","ticksAsNumbers","_endValue","defaultConfig$1","DEFAULT_MIN","DEFAULT_MAX","getOrCreateStack","neg","stackData","relativePoints","updateMinMax","scale_linear","hasStacks","stackValues","_defaults$1","valueOrDefault$b","generateTicks$1","exp","significand","tickVal","endExp","endSignificand","minNotZero","lastTick","defaultConfig$2","nonNegativeOrDefault","scale_logarithmic","IDMatches","valuesPerStack","valuesForType","minVal","maxVal","tickValues","_getFirstTickValue","_valueOffset","_defaults$2","valueOrDefault$c","valueAtIndexOrDefault$1","resolve$4","defaultConfig$3","animate","showLabelBackdrop","backdropColor","backdropPaddingY","backdropPaddingX","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","textSize","plFont","furthestLimits","furthestAngles","_pointLabelSizes","valueCount","getPointPosition","drawingArea","getIndexAngle","hLimits","vLimits","setReductions","getTextAlignForAngle","adjustPointPositionForLabelHeight","drawPointLabels","pointLabelOpts","tickBackdropHeight","outerDistance","extra","pointLabelPosition","pointLabelFontColor","drawRadiusLine","numberOrZero","scale_radialLinear","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","scalingFactor","distanceFromCenter","thisAngle","getBasePosition","angleLineOpts","tickFontColor","_defaults$3","deprecated$1","resolve$5","valueOrDefault$d","MIN_INTEGER","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","quarter","year","UNITS","sorter","arrayUnique","hash","out","getMin","getMax","buildLookupTable","timestamps","distribution","lookup","mid","i0","i1","lo","interpolate$1","skey","tkey","span","toTimestamp","input","adapter","_adapter","parser","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","generate","timeOpts","unitStepSize","weekday","isoWeekday","computeOffsets","setMajorTicks","majorUnit","ticksFromTimestamps","defaultConfig$4","adapters","displayFormat","displayFormats","scale_time","timestamp","labelsAdded","dataLabels","_table","_timestamps","getLabelCapacity","_unit","_majorUnit","_offsets","tooltipFormat","tickFormatFunction","minorFormat","majorFormat","nestedTickOpts","formatter","getPixelForOffset","_getLabelSize","tickLabelWidth","tickFontSize","getLabelWidth","exampleTime","exampleLabel","_defaults$4","category","radialLinear","FORMATS","_id","valueOf","amount","filler","propagate","mappers","boundary","decodeFill","computeLinearBoundary","scaleBottom","scaleTop","scaleZero","computeCircularBoundary","cx","cy","computeBoundary","resolveTarget","visible","createMapper","isDrawable","drawArea","curve0","curve1","len0","len1","doFill","mapper","p0","p1","d0","d1","loopOffset","plugin_filler","afterDatasetsUpdate","$filler","beforeDatasetsDraw","getRtlHelper$1","noop$1","valueOrDefault$e","getBoxWidth","labelOpts","boxWidth","ci","onLeave","lineDash","Legend","legendHitBoxes","_hoveredItem","doughnutMode","beforeBuildLabels","buildLabels","afterBuildLabels","legendItems","labelFont","hitboxes","lineWidths","totalHeight","vPadding","columnWidths","columnHeights","totalWidth","currentColWidth","currentColHeight","lineDefault","legendHeight","legendWidth","cursor","drawLegendBox","SQRT2","halfFontSize","xLeft","yMiddle","alignmentOffset","dimension","blockSize","itemHeight","realX","_getLegendItemAt","hitBox","lh","hoveredItem","createNewLegendAndAttach","legendOpts","plugin_legend","_element","beforeInit","afterEvent","noop$2","Title","titleX","titleY","fontOpts","createNewTitleBlockAndAttach","titleOpts","titleBlock","_adapters","Animation","animationService","Interaction","scaleService","Ticks","Tooltip","pluginService","PluginBase","canvasHelpers","layoutService","LinearScaleBase","klass","cfg","toLowerCase","factory","require","setter","iteratee","accumulator","baseEach","arrayAggregator","baseAggregator","baseIteratee","initializer","func","baseIsEqual","other","baseAssignValue","keyBy","createAggregator","_react","_interopRequireDefault","_propTypes","_isEqual","_keyBy","__esModule","default","_extends","_typeof","Symbol","iterator","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","instance","Constructor","TypeError","_defineProperties","writable","protoProps","staticProps","subClass","superClass","_setPrototypeOf","o","setPrototypeOf","Derived","hasNativeReflectConstruct","Reflect","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","self","_possibleConstructorReturn","ReferenceError","getPrototypeOf","NODE_ENV","ChartComponent","chartInstance","onElementsClick","renderChart","redraw","destroyChart","updateChart","nextData","transformDataProp","shadowDataProp","saveCurrentDatasets","isDev","usingCustomKeyProvider","datasetKeyProvider","getLabelAsKey","multipleDatasets","shouldWarn","getCurrentDatasets","memoizeDataProps","currentDatasets","nextDatasets","checkDatasets","currentDatasetsIndexed","pid","otherProps","rest","_this$props4","handleOnClick","oneOfType","isRequired","number","arrayOf","bool","propName","componentName","Doughnut","Pie","_ref2","_React$Component4","_super4","_this6","_ref3","Bar","_React$Component5","_super5","_this7","_ref4","HorizontalBar","_React$Component6","_super6","_this8","_ref5","Radar","_React$Component7","_super7","_this9","_ref6","Polar","_React$Component8","_super8","_this10","_ref7","Bubble","_React$Component9","_super9","_this11","_ref8","Scatter","_React$Component10","_super10","_this12","_ref9","propTypes","PropTypes","cssModule","bordered","borderless","striped","tagPropType","responsiveTag","Tag","ResponsiveTag","attributes","classes","mapToCssModules","responsiveClassName"],"sourceRoot":""}