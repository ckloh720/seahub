{"version":3,"file":"static/js/sharedFileViewSdoc.4423542c.js","mappings":"kLAMAA,EAAwBC,OAAOC,IAAIC,OAA3BC,KAAAA,OAAI,IAAAJ,EAAG,KAAIA,EAEnBK,EAAAA,GAAAA,IACOC,EAAAA,GACJC,IAAIC,EAAAA,GACJD,IAAIE,EAAAA,IACJC,KAAK,CACJC,IAAKP,EACLQ,YAAa,KACbC,GAAI,CAAC,eACLC,UAAW,cAEXC,UAAW,CAAC,KAAM,QAAS,KAAM,KAAM,KAAM,KAAM,QAAS,QAAS,MAErEC,QAAS,CACPC,SAAUC,EAAAA,GAAW,+CAIvBC,OAAO,EAEPC,cAAe,CACbC,aAAa,GAIfC,KAAM,cAENC,MAAO,CACLC,MAAM,KAIZ,IAAenB,EAAI,E,oHC/BnBoB,EAA4CxB,OAAOC,IAAIC,OAA/CuB,EAAUD,EAAVC,WAAYC,EAAQF,EAARE,SAAUC,EAASH,EAATG,UACtBC,EAAa5B,OAAOC,IAAI4B,YAAxBD,SACRE,EAKI9B,OAAO+B,OAAOF,YAJhBG,EAAMF,EAANE,OAAQC,EAAQH,EAARG,SACRC,EAAWJ,EAAXI,YAAaC,EAAOL,EAAPK,QACbC,EAAgBN,EAAhBM,iBAAkBC,EAAMP,EAANO,OAClBC,EAAOR,EAAPQ,QAASC,EAAOT,EAAPS,QAASC,EAAOV,EAAPU,QAASC,EAAiBX,EAAjBW,kBAAmBC,EAAeZ,EAAfY,gBAAiBC,EAASb,EAATa,UAI3DC,EAAkB,CAAC,SAAYT,EAAS,aAAgBD,EAAa,YAAc,GACnFW,EAAqBC,EAAAA,EAAMC,0BAA0BH,GACrDI,EAAsBF,EAAAA,EAAMG,6BAA6BJ,GAAoBK,KAEnFlD,OAAOmD,QAAU,CACfnB,OAAAA,EACAM,QAAAA,EACAC,QAAAA,EACAC,QAAAA,EACAY,cAAc,EACdC,WAAY5B,EACZ6B,YAAab,EACbc,WAAYb,EACZd,SAAAA,EACAD,UAAAA,EACAD,SAAAA,EACAsB,oBAAqBA,EACrBQ,YAActB,IAAgBE,EAAgB,IAAAqB,OAAQpB,EAAS,KAAOqB,mBAAmBpB,GAAW,IAAM,GAAE,QAAS,GACrHqB,QAAS1B,EACT2B,WAAYd,EAAAA,EAAMe,mBAAmBnC,EAAUM,EAAQM,GACvDK,UAAAA,GAGFmB,EAAAA,QACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAe,CAAC5D,KAAOA,EAAAA,EAAM6D,UAC5BF,EAAAA,EAAAA,KAACG,EAAAA,SAAQ,CAACC,UAAUJ,EAAAA,EAAAA,KAACK,EAAAA,EAAO,IAAIH,UAC9BF,EAAAA,EAAAA,KAACM,EAAAA,GAAY,QAGjBC,SAASC,eAAe,W","sources":["_i18n/i18n-sdoc-editor.js","shared-file-view-sdoc.js"],"sourcesContent":["import i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport { mediaUrl } from '../utils/constants';\n\nconst { lang = 'en' } = window.app.config;\n\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    lng: lang,\n    fallbackLng: 'en',\n    ns: ['sdoc-editor'],\n    defaultNS: 'sdoc-editor',\n\n    whitelist: ['en', 'zh-CN', 'fr', 'de', 'cs', 'es', 'es-AR', 'es-MX', 'ru'],\n\n    backend: {\n      loadPath: mediaUrl + 'sdoc-editor/locales/{{ lng }}/{{ ns }}.json',\n      // loadPath: '/media/locales/{{lng}}/{{ns}}.json',\n    },\n\n    debug: false, // console log if debug: true\n\n    interpolation: {\n      escapeValue: false, // not needed for react!!\n    },\n\n\n    load: 'currentOnly',\n\n    react: {\n      wait: true,\n    }\n  });\n\nexport default i18n;\n","import React, { Suspense } from 'react';\nimport ReactDom from 'react-dom';\nimport { SimpleViewer } from '@seafile/sdoc-editor';\nimport { I18nextProvider } from 'react-i18next';\nimport i18n from './_i18n/i18n-sdoc-editor';\nimport Loading from './components/loading';\nimport { Utils } from './utils/utils';\n\nconst { serviceURL, siteRoot, avatarURL } = window.app.config;\nconst { username } = window.app.pageOptions;\nconst {\n  repoID, filePerm,\n  canDownload, canEdit,\n  trafficOverLimit, zipped,\n  docPath, docName, docUuid, seadocAccessToken, seadocServerUrl, assetsUrl\n} = window.shared.pageOptions;\n\n// share permission of this sdoc\nconst sharePermission = {'can_edit': canEdit, 'can_download': canDownload, 'can_upload': false};\nconst sharePermissionStr = Utils.getShareLinkPermissionStr(sharePermission);\nconst sharePermissionText = Utils.getShareLinkPermissionObject(sharePermissionStr).text;\n\nwindow.seafile = {\n  repoID,\n  docPath,\n  docName,\n  docUuid,\n  isOpenSocket: true,\n  serviceUrl: serviceURL,\n  accessToken: seadocAccessToken,\n  sdocServer: seadocServerUrl,\n  username,\n  avatarURL,\n  siteRoot,\n  sharePermissionText: sharePermissionText,\n  downloadURL: (canDownload && !trafficOverLimit) ? `?${zipped ? 'p=' + encodeURIComponent(docPath) + '&' : ''}dl=1` : '',\n  docPerm: filePerm,\n  historyURL: Utils.generateHistoryURL(siteRoot, repoID, docPath),\n  assetsUrl,\n};\n\nReactDom.render(\n  <I18nextProvider i18n={ i18n } >\n    <Suspense fallback={<Loading />}>\n      <SimpleViewer />\n    </Suspense>\n  </I18nextProvider>,\n  document.getElementById('wrapper')\n);\n"],"names":["_window$app$config$la","window","app","config","lang","i18n","Backend","use","LanguageDetector","initReactI18next","init","lng","fallbackLng","ns","defaultNS","whitelist","backend","loadPath","mediaUrl","debug","interpolation","escapeValue","load","react","wait","_window$app$config","serviceURL","siteRoot","avatarURL","username","pageOptions","_window$shared$pageOp","shared","repoID","filePerm","canDownload","canEdit","trafficOverLimit","zipped","docPath","docName","docUuid","seadocAccessToken","seadocServerUrl","assetsUrl","sharePermission","sharePermissionStr","Utils","getShareLinkPermissionStr","sharePermissionText","getShareLinkPermissionObject","text","seafile","isOpenSocket","serviceUrl","accessToken","sdocServer","downloadURL","concat","encodeURIComponent","docPerm","historyURL","generateHistoryURL","ReactDom","_jsx","I18nextProvider","children","Suspense","fallback","Loading","SimpleViewer","document","getElementById"],"sourceRoot":""}